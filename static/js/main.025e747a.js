/*! For license information please see main.025e747a.js.LICENSE.txt */
!function(){var e={67228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},22858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},23646:function(e,t,n){var r=n(67228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},81506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},48926:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,l,"next",e)}function l(e){t(a,i,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},34575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},69100:function(e,t,n){var r=n(99489),i=n(57067);function o(t,n,a){return i()?(e.exports=o=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},93913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},43269:function(e,t,n){var r=n(60379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},99842:function(e,t,n){var r=n(29754),i=n(57067),o=n(78585);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},59713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},16525:function(e,t,n){var r=n(58331);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},29754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(99489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},95318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},70430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},57067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},46860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},13884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},80521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},98206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},78585:function(e,t,n){var r=n(50008).default,i=n(81506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2911:function(e,t,n){var r=n(58331),i=n(59713);function o(e,t,n,a){return o="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,o){var a,s=r(e,t);if(s){if((a=Object.getOwnPropertyDescriptor(s,t)).set)return a.set.call(o,n),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(o,t)){if(!a.writable)return!1;a.value=n,Object.defineProperty(o,t,a)}else i(o,t,n);return!0},o(e,t,n,a)}e.exports=function(e,t,n,r,i){if(!o(e,t,n,r||e)&&i)throw new Error("failed to set property");return n},e.exports.__esModule=!0,e.exports.default=e.exports},99489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},63038:function(e,t,n){var r=n(22858),i=n(13884),o=n(60379),a=n(80521);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},58331:function(e,t,n){var r=n(29754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(23646),i=n(46860),o=n(60379),a=n(98206);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},50008:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},60379:function(e,t,n){var r=n(67228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},65957:function(e,t,n){var r=n(29754),i=n(99489),o=n(70430),a=n(69100);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},87757:function(e,t,n){e.exports=n(19727)},40160:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{scaleBand:function(){return Kd},scaleDiverging:function(){return My},scaleDivergingLog:function(){return wy},scaleDivergingPow:function(){return Py},scaleDivergingSqrt:function(){return Dy},scaleDivergingSymlog:function(){return Cy},scaleIdentity:function(){return cm},scaleImplicit:function(){return Wd},scaleLinear:function(){return um},scaleLog:function(){return Em},scaleOrdinal:function(){return Fd},scalePoint:function(){return zd},scalePow:function(){return Nm},scaleQuantile:function(){return Bm},scaleQuantize:function(){return Gm},scaleRadial:function(){return wm},scaleSequential:function(){return Ry},scaleSequentialLog:function(){return Ly},scaleSequentialPow:function(){return by},scaleSequentialQuantile:function(){return Ny},scaleSequentialSqrt:function(){return Iy},scaleSequentialSymlog:function(){return Sy},scaleSqrt:function(){return xm},scaleSymlog:function(){return Rm},scaleThreshold:function(){return Wm},scaleTime:function(){return Ey},scaleUtc:function(){return Ay},tickFormat:function(){return sm}});var i=n(72791),o=n(54164),a=n(4942),s=n(70885),l=n(31201),u=n(48218),c=n(48991),f=n(91490),d=n(42982),h=n(15861),p=n(87757),m=n.n(p);function v(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function g(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function y(){}var E=.7,A=1/E,T="\\s*([+-]?\\d+)\\s*",O="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",R="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L=/^#([0-9a-f]{3,8})$/,S=new RegExp("^rgb\\("+[T,T,T]+"\\)$"),b=new RegExp("^rgb\\("+[R,R,R]+"\\)$"),I=new RegExp("^rgba\\("+[T,T,T,O]+"\\)$"),N=new RegExp("^rgba\\("+[R,R,R,O]+"\\)$"),x=new RegExp("^hsl\\("+[O,R,R]+"\\)$"),_=new RegExp("^hsla\\("+[O,R,R,O]+"\\)$"),M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function w(){return this.rgb().formatHex()}function C(){return this.rgb().formatRgb()}function P(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=L.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?D(t):3===n?new B(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?k(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?k(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=S.exec(e))?new B(t[1],t[2],t[3],1):(t=b.exec(e))?new B(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=I.exec(e))?k(t[1],t[2],t[3],t[4]):(t=N.exec(e))?k(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=x.exec(e))?K(t[1],t[2]/100,t[3]/100,1):(t=_.exec(e))?K(t[1],t[2]/100,t[3]/100,t[4]):M.hasOwnProperty(e)?D(M[e]):"transparent"===e?new B(NaN,NaN,NaN,0):null}function D(e){return new B(e>>16&255,e>>8&255,255&e,1)}function k(e,t,n,r){return r<=0&&(e=t=n=NaN),new B(e,t,n,r)}function H(e){return e instanceof y||(e=P(e)),e?new B((e=e.rgb()).r,e.g,e.b,e.opacity):new B}function U(e,t,n,r){return 1===arguments.length?H(e):new B(e,t,n,null==r?1:r)}function B(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function G(){return"#"+F(this.r)+F(this.g)+F(this.b)}function W(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function F(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function K(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new z(e,t,n,r)}function V(e){if(e instanceof z)return new z(e.h,e.s,e.l,e.opacity);if(e instanceof y||(e=P(e)),!e)return new z;if(e instanceof z)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new z(a,s,l,e.opacity)}function z(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function j(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Z(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}v(y,P,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHsl:function(){return V(this).formatHsl()},formatRgb:C,toString:C}),v(B,U,g(y,{brighter:function(e){return e=null==e?A:Math.pow(A,e),new B(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?E:Math.pow(E,e),new B(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:G,formatHex:G,formatRgb:W,toString:W})),v(z,(function(e,t,n,r){return 1===arguments.length?V(e):new z(e,t,n,null==r?1:r)}),g(y,{brighter:function(e){return e=null==e?A:Math.pow(A,e),new z(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?E:Math.pow(E,e),new z(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new B(j(e>=240?e-240:e+120,i,r),j(e,i,r),j(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Y=function(e){return function(){return e}};function q(e,t){return function(n){return e+n*t}}function X(e){return 1===(e=+e)?Q:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Y(isNaN(t)?n:t)}}function Q(e,t){var n=t-e;return n?q(e,n):Y(isNaN(e)?t:e)}(function e(t){var n=X(t);function r(e,t){var r=n((e=U(e)).r,(t=U(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Q(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r})(1);function J(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=U(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var $=J((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Z((n-r/t)*t,a,i,o,s)}})),ee=(J((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Z((n-r/t)*t,i,o,a,s)}})),new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map((function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}))),te=function(e){return $(e[e.length-1])}(ee),ne=n(34585),re=n(80184),ie=new l.GeoCoordinates(47.58,-122.34),oe=new f.VectorTileDataSource({authenticationCode:"J0IJdYzKDYS3nHVDDEWETIqK3nAcxqW42vz7xeSq61M"});function ae(){var e=(0,i.useRef)(null),t=(0,i.useState)(null),n=(0,s.Z)(t,2),r=n[0],o=n[1];(0,i.useEffect)((function(){if(e.current){var t=new c.MapView({theme:"./resources/berlin_tilezen_effects_streets.json",canvas:e.current,target:ie,zoomLevel:12.4,tilt:40,heading:0,projection:l.sphereProjection,decoderUrl:"decoder.bundle.js"});t.addDataSource(oe);var n=function(){return t.resize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",n),o(t);var r=new u.MapControls(t),i=new u.MapControlsUI(r);return e.current.parentElement.appendChild(i.domElement),function(){return window.removeEventListener("resize",n)}}}),[]),function(e){(0,i.useEffect)((function(){e&&(0,h.Z)(m().mark((function t(){var n,r,i,o,a,s,l,u;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./data/policeBoundaries.json");case 2:if(200===(n=t.sent).status){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,n.json();case 7:return r=t.sent,t.next=10,fetch("./data/NeighbourhoodCount2021.json");case 10:if(200===(i=t.sent).status){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,i.json();case 15:return o=t.sent,a=Math.max.apply(Math,(0,d.Z)(Object.values(o))),r.features.forEach((function(e){var t=o[e.properties.NEIGHBORHOOD]/a||0;e.properties.color=te(t),e.properties.height=2700*t})),s=new f.GeoJsonDataProvider("Seattle",r),l=new f.VectorTileDataSource({dataProvider:s,styleSetName:"geojson",gatherFeatureAttributes:!0,addGroundPlane:!1}),t.next=22,e.addDataSource(l);case 22:u={styles:{geojson:[{when:"$geometryType == 'polygon'",technique:"extruded-polygon",renderOrder:1e3,maxZoomLevel:15,attr:{color:["get","color"],transparent:!0,opacity:.6,constantHeight:!0,boundaryWalls:!1}}]}},l.setTheme(u),e.update();case 25:case"end":return t.stop()}}),t)})))()}),[e])}(r),function(e){(0,i.useEffect)((function(){e&&(0,h.Z)(m().mark((function t(){var n,r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new f.VectorTileDataSource({baseUrl:"https://xyz.api.here.com/hub/spaces/f2RCpkYJ/tile/web",apiFormat:f.APIFormat.XYZSpace,authenticationCode:"APvHpXqZRCCJxzzPCQ55ZwA",styleSetName:"geojson"}),t.next=3,e.addDataSource(n);case 3:r={styles:{geojson:[{when:"$geometryType == 'point'",technique:"circles",renderOrder:1e4,minZoomLevel:15,attr:{transparent:!0,opacity:.7,color:"#0080ff",size:["+",["*",["get","count"],.09],10]}}]}},n.setTheme(r),e.update();case 6:case"end":return t.stop()}}),t)})))()}),[e])}(r);var a=function(e){var t=(0,i.useRef)();return[(0,i.useCallback)((function(e){t.current={x:e.pageX,y:e.pageY}}),[]),(0,i.useCallback)((function(n){if(e&&t.current&&!(Math.pow(t.current.x-n.pageX,2)+Math.pow(t.current.y-n.pageY,2)>10)){var r=e.intersectMapObjects(n.pageX,n.pageY).filter((function(e){var t;return"Seattle"===(null===(t=e.userData)||void 0===t?void 0:t.$layer)}));if(r.length){var i=r[0].userData.target,o={target:new l.GeoCoordinates(i[1],i[0]),tilt:40,heading:0,distance:4e3},a=e.camera.position.clone(),s=e.camera.quaternion.clone(),u=c.MapViewUtils.getCameraPositionFromTargetCoordinates(o.target,o.distance,o.heading,o.tilt,e.projection),f=c.MapViewUtils.getCameraRotationAtTarget(e.projection,o.target,o.heading,o.tilt),d=Date.now(),h=new ne.CatmullRomCurve3([a,u]);e.addEventListener(c.MapViewEventNames.Render,(function t(){var n=(Date.now()-d)/1e3;n>=1&&(n=1,e.endAnimation(),e.removeEventListener(c.MapViewEventNames.Render,t)),e.camera.position.copy(h.getPoint(n));var r=s.clone().slerp(f,n);e.camera.quaternion.copy(r),e.camera.updateMatrixWorld(!0)})),e.beginAnimation()}}}),[e])]}(r),p=(0,s.Z)(a,2),v=p[0],g=p[1];return(0,re.jsx)("div",{className:"canvas-container",children:(0,re.jsx)("canvas",{ref:e,onPointerDown:v,onPointerUp:g})})}var se=n(14642),le=n(59737);function ue(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ce=n(63366),fe=n(87462),de=n(52007),he=n.n(de),pe=n(28182),me=n(90767),ve=n(12065),ge=n(86481),ye=n(10551),Ee=n(42071),Ae=n(89683),Te=n(23031),Oe=n(97326),Re=n(89611);function Le(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,Re.Z)(e,t)}var Se=i.createContext(null);function be(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function Ie(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ne(e,t,n){var r=be(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var l=a in t,u=a in r,c=t[a],f=(0,i.isValidElement)(c)&&!c.props.in;!u||l&&!f?u||!l||f?u&&l&&(0,i.isValidElement)(c)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:Ie(s,"exit",e),enter:Ie(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Ie(s,"exit",e),enter:Ie(s,"enter",e)})}})),o}var xe=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},_e=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,Oe.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Le(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,be(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Ie(e,"appear",n),enter:Ie(e,"enter",n),exit:Ie(e,"exit",n)})}))):Ne(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=be(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,fe.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,ce.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=xe(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(Se.Provider,{value:o},a):i.createElement(Se.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);_e.propTypes={},_e.defaultProps={component:"div",childFactory:function(e){return e}};var Me=_e,we=(n(78677),n(91672)),Ce=n(62110),Pe=n.n(Ce),De=n(95438),ke=n(84804),He=n(96567),Ue=(0,we.w)((function(e,t){var n=e.styles,r=(0,ke.O)([n],void 0,(0,i.useContext)(we.T)),o=(0,i.useRef)();return(0,i.useLayoutEffect)((function(){var e=t.key+"-global",n=new He.m({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,a=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==a&&(i=!0,a.setAttribute("data-emotion",e),n.hydrate([a])),o.current=[n,i],function(){n.flush()}}),[t]),(0,i.useLayoutEffect)((function(){var e=o.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&(0,De.M)(t,r.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null}));function Be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,ke.O)(t)}var Ge=function(){var e=Be.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var We=function(e){var t=e.className,n=e.classes,r=e.pulsate,o=void 0!==r&&r,a=e.rippleX,l=e.rippleY,u=e.rippleSize,c=e.in,f=e.onExited,d=e.timeout,h=i.useState(!1),p=(0,s.Z)(h,2),m=p[0],v=p[1],g=(0,pe.Z)(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),y={width:u,height:u,top:-u/2+l,left:-u/2+a},E=(0,pe.Z)(n.child,m&&n.childLeaving,o&&n.childPulsate);return c||m||v(!0),i.useEffect((function(){if(!c&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,c,d]),(0,re.jsx)("span",{className:g,style:y,children:(0,re.jsx)("span",{className:E})})},Fe=n(30208);var Ke,Ve,ze,je,Ze,Ye,qe,Xe,Qe=(0,Fe.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Je=["center","classes","className"],$e=Ge(Ze||(Ze=Ke||(Ke=ue(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),et=Ge(Ye||(Ye=Ve||(Ve=ue(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),tt=Ge(qe||(qe=ze||(ze=ue(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),nt=(0,ge.ZP)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),rt=(0,ge.ZP)(We,{name:"MuiTouchRipple",slot:"Ripple"})(Xe||(Xe=je||(je=ue(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Qe.rippleVisible,$e,550,(function(e){return e.theme.transitions.easing.easeInOut}),Qe.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Qe.child,Qe.childLeaving,et,550,(function(e){return e.theme.transitions.easing.easeInOut}),Qe.childPulsate,tt,(function(e){return e.theme.transitions.easing.easeInOut})),it=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiTouchRipple"}),r=n.center,o=void 0!==r&&r,a=n.classes,l=void 0===a?{}:a,u=n.className,c=(0,ce.Z)(n,Je),f=i.useState([]),h=(0,s.Z)(f,2),p=h[0],m=h[1],v=i.useRef(0),g=i.useRef(null);i.useEffect((function(){g.current&&(g.current(),g.current=null)}),[p]);var y=i.useRef(!1),E=i.useRef(null),A=i.useRef(null),T=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(E.current)}}),[]);var O=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;m((function(e){return[].concat((0,d.Z)(e),[(0,re.jsx)(rt,{classes:{ripple:(0,pe.Z)(l.ripple,Qe.ripple),rippleVisible:(0,pe.Z)(l.rippleVisible,Qe.rippleVisible),ripplePulsate:(0,pe.Z)(l.ripplePulsate,Qe.ripplePulsate),child:(0,pe.Z)(l.child,Qe.child),childLeaving:(0,pe.Z)(l.childLeaving,Qe.childLeaving),childPulsate:(0,pe.Z)(l.childPulsate,Qe.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,g.current=o}),[l]),R=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var c,f,d,h=u?null:T.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),f=Math.round(p.height/2);else{var m=e.touches?e.touches[0]:e,v=m.clientX,g=m.clientY;c=Math.round(v-p.left),f=Math.round(g-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var R=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,L=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(R,2)+Math.pow(L,2))}e.touches?null===A.current&&(A.current=function(){O({pulsate:i,rippleX:c,rippleY:f,rippleSize:d,cb:n})},E.current=setTimeout((function(){A.current&&(A.current(),A.current=null)}),80)):O({pulsate:i,rippleX:c,rippleY:f,rippleSize:d,cb:n})}}),[o,O]),L=i.useCallback((function(){R({},{pulsate:!0})}),[R]),S=i.useCallback((function(e,t){if(clearTimeout(E.current),"touchend"===e.type&&A.current)return A.current(),A.current=null,void(E.current=setTimeout((function(){S(e,t)})));A.current=null,m((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:L,start:R,stop:S}}),[L,R,S]),(0,re.jsx)(nt,(0,fe.Z)({className:(0,pe.Z)(l.root,Qe.root,u),ref:T},c,{children:(0,re.jsx)(Me,{component:null,exit:!0,children:p})}))})),ot=it,at=n(95159);function st(e){return(0,at.Z)("MuiButtonBase",e)}var lt,ut=(0,Fe.Z)("MuiButtonBase",["root","disabled","focusVisible"]),ct=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],ft=(0,ge.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((lt={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,a.Z)(lt,"&.".concat(ut.disabled),{pointerEvents:"none",cursor:"default"}),(0,a.Z)(lt,"@media print",{colorAdjust:"exact"}),lt)),dt=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiButtonBase"}),r=n.action,o=n.centerRipple,a=void 0!==o&&o,l=n.children,u=n.className,c=n.component,f=void 0===c?"button":c,d=n.disabled,h=void 0!==d&&d,p=n.disableRipple,m=void 0!==p&&p,v=n.disableTouchRipple,g=void 0!==v&&v,y=n.focusRipple,E=void 0!==y&&y,A=n.LinkComponent,T=void 0===A?"a":A,O=n.onBlur,R=n.onClick,L=n.onContextMenu,S=n.onDragLeave,b=n.onFocus,I=n.onFocusVisible,N=n.onKeyDown,x=n.onKeyUp,_=n.onMouseDown,M=n.onMouseLeave,w=n.onMouseUp,C=n.onTouchEnd,P=n.onTouchMove,D=n.onTouchStart,k=n.tabIndex,H=void 0===k?0:k,U=n.TouchRippleProps,B=n.type,G=(0,ce.Z)(n,ct),W=i.useRef(null),F=i.useRef(null),K=(0,Te.Z)(),V=K.isFocusVisibleRef,z=K.onFocus,j=K.onBlur,Z=K.ref,Y=i.useState(!1),q=(0,s.Z)(Y,2),X=q[0],Q=q[1];function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return(0,Ae.Z)((function(r){return t&&t(r),!n&&F.current&&F.current[e](r),!0}))}h&&X&&Q(!1),i.useImperativeHandle(r,(function(){return{focusVisible:function(){Q(!0),W.current.focus()}}}),[]),i.useEffect((function(){X&&E&&!m&&F.current.pulsate()}),[m,E,X]);var $=J("start",_),ee=J("stop",L),te=J("stop",S),ne=J("stop",w),ie=J("stop",(function(e){X&&e.preventDefault(),M&&M(e)})),oe=J("start",D),ae=J("stop",C),se=J("stop",P),le=J("stop",(function(e){j(e),!1===V.current&&Q(!1),O&&O(e)}),!1),ue=(0,Ae.Z)((function(e){W.current||(W.current=e.currentTarget),z(e),!0===V.current&&(Q(!0),I&&I(e)),b&&b(e)})),de=function(){var e=W.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},he=i.useRef(!1),ve=(0,Ae.Z)((function(e){E&&!he.current&&X&&F.current&&" "===e.key&&(he.current=!0,F.current.stop(e,(function(){F.current.start(e)}))),e.target===e.currentTarget&&de()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&de()&&"Enter"===e.key&&!h&&(e.preventDefault(),R&&R(e))})),ge=(0,Ae.Z)((function(e){E&&" "===e.key&&F.current&&X&&!e.defaultPrevented&&(he.current=!1,F.current.stop(e,(function(){F.current.pulsate(e)}))),x&&x(e),R&&e.target===e.currentTarget&&de()&&" "===e.key&&!e.defaultPrevented&&R(e)})),Oe=f;"button"===Oe&&(G.href||G.to)&&(Oe=T);var Re={};"button"===Oe?(Re.type=void 0===B?"button":B,Re.disabled=h):(G.href||G.to||(Re.role="button"),h&&(Re["aria-disabled"]=h));var Le=(0,Ee.Z)(Z,W),Se=(0,Ee.Z)(t,Le),be=i.useState(!1),Ie=(0,s.Z)(be,2),Ne=Ie[0],xe=Ie[1];i.useEffect((function(){xe(!0)}),[]);var _e=Ne&&!m&&!h;var Me=(0,fe.Z)({},n,{centerRipple:a,component:f,disabled:h,disableRipple:m,disableTouchRipple:g,focusRipple:E,tabIndex:H,focusVisible:X}),we=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,o={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,me.Z)(o,st,i);return n&&r&&(a.root+=" ".concat(r)),a}(Me);return(0,re.jsxs)(ft,(0,fe.Z)({as:Oe,className:(0,pe.Z)(we.root,u),ownerState:Me,onBlur:le,onClick:R,onContextMenu:ee,onFocus:ue,onKeyDown:ve,onKeyUp:ge,onMouseDown:$,onMouseLeave:ie,onMouseUp:ne,onDragLeave:te,onTouchEnd:ae,onTouchMove:se,onTouchStart:oe,ref:Se,tabIndex:h?-1:H,type:B},Re,G,{children:[l,_e?(0,re.jsx)(ot,(0,fe.Z)({ref:F,center:a},U)):null]}))})),ht=dt,pt=n(14036);function mt(e){return(0,at.Z)("MuiIconButton",e)}var vt=(0,Fe.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),gt=["edge","children","className","color","disabled","disableFocusRipple","size"],yt=(0,ge.ZP)(ht,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,pt.Z)(n.color))],n.edge&&t["edge".concat((0,pt.Z)(n.edge))],t["size".concat((0,pt.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:(0,ve.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,fe.Z)({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:(0,ve.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,a.Z)({},"&.".concat(vt.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),Et=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,o=n.children,a=n.className,s=n.color,l=void 0===s?"default":s,u=n.disabled,c=void 0!==u&&u,f=n.disableFocusRipple,d=void 0!==f&&f,h=n.size,p=void 0===h?"medium":h,m=(0,ce.Z)(n,gt),v=(0,fe.Z)({},n,{edge:i,color:l,disabled:c,disableFocusRipple:d,size:p}),g=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,o=e.size,a={root:["root",n&&"disabled","default"!==r&&"color".concat((0,pt.Z)(r)),i&&"edge".concat((0,pt.Z)(i)),"size".concat((0,pt.Z)(o))]};return(0,me.Z)(a,mt,t)}(v);return(0,re.jsx)(yt,(0,fe.Z)({className:(0,pe.Z)(g.root,a),centerRipple:!0,focusRipple:!d,disabled:c,ref:t,ownerState:v},m,{children:o}))})),At=Et,Tt=n(57441),Ot=n(79613),Rt=n.n(Ot);var Lt=function(e){function t(e,r,l,u,d){for(var h,p,m,v,A,O=0,R=0,L=0,S=0,b=0,w=0,P=m=h=0,k=0,H=0,U=0,B=0,G=l.length,W=G-1,F="",K="",V="",z="";k<G;){if(p=l.charCodeAt(k),k===W&&0!==R+S+L+O&&(0!==R&&(p=47===R?10:47),S=L=O=0,G++,W++),0===R+S+L+O){if(k===W&&(0<H&&(F=F.replace(f,"")),0<F.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:F+=l.charAt(k)}p=59}switch(p){case 123:for(h=(F=F.trim()).charCodeAt(0),m=1,B=++k;k<G;){switch(p=l.charCodeAt(k)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(k+1)){case 42:case 47:e:{for(P=k+1;P<W;++P)switch(l.charCodeAt(P)){case 47:if(42===p&&42===l.charCodeAt(P-1)&&k+2!==P){k=P+1;break e}break;case 10:if(47===p){k=P+1;break e}}k=P}}break;case 91:p++;case 40:p++;case 34:case 39:for(;k++<W&&l.charCodeAt(k)!==p;);}if(0===m)break;k++}if(m=l.substring(B,k),0===h&&(h=(F=F.replace(c,"").trim()).charCodeAt(0)),64===h){switch(0<H&&(F=F.replace(f,"")),p=F.charCodeAt(1)){case 100:case 109:case 115:case 45:H=r;break;default:H=M}if(B=(m=t(r,H,m,p,d+1)).length,0<C&&(A=s(3,m,H=n(M,F,U),r,N,I,B,p,d,u),F=H.join(""),void 0!==A&&0===(B=(m=A.trim()).length)&&(p=0,m="")),0<B)switch(p){case 115:F=F.replace(T,a);case 100:case 109:case 45:m=F+"{"+m+"}";break;case 107:m=(F=F.replace(g,"$1 $2"))+"{"+m+"}",m=1===_||2===_&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=F+m,112===u&&(K+=m,m="")}else m=""}else m=t(r,n(r,F,U),m,u,d+1);V+=m,m=U=H=P=h=0,F="",p=l.charCodeAt(++k);break;case 125:case 59:if(1<(B=(F=(0<H?F.replace(f,""):F).trim()).length))switch(0===P&&(h=F.charCodeAt(0),45===h||96<h&&123>h)&&(B=(F=F.replace(" ",":")).length),0<C&&void 0!==(A=s(1,F,r,e,N,I,K.length,u,d,u))&&0===(B=(F=A.trim()).length)&&(F="\0\0"),h=F.charCodeAt(0),p=F.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){z+=F+l.charAt(k);break}default:58!==F.charCodeAt(B-1)&&(K+=i(F,h,p,F.charCodeAt(2)))}U=H=P=h=0,F="",p=l.charCodeAt(++k)}}switch(p){case 13:case 10:47===R?R=0:0===1+h&&107!==u&&0<F.length&&(H=1,F+="\0"),0<C*D&&s(0,F,r,e,N,I,K.length,u,d,u),I=1,N++;break;case 59:case 125:if(0===R+S+L+O){I++;break}default:switch(I++,v=l.charAt(k),p){case 9:case 32:if(0===S+O+R)switch(b){case 44:case 58:case 9:case 32:v="";break;default:32!==p&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===S+R+O&&(H=U=1,v="\f"+v);break;case 108:if(0===S+R+O+x&&0<P)switch(k-P){case 2:112===b&&58===l.charCodeAt(k-3)&&(x=b);case 8:111===w&&(x=w)}break;case 58:0===S+R+O&&(P=k);break;case 44:0===R+L+S+O&&(H=1,v+="\r");break;case 34:case 39:0===R&&(S=S===p?0:0===S?p:S);break;case 91:0===S+R+L&&O++;break;case 93:0===S+R+L&&O--;break;case 41:0===S+R+O&&L--;break;case 40:if(0===S+R+O){if(0===h)if(2*b+3*w===533);else h=1;L++}break;case 64:0===R+L+S+O+P+m&&(m=1);break;case 42:case 47:if(!(0<S+O+L))switch(R){case 0:switch(2*p+3*l.charCodeAt(k+1)){case 235:R=47;break;case 220:B=k,R=42}break;case 42:47===p&&42===b&&B+2!==k&&(33===l.charCodeAt(B+2)&&(K+=l.substring(B,k+1)),v="",R=0)}}0===R&&(F+=v)}w=b,b=p,k++}if(0<(B=K.length)){if(H=r,0<C&&(void 0!==(A=s(2,K,H,e,N,I,B,u,d,u))&&0===(K=A).length))return z+K+V;if(K=H.join(",")+"{"+K+"}",0!==_*x){switch(2!==_||o(K,2)||(x=0),x){case 111:K=K.replace(E,":-moz-$1")+K;break;case 112:K=K.replace(y,"::-webkit-input-$1")+K.replace(y,"::-moz-$1")+K.replace(y,":-ms-input-$1")+K}x=0}}return z+K+V}function n(e,t,n){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var u=0;u<a;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===_||2===_&&o(l,1)?"-webkit-"+l+l:l}if(0===_||2===_&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(b,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return h.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(A,"tb");break;case 232:l=a.replace(A,"tb-rl");break;case 220:l=a.replace(A,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(R,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(R,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?r:r.replace(L,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(O," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,c){for(var f,d=0,h=t;d<C;++d)switch(f=w[d].call(u,e,h,n,r,i,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!==typeof e?_=1:(_=2,P=e):_=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<C){var i=s(-1,n,r,r,N,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(M,r,n,0,0);return 0<C&&(void 0!==(i=s(-2,o,r,r,N,I,o.length,0,0,0))&&(o=i)),"",x=0,I=N=1,o}var c=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,E=/:(read-only)/g,A=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,O=/([\s\S]*?);/g,R=/-self|flex-/g,L=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,b=/([^-])(image-set\()/,I=1,N=1,x=0,_=1,M=[],w=[],C=0,P=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:C=w.length=0;break;default:if("function"===typeof t)w[C++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},u.set=l,void 0!==e&&l(e),u},St=n(63840),bt=n(50620),It=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nt=(0,bt.Z)((function(e){return It.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _t=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Mt=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Tt.typeOf)(e)},wt=Object.freeze([]),Ct=Object.freeze({});function Pt(e){return"function"==typeof e}function Dt(e){return e.displayName||e.name||"Component"}function kt(e){return e&&"string"==typeof e.styledComponentId}var Ht="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Ut="undefined"!=typeof window&&"HTMLElement"in window,Bt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/Police-Map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function Gt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Wt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Gt(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),Ft=new Map,Kt=new Map,Vt=1,zt=function(e){if(Ft.has(e))return Ft.get(e);for(;Kt.has(Vt);)Vt++;var t=Vt++;return Ft.set(e,t),Kt.set(t,e),t},jt=function(e){return Kt.get(e)},Zt=function(e,t){t>=Vt&&(Vt=t+1),Ft.set(e,t),Kt.set(t,e)},Yt="style["+Ht+'][data-styled-version="5.3.3"]',qt=new RegExp("^"+Ht+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Xt=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Qt=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(qt);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(Zt(u,l),Xt(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},Jt=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},$t=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ht))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Ht,"active"),r.setAttribute("data-styled-version","5.3.3");var a=Jt();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},en=function(){function e(e){var t=this.element=$t(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Gt(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),tn=function(){function e(e){var t=this.element=$t(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),nn=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),rn=Ut,on={isServer:!Ut,useCSSOMInjection:!Bt},an=function(){function e(e,t,n){void 0===e&&(e=Ct),void 0===t&&(t={}),this.options=xt({},on,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ut&&rn&&(rn=!1,function(e){for(var t=document.querySelectorAll(Yt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ht)&&(Qt(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return zt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(xt({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new nn(i):r?new en(i):new tn(i),new Wt(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(zt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(zt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(zt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=jt(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var l=Ht+".g"+i+'[id="'+o+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),sn=/(a)(d)/gi,ln=function(e){return String.fromCharCode(e+(e>25?39:97))};function un(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=ln(t%52)+n;return(ln(t%52)+n).replace(sn,"$1-$2")}var cn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},fn=function(e){return cn(5381,e)};function dn(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Pt(n)&&!kt(n))return!1}return!0}var hn=fn("5.3.3"),pn=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&dn(e),this.componentId=t,this.baseHash=cn(hn,t),this.baseStyle=n,an.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=wn(this.rules,e,t,n).join(""),a=un(cn(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,u=cn(this.baseHash,n.hash),c="",f=0;f<l;f++){var d=this.rules[f];if("string"==typeof d)c+=d;else if(d){var h=wn(d,e,t,n),p=Array.isArray(h)?h.join(""):h;u=cn(u,p+f),c+=p}}if(c){var m=un(u>>>0);if(!t.hasNameForId(r,m)){var v=n(c,"."+m,void 0,r);t.insertRules(r,m,v)}i.push(m)}}return i.join(" ")},e}(),mn=/^\s*\/\/.*$/gm,vn=[":","[",".","#"];function gn(e){var t,n,r,i,o=void 0===e?Ct:e,a=o.options,s=void 0===a?Ct:a,l=o.plugins,u=void 0===l?wt:l,c=new Lt(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,l,u,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),h=function(e,r,o){return 0===r&&-1!==vn.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var l=e.replace(mn,""),u=o&&a?a+" "+o+" { "+l+" }":l;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(a||!o?"":o,u)}return c.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=u.length?u.reduce((function(e,t){return t.name||Gt(15),cn(e,t.name)}),5381).toString():"",p}var yn=i.createContext(),En=(yn.Consumer,i.createContext()),An=(En.Consumer,new an),Tn=gn();function On(){return(0,i.useContext)(yn)||An}function Rn(){return(0,i.useContext)(En)||Tn}function Ln(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=On(),a=(0,i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,i.useMemo)((function(){return gn({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){Rt()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(yn.Provider,{value:a},i.createElement(En.Provider,{value:s},e.children))}var Sn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Tn);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Gt(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Tn),this.name+e.hash},e}(),bn=/([A-Z])/,In=/([A-Z])/g,Nn=/^ms-/,xn=function(e){return"-"+e.toLowerCase()};function _n(e){return bn.test(e)?e.replace(In,xn).replace(Nn,"-ms-"):e}var Mn=function(e){return null==e||!1===e||""===e};function wn(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=wn(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return Mn(e)?"":kt(e)?"."+e.styledComponentId:Pt(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:wn(e(t),t,n,r):e instanceof Sn?n?(e.inject(n,r),e.getName(r)):e:Mt(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!Mn(t[a])&&(Array.isArray(t[a])&&t[a].isCss||Pt(t[a])?o.push(_n(a)+":",t[a],";"):Mt(t[a])?o.push.apply(o,e(t[a],a)):o.push(_n(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in St.Z?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var l}var Cn=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pt(e)||Mt(e)?Cn(wn(_t(wt,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Cn(wn(_t(e,n)))}new Set;var Dn=function(e,t,n){return void 0===n&&(n=Ct),e.theme!==n.theme&&e.theme||t||n.theme},kn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Hn=/(^-|-$)/g;function Un(e){return e.replace(kn,"-").replace(Hn,"")}var Bn=function(e){return un(fn(e)>>>0)};function Gn(e){return"string"==typeof e&&!0}var Wn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Fn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Kn(e,t,n){var r=e[n];Wn(t)&&Wn(r)?Vn(r,t):e[n]=t}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Wn(a))for(var s in a)Fn(s)&&Kn(e,a[s],s)}return e}var zn=i.createContext();zn.Consumer;var jn={};function Zn(e,t,n){var r=kt(e),o=!Gn(e),a=t.attrs,s=void 0===a?wt:a,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Un(e);jn[n]=(jn[n]||0)+1;var r=n+"-"+Bn("5.3.3"+n+jn[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,c=t.displayName,f=void 0===c?function(e){return Gn(e)?"styled."+e:"Styled("+Dt(e)+")"}(e):c,d=t.displayName&&t.componentId?Un(t.displayName)+"-"+t.componentId:t.componentId||u,h=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;r&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var m,v=new pn(n,d,r?e.componentStyle:void 0),g=v.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,u=e.shouldForwardProp,c=e.styledComponentId,f=e.target,d=function(e,t,n){void 0===e&&(e=Ct);var r=xt({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in Pt(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(Dn(t,(0,i.useContext)(zn),s)||Ct,t,o),h=d[0],p=d[1],m=function(e,t,n,r){var i=On(),o=Rn();return t?e.generateAndInjectStyles(Ct,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,h),v=n,g=p.$as||t.$as||p.as||t.as||f,y=Gn(g),E=p!==t?xt({},t,{},p):t,A={};for(var T in E)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?A.as=E[T]:(u?u(T,Nt,g):!y||Nt(T))&&(A[T]=E[T]));return t.style&&p.style!==t.style&&(A.style=xt({},t.style,{},p.style)),A.className=Array.prototype.concat(l,c,m!==c?m:null,t.className,p.className).filter(Boolean).join(" "),A.ref=v,(0,i.createElement)(g,A)}(m,e,t,g)};return y.displayName=f,(m=i.forwardRef(y)).attrs=h,m.componentStyle=v,m.displayName=f,m.shouldForwardProp=p,m.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):wt,m.styledComponentId=d,m.target=r?e.target:e,m.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Gn(e)?e:Un(Dt(e)));return Zn(e,xt({},i,{attrs:h,componentId:o}),n)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Vn({},e.defaultProps,t):t}}),m.toString=function(){return"."+m.styledComponentId},o&&Pe()(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var Yn=function(e){return function e(t,n,r){if(void 0===r&&(r=Ct),!(0,Tt.isValidElementType)(n))return Gt(1,String(n));var i=function(){return t(n,r,Pn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,xt({},r,{},i))},i.attrs=function(i){return e(t,n,xt({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Zn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Yn[e]=Yn(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=dn(e),an.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(wn(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&an.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Jt();return"<style "+[n&&'nonce="'+n+'"',Ht+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Gt(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return Gt(2);var n=((t={})[Ht]="",t["data-styled-version"]="5.3.3",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=Jt();return r&&(n.nonce=r),[i.createElement("style",xt({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new an({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?Gt(2):i.createElement(Ln,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return Gt(3)}}();var qn,Xn,Qn=Yn,Jn=Qn.div(qn||(qn=ue(["\n  position: fixed;\n  top: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 1;\n"]))),$n=Qn(At)(Xn||(Xn=ue(["\n  color: black !important;\n  background-color: #c2fadb !important;\n  background-image: linear-gradient(315deg, #6daddb 0%, #c2fadb 74%) !important;\n  height: 55px;\n  width: 55px;\n"])));var er=function(e){return"string"===typeof e};function tr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return er(e)?t:(0,fe.Z)({},t,{ownerState:(0,fe.Z)({},t.ownerState,n)})}var nr=n(30418),rr=n(99691);function ir(){return(0,nr.Z)(rr.Z)}var or=!1,ar="unmounted",sr="exited",lr="entering",ur="entered",cr="exiting",fr=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=sr,r.appearStatus=lr):i=ur:i=t.unmountOnExit||t.mountOnEnter?ar:sr,r.state={status:i},r.nextCallback=null,r}Le(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ar?{status:sr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==lr&&n!==ur&&(t=lr):n!==lr&&n!==ur||(t=cr)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===lr?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===sr&&this.setState({status:ar})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[o.findDOMNode(this),r],a=i[0],s=i[1],l=this.getTimeouts(),u=r?l.appear:l.enter;!e&&!n||or?this.safeSetState({status:ur},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:lr},(function(){t.props.onEntering(a,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:ur},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!or?(this.props.onExit(r),this.safeSetState({status:cr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:sr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:sr},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===ar)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,ce.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Se.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function dr(){}fr.contextType=Se,fr.propTypes={},fr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dr,onEntering:dr,onEntered:dr,onExit:dr,onExiting:dr,onExited:dr},fr.UNMOUNTED=ar,fr.EXITED=sr,fr.ENTERING=lr,fr.ENTERED=ur,fr.EXITING=cr;var hr=fr,pr=function(e){return e.scrollTop};function mr(e,t){var n,r,i=e.timeout,o=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var vr=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function gr(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var yr={entering:{opacity:1,transform:gr(1)},entered:{opacity:1,transform:"none"}},Er=i.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,o=void 0===r||r,a=e.children,s=e.easing,l=e.in,u=e.onEnter,c=e.onEntered,f=e.onEntering,d=e.onExit,h=e.onExited,p=e.onExiting,m=e.style,v=e.timeout,g=void 0===v?"auto":v,y=e.TransitionComponent,E=void 0===y?hr:y,A=(0,ce.Z)(e,vr),T=i.useRef(),O=i.useRef(),R=ir(),L=i.useRef(null),S=(0,Ee.Z)(a.ref,t),b=(0,Ee.Z)(L,S),I=function(e){return function(t){if(e){var n=L.current;void 0===t?e(n):e(n,t)}}},N=I(f),x=I((function(e,t){pr(e);var n,r=mr({style:m,timeout:g,easing:s},{mode:"enter"}),i=r.duration,o=r.delay,a=r.easing;"auto"===g?(n=R.transitions.getAutoHeightDuration(e.clientHeight),O.current=n):n=i,e.style.transition=[R.transitions.create("opacity",{duration:n,delay:o}),R.transitions.create("transform",{duration:.666*n,delay:o,easing:a})].join(","),u&&u(e,t)})),_=I(c),M=I(p),w=I((function(e){var t,n=mr({style:m,timeout:g,easing:s},{mode:"exit"}),r=n.duration,i=n.delay,o=n.easing;"auto"===g?(t=R.transitions.getAutoHeightDuration(e.clientHeight),O.current=t):t=r,e.style.transition=[R.transitions.create("opacity",{duration:t,delay:i}),R.transitions.create("transform",{duration:.666*t,delay:i||.333*t,easing:o})].join(","),e.style.opacity="0",e.style.transform=gr(.75),d&&d(e)})),C=I(h);return i.useEffect((function(){return function(){clearTimeout(T.current)}}),[]),(0,re.jsx)(E,(0,fe.Z)({appear:o,in:l,nodeRef:L,onEnter:x,onEntered:_,onEntering:N,onExit:w,onExited:C,onExiting:M,addEndListener:function(e){"auto"===g&&(T.current=setTimeout(e,O.current||0)),n&&n(L.current,e)},timeout:"auto"===g?null:g},A,{children:function(e,t){return i.cloneElement(a,(0,fe.Z)({style:(0,fe.Z)({opacity:0,transform:gr(.75),visibility:"exited"!==e||l?void 0:"hidden"},yr[e],m,a.props.style),ref:b},t))}}))}));Er.muiSupportAuto=!0;var Ar=Er,Tr=n(47563),Or=n(75721),Rr=n(99723);function Lr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Sr(e){return e instanceof Lr(e).Element||e instanceof Element}function br(e){return e instanceof Lr(e).HTMLElement||e instanceof HTMLElement}function Ir(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Lr(e).ShadowRoot||e instanceof ShadowRoot)}var Nr=Math.max,xr=Math.min,_r=Math.round;function Mr(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(br(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(r=_r(n.width)/a||1),o>0&&(i=_r(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function wr(e){var t=Lr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Cr(e){return e?(e.nodeName||"").toLowerCase():null}function Pr(e){return((Sr(e)?e.ownerDocument:e.document)||window.document).documentElement}function Dr(e){return Mr(Pr(e)).left+wr(e).scrollLeft}function kr(e){return Lr(e).getComputedStyle(e)}function Hr(e){var t=kr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ur(e,t,n){void 0===n&&(n=!1);var r=br(t),i=br(t)&&function(e){var t=e.getBoundingClientRect(),n=_r(t.width)/e.offsetWidth||1,r=_r(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=Pr(t),a=Mr(e,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Cr(t)||Hr(o))&&(s=function(e){return e!==Lr(e)&&br(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:wr(e);var t}(t)),br(t)?((l=Mr(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Dr(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Br(e){var t=Mr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Gr(e){return"html"===Cr(e)?e:e.assignedSlot||e.parentNode||(Ir(e)?e.host:null)||Pr(e)}function Wr(e){return["html","body","#document"].indexOf(Cr(e))>=0?e.ownerDocument.body:br(e)&&Hr(e)?e:Wr(Gr(e))}function Fr(e,t){var n;void 0===t&&(t=[]);var r=Wr(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Lr(r),a=i?[o].concat(o.visualViewport||[],Hr(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Fr(Gr(a)))}function Kr(e){return["table","td","th"].indexOf(Cr(e))>=0}function Vr(e){return br(e)&&"fixed"!==kr(e).position?e.offsetParent:null}function zr(e){for(var t=Lr(e),n=Vr(e);n&&Kr(n)&&"static"===kr(n).position;)n=Vr(n);return n&&("html"===Cr(n)||"body"===Cr(n)&&"static"===kr(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&br(e)&&"fixed"===kr(e).position)return null;for(var n=Gr(e);br(n)&&["html","body"].indexOf(Cr(n))<0;){var r=kr(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var jr="top",Zr="bottom",Yr="right",qr="left",Xr="auto",Qr=[jr,Zr,Yr,qr],Jr="start",$r="end",ei="viewport",ti="popper",ni=Qr.reduce((function(e,t){return e.concat([t+"-"+Jr,t+"-"+$r])}),[]),ri=[].concat(Qr,[Xr]).reduce((function(e,t){return e.concat([t,t+"-"+Jr,t+"-"+$r])}),[]),ii=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function oi(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ai(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var si={placement:"bottom",modifiers:[],strategy:"absolute"};function li(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function ui(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?si:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},si,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:Sr(e)?Fr(e):e.contextElement?Fr(e.contextElement):[],popper:Fr(t)};var c=function(e){var t=oi(e);return ii.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:l,options:r}),u=function(){};a.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(li(t,n)){i.rects={reference:Ur(t,zr(n),"fixed"===i.options.strategy),popper:Br(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,u=o.options,c=void 0===u?{}:u,f=o.name;"function"===typeof a&&(i=a({state:i,options:c,name:f,instance:l})||i)}else i.reset=!1,r=-1}}},update:ai((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!li(e,t))return l;function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var ci={passive:!0};function fi(e){return e.split("-")[0]}function di(e){return e.split("-")[1]}function hi(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pi(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?fi(i):null,a=i?di(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case jr:t={x:s,y:n.y-r.height};break;case Zr:t={x:s,y:n.y+n.height};break;case Yr:t={x:n.x+n.width,y:l};break;case qr:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?hi(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case Jr:t[u]=t[u]-(n[c]/2-r[c]/2);break;case $r:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var mi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vi(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=a.x,h=void 0===d?0:d,p=a.y,m=void 0===p?0:p,v="function"===typeof c?c({x:h,y:m}):{x:h,y:m};h=v.x,m=v.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),E=qr,A=jr,T=window;if(u){var O=zr(n),R="clientHeight",L="clientWidth";if(O===Lr(n)&&"static"!==kr(O=Pr(n)).position&&"absolute"===s&&(R="scrollHeight",L="scrollWidth"),O=O,i===jr||(i===qr||i===Yr)&&o===$r)A=Zr,m-=(f&&T.visualViewport?T.visualViewport.height:O[R])-r.height,m*=l?1:-1;if(i===qr||(i===jr||i===Zr)&&o===$r)E=Yr,h-=(f&&T.visualViewport?T.visualViewport.width:O[L])-r.width,h*=l?1:-1}var S,b=Object.assign({position:s},u&&mi),I=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:_r(t*r)/r||0,y:_r(n*r)/r||0}}({x:h,y:m}):{x:h,y:m};return h=I.x,m=I.y,l?Object.assign({},b,((S={})[A]=y?"0":"",S[E]=g?"0":"",S.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",S)):Object.assign({},b,((t={})[A]=y?m+"px":"",t[E]=g?h+"px":"",t.transform="",t))}var gi={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];br(i)&&Cr(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});br(r)&&Cr(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var yi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=ri.reduce((function(e,n){return e[n]=function(e,t,n){var r=fi(e),i=[qr,jr].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[qr,Yr].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}},Ei={left:"right",right:"left",bottom:"top",top:"bottom"};function Ai(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ei[e]}))}var Ti={start:"end",end:"start"};function Oi(e){return e.replace(/start|end/g,(function(e){return Ti[e]}))}function Ri(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ir(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Li(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Si(e,t){return t===ei?Li(function(e){var t=Lr(e),n=Pr(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+Dr(e),y:s}}(e)):Sr(t)?function(e){var t=Mr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Li(function(e){var t,n=Pr(e),r=wr(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Nr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Nr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Dr(e),l=-r.scrollTop;return"rtl"===kr(i||n).direction&&(s+=Nr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(Pr(e)))}function bi(e,t,n){var r="clippingParents"===t?function(e){var t=Fr(Gr(e)),n=["absolute","fixed"].indexOf(kr(e).position)>=0&&br(e)?zr(e):e;return Sr(n)?t.filter((function(e){return Sr(e)&&Ri(e,n)&&"body"!==Cr(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=Si(e,n);return t.top=Nr(r.top,t.top),t.right=xr(r.right,t.right),t.bottom=xr(r.bottom,t.bottom),t.left=Nr(r.left,t.left),t}),Si(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ii(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ni(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function xi(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,l=void 0===s?ei:s,u=n.elementContext,c=void 0===u?ti:u,f=n.altBoundary,d=void 0!==f&&f,h=n.padding,p=void 0===h?0:h,m=Ii("number"!==typeof p?p:Ni(p,Qr)),v=c===ti?"reference":ti,g=e.rects.popper,y=e.elements[d?v:c],E=bi(Sr(y)?y:y.contextElement||Pr(e.elements.popper),a,l),A=Mr(e.elements.reference),T=pi({reference:A,element:g,strategy:"absolute",placement:i}),O=Li(Object.assign({},g,T)),R=c===ti?O:A,L={top:E.top-R.top+m.top,bottom:R.bottom-E.bottom+m.bottom,left:E.left-R.left+m.left,right:R.right-E.right+m.right},S=e.modifiersData.offset;if(c===ti&&S){var b=S[i];Object.keys(L).forEach((function(e){var t=[Yr,Zr].indexOf(e)>=0?1:-1,n=[jr,Zr].indexOf(e)>=0?"y":"x";L[e]+=b[n]*t}))}return L}var _i={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,m=n.allowedAutoPlacements,v=t.options.placement,g=fi(v),y=l||(g===v||!p?[Ai(v)]:function(e){if(fi(e)===Xr)return[];var t=Ai(e);return[Oi(e),t,Oi(t)]}(v)),E=[v].concat(y).reduce((function(e,n){return e.concat(fi(n)===Xr?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?ri:l,c=di(r),f=c?s?ni:ni.filter((function(e){return di(e)===c})):Qr,d=f.filter((function(e){return u.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=xi(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[fi(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),A=t.rects.reference,T=t.rects.popper,O=new Map,R=!0,L=E[0],S=0;S<E.length;S++){var b=E[S],I=fi(b),N=di(b)===Jr,x=[jr,Zr].indexOf(I)>=0,_=x?"width":"height",M=xi(t,{placement:b,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),w=x?N?Yr:qr:N?Zr:jr;A[_]>T[_]&&(w=Ai(w));var C=Ai(w),P=[];if(o&&P.push(M[I]<=0),s&&P.push(M[w]<=0,M[C]<=0),P.every((function(e){return e}))){L=b,R=!1;break}O.set(b,P)}if(R)for(var D=function(e){var t=E.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return L=t,"break"},k=p?3:1;k>0;k--){if("break"===D(k))break}t.placement!==L&&(t.modifiersData[r]._skip=!0,t.placement=L,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Mi(e,t,n){return Nr(e,xr(t,n))}var wi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,m=void 0===p?0:p,v=xi(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),g=fi(t.placement),y=di(t.placement),E=!y,A=hi(g),T="x"===A?"y":"x",O=t.modifiersData.popperOffsets,R=t.rects.reference,L=t.rects.popper,S="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,b="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(O){if(o){var x,_="y"===A?jr:qr,M="y"===A?Zr:Yr,w="y"===A?"height":"width",C=O[A],P=C+v[_],D=C-v[M],k=h?-L[w]/2:0,H=y===Jr?R[w]:L[w],U=y===Jr?-L[w]:-R[w],B=t.elements.arrow,G=h&&B?Br(B):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},F=W[_],K=W[M],V=Mi(0,R[w],G[w]),z=E?R[w]/2-k-V-F-b.mainAxis:H-V-F-b.mainAxis,j=E?-R[w]/2+k+V+K+b.mainAxis:U+V+K+b.mainAxis,Z=t.elements.arrow&&zr(t.elements.arrow),Y=Z?"y"===A?Z.clientTop||0:Z.clientLeft||0:0,q=null!=(x=null==I?void 0:I[A])?x:0,X=C+j-q,Q=Mi(h?xr(P,C+z-q-Y):P,C,h?Nr(D,X):D);O[A]=Q,N[A]=Q-C}if(s){var J,$="x"===A?jr:qr,ee="x"===A?Zr:Yr,te=O[T],ne="y"===T?"height":"width",re=te+v[$],ie=te-v[ee],oe=-1!==[jr,qr].indexOf(g),ae=null!=(J=null==I?void 0:I[T])?J:0,se=oe?re:te-R[ne]-L[ne]-ae+b.altAxis,le=oe?te+R[ne]+L[ne]-ae-b.altAxis:ie,ue=h&&oe?function(e,t,n){var r=Mi(e,t,n);return r>n?n:r}(se,te,le):Mi(h?se:re,te,h?le:ie);O[T]=ue,N[T]=ue-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]};var Ci={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=fi(n.placement),l=hi(s),u=[qr,Yr].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return Ii("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ni(e,Qr))}(i.padding,n),f=Br(o),d="y"===l?jr:qr,h="y"===l?Zr:Yr,p=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],m=a[l]-n.rects.reference[l],v=zr(o),g=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=p/2-m/2,E=c[d],A=g-f[u]-c[h],T=g/2-f[u]/2+y,O=Mi(E,T,A),R=l;n.modifiersData[r]=((t={})[R]=O,t.centerOffset=O-T,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Ri(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pi(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Di(e){return[jr,Yr,Zr,qr].some((function(t){return e[t]>=0}))}var ki=ui({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=Lr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,ci)})),s&&l.addEventListener("resize",n.update,ci),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,ci)})),s&&l.removeEventListener("resize",n.update,ci)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=pi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:fi(t.placement),variation:di(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,vi(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,vi(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},gi,yi,_i,wi,Ci,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=xi(t,{elementContext:"reference"}),s=xi(t,{altBoundary:!0}),l=Pi(a,r),u=Pi(s,i,o),c=Di(l),f=Di(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}}]}),Hi=n(62971);var Ui=i.forwardRef((function(e,t){var n=e.children,r=e.container,a=e.disablePortal,l=void 0!==a&&a,u=i.useState(null),c=(0,s.Z)(u,2),f=c[0],d=c[1],h=(0,Tr.Z)(i.isValidElement(n)?n.ref:null,t);return(0,Or.Z)((function(){l||d(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,l]),(0,Or.Z)((function(){if(f&&!l)return(0,Hi.Z)(t,f),function(){(0,Hi.Z)(t,null)}}),[t,f,l]),l?i.isValidElement(n)?i.cloneElement(n,{ref:h}):n:f?o.createPortal(n,f):f})),Bi=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","TransitionProps"],Gi=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Wi(e){return"function"===typeof e?e():e}var Fi={},Ki=i.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,o=e.direction,a=e.disablePortal,l=e.modifiers,u=e.open,c=e.placement,f=e.popperOptions,d=e.popperRef,h=e.TransitionProps,p=(0,ce.Z)(e,Bi),m=i.useRef(null),v=(0,Tr.Z)(m,t),g=i.useRef(null),y=(0,Tr.Z)(g,d),E=i.useRef(y);(0,Or.Z)((function(){E.current=y}),[y]),i.useImperativeHandle(d,(function(){return g.current}),[]);var A=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(c,o),T=i.useState(A),O=(0,s.Z)(T,2),R=O[0],L=O[1];i.useEffect((function(){g.current&&g.current.forceUpdate()})),(0,Or.Z)((function(){if(n&&u){Wi(n);var e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;L(t.placement)}}];null!=l&&(e=e.concat(l)),f&&null!=f.modifiers&&(e=e.concat(f.modifiers));var t=ki(Wi(n),m.current,(0,fe.Z)({placement:A},f,{modifiers:e}));return E.current(t),function(){t.destroy(),E.current(null)}}}),[n,a,l,u,f,A]);var S={placement:R};return null!==h&&(S.TransitionProps=h),(0,re.jsx)("div",(0,fe.Z)({ref:v,role:"tooltip"},p,{children:"function"===typeof r?r(S):r}))})),Vi=i.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,o=e.container,a=e.direction,l=void 0===a?"ltr":a,u=e.disablePortal,c=void 0!==u&&u,f=e.keepMounted,d=void 0!==f&&f,h=e.modifiers,p=e.open,m=e.placement,v=void 0===m?"bottom":m,g=e.popperOptions,y=void 0===g?Fi:g,E=e.popperRef,A=e.style,T=e.transition,O=void 0!==T&&T,R=(0,ce.Z)(e,Gi),L=i.useState(!0),S=(0,s.Z)(L,2),b=S[0],I=S[1];if(!d&&!p&&(!O||b))return null;var N=o||(n?(0,Rr.Z)(Wi(n)).body:void 0);return(0,re.jsx)(Ui,{disablePortal:c,container:N,children:(0,re.jsx)(Ki,(0,fe.Z)({anchorEl:n,direction:l,disablePortal:c,modifiers:h,ref:t,open:O?!b:p,placement:v,popperOptions:y,popperRef:E},R,{style:(0,fe.Z)({position:"fixed",top:0,left:0,display:p||!d||O&&!b?null:"none"},A),TransitionProps:O?{in:p,onEnter:function(){I(!1)},onExited:function(){I(!0)}}:null,children:r}))})})),zi=n(27301),ji=i.forwardRef((function(e,t){var n=(0,zi.Z)();return(0,re.jsx)(Vi,(0,fe.Z)({direction:null==n?void 0:n.direction},e,{ref:t}))})),Zi=ji,Yi=n(67384),qi=n(98278);function Xi(e){return(0,at.Z)("MuiTooltip",e)}var Qi=(0,Fe.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ji=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function $i(e){return Math.round(1e5*e)/1e5}var eo=(0,ge.ZP)(Zi,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((function(e){var t,n=e.theme,r=e.ownerState,i=e.open;return(0,fe.Z)({zIndex:n.zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},r.arrow&&(t={},(0,a.Z)(t,'&[data-popper-placement*="bottom"] .'.concat(Qi.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),(0,a.Z)(t,'&[data-popper-placement*="top"] .'.concat(Qi.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),(0,a.Z)(t,'&[data-popper-placement*="right"] .'.concat(Qi.arrow),(0,fe.Z)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),(0,a.Z)(t,'&[data-popper-placement*="left"] .'.concat(Qi.arrow),(0,fe.Z)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),to=(0,ge.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,pt.Z)(n.placement.split("-")[0]))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,fe.Z)({backgroundColor:(0,ve.Fq)(n.palette.grey[700],.92),borderRadius:n.shape.borderRadius,color:n.palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},r.arrow&&{position:"relative",margin:0},r.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:"".concat($i(16/14),"em"),fontWeight:n.typography.fontWeightRegular},(t={},(0,a.Z)(t,".".concat(Qi.popper,'[data-popper-placement*="left"] &'),(0,fe.Z)({transformOrigin:"right center"},r.isRtl?(0,fe.Z)({marginLeft:"14px"},r.touch&&{marginLeft:"24px"}):(0,fe.Z)({marginRight:"14px"},r.touch&&{marginRight:"24px"}))),(0,a.Z)(t,".".concat(Qi.popper,'[data-popper-placement*="right"] &'),(0,fe.Z)({transformOrigin:"left center"},r.isRtl?(0,fe.Z)({marginRight:"14px"},r.touch&&{marginRight:"24px"}):(0,fe.Z)({marginLeft:"14px"},r.touch&&{marginLeft:"24px"}))),(0,a.Z)(t,".".concat(Qi.popper,'[data-popper-placement*="top"] &'),(0,fe.Z)({transformOrigin:"center bottom",marginBottom:"14px"},r.touch&&{marginBottom:"24px"})),(0,a.Z)(t,".".concat(Qi.popper,'[data-popper-placement*="bottom"] &'),(0,fe.Z)({transformOrigin:"center top",marginTop:"14px"},r.touch&&{marginTop:"24px"})),t))})),no=(0,ge.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,ve.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),ro=!1,io=null;function oo(e,t){return function(n){t&&t(n),e(n)}}var ao,so,lo,uo,co,fo=i.forwardRef((function(e,t){var n,r,o,a,l,u,c=(0,ye.Z)({props:e,name:"MuiTooltip"}),f=c.arrow,d=void 0!==f&&f,h=c.children,p=c.components,m=void 0===p?{}:p,v=c.componentsProps,g=void 0===v?{}:v,y=c.describeChild,E=void 0!==y&&y,A=c.disableFocusListener,T=void 0!==A&&A,O=c.disableHoverListener,R=void 0!==O&&O,L=c.disableInteractive,S=void 0!==L&&L,b=c.disableTouchListener,I=void 0!==b&&b,N=c.enterDelay,x=void 0===N?100:N,_=c.enterNextDelay,M=void 0===_?0:_,w=c.enterTouchDelay,C=void 0===w?700:w,P=c.followCursor,D=void 0!==P&&P,k=c.id,H=c.leaveDelay,U=void 0===H?0:H,B=c.leaveTouchDelay,G=void 0===B?1500:B,W=c.onClose,F=c.onOpen,K=c.open,V=c.placement,z=void 0===V?"bottom":V,j=c.PopperComponent,Z=c.PopperProps,Y=void 0===Z?{}:Z,q=c.title,X=c.TransitionComponent,Q=void 0===X?Ar:X,J=c.TransitionProps,$=(0,ce.Z)(c,Ji),ee=ir(),te="rtl"===ee.direction,ne=i.useState(),ie=(0,s.Z)(ne,2),oe=ie[0],ae=ie[1],se=i.useState(null),le=(0,s.Z)(se,2),ue=le[0],de=le[1],he=i.useRef(!1),ve=S||D,ge=i.useRef(),Oe=i.useRef(),Re=i.useRef(),Le=i.useRef(),Se=(0,qi.Z)({controlled:K,default:!1,name:"Tooltip",state:"open"}),be=(0,s.Z)(Se,2),Ie=be[0],Ne=be[1],xe=Ie,_e=(0,Yi.Z)(k),Me=i.useRef(),we=i.useCallback((function(){void 0!==Me.current&&(document.body.style.WebkitUserSelect=Me.current,Me.current=void 0),clearTimeout(Le.current)}),[]);i.useEffect((function(){return function(){clearTimeout(ge.current),clearTimeout(Oe.current),clearTimeout(Re.current),we()}}),[we]);var Ce=function(e){clearTimeout(io),ro=!0,Ne(!0),F&&!xe&&F(e)},Pe=(0,Ae.Z)((function(e){clearTimeout(io),io=setTimeout((function(){ro=!1}),800+U),Ne(!1),W&&xe&&W(e),clearTimeout(ge.current),ge.current=setTimeout((function(){he.current=!1}),ee.transitions.duration.shortest)})),De=function(e){he.current&&"touchstart"!==e.type||(oe&&oe.removeAttribute("title"),clearTimeout(Oe.current),clearTimeout(Re.current),x||ro&&M?Oe.current=setTimeout((function(){Ce(e)}),ro?M:x):Ce(e))},ke=function(e){clearTimeout(Oe.current),clearTimeout(Re.current),Re.current=setTimeout((function(){Pe(e)}),U)},He=(0,Te.Z)(),Ue=He.isFocusVisibleRef,Be=He.onBlur,Ge=He.onFocus,We=He.ref,Fe=i.useState(!1),Ke=(0,s.Z)(Fe,2)[1],Ve=function(e){Be(e),!1===Ue.current&&(Ke(!1),ke(e))},ze=function(e){oe||ae(e.currentTarget),Ge(e),!0===Ue.current&&(Ke(!0),De(e))},je=function(e){he.current=!0;var t=h.props;t.onTouchStart&&t.onTouchStart(e)},Ze=De,Ye=ke;i.useEffect((function(){if(xe)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Pe(e)}}),[Pe,xe]);var qe=(0,Ee.Z)(ae,t),Xe=(0,Ee.Z)(We,qe),Qe=(0,Ee.Z)(h.ref,Xe);""===q&&(xe=!1);var Je=i.useRef({x:0,y:0}),$e=i.useRef(),et={},tt="string"===typeof q;E?(et.title=xe||!tt||R?null:q,et["aria-describedby"]=xe?_e:null):(et["aria-label"]=tt?q:null,et["aria-labelledby"]=xe&&!tt?_e:null);var nt=(0,fe.Z)({},et,$,h.props,{className:(0,pe.Z)($.className,h.props.className),onTouchStart:je,ref:Qe},D?{onMouseMove:function(e){var t=h.props;t.onMouseMove&&t.onMouseMove(e),Je.current={x:e.clientX,y:e.clientY},$e.current&&$e.current.update()}}:{});var rt={};I||(nt.onTouchStart=function(e){je(e),clearTimeout(Re.current),clearTimeout(ge.current),we(),Me.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Le.current=setTimeout((function(){document.body.style.WebkitUserSelect=Me.current,De(e)}),C)},nt.onTouchEnd=function(e){h.props.onTouchEnd&&h.props.onTouchEnd(e),we(),clearTimeout(Re.current),Re.current=setTimeout((function(){Pe(e)}),G)}),R||(nt.onMouseOver=oo(Ze,nt.onMouseOver),nt.onMouseLeave=oo(Ye,nt.onMouseLeave),ve||(rt.onMouseOver=Ze,rt.onMouseLeave=Ye)),T||(nt.onFocus=oo(ze,nt.onFocus),nt.onBlur=oo(Ve,nt.onBlur),ve||(rt.onFocus=ze,rt.onBlur=Ve));var it=i.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(ue),options:{element:ue,padding:4}}];return null!=(e=Y.popperOptions)&&e.modifiers&&(t=t.concat(Y.popperOptions.modifiers)),(0,fe.Z)({},Y.popperOptions,{modifiers:t})}),[ue,Y]),ot=(0,fe.Z)({},c,{isRtl:te,arrow:d,disableInteractive:ve,placement:z,PopperComponentProp:j,touch:he.current}),at=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,i=e.touch,o=e.placement,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat((0,pt.Z)(o.split("-")[0]))],arrow:["arrow"]};return(0,me.Z)(a,Xi,t)}(ot),st=null!=(n=m.Popper)?n:eo,lt=null!=(r=null!=(o=m.Transition)?o:Q)?r:Ar,ut=null!=(a=m.Tooltip)?a:to,ct=null!=(l=m.Arrow)?l:no,ft=tr(st,(0,fe.Z)({},Y,g.popper),ot),dt=tr(lt,(0,fe.Z)({},J,g.transition),ot),ht=tr(ut,(0,fe.Z)({},g.tooltip),ot),mt=tr(ct,(0,fe.Z)({},g.arrow),ot);return(0,re.jsxs)(i.Fragment,{children:[i.cloneElement(h,nt),(0,re.jsx)(st,(0,fe.Z)({as:null!=j?j:Zi,placement:z,anchorEl:D?{getBoundingClientRect:function(){return{top:Je.current.y,left:Je.current.x,right:Je.current.x,bottom:Je.current.y,width:0,height:0}}}:oe,popperRef:$e,open:!!oe&&xe,id:_e,transition:!0},rt,ft,{className:(0,pe.Z)(at.popper,null==Y?void 0:Y.className,null==(u=g.popper)?void 0:u.className),popperOptions:it,children:function(e){var t,n,r=e.TransitionProps;return(0,re.jsx)(lt,(0,fe.Z)({timeout:ee.transitions.duration.shorter},r,dt,{children:(0,re.jsxs)(ut,(0,fe.Z)({},ht,{className:(0,pe.Z)(at.tooltip,null==(t=g.tooltip)?void 0:t.className),children:[q,d?(0,re.jsx)(ct,(0,fe.Z)({},mt,{className:(0,pe.Z)(at.arrow,null==(n=g.arrow)?void 0:n.className),ref:de})):null]}))}))}}))]})})),ho=fo;function po(e){var t,n=e.mode,r=e.setMode;return(0,re.jsx)(Jn,{children:(0,re.jsx)(ho,{title:function(){switch(n){case Mb.Map:return"Switch to chart view";case Mb.Charts:return"Switch to map view";default:return""}}(),children:(0,re.jsx)($n,{onClick:function(){r((function(e){return e===Mb.Map?Mb.Charts:Mb.Map}))},children:(t={},(0,a.Z)(t,Mb.Map,(0,re.jsx)(le.Z,{})),(0,a.Z)(t,Mb.Charts,(0,re.jsx)(se.Z,{})),t)[n]})})})}var mo,vo,go=Qn.div(ao||(ao=ue(["\n  position: relative;\n  box-sizing: border-box;\n  height: 100vh;\n  width: 100vw;\n  overflow: auto;\n  background-color: #4c4177;\n  background-image: linear-gradient(\n    315deg,\n    hsl(252, 35%, 20%) 0%,\n    hsl(204, 45%, 15%) 60%\n  );\n  padding-top: 75px;\n  display: flex;\n  justify-content: center;\n"]))),yo=Qn.div(so||(so=ue(["\n  height: calc(100vh - 75px);\n  width: calc(100vw - 400px);\n  overflow: hidden;\n  user-select: none;\n"]))),Eo=Qn.div(lo||(lo=ue(["\n  position: absolute;\n  top: 5px;\n  left: 55px;\n  color: white;\n  height: 35px;\n  width: 35px;\n"]))),Ao=Qn.div(uo||(uo=ue(["\n  position: absolute;\n  top: 75px;\n  left: 5px;\n"]))),To=Qn.div(co||(co=ue(["\n  display: flex;\n  flex-direction: column;\n  color: white;\n  text-align: center;\n  border: 1px solid white;\n  border-radius: 10px;\n  padding: 15px;\n  margin-bottom: 30px;\n  width: 165px;\n"]))),Oo=Qn.div(mo||(mo=ue(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid\n    ",";\n  border-radius: 10px;\n  margin: 5px 0;\n  padding: 5px;\n  cursor: pointer;\n  &:hover {\n    background-color: rgba(200, 200, 200, 0.2);\n  }\n"])),(function(e){return e.selected?"lime":"rgb(200, 200, 200)"})),Ro=Qn.div(vo||(vo=ue(["\n  margin-bottom: 15px;\n  font-weight: 600;\n"])));function Lo(e){var t=e.mode,n=e.setMode;return(0,re.jsxs)(To,{children:[(0,re.jsx)(Ro,{children:"Display Options"}),(0,re.jsx)(Oo,{selected:t===_b.Total,onClick:function(){return n(_b.Total)},children:"Total"}),(0,re.jsx)(Oo,{selected:t===_b.Categories,onClick:function(){return n(_b.Categories)},children:"Categories"}),(0,re.jsx)(Oo,{selected:t===_b.Neighbourhoods,onClick:function(){return n(_b.Neighbourhoods)},children:"Neighbourhoods"})]})}var So=n(48573),bo=n.n(So),Io=n(81694),No=n.n(Io),xo=n(17719),_o=n(26181),Mo=n.n(_o),wo=n(93629),Co=n.n(wo),Po=n(82066),Do=n.n(Po),ko=n(30298),Ho=n.n(ko),Uo=n(26769),Bo=n.n(Uo),Go=function(e){return 0===e?0:e>0?1:-1},Wo=function(e){return Bo()(e)&&e.indexOf("%")===e.length-1},Fo=function(e){return Ho()(e)&&!Do()(e)},Ko=function(e){return Fo(e)||Bo()(e)},Vo=0,zo=function(e){var t=++Vo;return"".concat(e||"").concat(t)},jo=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Fo(e)&&!Bo()(e))return r;if(Wo(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return Do()(n)&&(n=r),i&&n>t&&(n=t),n},Zo=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Yo=function(e,t){return Fo(e)&&Fo(t)?function(n){return e+n*(t-e)}:function(){return t}};function qo(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):Mo()(e,t))===n})):null}var Xo=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function Qo(){return Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qo.apply(this,arguments)}function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ea=(0,i.forwardRef)((function(e,t){var n=e.aspect,r=e.width,o=void 0===r?"100%":r,a=e.height,s=void 0===a?"100%":a,l=e.minWidth,u=e.minHeight,c=e.maxHeight,f=e.children,d=e.debounce,h=void 0===d?0:d,p=e.id,m=e.className,v=Jo((0,i.useState)({containerWidth:-1,containerHeight:-1}),2),g=v[0],y=v[1],E=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return E}),[E]);var A=Jo((0,i.useState)(!1),2),T=A[0],O=A[1],R=function(){return E.current?{containerWidth:E.current.clientWidth,containerHeight:E.current.clientHeight}:null},L=function(){if(T){var e=R();if(e){var t=g.containerWidth,n=g.containerHeight,r=e.containerWidth,i=e.containerHeight;r===t&&i===n||y({containerWidth:r,containerHeight:i})}}},S=h>0?bo()(L,h):L;(0,i.useEffect)((function(){if(T){var e=R();e&&y(e)}}),[T]),(0,i.useEffect)((function(){O(!0)}),[]);var b={width:o,height:s,minWidth:l,minHeight:u,maxHeight:c};return i.createElement(xo.ZP,{handleWidth:!0,handleHeight:!0,onResize:S,targetRef:E},i.createElement("div",Qo({},null!=p?{id:"".concat(p)}:{},{className:No()("recharts-responsive-container",m),style:b,ref:E}),function(){var e=g.containerWidth,t=g.containerHeight;if(e<0||t<0)return null;Xo(Wo(o)||Wo(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,s),Xo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=Wo(o)?e:o,a=Wo(s)?t:s;return n&&n>0&&(r?a=r/n:a&&(r=a*n),c&&a>c&&(a=c)),Xo(r>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,a,o,s,l,u,n),(0,i.cloneElement)(f,{width:r,height:a})}()))})),ta=n(82730),na=n.n(ta),ra=n(61211),ia=n.n(ra),oa=n(74786),aa=n.n(oa),sa=n(33038),la=n.n(sa),ua=n(64286),ca=n.n(ua),fa=n(66222),da=n.n(fa),ha=n(42854),pa=n.n(ha),ma=n(65127),va=n.n(ma),ga=n(8092),ya=n.n(ga);function Ea(e){return Ea="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(e)}var Aa=["viewBox","children"],Ta=["className","color","height","id","lang","max","media","method","min","name","style","target","type","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Oa=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ra=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!ya()(r))return null;var o={};return Object.keys(r).forEach((function(e){(Ta.includes(e)||n&&Aa.includes(e)||t&&Oa.includes(e))&&(o[e]=r[e])})),o},La=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!ya()(n))return null;var r={};return Object.keys(n).forEach((function(e){Oa.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},Sa=function(e,t,n){if(!ya()(e)||"object"!==Ea(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];Oa.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r};function ba(){return ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}function Ia(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Na(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,a=e.className,s=e.style,l=Ia(e,["children","width","height","viewBox","className","style"]),u=o||{width:n,height:r,x:0,y:0},c=No()("recharts-surface",a);return i.createElement("svg",ba({},Ra(l,!0,!0),{className:c,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),version:"1.1"}),t)}function xa(){return xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(this,arguments)}function _a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ma(e){var t=e.children,n=e.className,r=_a(e,["children","className"]),o=No()("recharts-layer",n);return i.createElement("g",xa({className:o},Ra(r,!0)),t)}var wa=n(66339),Ca=n.n(wa),Pa=n(25244),Da=n(55475),ka=n.n(Da);function Ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):ka()(r)};ka()(r)}function Ua(e){return Ua="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(e)}function Ba(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wa(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=Ba(r),o=i[0],a=i.slice(1);return"number"===typeof o?void Ha(n.bind(null,a),o):(n(o),void Ha(n.bind(null,a)))}"object"===Ua(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){Va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var za=["Webkit","Moz","O","ms"],ja=["-webkit-","-moz-","-o-","-ms-"],Za=["transform","transformOrigin","transition"],Ya=function(e){return e},qa=function(e,t){return Object.keys(t).reduce((function(n,r){return Ka(Ka({},n),{},Va({},r,e(r,t[r])))}),{})},Xa=function(e){return Object.keys(e).reduce((function(e,t){return Ka(Ka({},e),function(e,t){if(-1===Za.indexOf(e))return Va({},e,t);var n="transition"===e,r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),i=t;return za.reduce((function(e,o,a){return n&&(i=t.replace(/(transform|transform-origin)/gim,"".concat(ja[a],"$1"))),Ka(Ka({},e),{},Va({},o+r,i))}),{})}(t,e[t]))}),e)},Qa=function(e,t,n){return e.map((function(e){return"".concat(function(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())}))}(e)," ").concat(t,"ms ").concat(n)})).join(",")};function Ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||es(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $a(e){return function(e){if(Array.isArray(e))return ts(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||es(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){if(e){if("string"===typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ts(e,t):void 0}}function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ns=1e-4,rs=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},is=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},os=function(e,t){return function(n){var r=rs(e,t);return is(r,n)}},as=function(e,t){return function(n){var r=rs(e,t),i=[].concat($a(r.map((function(e,t){return e*t})).slice(1)),[0]);return is(i,n)}},ss=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),u=Ja(l,4);r=u[0],i=u[1],o=u[2],a=u[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var c=os(r,o),f=os(i,a),d=as(r,o),h=function(e){return e>1?1:e<0?0:e},p=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=c(n)-t,o=d(n);if(Math.abs(i-t)<ns||o<ns)return f(n);n=h(n-i/o)}return f(n)};return p.isStepper=!1,p},ls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<ns&&Math.abs(o)<ns?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s};function us(e){return function(e){if(Array.isArray(e))return ms(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ps(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||ps(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ps(e,t){if(e){if("string"===typeof e)return ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ms(e,t):void 0}}function ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vs=function(e,t,n){return e+(t-e)*n},gs=function(e){return e.from!==e.to},ys=function e(t,n,r){var i=qa((function(e,n){if(gs(n)){var r=hs(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return fs(fs({},n),{},{from:i,velocity:o})}return n}),n);return r<1?qa((function(e,t){return gs(t)?fs(fs({},t),{},{velocity:vs(t.velocity,i[e].velocity,r),from:vs(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)},Es=function(e,t,n,r,i){var o,a,s,l,u=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),c=u.reduce((function(n,r){return fs(fs({},n),{},ds({},r,[e[r],t[r]]))}),{}),f=u.reduce((function(n,r){return fs(fs({},n),{},ds({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),d=-1,h=function(){return null};return h=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;f=ys(n,f,o),i(fs(fs(fs({},e),t),qa((function(e,t){return t.from}),f))),s=r,Object.values(f).filter(gs).length&&(d=ka()(h))}:function(o){l||(l=o);var a=(o-l)/r,s=qa((function(e,t){return vs.apply(void 0,us(t).concat([n(a)]))}),c);if(i(fs(fs(fs({},e),t),s)),a<1)d=ka()(h);else{var u=qa((function(e,t){return vs.apply(void 0,us(t).concat([n(1)]))}),c);i(fs(fs(fs({},e),t),u))}},function(){return ka()(h),function(){(0,Da.cancel)(d)}}};function As(e){return As="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Ts(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Os(e){return function(e){if(Array.isArray(e))return Rs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Rs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ns(e,t){return Ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ns(e,t)}function xs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ws(e);if(t){var i=ws(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _s(this,n)}}function _s(e,t){return!t||"object"!==As(t)&&"function"!==typeof t?Ms(e):t}function Ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ws(e){return ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ws(e)}var Cs=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ns(e,t)}(a,e);var t,n,r,o=xs(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,u=r.to,c=r.steps,f=r.children;if(n.handleStyleChange=n.handleStyleChange.bind(Ms(n)),n.changeStyle=n.changeStyle.bind(Ms(n)),!i)return n.state={style:{}},"function"===typeof f&&(n.state={style:u}),_s(n);if(c&&c.length)n.state={style:c[0].style};else if(l){if("function"===typeof f)return n.state={style:l},_s(n);n.state={style:s?bs({},s,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate;if(r)if(n){if(!((0,Pa.deepEqual)(e.to,this.props.to)&&e.canBegin&&e.isActive)){var a=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var s=a||o?this.props.from:e.to;if(this.state&&this.state.style){var l={style:i?bs({},i,s):s};(i&&this.state.style[i]!==s||!i&&this.state.style!==s)&&this.setState(l)}this.runAnimation(Ss(Ss({},this.props),{},{from:s,begin:0}))}}else{var u={style:i?bs({},i,this.props.to):this.props.to};this.state&&this.state.style&&(i&&this.state.style[i]!==this.props.to||!i&&this.state.style!==this.props.to)&&this.setState(u)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=Es(n,r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ss(r);case"spring":return ls();default:if("cubic-bezier"===r.split("(")[0])return ss(r)}return"function"===typeof r?r:null}(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=u()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(Os(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,u=r.properties,c=r.onAnimationEnd,f=i>0?n[i-1]:r,d=u||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(Os(e),[t.runJSAnimation.bind(t,{from:f.style,to:l,duration:o,easing:s}),o]);var h=Qa(d,o,s),p=Ss(Ss(Ss({},f.style),l),{},{transition:h});return[].concat(Os(e),[p,o,c]).filter(Ya)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Wa());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,u=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof u&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var f=r?bs({},r,i):i,d=Qa(Object.keys(f),n,o);c.start([a,t,Ss(Ss({},f),{},{transition:d}),n,s])}else this.runJSAnimation(e)}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration,e.attributeName,e.easing,e.isActive),r=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Ts(e,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"])),o=i.Children.count(t),a=Xa(this.state.style);if("function"===typeof t)return t(a);if(!n||0===o)return t;var s=function(e){var t=e.props,n=t.style,o=void 0===n?{}:n,s=t.className;return(0,i.cloneElement)(e,Ss(Ss({},r),{},{style:Ss(Ss({},o),a),className:s}))};return 1===o?s(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,(function(e){return s(e)})))}}],n&&Is(t.prototype,n),r&&Is(t,r),a}(i.PureComponent);Cs.displayName="Animate",Cs.propTypes={from:he().oneOfType([he().object,he().string]),to:he().oneOfType([he().object,he().string]),attributeName:he().string,duration:he().number,begin:he().number,easing:he().oneOfType([he().string,he().func]),steps:he().arrayOf(he().shape({duration:he().number.isRequired,style:he().object.isRequired,easing:he().oneOfType([he().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),he().func]),properties:he().arrayOf("string"),onAnimationEnd:he().func})),children:he().oneOfType([he().node,he().func]),isActive:he().bool,canBegin:he().bool,onAnimationEnd:he().func,shouldReAnimate:he().bool,onAnimationStart:he().func,onAnimationReStart:he().func},Cs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};var Ps=Cs,Ds=n(25937);function ks(e){return ks="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(e)}function Hs(){return Hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}function Us(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){Ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vs(e,t){return Vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vs(e,t)}function zs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zs(e);if(t){var i=Zs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return js(this,n)}}function js(e,t){return!t||"object"!==ks(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zs(e){return Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zs(e)}void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"===typeof e&&isFinite(e)});var Ys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},qs=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vs(e,t)}(a,e);var t,n,r,o=zs(a);function a(){var e;Fs(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={isActive:!1},e.handleEnter=function(t,n){var r=e.props,i=r.appearOptions,o=r.enterOptions;e.handleStyleActive(n?i:o)},e.handleExit=function(){e.handleStyleActive(e.props.leaveOptions)},e}return t=a,(n=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(Gs(Gs({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return Ys(t)+Ys(n)+Ys(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.appearOptions,t.enterOptions,t.leaveOptions,Us(t,["children","appearOptions","enterOptions","leaveOptions"]));return i.createElement(Ds.Transition,Hs({},r,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return i.createElement(Ps,e.state,i.Children.only(n))}))}}])&&Ks(t.prototype,n),r&&Ks(t,r),a}(i.Component);qs.propTypes={appearOptions:he().object,enterOptions:he().object,leaveOptions:he().object,children:he().element};var Xs=qs;function Qs(e){var t=e.component,n=e.children,r=e.appear,o=e.enter,a=e.leave;return i.createElement(Ds.TransitionGroup,{component:t},i.Children.map(n,(function(e,t){return i.createElement(Xs,{appearOptions:r,enterOptions:o,leaveOptions:a,key:"child-".concat(t)},e)})))}Qs.propTypes={appear:he().object,enter:he().object,leave:he().object,children:he().oneOfType([he().array,he().element]),component:he().any},Qs.defaultProps={component:"span"};var Js=Ps;function $s(e){return $s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(e)}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ol(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sl(e,t){return sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sl(e,t)}function ll(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cl(e);if(t){var i=cl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ul(this,n)}}function ul(e,t){return!t||"object"!==$s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cl(e){return cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cl(e)}function fl(e){return Co()(e)&&Ko(e[0])&&Ko(e[1])?e.join(" ~ "):e}var dl=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sl(e,t)}(a,e);var t,n,r,o=ll(a);function a(){return ol(this,a),o.apply(this,arguments)}return t=a,n=[{key:"renderContent",value:function(){var e=this.props,t=e.payload,n=e.separator,r=e.formatter,o=e.itemStyle,a=e.itemSorter;if(t&&t.length){var s=(a?ca()(t,a):t).map((function(e,a){if("none"===e.type)return null;var s=rl({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),l=e.formatter||r||fl,u=e.name,c=e.value;if(l){var f=l(c,u,e,a,t);if(Array.isArray(f)){var d=el(f,2);c=d[0],u=d[1]}else c=f}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(a),style:s},Ko(u)?i.createElement("span",{className:"recharts-tooltip-item-name"},u):null,Ko(u)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},s)}return null}},{key:"render",value:function(){var e=this.props,t=e.wrapperClassName,n=e.contentStyle,r=e.labelClassName,o=e.labelStyle,a=e.label,s=e.labelFormatter,l=e.payload,u=rl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),c=rl({margin:0},o),f=!pa()(a),d=f?a:"",h=No()("recharts-default-tooltip",t),p=No()("recharts-tooltip-label",r);return f&&s&&(d=s(a,l)),i.createElement("div",{className:h,style:u},i.createElement("p",{className:p,style:c},i.isValidElement(d)?d:"".concat(d)),this.renderContent())}}],n&&al(t.prototype,n),r&&al(t,r),a}(i.PureComponent);dl.displayName="DefaultTooltipContent",dl.defaultProps={separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}};var hl={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return hl[e]},set:function(e,t){if("string"===typeof e)hl[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){hl[t]=e[t]}))}}};function pl(e){return pl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(e)}function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(n),!0).forEach((function(t){gl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function El(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Al(e,t){return Al=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Al(e,t)}function Tl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rl(e);if(t){var i=Rl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ol(this,n)}}function Ol(e,t){return!t||"object"!==pl(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rl(e){return Rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rl(e)}var Ll="recharts-tooltip-wrapper";function Sl(e){return e.dataKey}var bl=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Al(e,t)}(a,e);var t,n,r,o=Tl(a);function a(){var e;yl(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={boxWidth:-1,boxHeight:-1},e.wrapperNode=void 0,e.getTranslate=function(t){var n=t.key,r=t.tooltipDimension,i=t.viewBoxDimension,o=e.props,a=o.allowEscapeViewBox,s=o.coordinate,l=o.offset,u=o.position,c=o.viewBox;if(u&&Fo(u[n]))return u[n];var f=s[n]-r-l,d=s[n]+l;return a[n]?d:s[n]+r+l>c[n]+i?Math.max(f,c[n]):Math.max(d,c[n])},e}return t=a,(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-t)>1||Math.abs(r.height-n)>1)&&this.setState({boxWidth:r.width,boxHeight:r.height})}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var e,t,n,r=this,o=this.props,a=o.payload,s=o.isAnimationActive,l=o.animationDuration,u=o.animationEasing,c=o.filterNull,f=function(e,t){return!0===e?Ca()(t,Sl):aa()(e)?Ca()(t,e):t}(o.payloadUniqBy,c&&a&&a.length?a.filter((function(e){return!pa()(e.value)})):a),d=f&&f.length,h=this.props,p=h.content,m=h.viewBox,v=h.coordinate,g=h.position,y=h.active,E=vl({pointerEvents:"none",visibility:y&&d?"visible":"hidden",position:"absolute",top:0,left:0},h.wrapperStyle);if(g&&Fo(g.x)&&Fo(g.y))t=g.x,n=g.y;else{var A=this.state,T=A.boxWidth,O=A.boxHeight;T>0&&O>0&&v?(t=this.getTranslate({key:"x",tooltipDimension:T,viewBoxDimension:m.width}),n=this.getTranslate({key:"y",tooltipDimension:O,viewBoxDimension:m.height})):E.visibility="hidden"}E=vl(vl({},Xa({transform:this.props.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")})),E),s&&y&&(E=vl(vl({},Xa({transition:"transform ".concat(l,"ms ").concat(u)})),E));var R=No()(Ll,(gl(e={},"".concat(Ll,"-right"),Fo(t)&&v&&Fo(v.x)&&t>=v.x),gl(e,"".concat(Ll,"-left"),Fo(t)&&v&&Fo(v.x)&&t<v.x),gl(e,"".concat(Ll,"-bottom"),Fo(n)&&v&&Fo(v.y)&&n>=v.y),gl(e,"".concat(Ll,"-top"),Fo(n)&&v&&Fo(v.y)&&n<v.y),e));return i.createElement("div",{className:R,style:E,ref:function(e){r.wrapperNode=e}},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):aa()(e)?i.createElement(e,t):i.createElement(dl,t)}(p,vl(vl({},this.props),{},{payload:f})))}}])&&El(t.prototype,n),r&&El(t,r),a}(i.PureComponent);bl.displayName="Tooltip",bl.defaultProps={active:!1,allowEscapeViewBox:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!hl.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1};var Il=n(52085),Nl=n.n(Il),xl=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI),_l=2*xl;var Ml={draw:function(e,t){var n=Math.sqrt(t/xl);e.moveTo(n,0),e.arc(0,0,n,0,_l)}},wl={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Cl=Math.sqrt(1/3),Pl=2*Cl,Dl={draw:function(e,t){var n=Math.sqrt(t/Pl),r=n*Cl;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},kl={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},Hl=Math.sin(xl/10)/Math.sin(7*xl/10),Ul=Math.sin(_l/10)*Hl,Bl=-Math.cos(_l/10)*Hl,Gl={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=Ul*n,i=Bl*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=_l*o/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Wl=Math.sqrt(3),Fl={draw:function(e,t){var n=-Math.sqrt(t/(3*Wl));e.moveTo(0,2*n),e.lineTo(-Wl*n,-n),e.lineTo(Wl*n,-n),e.closePath()}},Kl=-.5,Vl=Math.sqrt(3)/2,zl=1/Math.sqrt(12),jl=3*(zl/2+1),Zl={draw:function(e,t){var n=Math.sqrt(t/jl),r=n/2,i=n*zl,o=r,a=n*zl+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Kl*r-Vl*i,Vl*r+Kl*i),e.lineTo(Kl*o-Vl*a,Vl*o+Kl*a),e.lineTo(Kl*s-Vl*l,Vl*s+Kl*l),e.lineTo(Kl*r+Vl*i,Kl*i-Vl*r),e.lineTo(Kl*o+Vl*a,Kl*a-Vl*o),e.lineTo(Kl*s+Vl*l,Kl*l-Vl*s),e.closePath()}},Yl=Math.PI,ql=2*Yl,Xl=1e-6,Ql=ql-Xl;function Jl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $l(){return new Jl}Jl.prototype=$l.prototype={constructor:Jl,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Xl)if(Math.abs(c*s-l*u)>Xl&&i){var d=n-o,h=r-a,p=s*s+l*l,m=d*d+h*h,v=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((Yl-Math.acos((p+f-m)/(2*v*g)))/2),E=y/g,A=y/v;Math.abs(E-1)>Xl&&(this._+="L"+(e+E*u)+","+(t+E*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>u*h)+","+(this._x1=e+A*s)+","+(this._y1=t+A*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Xl||Math.abs(this._y1-u)>Xl)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%ql+ql),f>Ql?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>Xl&&(this._+="A"+n+","+n+",0,"+ +(f>=Yl)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var eu=$l;function tu(e){return function(){return e}}function nu(e){return nu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(e)}function ru(){return ru=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(this,arguments)}function iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t){return au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},au(e,t)}function su(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uu(e);if(t){var i=uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lu(this,n)}}function lu(e,t){return!t||"object"!==nu(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uu(e)}var cu={symbolCircle:Ml,symbolCross:wl,symbolDiamond:Dl,symbolSquare:kl,symbolStar:Gl,symbolTriangle:Fl,symbolWye:Zl},fu=Math.PI/180,du=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(a,e);var t,n,r,o=su(a);function a(){return iu(this,a),o.apply(this,arguments)}return t=a,n=[{key:"getPath",value:function(){var e=this.props,t=e.size,n=e.sizeType,r=e.type,i=function(e){var t="symbol".concat(Nl()(e));return cu[t]||Ml}(r),o=function(e,t){var n=null;function r(){var r;if(n||(n=r=eu()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:tu(e||Ml),t="function"===typeof t?t:tu(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:tu(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type(i).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*fu;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(t,n,r));return o()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cx,r=e.cy,o=e.size;return n===+n&&r===+r&&o===+o?i.createElement("path",ru({},Ra(this.props,!0),{className:No()("recharts-symbols",t),transform:"translate(".concat(n,", ").concat(r,")"),d:this.getPath()})):null}}],n&&ou(t.prototype,n),r&&ou(t,r),a}(i.PureComponent);function hu(e){return hu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(e)}function pu(){return pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pu.apply(this,arguments)}function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eu(e,t){return Eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Eu(e,t)}function Au(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ou(e);if(t){var i=Ou(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tu(this,n)}}function Tu(e,t){return!t||"object"!==hu(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ou(e){return Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ou(e)}du.defaultProps={type:"circle",size:64,sizeType:"area"},du.registerSymbol=function(e,t){cu["symbol".concat(Nl()(e))]=t};var Ru=32,Lu=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}(a,e);var t,n,r,o=Au(a);function a(){return gu(this,a),o.apply(this,arguments)}return t=a,n=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=Ru/6,o=Ru/3,a=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Ru,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(Ru,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(Ru,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(n),!0).forEach((function(t){vu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,i.cloneElement(e.legendIcon,s)}return i.createElement(du,{fill:a,cx:n,cy:n,size:Ru,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:Ru,height:Ru},u={display:"horizontal"===o?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o,f=t.formatter||a,d=No()((vu(o={"recharts-legend-item":!0},"legend-item-".concat(n),!0),vu(o,"inactive",t.inactive),o));if("none"===t.type)return null;var h=t.inactive?s:t.color;return i.createElement("li",pu({className:d,style:u,key:"legend-item-".concat(n)},Sa(e.props,t,n)),i.createElement(Na,{width:r,height:r,viewBox:l,style:c},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f?f(t.value,t,n):t.value))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],n&&yu(t.prototype,n),r&&yu(t,r),a}(i.PureComponent);function Su(e){return Su="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(e)}function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){Nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mu(e,t){return Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mu(e,t)}function wu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pu(e);if(t){var i=Pu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cu(this,n)}}function Cu(e,t){return!t||"object"!==Su(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pu(e){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pu(e)}function Du(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ku(e){return e.value}function Hu(e,t){return!0===e?Ca()(t,ku):aa()(e)?Ca()(t,e):t}Lu.displayName="Legend",Lu.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"};var Uu=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}(a,e);var t,n,r,o=wu(a);function a(){var e;xu(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).wrapperNode=void 0,e.state={boxWidth:-1,boxHeight:-1},e}return t=a,r=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&Fo(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;return t>=0&&n>=0?{width:t,height:n}:null}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-(this.getBBoxSnapshot()||{width:0}).width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((u||0)-(this.getBBoxSnapshot()||{height:0}).height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Iu(Iu({},t),n)}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight,r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-t)>1||Math.abs(i.height-n)>1)&&this.setState({boxWidth:i.width,boxHeight:i.height},(function(){r&&r(i)}))}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1},(function(){r&&r(null)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,u=Iu(Iu({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return i.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if(aa()(e))return i.createElement(e,t);t.ref;var n=Du(t,["ref"]);return i.createElement(Lu,n)}(n,Iu(Iu({},this.props),{},{payload:Hu(s,l)})))}}])&&_u(t.prototype,n),r&&_u(t,r),a}(i.PureComponent);function Bu(){}function Gu(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Wu(e){this._context=e}function Fu(e){this._context=e}function Ku(e){this._context=e}function Vu(e){this._context=e}function zu(e){this._context=e}function ju(e){return new zu(e)}function Zu(e){return e<0?-1:1}function Yu(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Zu(o)+Zu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function qu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Xu(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Qu(e){this._context=e}function Ju(e){this._context=new $u(e)}function $u(e){this._context=e}function ec(e){this._context=e}function tc(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function nc(e,t){this._context=e,this._t=t}Uu.displayName="Legend",Uu.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"},Wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Fu.prototype={areaStart:Bu,areaEnd:Bu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Vu.prototype={areaStart:Bu,areaEnd:Bu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xu(this,this._t0,qu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xu(this,qu(this,n=Yu(this,e,t)),n);break;default:Xu(this,this._t0,n=Yu(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ju.prototype=Object.create(Qu.prototype)).point=function(e,t){Qu.prototype.point.call(this,t,e)},$u.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=tc(e),i=tc(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},nc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};Array.prototype.slice;function rc(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function ic(e){return e[0]}function oc(e){return e[1]}function ac(e,t){var n=tu(!0),r=null,i=ju,o=null;function a(a){var s,l,u,c=(a=rc(a)).length,f=!1;for(null==r&&(o=i(u=eu())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?ic:tu(e),t="function"===typeof t?t:void 0===t?oc:tu(t),a.x=function(t){return arguments.length?(e="function"===typeof t?t:tu(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:tu(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function sc(e,t,n){var r=null,i=tu(!0),o=null,a=ju,s=null;function l(l){var u,c,f,d,h,p=(l=rc(l)).length,m=!1,v=new Array(p),g=new Array(p);for(null==o&&(s=a(h=eu())),u=0;u<=p;++u){if(!(u<p&&i(d=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=c;--f)s.point(v[f],g[f]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+e(d,u,l),g[u]=+t(d,u,l),s.point(r?+r(d,u,l):v[u],n?+n(d,u,l):g[u]))}if(h)return s=null,h+""||null}function u(){return ac().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?ic:tu(+e),t="function"===typeof t?t:tu(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?oc:tu(+n),l.x=function(t){return arguments.length?(e="function"===typeof t?t:tu(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"===typeof t?t:tu(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:tu(+e),l):r},l.y=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"===typeof e?e:tu(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:tu(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(e){return arguments.length?(i="function"===typeof e?e:tu(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}function lc(e){return lc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(e)}function uc(){return uc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uc.apply(this,arguments)}function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mc(e,t)}function vc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yc(e);if(t){var i=yc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gc(this,n)}}function gc(e,t){return!t||"object"!==lc(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yc(e){return yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yc(e)}var Ec={curveBasisClosed:function(e){return new Fu(e)},curveBasisOpen:function(e){return new Ku(e)},curveBasis:function(e){return new Wu(e)},curveLinearClosed:function(e){return new Vu(e)},curveLinear:ju,curveMonotoneX:function(e){return new Qu(e)},curveMonotoneY:function(e){return new Ju(e)},curveNatural:function(e){return new ec(e)},curveStep:function(e){return new nc(e,.5)},curveStepAfter:function(e){return new nc(e,1)},curveStepBefore:function(e){return new nc(e,0)}},Ac=function(e){return e.x===+e.x&&e.y===+e.y},Tc=function(e){return e.x},Oc=function(e){return e.y},Rc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mc(e,t)}(a,e);var t,n,r,o=vc(a);function a(){return hc(this,a),o.apply(this,arguments)}return t=a,n=[{key:"getPath",value:function(){var e,t=this.props,n=t.type,r=t.points,i=t.baseLine,o=t.layout,a=t.connectNulls,s=function(e,t){if(aa()(e))return e;var n="curve".concat(Nl()(e));return"curveMonotone"===n&&t?Ec["".concat(n).concat("vertical"===t?"Y":"X")]:Ec[n]||ju}(n,o),l=a?r.filter((function(e){return Ac(e)})):r;if(Co()(i)){var u=a?i.filter((function(e){return Ac(e)})):i,c=l.map((function(e,t){return fc(fc({},e),{},{base:u[t]})}));return(e="vertical"===o?sc().y(Oc).x1(Tc).x0((function(e){return e.base.x})):sc().x(Tc).y1(Oc).y0((function(e){return e.base.y}))).defined(Ac).curve(s),e(c)}return(e="vertical"===o&&Fo(i)?sc().y(Oc).x1(Tc).x0(i):Fo(i)?sc().x(Tc).y1(Oc).y0(i):ac().x(Tc).y(Oc)).defined(Ac).curve(s),e(l)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?this.getPath():r;return i.createElement("path",uc({},Ra(this.props),La(this.props),{className:No()("recharts-curve",t),d:a,ref:o}))}}],n&&pc(t.prototype,n),r&&pc(t,r),a}(i.PureComponent);function Lc(e){return Lc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}function Sc(){return Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(this,arguments)}function bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nc(e,t){return Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nc(e,t)}function xc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mc(e);if(t){var i=Mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _c(this,n)}}function _c(e,t){return!t||"object"!==Lc(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mc(e){return Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mc(e)}Rc.defaultProps={type:"linear",points:[],connectNulls:!1};var wc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nc(e,t)}(a,e);var t,n,r,o=xc(a);function a(){return bc(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,s=e.top,l=e.left,u=e.className;return Fo(t)&&Fo(n)&&Fo(r)&&Fo(o)&&Fo(s)&&Fo(l)?i.createElement("path",Sc({},Ra(this.props,!0),{className:No()("recharts-cross",u),d:a.getPath(t,n,r,o,s,l)})):null}}],r=[{key:"getPath",value:function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)}}],n&&Ic(t.prototype,n),r&&Ic(t,r),a}(i.PureComponent);function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){Dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wc.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var kc=Math.PI/180,Hc=function(e){return 180*e/Math.PI},Uc=function(e,t,n,r){return{x:e+Math.cos(-kc*r)*n,y:t+Math.sin(-kc*r)*n}},Bc=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:Hc(l),angleInRadian:l}},Gc=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},Wc=function(e,t){var n=e.x,r=e.y,i=Bc({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var u,c=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),f=c.startAngle,d=c.endAngle,h=a;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;u=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;u=h>=d&&h<=f}return u?Pc(Pc({},t),{},{radius:o,angle:Gc(h,t)}):null};function Fc(e){return Fc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(e)}function Kc(){return Kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(this,arguments)}function Vc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jc(e,t){return jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jc(e,t)}function Zc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qc(e);if(t){var i=qc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yc(this,n)}}function Yc(e,t){return!t||"object"!==Fc(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qc(e){return qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qc(e)}var Xc=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,u=s*(a?1:-1)+r,c=Math.asin(s/u)/kc,f=l?i:i+o*c,d=l?i-o*c:i;return{center:Uc(t,n,u,f),circleTangency:Uc(t,n,r,f),lineTangency:Uc(t,n,u*Math.cos(c*kc),d),theta:c}},Qc=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return Go(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=Uc(t,n,i,o),u=Uc(t,n,i,s),c="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var f=Uc(t,n,r,o),d=Uc(t,n,r,s);c+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(f.x,",").concat(f.y," Z")}else c+="L ".concat(t,",").concat(n," Z");return c},Jc=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jc(e,t)}(a,e);var t,n,r,o=Zc(a);function a(){return Vc(this,a),o.apply(this,arguments)}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=e.className;if(o<r||u===c)return null;var d,h=No()("recharts-sector",f),p=o-r,m=jo(a,p,0,!0);return d=m>0&&Math.abs(u-c)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,c=Go(u-l),f=Xc({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),d=f.circleTangency,h=f.lineTangency,p=f.theta,m=Xc({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),v=m.circleTangency,g=m.lineTangency,y=m.theta,E=s?Math.abs(l-u):Math.abs(l-u)-p-y;if(E<0)return a?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Qc({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var A="M ".concat(h.x,",").concat(h.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(c<0),",").concat(v.x,",").concat(v.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var T=Xc({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),O=T.circleTangency,R=T.lineTangency,L=T.theta,S=Xc({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),b=S.circleTangency,I=S.lineTangency,N=S.theta,x=s?Math.abs(l-u):Math.abs(l-u)-L-N;if(x<0&&0===o)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(I.x,",").concat(I.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(b.x,",").concat(b.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(c>0),",").concat(O.x,",").concat(O.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(R.x,",").concat(R.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A}({cx:t,cy:n,innerRadius:r,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):Qc({cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:u,endAngle:c}),i.createElement("path",Kc({},Ra(this.props,!0),{className:h,d:d}))}}],n&&zc(t.prototype,n),r&&zc(t,r),a}(i.PureComponent);function $c(e){return $c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(e)}function ef(){return ef=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ef.apply(this,arguments)}function tf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rf(e,t){return rf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rf(e,t)}function of(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sf(e);if(t){var i=sf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return af(this,n)}}function af(e,t){return!t||"object"!==$c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sf(e)}Jc.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};var lf=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rf(e,t)}(a,e);var t,n,r,o=of(a);function a(){return tf(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.r,o=e.className,a=No()("recharts-dot",o);return t===+t&&n===+n&&r===+r?i.createElement("circle",ef({},Ra(this.props),La(this.props),{className:a,cx:t,cy:n,r:r})):null}}])&&nf(t.prototype,n),r&&nf(t,r),a}(i.PureComponent);function uf(e){return uf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(e)}function cf(){return cf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cf.apply(this,arguments)}function ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hf(e,t){return hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hf(e,t)}function pf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vf(e);if(t){var i=vf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mf(this,n)}}function mf(e,t){return!t||"object"!==uf(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vf(e)}var gf=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],f=0;f<4;f++)c[f]=i[f]>a?a:i[f];o="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(o+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),o+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(o+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*c[1])),o+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(o+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,",\n        ").concat(e+n-l*c[2],",").concat(t+r)),o+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(o+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*c[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);o="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+n-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*d,"\n            L ").concat(e+n,",").concat(t+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+n-l*d,",").concat(t+r,"\n            L ").concat(e+l*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*d," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},yf=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),u=Math.max(i,i+a),c=Math.min(o,o+s),f=Math.max(o,o+s);return n>=l&&n<=u&&r>=c&&r<=f}return!1},Ef=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hf(e,t)}(a,e);var t,n,r,o=pf(a);function a(){var e;ff(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={totalLength:-1},e.node=void 0,e}return t=a,n=[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var e=this.node.getTotalLength();e&&this.setState({totalLength:e})}catch(t){}}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,r=t.y,o=t.width,a=t.height,s=t.radius,l=t.className,u=this.state.totalLength,c=this.props,f=c.animationEasing,d=c.animationDuration,h=c.animationBegin,p=c.isAnimationActive,m=c.isUpdateAnimationActive;if(n!==+n||r!==+r||o!==+o||a!==+a||0===o||0===a)return null;var v=No()("recharts-rectangle",l);return m?i.createElement(Js,{canBegin:u>0,from:{width:o,height:a,x:n,y:r},to:{width:o,height:a,x:n,y:r},duration:d,animationEasing:f,isActive:m},(function(t){var n=t.width,r=t.height,o=t.x,a=t.y;return i.createElement(Js,{canBegin:u>0,from:"0px ".concat(-1===u?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:d,isActive:p,easing:f},i.createElement("path",cf({},Ra(e.props,!0),{className:v,d:gf(o,a,n,r,s),ref:function(t){e.node=t}})))})):i.createElement("path",cf({},Ra(this.props,!0),{className:v,d:gf(n,r,o,a,s)}))}}],n&&df(t.prototype,n),r&&df(t,r),a}(i.PureComponent);Ef.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};var Af=n(8493);function Tf(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Of(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Rf={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Lf=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Sf=null,bf=null,If=function e(t){if(t===Sf&&Co()(bf))return bf;var n=[];return i.Children.forEach(t,(function(t){pa()(t)||((0,Af.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),bf=n,Sf=t,n},Nf=function(e,t){var n=[],r=[];return r=Co()(t)?t.map((function(e){return Lf(e)})):[Lf(t)],If(e).forEach((function(e){var t=Mo()(e,"type.displayName")||Mo()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n},xf=function(e,t){var n=Nf(e,t);return n&&n[0]},_f=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Fo(n)||n<=0||!Fo(r)||r<=0)},Mf=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wf=function(e){return e&&e.type&&Bo()(e.type)&&Mf.indexOf(e.type)>=0},Cf=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return Pf(Co()(t)?t[0]:t,Co()(n)?n[0]:n);for(var o=0;o<r;o++){var a=t[o],s=n[o];if(Co()(a)||Co()(s)){if(!e(a,s))return!1}else if(!Pf(a,s))return!1}return!0},Pf=function(e,t){if(pa()(e)&&pa()(t))return!0;if(!pa()(e)&&!pa()(t)){var n=e.props||{},r=n.children,i=Of(n,["children"]),o=t.props||{},a=o.children,s=Of(o,["children"]);return r&&a?Tf(i,s)&&Cf(r,a):!r&&!a&&Tf(i,s)}return!1},Df=function(e,t){var n=[],r={};return If(e).forEach((function(e,i){if(wf(e))n.push(e);else if(e){var o=Lf(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var u=s(e,o,i);n.push(u),r[o]=!0}}})),n};function kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kf(Object(n),!0).forEach((function(t){Uf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bf(e){return function(e){if(Array.isArray(e))return Gf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Gf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wf={widthCache:{},cacheCount:0},Ff={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kf=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],Vf="recharts_measurement_span";var zf=function(e){return Object.keys(e).reduce((function(t,n){return"".concat(t).concat((r=n,r.split("").reduce((function(e,t){return t===t.toUpperCase()?[].concat(Bf(e),["-",t.toLowerCase()]):[].concat(Bf(e),[t])}),[]).join("")),":").concat(function(e,t){return Kf.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}(n,e[n]),";");var r}),"")},jf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||hl.isSsr)return{width:0,height:0};var n="".concat(e),r=zf(t),i="".concat(n,"-").concat(r);if(Wf.widthCache[i])return Wf.widthCache[i];try{var o=document.getElementById(Vf);o||((o=document.createElement("span")).setAttribute("id",Vf),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Hf(Hf({},Ff),t);Object.keys(a).map((function(e){return o.style[e]=a[e],e})),o.textContent=n;var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Wf.widthCache[i]=l,++Wf.cacheCount>2e3&&(Wf.cacheCount=0,Wf.widthCache={}),l}catch(u){return{width:0,height:0}}},Zf=n(72692),Yf=n.n(Zf);function qf(e){return qf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(e)}function Xf(){return Xf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(this,arguments)}function Qf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ed(e,t){return ed=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ed(e,t)}function td(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rd(e);if(t){var i=rd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nd(this,n)}}function nd(e,t){return!t||"object"!==qf(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rd(e){return rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rd(e)}function id(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return od(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return od(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ad(Object(n),!0).forEach((function(t){ld(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ad(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ld(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ud=/[ \f\n\r\t\v\u2028\u2029]+/,cd=function(e){try{var t=[];return pa()(e.children)||(t=e.breakAll?e.children.toString().split(""):e.children.toString().split(ud)),{wordsWithComputedWidth:t.map((function(t){return{word:t,width:jf(t,e.style).width}})),spaceWidth:e.breakAll?0:jf("\xa0",e.style).width}}catch(n){return null}},fd=function(e){return[{words:pa()(e)?[]:e.toString().split(ud)}]},dd=function(e,t){if((e.width||e.scaleToFit)&&!hl.isSsr&&t){var n=cd(e);return n?function(e,t,n,r,i){var o=Fo(e.maxLines),a=e.children,s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<r))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},l=s(t);if(!o)return l;for(var u,c=function(t){var n=a.slice(0,t),i=cd(sd(sd({},e),{},{children:n+"\u2026"})).wordsWithComputedWidth,o=s(i),l=o.length>e.maxLines||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>r;return[l,o]},f=0,d=a.length-1,h=0;f<=d&&h<=a.length-1;){var p=Math.floor((f+d)/2),m=id(c(p-1),2),v=m[0],g=m[1],y=id(c(p),1)[0];if(v||y||(f=p+1),v&&y&&(d=p-1),!v&&y){u=g;break}h++}return u||l}(e,n.wordsWithComputedWidth,n.spaceWidth,e.width,e.scaleToFit):fd(e.children)}return fd(e.children)},hd=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ed(e,t)}(a,e);var t,n,r,o=td(a);function a(){var e;Jf(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={},e}return t=a,n=[{key:"render",value:function(){var e=this.props,t=e.dx,n=e.dy,r=e.textAnchor,o=e.verticalAnchor,a=e.scaleToFit,s=e.angle,l=e.lineHeight,u=e.capHeight,c=e.className,f=e.breakAll,d=Qf(e,["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"]),h=this.state.wordsByLines;if(!Ko(d.x)||!Ko(d.y))return null;var p,m=d.x+(Fo(t)?t:0),v=d.y+(Fo(n)?n:0);switch(o){case"start":p=Yf()("calc(".concat(u,")"));break;case"middle":p=Yf()("calc(".concat((h.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:p=Yf()("calc(".concat(h.length-1," * -").concat(l,")"))}var g=[];if(a){var y=h[0].width,E=this.props.width;g.push("scale(".concat((Fo(E)?E/y:1)/y,")"))}return s&&g.push("rotate(".concat(s,", ").concat(m,", ").concat(v,")")),g.length&&(d.transform=g.join(" ")),i.createElement("text",Xf({},Ra(d,!0),{x:m,y:v,className:No()("recharts-text",c),textAnchor:r}),h.map((function(e,t){return i.createElement("tspan",{x:m,dy:0===t?p:l,key:t},e.words.join(f?"":" "))})))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.width!==t.prevWidth||e.scaleToFit!==t.prevScaleToFit||e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll){var n=e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll;return{prevWidth:e.width,prevScaleToFit:e.scaleToFit,prevChildren:e.children,prevStyle:e.style,wordsByLines:dd(e,n)}}return null}}],n&&$f(t.prototype,n),r&&$f(t,r),a}(i.Component);function pd(e){return function(e){if(Array.isArray(e))return md(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return md(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return md(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function md(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vd(Object(n),!0).forEach((function(t){yd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ed(){return Ed=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(this,arguments)}hd.defaultProps={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end"};var Ad=function(e,t,n){var r,o,a=e.position,s=e.viewBox,l=e.offset,u=e.className,c=s,f=c.cx,d=c.cy,h=c.innerRadius,p=c.outerRadius,m=c.startAngle,v=c.endAngle,g=c.clockWise,y=(h+p)/2,E=function(e,t){return Go(t-e)*Math.min(Math.abs(t-e),360)}(m,v),A=E>=0?1:-1;"insideStart"===a?(r=m+A*l,o=g):"insideEnd"===a?(r=v-A*l,o=!g):"end"===a&&(r=v+A*l,o=g),o=E<=0?o:!o;var T=Uc(f,d,y,r),O=Uc(f,d,y,r+359*(o?1:-1)),R="M".concat(T.x,",").concat(T.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(O.x,",").concat(O.y),L=pa()(e.id)?zo("recharts-radial-line-"):e.id;return i.createElement("text",Ed({},n,{dominantBaseline:"central",className:No()("recharts-radial-bar-label",u)}),i.createElement("defs",null,i.createElement("path",{id:L,d:R})),i.createElement("textPath",{xlinkHref:"#".concat(L)},t))};function Td(e){var t,n=e.viewBox,r=e.position,o=e.value,a=e.children,s=e.content,l=e.className,u=void 0===l?"":l,c=e.textBreakAll;if(!n||pa()(o)&&pa()(a)&&!(0,i.isValidElement)(s)&&!aa()(s))return null;if((0,i.isValidElement)(s))return(0,i.cloneElement)(s,e);if(aa()(s)){if(t=(0,i.createElement)(s,e),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=pa()(e.children)?t:e.children;return aa()(n)?n(r):r}(e);var f=function(e){return Fo(e.cx)}(n),d=Ra(e,!0);if(f&&("insideStart"===r||"insideEnd"===r||"end"===r))return Ad(e,t,d);var h=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,u=(i.startAngle+i.endAngle)/2;if("outside"===r){var c=Uc(o,a,l+n,u),f=c.x;return{x:f,y:c.y,textAnchor:f>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var d=Uc(o,a,(s+l)/2,u);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}}(e):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,u=o.height,c=u>=0?1:-1,f=c*r,d=c>0?"end":"start",h=c>0?"start":"end",p=l>=0?1:-1,m=p*r,v=p>0?"end":"start",g=p>0?"start":"end";if("top"===i)return gd(gd({},{x:a+l/2,y:s-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return gd(gd({},{x:a+l/2,y:s+u+f,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+u),0),width:l}:{});if("left"===i){var y={x:a-m,y:s+u/2,textAnchor:v,verticalAnchor:"middle"};return gd(gd({},y),n?{width:Math.max(y.x-n.x,0),height:u}:{})}if("right"===i){var E={x:a+l+m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return gd(gd({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:u}:{})}var A=n?{width:l,height:u}:{};return"insideLeft"===i?gd({x:a+m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},A):"insideRight"===i?gd({x:a+l-m,y:s+u/2,textAnchor:v,verticalAnchor:"middle"},A):"insideTop"===i?gd({x:a+l/2,y:s+f,textAnchor:"middle",verticalAnchor:h},A):"insideBottom"===i?gd({x:a+l/2,y:s+u-f,textAnchor:"middle",verticalAnchor:d},A):"insideTopLeft"===i?gd({x:a+m,y:s+f,textAnchor:g,verticalAnchor:h},A):"insideTopRight"===i?gd({x:a+l-m,y:s+f,textAnchor:v,verticalAnchor:h},A):"insideBottomLeft"===i?gd({x:a+m,y:s+u-f,textAnchor:g,verticalAnchor:d},A):"insideBottomRight"===i?gd({x:a+l-m,y:s+u-f,textAnchor:v,verticalAnchor:d},A):ya()(i)&&(Fo(i.x)||Wo(i.x))&&(Fo(i.y)||Wo(i.y))?gd({x:a+jo(i.x,l),y:s+jo(i.y,u),textAnchor:"end",verticalAnchor:"end"},A):gd({x:a+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)}(e);return i.createElement(hd,Ed({className:No()("recharts-label",u)},d,h,{breakAll:c}),t)}Td.displayName="Label",Td.defaultProps={offset:5};var Od=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,u=e.outerRadius,c=e.x,f=e.y,d=e.top,h=e.left,p=e.width,m=e.height,v=e.clockWise,g=e.labelViewBox;if(g)return g;if(Fo(p)&&Fo(m)){if(Fo(c)&&Fo(f))return{x:c,y:f,width:p,height:m};if(Fo(d)&&Fo(h))return{x:d,y:h,width:p,height:m}}return Fo(c)&&Fo(f)?{x:c,y:f,width:0,height:0}:Fo(t)&&Fo(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||s||a||0,clockWise:v}:e.viewBox?e.viewBox:{}},Rd=function(e,t){return e?!0===e?i.createElement(Td,{key:"label-implicit",viewBox:t}):Ko(e)?i.createElement(Td,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===Td?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(Td,{key:"label-implicit",content:e,viewBox:t}):aa()(e)?i.createElement(Td,{key:"label-implicit",content:e,viewBox:t}):ya()(e)?i.createElement(Td,Ed({viewBox:t},e,{key:"label-implicit"})):null:null};function Ld(e){return Ld="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(e)}function Sd(){return Sd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sd.apply(this,arguments)}function bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bd(Object(n),!0).forEach((function(t){Nd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Md(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(e,t){return wd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wd(e,t)}function Cd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dd(e);if(t){var i=Dd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pd(this,n)}}function Pd(e,t){return!t||"object"!==Ld(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dd(e)}Td.parseViewBox=Od,Td.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=Od(e),a=Nf(r,Td.displayName).map((function(e,n){return(0,i.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=Rd(e.label,t||o);return[s].concat(pd(a))};var kd=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wd(e,t)}(a,e);var t,n,r,o=Cd(a);function a(){return _d(this,a),o.apply(this,arguments)}return t=a,n=[{key:"shouldComponentUpdate",value:function(e){var t=e.viewBox,n=xd(e,["viewBox"]),r=this.props,i=r.viewBox,o=xd(r,["viewBox"]);return!Tf(t,i)||!Tf(n,o)}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,u=s.y,c=s.width,f=s.height,d=s.orientation,h=s.tickSize,p=s.mirror,m=s.tickMargin,v=p?-1:1,g=e.tickSize||h,y=Fo(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,a=(r=(i=u+ +!p*f)-v*g)-v*m,o=y;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*c)-v*g)-v*m,a=y;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*c)+v*g)+v*m,a=y;break;default:t=n=e.coordinate,a=(r=(i=u+ +p*f)+v*g)+v*m,o=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,u=Id(Id(Id({},Ra(this.props)),Ra(l)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!s||"bottom"===a&&s);u=Id(Id({},u),{},{x1:t,y1:n+c*o,x2:t+r,y2:n+c*o})}else{var f=+("left"===a&&!s||"right"===a&&s);u=Id(Id({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+o})}return i.createElement("line",Sd({},u,{className:No()("recharts-cartesian-axis-line",Mo()(l,"className"))}))}},{key:"renderTicks",value:function(e){var t=this,n=this.props,r=n.tickLine,o=n.stroke,s=n.tick,l=n.tickFormatter,u=n.unit,c=a.getTicks(Id(Id({},this.props),{},{ticks:e})),f=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),h=Ra(this.props),p=Ra(s),m=Id(Id({},h),{},{fill:"none"},Ra(r)),v=c.map((function(e,n){var v=t.getTickLineCoord(e),g=v.line,y=v.tick,E=Id(Id(Id(Id({textAnchor:f,verticalAnchor:d},h),{},{stroke:"none",fill:o},p),y),{},{index:n,payload:e,visibleTicksCount:c.length,tickFormatter:l});return i.createElement(Ma,Sd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(n)},Sa(t.props,e,n)),r&&i.createElement("line",Sd({},m,g,{className:No()("recharts-cartesian-axis-tick-line",Mo()(r,"className"))})),s&&a.renderTickItem(s,E,"".concat(aa()(l)?l(e.value,n):e.value).concat(u||"")))}));return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this.props,t=e.axisLine,n=e.width,r=e.height,o=e.ticksGenerator,a=e.className;if(e.hide)return null;var s=this.props,l=s.ticks,u=xd(s,["ticks"]),c=l;return aa()(o)&&(c=l&&l.length>0?o(this.props):o(u)),n<=0||r<=0||!c||!c.length?null:i.createElement(Ma,{className:No()("recharts-cartesian-axis",a)},t&&this.renderAxisLine(),this.renderTicks(c),Td.renderCallByParent(this.props))}}],r=[{key:"getTicks",value:function(e){var t=e.tick,n=e.ticks,r=e.viewBox,i=e.minTickGap,o=e.orientation,s=e.interval,l=e.tickFormatter,u=e.unit;return n&&n.length&&t?Fo(s)||hl.isSsr?a.getNumberIntervalTicks(n,"number"===typeof s&&Fo(s)?s:0):"preserveStartEnd"===s?a.getTicksStart({ticks:n,tickFormatter:l,viewBox:r,orientation:o,minTickGap:i,unit:u},!0):"preserveStart"===s?a.getTicksStart({ticks:n,tickFormatter:l,viewBox:r,orientation:o,minTickGap:i,unit:u}):a.getTicksEnd({ticks:n,tickFormatter:l,viewBox:r,orientation:o,minTickGap:i,unit:u}):[]}},{key:"getNumberIntervalTicks",value:function(e,t){return e.filter((function(e,n){return n%(t+1)===0}))}},{key:"getTicksStart",value:function(e,t){var n,r,i=e.ticks,o=e.tickFormatter,a=e.viewBox,s=e.orientation,l=e.minTickGap,u=e.unit,c=a.x,f=a.y,d=a.width,h=a.height,p="top"===s||"bottom"===s?"width":"height",m=(i||[]).slice(),v=u&&"width"===p?jf(u)[p]:0,g=m.length,y=g>=2?Go(m[1].coordinate-m[0].coordinate):1;if(1===y?(n="width"===p?c:f,r="width"===p?c+d:f+h):(n="width"===p?c+d:f+h,r="width"===p?c:f),t){var E=i[g-1],A=aa()(o)?o(E.value,g-1):E.value,T=jf(A)[p]+v,O=y*(E.coordinate+y*T/2-r);m[g-1]=E=Id(Id({},E),{},{tickCoord:O>0?E.coordinate-O*y:E.coordinate}),y*(E.tickCoord-y*T/2-n)>=0&&y*(E.tickCoord+y*T/2-r)<=0&&(r=E.tickCoord-y*(T/2+l),m[g-1]=Id(Id({},E),{},{isShow:!0}))}for(var R=t?g-1:g,L=0;L<R;L++){var S=m[L],b=aa()(o)?o(S.value,L):S.value,I=jf(b)[p]+v;if(0===L){var N=y*(S.coordinate-y*I/2-n);m[L]=S=Id(Id({},S),{},{tickCoord:N<0?S.coordinate-N*y:S.coordinate})}else m[L]=S=Id(Id({},S),{},{tickCoord:S.coordinate});y*(S.tickCoord-y*I/2-n)>=0&&y*(S.tickCoord+y*I/2-r)<=0&&(n=S.tickCoord+y*(I/2+l),m[L]=Id(Id({},S),{},{isShow:!0}))}return m.filter((function(e){return e.isShow}))}},{key:"getTicksEnd",value:function(e){var t,n,r=e.ticks,i=e.tickFormatter,o=e.viewBox,a=e.orientation,s=e.minTickGap,l=e.unit,u=o.x,c=o.y,f=o.width,d=o.height,h="top"===a||"bottom"===a?"width":"height",p=l&&"width"===h?jf(l)[h]:0,m=(r||[]).slice(),v=m.length,g=v>=2?Go(m[1].coordinate-m[0].coordinate):1;1===g?(t="width"===h?u:c,n="width"===h?u+f:c+d):(t="width"===h?u+f:c+d,n="width"===h?u:c);for(var y=v-1;y>=0;y--){var E=m[y],A=aa()(i)?i(E.value,v-y-1):E.value,T=jf(A)[h]+p;if(y===v-1){var O=g*(E.coordinate+g*T/2-n);m[y]=E=Id(Id({},E),{},{tickCoord:O>0?E.coordinate-O*g:E.coordinate})}else m[y]=E=Id(Id({},E),{},{tickCoord:E.coordinate});g*(E.tickCoord-g*T/2-t)>=0&&g*(E.tickCoord+g*T/2-n)<=0&&(n=E.tickCoord-g*(T/2+s),m[y]=Id(Id({},E),{},{isShow:!0}))}return m.filter((function(e){return e.isShow}))}},{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):aa()(e)?e(t):i.createElement(hd,Sd({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],n&&Md(t.prototype,n),r&&Md(t,r),a}(i.Component);function Hd(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ud(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Bd(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}kd.displayName="CartesianAxis",kd.defaultProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};var Gd=n(37762),Wd=Symbol("implicit");function Fd(){var e=new Map,t=[],n=[],r=Wd;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==Wd)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=(0,Gd.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a+"";e.has(s)||e.set(s,t.push(a))}}catch(l){o.e(l)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Fd(t,n).unknown(r)},Ud.apply(i,arguments),i}function Kd(){var e,t,n=Fd().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,l=!1,u=0,c=0,f=.5;function d(){var n=r().length,s=a<o,d=s?a:o,h=s?o:a;e=(h-d)/Math.max(1,n-u+2*c),l&&(e=Math.floor(e)),d+=(h-d-e*(n-u))*f,t=e*(1-u),l&&(d=Math.round(d),t=Math.round(t));var p=Hd(n).map((function(t){return d+e*t}));return i(s?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){var t,n;return arguments.length?(t=e,n=(0,s.Z)(t,2),o=n[0],a=n[1],o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){var t,n;return t=e,n=(0,s.Z)(t,2),o=n[0],a=n[1],o=+o,a=+a,l=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,d()):l},n.padding=function(e){return arguments.length?(u=Math.min(1,c=+e),d()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),d()):u},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),d()):f},n.copy=function(){return Kd(r(),[o,a]).round(l).paddingInner(u).paddingOuter(c).align(f)},Ud.apply(d(),arguments)}function Vd(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Vd(t())},e}function zd(){return Vd(Kd.apply(null,arguments).paddingInner(1))}var jd=n(18111),Zd=n.n(jd),Yd=n(29627),qd=n.n(Yd),Xd=n(66452),Qd=n.n(Xd),Jd=n(5008),$d=n.n(Jd),eh=n(4234),th=n.n(eh);function nh(e){return function(e){if(Array.isArray(e))return rh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return rh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ih=function(e){return e},oh={"@@functional/placeholder":!0},ah=function(e){return e===oh},sh=function(e){return function t(){return 0===arguments.length||1===arguments.length&&ah(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},lh=function e(t,n){return 1===t?n:sh((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==oh})).length;return a>=t?n.apply(void 0,i):e(t-a,sh((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return ah(e)?t.shift():e}));return n.apply(void 0,nh(o).concat(t))})))}))},uh=function(e){return lh(e.length,e)},ch=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},fh=uh((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),dh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return ih;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},hh=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ph=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var mh=uh((function(e,t,n){var r=+e;return r+n*(+t-r)})),vh=uh((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),gh=uh((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))})),yh={rangeStep:function(e,t,n){for(var r=new(th())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(th())(e).abs().log(10).toNumber())+1},interpolateNumber:mh,uninterpolateNumber:vh,uninterpolateTruncation:gh};function Eh(e){return function(e){if(Array.isArray(e))return Oh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Th(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ah(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Th(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Th(e,t){if(e){if("string"===typeof e)return Oh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oh(e,t):void 0}}function Oh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rh(e){var t=Ah(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Lh(e,t,n){if(e.lte(0))return new(th())(0);var r=yh.getDigitCount(e.toNumber()),i=new(th())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(th())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(th())(Math.ceil(s))}function Sh(e,t,n){var r=1,i=new(th())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(th())(10).pow(yh.getDigitCount(e)-1),i=new(th())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(th())(Math.floor(e)))}else 0===e?i=new(th())(Math.floor((t-1)/2)):n||(i=new(th())(Math.floor(e)));var a=Math.floor((t-1)/2);return dh(fh((function(e){return i.add(new(th())(e-a).mul(r)).toNumber()})),ch)(0,t)}function bh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(th())(0),tickMin:new(th())(0),tickMax:new(th())(0)};var o,a=Lh(new(th())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(th())(0):(o=new(th())(e).add(t).div(2)).sub(new(th())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(th())(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?bh(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new(th())(s).mul(a)),tickMax:o.add(new(th())(l).mul(a))})}var Ih=ph((function(e){var t=Ah(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=Rh([n,r]),l=Ah(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Eh(ch(0,i-1).map((function(){return 1/0})))):[].concat(Eh(ch(0,i-1).map((function(){return-1/0}))),[c]);return n>r?hh(f):f}if(u===c)return Sh(u,i,o);var d=bh(u,c,a,o),h=d.step,p=d.tickMin,m=d.tickMax,v=yh.rangeStep(p,m.add(new(th())(.1).mul(h)),h);return n>r?hh(v):v})),Nh=(ph((function(e){var t=Ah(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=Rh([n,r]),l=Ah(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0)return[n,r];if(u===c)return Sh(u,i,o);var f=Lh(new(th())(c).sub(u).div(a-1),o,0),d=dh(fh((function(e){return new(th())(u).add(new(th())(e).mul(f)).toNumber()})),ch),h=d(0,a).filter((function(e){return e>=u&&e<=c}));return n>r?hh(h):h})),ph((function(e,t){var n=Ah(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Rh([r,i]),s=Ah(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),f=Lh(new(th())(u).sub(l).div(c-1),o,0),d=[].concat(Eh(yh.rangeStep(new(th())(l),new(th())(u).sub(new(th())(.99).mul(f)),f)),[u]);return r>i?hh(d):d}))),xh=Math.sqrt(50),_h=Math.sqrt(10),Mh=Math.sqrt(2);function wh(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=Ch(e,t,n))||!isFinite(a))return[];if(a>0){var l=Math.round(e/a),u=Math.round(t/a);for(l*a<e&&++l,u*a>t&&--u,o=new Array(i=u-l+1);++s<i;)o[s]=(l+s)*a}else{a=-a;var c=Math.round(e*a),f=Math.round(t*a);for(c/a<e&&++c,f/a>t&&--f,o=new Array(i=f-c+1);++s<i;)o[s]=(c+s)/a}return r&&o.reverse(),o}function Ch(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=xh?10:o>=_h?5:o>=Mh?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=xh?10:o>=_h?5:o>=Mh?2:1)}function Ph(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=xh?i*=10:o>=_h?i*=5:o>=Mh&&(i*=2),t<e?-i:i}function Dh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function kh(e){var t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return Dh(e(t),n)}}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);var a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}var Hh=m().mark(Bh);function Uh(e){return null===e?NaN:+e}function Bh(e,t){var n,r,i,o,a,s,l;return m().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0!==t){u.next=21;break}n=(0,Gd.Z)(e),u.prev=2,n.s();case 4:if((r=n.n()).done){u.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){u.next=9;break}return u.next=9,i;case 9:u.next=4;break;case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),n.e(u.t0);case 16:return u.prev=16,n.f(),u.finish(16);case 19:u.next=40;break;case 21:o=-1,a=(0,Gd.Z)(e),u.prev=23,a.s();case 25:if((s=a.n()).done){u.next=32;break}if(l=s.value,!(null!=(l=t(l,++o,e))&&(l=+l)>=l)){u.next=30;break}return u.next=30,l;case 30:u.next=25;break;case 32:u.next=37;break;case 34:u.prev=34,u.t1=u.catch(23),a.e(u.t1);case 37:return u.prev=37,a.f(),u.finish(37);case 40:case"end":return u.stop()}}),Hh,null,[[2,13,16,19],[23,34,37,40]])}var Gh=kh(Dh),Wh=Gh.right,Fh=(Gh.left,kh(Uh).center,Wh);function Kh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zh(){}var jh=.7,Zh=1/jh,Yh="\\s*([+-]?\\d+)\\s*",qh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qh=/^#([0-9a-f]{3,8})$/,Jh=new RegExp("^rgb\\("+[Yh,Yh,Yh]+"\\)$"),$h=new RegExp("^rgb\\("+[Xh,Xh,Xh]+"\\)$"),ep=new RegExp("^rgba\\("+[Yh,Yh,Yh,qh]+"\\)$"),tp=new RegExp("^rgba\\("+[Xh,Xh,Xh,qh]+"\\)$"),np=new RegExp("^hsl\\("+[qh,Xh,Xh]+"\\)$"),rp=new RegExp("^hsla\\("+[qh,Xh,Xh,qh]+"\\)$"),ip={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function op(){return this.rgb().formatHex()}function ap(){return this.rgb().formatRgb()}function sp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Qh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?lp(t):3===n?new dp(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?up(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?up(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Jh.exec(e))?new dp(t[1],t[2],t[3],1):(t=$h.exec(e))?new dp(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ep.exec(e))?up(t[1],t[2],t[3],t[4]):(t=tp.exec(e))?up(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=np.exec(e))?vp(t[1],t[2]/100,t[3]/100,1):(t=rp.exec(e))?vp(t[1],t[2]/100,t[3]/100,t[4]):ip.hasOwnProperty(e)?lp(ip[e]):"transparent"===e?new dp(NaN,NaN,NaN,0):null}function lp(e){return new dp(e>>16&255,e>>8&255,255&e,1)}function up(e,t,n,r){return r<=0&&(e=t=n=NaN),new dp(e,t,n,r)}function cp(e){return e instanceof zh||(e=sp(e)),e?new dp((e=e.rgb()).r,e.g,e.b,e.opacity):new dp}function fp(e,t,n,r){return 1===arguments.length?cp(e):new dp(e,t,n,null==r?1:r)}function dp(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function hp(){return"#"+mp(this.r)+mp(this.g)+mp(this.b)}function pp(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function mp(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function vp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yp(e,t,n,r)}function gp(e){if(e instanceof yp)return new yp(e.h,e.s,e.l,e.opacity);if(e instanceof zh||(e=sp(e)),!e)return new yp;if(e instanceof yp)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new yp(a,s,l,e.opacity)}function yp(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ep(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Ap(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Kh(zh,sp,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:op,formatHex:op,formatHsl:function(){return gp(this).formatHsl()},formatRgb:ap,toString:ap}),Kh(dp,fp,Vh(zh,{brighter:function(e){return e=null==e?Zh:Math.pow(Zh,e),new dp(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?jh:Math.pow(jh,e),new dp(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hp,formatHex:hp,formatRgb:pp,toString:pp})),Kh(yp,(function(e,t,n,r){return 1===arguments.length?gp(e):new yp(e,t,n,null==r?1:r)}),Vh(zh,{brighter:function(e){return e=null==e?Zh:Math.pow(Zh,e),new yp(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?jh:Math.pow(jh,e),new yp(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new dp(Ep(e>=240?e-240:e+120,i,r),Ep(e,i,r),Ep(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Tp=function(e){return function(){return e}};function Op(e,t){return function(n){return e+n*t}}function Rp(e){return 1===(e=+e)?Lp:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Tp(isNaN(t)?n:t)}}function Lp(e,t){var n=t-e;return n?Op(e,n):Tp(isNaN(e)?t:e)}var Sp=function e(t){var n=Rp(t);function r(e,t){var r=n((e=fp(e)).r,(t=fp(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Lp(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function bp(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=fp(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}bp((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Ap((n-r/t)*t,a,i,o,s)}})),bp((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Ap((n-r/t)*t,i,o,a,s)}}));function Ip(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Dp(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Np(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function xp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _p(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Dp(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Mp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wp=new RegExp(Mp.source,"g");function Cp(e,t){var n,r,i,o=Mp.lastIndex=wp.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Mp.exec(e))&&(r=wp.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:xp(n,r)})),o=wp.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Pp(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Dp(e,t){var n,r=typeof t;return null==t||"boolean"===r?Tp(t):("number"===r?xp:"string"===r?(n=sp(t))?(t=n,Sp):Cp:t instanceof sp?Sp:t instanceof Date?Np:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?Pp:Array.isArray(t)?Ip:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?_p:xp)(e,t)}function kp(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Hp(e){return+e}var Up=[0,1];function Bp(e){return e}function Gp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Wp(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Gp(i,r),o=n(a,o)):(r=Gp(r,i),o=n(o,a)),function(e){return o(r(e))}}function Fp(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Gp(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Fh(e,t,1,r)-1;return o[n](i[n](t))}}function Kp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vp(){var e,t,n,r,i,o,a=Up,s=Up,l=Dp,u=Bp;function c(){var e=Math.min(a.length,s.length);return u!==Bp&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?Fp:Wp,i=o=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return f.invert=function(n){return u(t((o||(o=r(s,a.map(e),xp)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Hp),c()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),l=kp,c()},f.clamp=function(e){return arguments.length?(u=!!e||Bp,c()):u!==Bp},f.interpolate=function(e){return arguments.length?(l=e,c()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function zp(){return Vp()(Bp,Bp)}var jp,Zp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yp(e){if(!(t=Zp.exec(e)))throw new Error("invalid format: "+e);var t;return new qp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function qp(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Xp(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qp(e){return(e=Xp(Math.abs(e)))?e[1]:NaN}function Jp(e,t){var n=Xp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Yp.prototype=qp.prototype,qp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var $p={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Jp(100*e,t)},r:Jp,s:function(e,t){var n=Xp(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(jp=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xp(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function em(e){return e}var tm,nm,rm,im=Array.prototype.map,om=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function am(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?em:(t=im.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?em:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(im.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Yp(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):$p[y]||(void 0===v&&(v=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var E="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",A="$"===d?o:/[%p]/.test(y)?l:"",T=$p[y],O=/[defgprs%]/.test(y);function R(e){var i,o,l,d=E,R=A;if("c"===y)R=T(e)+R,e="";else{var L=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:T(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),L&&0===+e&&"+"!==f&&(L=!1),d=(L?"("===f?f:u:"-"===f||"("===f?"":f)+d,R=("s"===y?om[8+jp/3]:"")+R+(L&&"("===f?")":""),O)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){R=(46===l?a+e.slice(i+1):e.slice(i))+R,e=e.slice(0,i);break}}m&&!h&&(e=r(e,1/0));var S=d.length+e.length+R.length,b=S<p?new Array(p-S+1).join(t):"";switch(m&&h&&(e=r(b+e,b.length?p-R.length:1/0),b=""),n){case"<":e=d+e+R+b;break;case"=":e=d+b+e+R;break;case"^":e=b.slice(0,S=b.length>>1)+d+e+R+b.slice(S);break;default:e=b+d+e+R}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),R.toString=function(){return e+""},R}return{format:f,formatPrefix:function(e,t){var n=f(((e=Yp(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Qp(t)/3))),i=Math.pow(10,-r),o=om[8+r/3];return function(e){return n(i*e)+o}}}}function sm(e,t,n,r){var i,o=Ph(e,t,n);switch((r=Yp(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qp(t)/3)))-Qp(Math.abs(e)))}(o,a))||(r.precision=i),rm(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qp(t)-Qp(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Qp(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return nm(r)}function lm(e){var t=e.domain;return e.ticks=function(e){var n=t();return wh(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return sm(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=Ch(l,u,n))===r)return o[a]=l,o[s]=u,t(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function um(){var e=zp();return e.copy=function(){return Kp(e,um())},Ud.apply(e,arguments),lm(e)}function cm(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Hp),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return cm(e).unknown(t)},e=arguments.length?Array.from(e,Hp):[0,1],lm(n)}function fm(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function dm(e){return Math.log(e)}function hm(e){return Math.exp(e)}function pm(e){return-Math.log(-e)}function mm(e){return-Math.exp(-e)}function vm(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gm(e){return function(t){return-e(-t)}}function ym(e){var t,n,r=e(dm,hm),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?vm:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=gm(t),n=gm(n),e(pm,mm)):e(dm,hm),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(d=s,s=l,l=d);var u,c,f,d=t(s),h=t(l),p=null==e?10:+e,m=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1,u=n(d);c<o;++c)if(!((f=u*c)<s)){if(f>l)break;m.push(f)}}else for(;d<=h;++d)for(c=o-1,u=n(d);c>=1;--c)if(!((f=u*c)<s)){if(f>l)break;m.push(f)}2*m.length<p&&(m=wh(s,l,p))}else m=wh(d,h,Math.min(h-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=nm(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(fm(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function Em(){var e=ym(Vp()).domain([1,10]);return e.copy=function(){return Kp(e,Em()).base(e.base())},Ud.apply(e,arguments),e}function Am(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Tm(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Om(e){var t=1,n=e(Am(t),Tm(t));return n.constant=function(n){return arguments.length?e(Am(t=+n),Tm(t)):t},lm(n)}function Rm(){var e=Om(Vp());return e.copy=function(){return Kp(e,Rm()).constant(e.constant())},Ud.apply(e,arguments)}function Lm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Sm(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bm(e){return e<0?-e*e:e*e}function Im(e){var t=e(Bp,Bp),n=1;function r(){return 1===n?e(Bp,Bp):.5===n?e(Sm,bm):e(Lm(n),Lm(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},lm(t)}function Nm(){var e=Im(Vp());return e.copy=function(){return Kp(e,Nm()).exponent(e.exponent())},Ud.apply(e,arguments),e}function xm(){return Nm.apply(null,arguments).exponent(.5)}function _m(e){return Math.sign(e)*e*e}function Mm(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wm(){var e,t=zp(),n=[0,1],r=!1;function i(n){var i=Mm(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(_m(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,Hp)).map(_m)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return wm(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Ud.apply(i,arguments),lm(i)}function Cm(e,t){var n;if(void 0===t){var r,i=(0,Gd.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,l=(0,Gd.Z)(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;null!=(u=t(u,++s,e))&&(n<u||void 0===n&&u>=u)&&(n=u)}}catch(c){l.e(c)}finally{l.f()}}return n}function Pm(e,t){var n;if(void 0===t){var r,i=(0,Gd.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,l=(0,Gd.Z)(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;null!=(u=t(u,++s,e))&&(n>u||void 0===n&&u>=u)&&(n=u)}}catch(c){l.e(c)}finally{l.f()}}return n}function Dm(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Dh;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1),c=Math.max(n,Math.floor(t-a*l/o+u)),f=Math.min(r,Math.floor(t+(o-a)*l/o+u));Dm(e,t,c,f,i)}var d=e[t],h=n,p=r;for(km(e,n,t),i(e[r],d)>0&&km(e,n,r);h<p;){for(km(e,h,p),++h,--p;i(e[h],d)<0;)++h;for(;i(e[p],d)>0;)--p}0===i(e[n],d)?km(e,n,p):km(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}return e}function km(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Hm(e,t,n){if(r=(e=Float64Array.from(Bh(e,n))).length){if((t=+t)<=0||r<2)return Pm(e);if(t>=1)return Cm(e);var r,i=(r-1)*t,o=Math.floor(i),a=Cm(Dm(e,o).subarray(0,o+1));return a+(Pm(e.subarray(o+1))-a)*(i-o)}}function Um(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uh;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function Bm(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Um(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[Fh(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,r=(0,Gd.Z)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;null==o||isNaN(o=+o)||t.push(o)}}catch(a){r.e(a)}finally{r.f()}return t.sort(Dh),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Bm().domain(t).range(n).unknown(e)},Ud.apply(o,arguments)}function Gm(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[Fh(i,t,0,r)]:e}function l(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){var r,i;return arguments.length?(r=e,i=(0,s.Z)(r,2),t=i[0],n=i[1],t=+t,n=+n,l()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,l()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Gm().domain([t,n]).range(o).unknown(e)},Ud.apply(lm(a),arguments)}function Wm(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Fh(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Wm().domain(t).range(n).unknown(e)},Ud.apply(i,arguments)}tm=am({thousands:",",grouping:[3],currency:["$",""]}),nm=tm.format,rm=tm.formatPrefix;var Fm=1e3,Km=6e4,Vm=36e5,zm=864e5,jm=6048e5,Zm=2592e6,Ym=31536e6,qm=new Date,Xm=new Date;function Qm(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Qm((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return qm.setTime(+t),Xm.setTime(+r),e(qm),e(Xm),Math.floor(n(qm,Xm))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var Jm=Qm((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));Jm.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Qm((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Jm:null};var $m=Jm,ev=(Jm.range,Qm((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*Fm)}),(function(e,t){return(t-e)/Fm}),(function(e){return e.getUTCSeconds()}))),tv=ev,nv=(ev.range,Qm((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fm)}),(function(e,t){e.setTime(+e+t*Km)}),(function(e,t){return(t-e)/Km}),(function(e){return e.getMinutes()}))),rv=nv,iv=(nv.range,Qm((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fm-e.getMinutes()*Km)}),(function(e,t){e.setTime(+e+t*Vm)}),(function(e,t){return(t-e)/Vm}),(function(e){return e.getHours()}))),ov=iv,av=(iv.range,Qm((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Km)/zm}),(function(e){return e.getDate()-1}))),sv=av;av.range;function lv(e){return Qm((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Km)/jm}))}var uv=lv(0),cv=lv(1),fv=lv(2),dv=lv(3),hv=lv(4),pv=lv(5),mv=lv(6),vv=(uv.range,cv.range,fv.range,dv.range,hv.range,pv.range,mv.range,Qm((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),gv=vv,yv=(vv.range,Qm((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));yv.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Qm((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Ev=yv,Av=(yv.range,Qm((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Km)}),(function(e,t){return(t-e)/Km}),(function(e){return e.getUTCMinutes()}))),Tv=Av,Ov=(Av.range,Qm((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*Vm)}),(function(e,t){return(t-e)/Vm}),(function(e){return e.getUTCHours()}))),Rv=Ov,Lv=(Ov.range,Qm((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/zm}),(function(e){return e.getUTCDate()-1}))),Sv=Lv;Lv.range;function bv(e){return Qm((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/jm}))}var Iv=bv(0),Nv=bv(1),xv=bv(2),_v=bv(3),Mv=bv(4),wv=bv(5),Cv=bv(6),Pv=(Iv.range,Nv.range,xv.range,_v.range,Mv.range,wv.range,Cv.range,Qm((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),Dv=Pv,kv=(Pv.range,Qm((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));kv.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Qm((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Hv=kv;kv.range;function Uv(e,t,n,r,i,o){var a=[[tv,1,Fm],[tv,5,5e3],[tv,15,15e3],[tv,30,3e4],[o,1,Km],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Vm],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,zm],[r,2,1728e5],[n,1,jm],[t,1,Zm],[t,3,7776e6],[e,1,Ym]];function l(t,n,r){var i=Math.abs(n-t)/r,o=kh((function(e){return(0,s.Z)(e,3)[2]})).right(a,i);if(o===a.length)return e.every(Ph(t/Ym,n/Ym,r));if(0===o)return $m.every(Math.max(Ph(t,n,r),1));var l=(0,s.Z)(a[i/a[o-1][2]<a[o][2]/i?o-1:o],2),u=l[0],c=l[1];return u.every(c)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var o=n&&"function"===typeof n.range?n:l(e,t,n),a=o?o.range(e,+t+1):[];return r?a.reverse():a},l]}var Bv=Uv(Hv,Dv,Iv,Sv,Rv,Tv),Gv=(0,s.Z)(Bv,2),Wv=Gv[0],Fv=Gv[1],Kv=Uv(Ev,gv,uv,sv,ov,rv),Vv=(0,s.Z)(Kv,2),zv=Vv[0],jv=Vv[1];function Zv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Yv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Xv,Qv,Jv,$v={"-":"",_:" ",0:"0"},eg=/^\s*\d+/,tg=/^%/,ng=/[\\^$*+?|[\]().{}]/g;function rg(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ig(e){return e.replace(ng,"\\$&")}function og(e){return new RegExp("^(?:"+e.map(ig).join("|")+")","i")}function ag(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function sg(e,t,n){var r=eg.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function lg(e,t,n){var r=eg.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ug(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cg(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fg(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function dg(e,t,n){var r=eg.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function hg(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pg(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mg(e,t,n){var r=eg.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function vg(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function gg(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yg(e,t,n){var r=eg.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Eg(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ag(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Tg(e,t,n){var r=eg.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Og(e,t,n){var r=eg.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Rg(e,t,n){var r=eg.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lg(e,t,n){var r=tg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Sg(e,t,n){var r=eg.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bg(e,t,n){var r=eg.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ig(e,t){return rg(e.getDate(),t,2)}function Ng(e,t){return rg(e.getHours(),t,2)}function xg(e,t){return rg(e.getHours()%12||12,t,2)}function _g(e,t){return rg(1+sv.count(Ev(e),e),t,3)}function Mg(e,t){return rg(e.getMilliseconds(),t,3)}function wg(e,t){return Mg(e,t)+"000"}function Cg(e,t){return rg(e.getMonth()+1,t,2)}function Pg(e,t){return rg(e.getMinutes(),t,2)}function Dg(e,t){return rg(e.getSeconds(),t,2)}function kg(e){var t=e.getDay();return 0===t?7:t}function Hg(e,t){return rg(uv.count(Ev(e)-1,e),t,2)}function Ug(e){var t=e.getDay();return t>=4||0===t?hv(e):hv.ceil(e)}function Bg(e,t){return e=Ug(e),rg(hv.count(Ev(e),e)+(4===Ev(e).getDay()),t,2)}function Gg(e){return e.getDay()}function Wg(e,t){return rg(cv.count(Ev(e)-1,e),t,2)}function Fg(e,t){return rg(e.getFullYear()%100,t,2)}function Kg(e,t){return rg((e=Ug(e)).getFullYear()%100,t,2)}function Vg(e,t){return rg(e.getFullYear()%1e4,t,4)}function zg(e,t){var n=e.getDay();return rg((e=n>=4||0===n?hv(e):hv.ceil(e)).getFullYear()%1e4,t,4)}function jg(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rg(t/60|0,"0",2)+rg(t%60,"0",2)}function Zg(e,t){return rg(e.getUTCDate(),t,2)}function Yg(e,t){return rg(e.getUTCHours(),t,2)}function qg(e,t){return rg(e.getUTCHours()%12||12,t,2)}function Xg(e,t){return rg(1+Sv.count(Hv(e),e),t,3)}function Qg(e,t){return rg(e.getUTCMilliseconds(),t,3)}function Jg(e,t){return Qg(e,t)+"000"}function $g(e,t){return rg(e.getUTCMonth()+1,t,2)}function ey(e,t){return rg(e.getUTCMinutes(),t,2)}function ty(e,t){return rg(e.getUTCSeconds(),t,2)}function ny(e){var t=e.getUTCDay();return 0===t?7:t}function ry(e,t){return rg(Iv.count(Hv(e)-1,e),t,2)}function iy(e){var t=e.getUTCDay();return t>=4||0===t?Mv(e):Mv.ceil(e)}function oy(e,t){return e=iy(e),rg(Mv.count(Hv(e),e)+(4===Hv(e).getUTCDay()),t,2)}function ay(e){return e.getUTCDay()}function sy(e,t){return rg(Nv.count(Hv(e)-1,e),t,2)}function ly(e,t){return rg(e.getUTCFullYear()%100,t,2)}function uy(e,t){return rg((e=iy(e)).getUTCFullYear()%100,t,2)}function cy(e,t){return rg(e.getUTCFullYear()%1e4,t,4)}function fy(e,t){var n=e.getUTCDay();return rg((e=n>=4||0===n?Mv(e):Mv.ceil(e)).getUTCFullYear()%1e4,t,4)}function dy(){return"+0000"}function hy(){return"%"}function py(e){return+e}function my(e){return Math.floor(+e/1e3)}function vy(e){return new Date(e)}function gy(e){return e instanceof Date?+e:+new Date(+e)}function yy(e,t,n,r,i,o,a,s,l,u){var c=zp(),f=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),E=u("%B"),A=u("%Y");function T(e){return(l(e)<e?h:s(e)<e?p:a(e)<e?m:o(e)<e?v:r(e)<e?i(e)<e?g:y:n(e)<e?E:A)(e)}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?d(Array.from(e,gy)):d().map(vy)},c.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?T:u(t)},c.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(fm(n,e)):c},c.copy=function(){return Kp(c,yy(e,t,n,r,i,o,a,s,l,u))},c}function Ey(){return Ud.apply(yy(zv,jv,Ev,gv,uv,sv,ov,rv,tv,Qv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ay(){return Ud.apply(yy(Wv,Fv,Hv,Dv,Iv,Sv,Rv,Tv,tv,Jv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ty(){var e,t,n,r,i,o=0,a=1,l=Bp,u=!1;function c(t){return null==t||isNaN(t=+t)?i:l(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function f(e){return function(t){var n,r,i,o;return arguments.length?(n=t,i=(r=(0,s.Z)(n,2))[0],o=r[1],l=e(i,o),c):[l(0),l(1)]}}return c.domain=function(i){var l,u;return arguments.length?(l=i,u=(0,s.Z)(l,2),o=u[0],a=u[1],e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(l=e,c):l},c.range=f(Dp),c.rangeRound=f(kp),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function Oy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ry(){var e=lm(Ty()(Bp));return e.copy=function(){return Oy(e,Ry())},Bd.apply(e,arguments)}function Ly(){var e=ym(Ty()).domain([1,10]);return e.copy=function(){return Oy(e,Ly()).base(e.base())},Bd.apply(e,arguments)}function Sy(){var e=Om(Ty());return e.copy=function(){return Oy(e,Sy()).constant(e.constant())},Bd.apply(e,arguments)}function by(){var e=Im(Ty());return e.copy=function(){return Oy(e,by()).exponent(e.exponent())},Bd.apply(e,arguments)}function Iy(){return by.apply(null,arguments).exponent(.5)}function Ny(){var e=[],t=Bp;function n(n){if(null!=n&&!isNaN(n=+n))return t((Fh(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=(0,Gd.Z)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null==o||isNaN(o=+o)||e.push(o)}}catch(a){i.e(a)}finally{i.f()}return e.sort(Dh),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return Hm(e,r/t)}))},n.copy=function(){return Ny(t).domain(e)},Bd.apply(n,arguments)}function xy(e,t){void 0===t&&(t=e,e=Dp);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function _y(){var e,t,n,r,i,o,a,l=0,u=.5,c=1,f=1,d=Bp,h=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(f*e<f*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,i,o,a;return arguments.length?(n=t,i=(r=(0,s.Z)(n,3))[0],o=r[1],a=r[2],d=xy(e,[i,o,a]),p):[d(0),d(.5),d(1)]}}return p.domain=function(a){var d,h;return arguments.length?(d=a,h=(0,s.Z)(d,3),l=h[0],u=h[1],c=h[2],e=o(l=+l),t=o(u=+u),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),f=t<e?-1:1,p):[l,u,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=m(Dp),p.rangeRound=m(kp),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(l),t=a(u),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),f=t<e?-1:1,p}}function My(){var e=lm(_y()(Bp));return e.copy=function(){return Oy(e,My())},Bd.apply(e,arguments)}function wy(){var e=ym(_y()).domain([.1,1,10]);return e.copy=function(){return Oy(e,wy()).base(e.base())},Bd.apply(e,arguments)}function Cy(){var e=Om(_y());return e.copy=function(){return Oy(e,Cy()).constant(e.constant())},Bd.apply(e,arguments)}function Py(){var e=Im(_y());return e.copy=function(){return Oy(e,Py()).exponent(e.exponent())},Bd.apply(e,arguments)}function Dy(){return Py.apply(null,arguments).exponent(.5)}function ky(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Hy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Uy(e,t){return e[t]}function By(e){var t=[];return t.key=e,t}function Gy(e){return function(e){if(Array.isArray(e))return Wy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ky(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(n),!0).forEach((function(t){Vy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zy(e,t,n){return pa()(e)||pa()(t)?n:Ko(t)?Mo()(e,t,n):aa()(t)?t(e):n}function jy(e,t,n,r){var i=$d()(e,(function(e){return zy(e,t)}));if("number"===n){var o=i.filter((function(e){return Fo(e)||parseFloat(e)}));return o.length?[Qd()(o),qd()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!pa()(e)})):i).map((function(e){return Ko(e)||e instanceof Date?e:""}))}!function(e){Xv=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=og(i),c=ag(i),f=og(o),d=ag(o),h=og(a),p=ag(a),m=og(s),v=ag(s),g=og(l),y=ag(l),E={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Ig,e:Ig,f:wg,g:Kg,G:zg,H:Ng,I:xg,j:_g,L:Mg,m:Cg,M:Pg,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:py,s:my,S:Dg,u:kg,U:Hg,V:Bg,w:Gg,W:Wg,x:null,X:null,y:Fg,Y:Vg,Z:jg,"%":hy},A={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Zg,e:Zg,f:Jg,g:uy,G:fy,H:Yg,I:qg,j:Xg,L:Qg,m:$g,M:ey,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:py,s:my,S:ty,u:ny,U:ry,V:oy,w:ay,W:sy,x:null,X:null,y:ly,Y:cy,Z:dy,"%":hy},T={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return L(e,t,n,r)},d:gg,e:gg,f:Rg,g:hg,G:dg,H:Eg,I:Eg,j:yg,L:Og,m:vg,M:Ag,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:mg,Q:Sg,s:bg,S:Tg,u:lg,U:ug,V:cg,w:sg,W:fg,x:function(e,t,r){return L(e,n,t,r)},X:function(e,t,n){return L(e,r,t,n)},y:hg,Y:dg,Z:pg,"%":Lg};function O(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=$v[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function R(e,t){return function(n){var r,i,o=qv(1900,void 0,1);if(L(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Yv(qv(o.y,0,1))).getUTCDay(),r=i>4||0===i?Nv.ceil(r):Nv(r),r=Sv.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Zv(qv(o.y,0,1))).getDay(),r=i>4||0===i?cv.ceil(r):cv(r),r=sv.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Yv(qv(o.y,0,1)).getUTCDay():Zv(qv(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Yv(o)):Zv(o)}}function L(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=T[i in $v?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return E.x=O(n,E),E.X=O(r,E),E.c=O(t,E),A.x=O(n,A),A.X=O(r,A),A.c=O(t,A),{format:function(e){var t=O(e+="",E);return t.toString=function(){return e},t},parse:function(e){var t=R(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=O(e+="",A);return t.toString=function(){return e},t},utcParse:function(e){var t=R(e+="",!0);return t.toString=function(){return e},t}}}(e),Qv=Xv.format,Xv.parse,Jv=Xv.utcFormat,Xv.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Zy=function(e){var t,n=e.type.displayName,r=e.props,i=r.stroke,o=r.fill;switch(n){case"Line":t=i;break;case"Area":case"Radar":t=i&&"none"!==i?i:o;break;default:t=o}return t},Yy=function(e){var t,n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=xf(n,Uu.displayName);return a?(t=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:r,type:a.props.iconType||o||"square",color:Zy(t),value:i||r,payload:t.props}})),Ky(Ky(Ky({},a.props),Uu.getWithHeight(a,i)),{},{payload:t,item:a})):null},qy=function(e,t,n,r){var i=t.props.children,o=Nf(i,"ErrorBar").filter((function(e){var t=e.props.direction;return!(!pa()(t)&&!pa()(r))||r.indexOf(t)>=0}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=zy(t,n,0),i=Co()(r)?[Qd()(r),qd()(r)]:[r,r],o=a.reduce((function(e,n){var r=zy(t,n,0),o=i[0]-Math.abs(Co()(r)?r[0]:r),a=i[1]+Math.abs(Co()(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},Xy=function(e,t,n,r){var i=t.map((function(t){var i=t.props.dataKey;return"number"===n&&i&&qy(e,t,i)||jy(e,i,n,r)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return i.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e}),[])},Qy=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Jy=function(e,t,n){var r,i,o=e.map((function(e){return e.coordinate===t&&(r=!0),e.coordinate===n&&(i=!0),e.coordinate}));return r||o.push(t),i||o.push(n),o},$y=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/2:0;return s="angleAxis"===e.axisType?2*Go(a[0]-a[1])*s:s,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+s,value:e,offset:s}})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+s,value:e,index:t,offset:s}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+s,value:e,offset:s}})):r.domain().map((function(e,t){return{coordinate:r(e)+s,value:i?i[e]:e,index:t,offset:s}}))},eE=function(e,t,n){var r;return aa()(n)?r=n:aa()(t)&&(r=t),aa()(e)||r?function(t,n,i,o){aa()(e)&&e(t,n,i,o),aa()(r)&&r(t,n,i,o)}:null},tE=1e-4,nE={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=Do()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}ky(e,t)}},none:ky,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ky(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],f=c[a][1]||0,d=(f-(c[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];d+=(p[a][1]||0)-(p[a-1][1]||0)}l+=f,u+=d*f}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,ky(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=Do()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},rE=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=function(){var e=tu([]),t=Hy,n=ky,r=Uy;function i(i){var o,a,s,l=Array.from(e.apply(this,arguments),By),u=l.length,c=-1,f=(0,Gd.Z)(i);try{for(f.s();!(s=f.n()).done;){var d=s.value;for(o=0,++c;o<u;++o)(l[o][c]=[0,+r(d,l[o].key,c,i)]).data=d}}catch(h){f.e(h)}finally{f.f()}for(o=0,a=rc(t(l));o<u;++o)l[a[o]].index=o;return n(l,a),l}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:tu(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:tu(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Hy:"function"===typeof e?e:tu(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?ky:e,i):n},i}().keys(r).value((function(e,t){return+zy(e,t,0)})).order(Hy).offset(nE[n]);return i(e)},iE=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var u=Ih(l,i,a);return e.domain(function(e,t){return"number"===t?[Qd()(e),qd()(e)]:e}(u,r)),{niceTicks:u}}if(i&&"number"===r){var c=e.domain();return{niceTicks:Nh(c,i,a)}}return null},oE=function(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!pa()(i[t.dataKey])){var s=qo(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=zy(i,pa()(a)?t.dataKey:a);return pa()(l)?null:t.scale(l)},aE=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[Qd()(t.concat([e[0]]).filter(Fo)),qd()(t.concat([e[1]]).filter(Fo))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},sE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uE=function(e,t,n){if(!Co()(e))return t;var r=[];if(Fo(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(sE.test(e[0])){var i=+sE.exec(e[0])[1];r[0]=t[0]-i}else aa()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Fo(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(lE.test(e[1])){var o=+lE.exec(e[1])[1];r[1]=t[1]+o}else aa()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},cE=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ca()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},fE=function(e,t,n){return e&&e.length?Zd()(e,Mo()(n,"type.defaultProps.domain"))?t:e:t},dE=function(e,t){var n=e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType;return Ky(Ky({},Ra(e)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:Zy(e),value:zy(t,r),type:s,payload:t,chartType:l})};function hE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hE(Object(n),!0).forEach((function(t){mE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vE=["Webkit","Moz","O","ms"];function gE(e){return gE="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gE(e)}function yE(){return yE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yE.apply(this,arguments)}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EE(Object(n),!0).forEach((function(t){TE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RE(e,t){return RE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},RE(e,t)}function LE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=IE(e);if(t){var i=IE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return SE(this,n)}}function SE(e,t){return!t||"object"!==gE(t)&&"function"!==typeof t?bE(e):t}function bE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IE(e){return IE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},IE(e)}var NE=function(e){return e.changedTouches&&!!e.changedTouches.length},xE=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RE(e,t)}(a,e);var t,n,r,o=LE(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).leaveTimer=void 0,t.travellerDragStartHandlers=void 0,t.handleDrag=function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)},t.handleTouchMove=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])},t.handleDragEnd=function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1}),t.detachDragEndListener()},t.handleLeaveWrapper=function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))},t.handleEnterSlideOrTraveller=function(){t.setState({isTextActive:!0})},t.handleLeaveSlideOrTraveller=function(){t.setState({isTextActive:!1})},t.handleSlideDragStart=function(e){var n=NE(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()},t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(bE(t),"startX"),endX:t.handleTravellerDragStart.bind(bE(t),"endX")},t.state={},t}return t=a,n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,n=e.endX,r=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(t,n),u=Math.max(t,n),c=a.getIndexInRange(r,l),f=a.getIndexInRange(r,u);return{startIndex:c-c%o,endIndex:f===s?s:f-f%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=zy(n[e],i,e);return aa()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,u=o.startIndex,c=o.endIndex,f=o.onChange,d=e.pageX-n;d>0?d=Math.min(d,a+s-l-i,a+s-l-r):d<0&&(d=Math.max(d,a-r,a-i));var h=this.getIndex({startX:r+d,endX:i+d});h.startIndex===u&&h.endIndex===c||!f||f(h),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=NE(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t,n=this.state,r=n.brushMoveStartX,i=n.movingTravellerId,o=n.endX,a=n.startX,s=this.state[i],l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.onChange,h=l.gap,p=l.data,m={startX:this.state.startX,endX:this.state.endX},v=e.pageX-r;v>0?v=Math.min(v,u+c-f-s):v<0&&(v=Math.max(v,u-s)),m[i]=s+v;var g=this.getIndex(m),y=g.startIndex,E=g.endIndex;this.setState((TE(t={},i,s+v),TE(t,"brushMoveStartX",e.pageX),t),(function(){d&&function(){var e=p.length-1;return"startX"===i&&(o>a?y%h===0:E%h===0)||o<a&&E===e||"endX"===i&&(o>a?E%h===0:y%h===0)||o>a&&E===e}()&&d(g)}))}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.fill,s=e.stroke;return i.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,u=i.Children.only(s);return u?i.cloneElement(u,{x:t,y:n,width:r,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,t){var n=this.props,r=n.y,o=n.travellerWidth,s=n.height,l=n.traveller,u=Math.max(e,this.props.x),c=AE(AE({},Ra(this.props)),{},{x:u,y:r,width:o,height:s});return i.createElement(Ma,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[t],onTouchStart:this.travellerDragStartHandlers[t],style:{cursor:"col-resize"}},a.renderTraveller(l,c))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,u=Math.max(Math.abs(t-e)-s,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:r,width:u,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,u=l.startX,c=l.endX,f={pointerEvents:"none",fill:s};return i.createElement(Ma,{className:"recharts-brush-texts"},i.createElement(hd,yE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,c)-5,y:r+o/2},f),this.getTextOfTick(t)),i.createElement(hd,yE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,c)+a+5,y:r+o/2},f),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,a=e.y,s=e.width,l=e.height,u=e.alwaysShowText,c=this.state,f=c.startX,d=c.endX,h=c.isTextActive,p=c.isSlideMoving,m=c.isTravellerMoving;if(!t||!t.length||!Fo(o)||!Fo(a)||!Fo(s)||!Fo(l)||s<=0||l<=0)return null;var v=No()("recharts-brush",n),g=1===i.Children.count(r),y=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=vE.reduce((function(e,r){return pE(pE({},e),{},mE({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return i.createElement(Ma,{className:v,onMouseMove:this.handleDrag,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),g&&this.renderPanorama(),this.renderSlide(f,d),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(d,"endX"),(h||p||m||u)&&this.renderText())}}],r=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:o,fill:a,stroke:"none"}),i.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):aa()(e)?e(t):a.renderDefaultTraveller(t)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return AE({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=zd().domain(da()(0,s)).range([i,i+o-a]),u=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:l(n),endX:l(r),scale:l,scaleValues:u}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var u=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],n&&OE(t.prototype,n),r&&OE(t,r),a}(i.PureComponent);xE.displayName="Brush",xE.defaultProps={height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1};var _E=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},ME=n(37702),wE=n.n(ME);function CE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PE(Object(n),!0).forEach((function(t){kE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HE=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},UE=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=void 0,this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&CE(t.prototype,n),r&&CE(t,r),e}();UE.EPS=1e-4;var BE=function(e){var t=Object.keys(e).reduce((function(t,n){return DE(DE({},t),{},kE({},n,UE.create(e[n])))}),{});return DE(DE({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return wE()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return na()(e,(function(e,n){return t[n].isInRange(e)}))}})};function GE(){return GE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GE.apply(this,arguments)}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WE(Object(n),!0).forEach((function(t){KE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VE(e){var t=e.x,n=e.y,r=e.r,o=e.alwaysShow,a=e.clipPathId,s=Ko(t),l=Ko(n);if(Xo(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=BE({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return _E(e,"discard")&&!o.isInRange(a)?null:a}(e);if(!u)return null;var c=u.x,f=u.y,d=e.shape,h=e.className,p=FE(FE({clipPath:_E(e,"hidden")?"url(#".concat(a,")"):void 0},Ra(e,!0)),{},{cx:c,cy:f});return i.createElement(Ma,{className:No()("recharts-reference-dot",h)},VE.renderDot(d,p),Td.renderCallByParent(e,{x:c-r,y:f-r,width:2*r,height:2*r}))}VE.displayName="ReferenceDot",VE.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},VE.renderDot=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):aa()(e)?e(t):i.createElement(lf,GE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var zE=n(14064),jE=n.n(zE);function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZE(Object(n),!0).forEach((function(t){qE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return QE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JE(){return JE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(this,arguments)}function $E(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxis,a=e.yAxis,s=e.shape,l=e.className,u=e.alwaysShow,c=e.clipPathId;Xo(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i){var o=i.viewBox,a=o.x,s=o.y,l=o.width,u=o.height,c=i.position;if(n){var f=i.y,d=i.yAxis.orientation,h=e.y.apply(f,{position:c});if(_E(i,"discard")&&!e.y.isInRange(h))return null;var p=[{x:a+l,y:h},{x:a,y:h}];return"left"===d?p.reverse():p}if(t){var m=i.x,v=i.xAxis.orientation,g=e.x.apply(m,{position:c});if(_E(i,"discard")&&!e.x.isInRange(g))return null;var y=[{x:g,y:s+u},{x:g,y:s}];return"top"===v?y.reverse():y}if(r){var E=i.segment.map((function(t){return e.apply(t,{position:c})}));return _E(i,"discard")&&jE()(E,(function(t){return!e.isInRange(t)}))?null:E}return null}(BE({x:o.scale,y:a.scale}),Ko(t),Ko(n),r&&2===r.length,e);if(!f)return null;var d=XE(f,2),h=d[0],p=h.x,m=h.y,v=d[1],g=v.x,y=v.y,E=YE(YE({clipPath:_E(e,"hidden")?"url(#".concat(c,")"):void 0},Ra(e,!0)),{},{x1:p,y1:m,x2:g,y2:y});return i.createElement(Ma,{className:No()("recharts-reference-line",l)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):aa()(e)?e(t):i.createElement("line",JE({},t,{className:"recharts-reference-line-line"}))}(s,E),Td.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return HE({x:t,y:n},{x:r,y:i})}({x1:p,y1:m,x2:g,y2:y})))}function eA(){return eA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eA.apply(this,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(n),!0).forEach((function(t){rA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$E.displayName="ReferenceLine",$E.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function iA(e){var t=e.x1,n=e.x2,r=e.y1,o=e.y2,a=e.className,s=e.alwaysShow,l=e.clipPathId;Xo(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ko(t),c=Ko(n),f=Ko(r),d=Ko(o),h=e.shape;if(!u&&!c&&!f&&!d&&!h)return null;var p=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,u=i.xAxis,c=i.yAxis;if(!u||!c)return null;var f=BE({x:u.scale,y:c.scale}),d={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(s,{position:"start"}):f.y.rangeMin},h={x:t?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:r?f.y.apply(l,{position:"end"}):f.y.rangeMax};return!_E(i,"discard")||f.isInRange(d)&&f.isInRange(h)?HE(d,h):null}(u,c,f,d,e);if(!p&&!h)return null;var m=_E(e,"hidden")?"url(#".concat(l,")"):void 0;return i.createElement(Ma,{className:No()("recharts-reference-area",a)},iA.renderRect(h,nA(nA({clipPath:m},Ra(e,!0)),p)),Td.renderCallByParent(e,p))}iA.displayName="ReferenceArea",iA.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},iA.renderRect=function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):aa()(e)?e(t):i.createElement(Ef,eA({},t,{className:"recharts-reference-area-rect"}))};var oA=function(e,t,n,r,i){var o=Nf(e,$E.displayName),a=Nf(e,VE.displayName),s=o.concat(a),l=Nf(e,iA.displayName),u="".concat(r,"Id"),c=r[0],f=t;if(s.length&&(f=s.reduce((function(e,t){if(t.props[u]===n&&_E(t.props,"extendDomain")&&Fo(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),f)),l.length){var d="".concat(c,"1"),h="".concat(c,"2");f=l.reduce((function(e,t){if(t.props[u]===n&&_E(t.props,"extendDomain")&&Fo(t.props[d])&&Fo(t.props[h])){var r=t.props[d],i=t.props[h];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),f)}return i&&i.length&&(f=i.reduce((function(e,t){return Fo(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),f)),f},aA=n(97143),sA=new(n.n(aA)());sA.setMaxListeners&&sA.setMaxListeners(10);var lA="recharts.syncMouseEvents";function uA(e){return uA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(e)}function cA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||AA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fA(){return fA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fA.apply(this,arguments)}function dA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pA(e,t){return pA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pA(e,t)}function mA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yA(e);if(t){var i=yA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vA(this,n)}}function vA(e,t){return!t||"object"!==uA(t)&&"function"!==typeof t?gA(e):t}function gA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yA(e){return yA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yA(e)}function EA(e){return function(e){if(Array.isArray(e))return TA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||AA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AA(e,t){if(e){if("string"===typeof e)return TA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TA(e,t):void 0}}function TA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OA(Object(n),!0).forEach((function(t){LA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SA={xAxis:["bottom","top"],yAxis:["left","right"]},bA={x:0,y:0},IA=Number.isFinite?Number.isFinite:isFinite,NA="function"===typeof requestAnimationFrame?requestAnimationFrame:"function"===typeof setImmediate?setImmediate:setTimeout,xA="function"===typeof cancelAnimationFrame?cancelAnimationFrame:"function"===typeof clearImmediate?clearImmediate:clearTimeout,_A=function(e,t,n){var r=t.graphicalItems,i=t.dataStartIndex,o=t.dataEndIndex,a=(r||[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(EA(e),EA(n)):e}),[]);return a&&a.length>0?a:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:e&&e.length&&Fo(i)&&Fo(o)?e.slice(i,o+1):[]},MA=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=_A(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(e,t){if(t.props.hide)return e;var i,s=t.props.data;o.dataKey&&!o.allowDuplicatedCategory?i=qo(void 0===s?a:s,o.dataKey,r):i=s&&s[n]||a[n];return i?[].concat(EA(e),[dE(t,i)]):e}),[])},wA=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a>1){if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var u=l>0?r[l-1].coordinate:r[a-1].coordinate,c=r[l].coordinate,f=l>=a-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(Go(c-u)!==Go(f-c)){var h=[];if(Go(f-c)===Go(s[1]-s[0])){d=f;var p=c+s[1]-s[0];h[0]=Math.min(p,(p+u)/2),h[1]=Math.max(p,(p+u)/2)}else{d=u;var m=f+s[1]-s[0];h[0]=Math.min(c,(m+c)/2),h[1]=Math.max(c,(m+c)/2)}var v=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){o=r[l].index;break}}else{var g=Math.min(u,f),y=Math.max(u,f);if(e>(g+c)/2&&e<=(y+c)/2){o=r[l].index;break}}}else for(var E=0;E<a;E++)if(0===E&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<a-1&&e>(n[E].coordinate+n[E-1].coordinate)/2&&e<=(n[E].coordinate+n[E+1].coordinate)/2||E===a-1&&e>(n[E].coordinate+n[E-1].coordinate)/2){o=n[E].index;break}}else o=0;return o}(o,a,l,s);if(u>=0&&l){var c=l[u]&&l[u].value,f=MA(e,t,u,c),d=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return RA(RA(RA({},r),Uc(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return RA(RA(RA({},r),Uc(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return bA}(n,a,u,i);return{activeTooltipIndex:u,activeLabel:c,activePayload:f,activeCoordinate:d}}return null},CA=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,f=e.stackOffset,d=Qy(u,i),h=n.reduce((function(t,n){var h=n.props,p=h.type,m=h.dataKey,v=h.allowDataOverflow,g=h.allowDuplicatedCategory,y=h.scale,E=h.ticks,A=n.props[o],T=_A(e.data,{graphicalItems:r.filter((function(e){return e.props[o]===A})),dataStartIndex:s,dataEndIndex:l}),O=T.length;if(!t[A]){var R,L,S;if(m){if(R=jy(T,m,p),"category"===p&&d){var b=function(e){if(!Co()(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(R);g&&b?(L=R,R=da()(0,O)):g||(R=fE(n.props.domain,R,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(EA(e),[t])}),[]))}else if("category"===p)R=g?R.filter((function(e){return""!==e&&!pa()(e)})):fE(n.props.domain,R,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||pa()(t)?e:[].concat(EA(e),[t])}),[]);else if("number"===p){var I=function(e,t,n,r){var i=t.map((function(t){return qy(e,t,n,r)})).filter((function(e){return!pa()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(T,r.filter((function(e){return e.props[o]===A&&!e.props.hide})),m,i);I&&(R=I)}!d||"number"!==p&&"auto"===y||(S=jy(T,m,"category"))}else R=d?da()(0,O):a&&a[A]&&a[A].hasStack&&"number"===p?"expand"===f?[0,1]:aE(a[A].stackGroups,s,l):Xy(T,r.filter((function(e){return e.props[o]===A&&!e.props.hide})),p,!0);if("number"===p)R=oA(c,R,A,i,E),n.props.domain&&(R=uE(n.props.domain,R,v));else if("category"===p&&n.props.domain){var N=n.props.domain;R.every((function(e){return N.indexOf(e)>=0}))&&(R=N)}return RA(RA({},t),{},LA({},A,RA(RA({},n.props),{},{axisType:i,domain:R,categoricalDomain:S,duplicateDomain:L,originalDomain:n.props.domain,isCategorical:d,layout:u})))}return t}),{});return h},PA=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.children,c="".concat(r,"Id"),f=Nf(u,i),d={};return f&&f.length?d=CA(e,{axes:f,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,f=_A(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),d=f.length,h=Qy(u,i),p=-1;return n.reduce((function(e,t){var m,v=t.props[o];return e[v]?e:(p++,h?m=da()(0,d):a&&a[v]&&a[v].hasStack?(m=aE(a[v].stackGroups,s,l),m=oA(c,m,v,i)):(m=uE(r.defaultProps.domain,Xy(f,n.filter((function(e){return e.props[o]===v&&!e.props.hide})),"number"),r.defaultProps.allowDataOverflow),m=oA(c,m,v,i)),RA(RA({},e),{},LA({},v,RA(RA({axisType:i},r.defaultProps),{},{hide:!0,orientation:Mo()(SA,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:r.defaultProps.domain,isCategorical:h,layout:u}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),d},DA=function(e){var t=e.children,n=e.defaultShowTooltip,r=xf(t,xE.displayName);return{chartX:0,chartY:0,dataStartIndex:r&&r.props&&r.props.startIndex||0,dataEndIndex:r&&r.props&&r.props.endIndex||e.data&&e.data.length-1||0,activeTooltipIndex:-1,isTooltipActive:!pa()(n)&&n}},kA=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},HA=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,u=n.children,c=n.margin||{},f=xf(u,xE.displayName),d=xf(u,Uu.displayName),h=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:RA(RA({},e),{},LA({},r,e[r]+n.width))}),{left:c.left||0,right:c.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:RA(RA({},e),{},LA({},r,Mo()(e,"".concat(r))+n.height))}),{top:c.top||0,bottom:c.bottom||0}),m=RA(RA({},p),h),v=m.bottom;return f&&(m.bottom+=f.props.height||xE.defaultProps.height),d&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=Yy({children:i,legendWidth:s}),u=e;if(l){var c=r||{},f=l.align,d=l.verticalAlign,h=l.layout;("vertical"===h||"horizontal"===h&&"center"===d)&&Fo(e[f])&&(u=Ky(Ky({},e),{},Vy({},f,u[f]+(c.width||0)))),("horizontal"===h||"vertical"===h&&"center"===f)&&Fo(e[d])&&(u=Ky(Ky({},e),{},Vy({},d,u[d]+(c.height||0))))}return u}(m,0,n,t)),RA(RA({brushBottom:v},m),{},{width:s-m.left-m.right,height:l-m.top-m.bottom})},UA=n(15727),BA=n.n(UA);function GA(e){return function(e){if(Array.isArray(e))return WA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return WA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FA(){return FA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FA.apply(this,arguments)}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KA(Object(n),!0).forEach((function(t){zA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ZA={valueAccessor:function(e){return Co()(e.value)?BA()(e.value):e.value}};function YA(e){var t=e.data,n=e.valueAccessor,r=e.dataKey,o=e.clockWise,a=e.id,s=e.textBreakAll,l=jA(e,["data","valueAccessor","dataKey","clockWise","id","textBreakAll"]);return t&&t.length?i.createElement(Ma,{className:"recharts-label-list"},t.map((function(e,t){var u=pa()(r)?n(e,t):zy(e&&e.payload,r),c=pa()(a)?{}:{id:"".concat(a,"-").concat(t)};return i.createElement(Td,FA({},Ra(e,!0),l,c,{parentViewBox:e.parentViewBox,index:t,value:u,textBreakAll:s,viewBox:Td.parseViewBox(pa()(o)?e:VA(VA({},e),{},{clockWise:o})),key:"label-".concat(t)}))}))):null}function qA(e,t){return e?!0===e?i.createElement(YA,{key:"labelList-implicit",data:t}):i.isValidElement(e)||aa()(e)?i.createElement(YA,{key:"labelList-implicit",data:t,content:e}):ya()(e)?i.createElement(YA,FA({data:t},e,{key:"labelList-implicit"})):null:null}function XA(){return XA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XA.apply(this,arguments)}function QA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return JA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $A(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eT(e){var t=e.offset,n=e.layout,r=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,c=$A(e,["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"]),f=Ra(c),d=a.map((function(e,a){var c=s(e,o),d=c.x,h=c.y,p=c.value,m=c.errorVal;if(!m)return null;var v,g,y=[];if(Array.isArray(m)){var E=QA(m,2);v=E[0],g=E[1]}else v=g=m;if("vertical"===n){var A=l.scale,T=h+t,O=T+r,R=T-r,L=A(p-v),S=A(p+g);y.push({x1:S,y1:O,x2:S,y2:R}),y.push({x1:L,y1:T,x2:S,y2:T}),y.push({x1:L,y1:O,x2:L,y2:R})}else if("horizontal"===n){var b=u.scale,I=d+t,N=I-r,x=I+r,_=b(p-v),M=b(p+g);y.push({x1:N,y1:M,x2:x,y2:M}),y.push({x1:I,y1:_,x2:I,y2:M}),y.push({x1:N,y1:_,x2:x,y2:_})}return i.createElement(Ma,XA({className:"recharts-errorBar",key:"bar-".concat(a)},f),y.map((function(e,t){return i.createElement("line",XA({},e,{key:"line-".concat(t)}))})))}));return i.createElement(Ma,{className:"recharts-errorBars"},d)}function tT(e){return tT="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tT(e)}function nT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rT(){return rT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rT.apply(this,arguments)}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iT(Object(n),!0).forEach((function(t){aT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sT(e){return function(e){if(Array.isArray(e))return lT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return lT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fT(e,t){return fT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fT(e,t)}function dT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pT(e);if(t){var i=pT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hT(this,n)}}function hT(e,t){return!t||"object"!==tT(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pT(e){return pT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pT(e)}YA.displayName="LabelList",YA.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=Nf(r,YA.displayName).map((function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return o;var a=qA(e.label,t);return[a].concat(GA(o))},YA.defaultProps=ZA,eT.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},eT.displayName="ErrorBar";var mT=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fT(e,t)}(a,e);var t,n,r,o=dT(a);function a(){var e;uT(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).mainCurve=void 0,e.state={isAnimationFinished:!0,totalLength:0},e.getStrokeDasharray=function(e,t,n){for(var r=n.reduce((function(e,t){return e+t})),i=Math.floor(e/r),o=e%r,s=t-e,l=[],u=0,c=0;;c+=n[u],++u)if(c+n[u]>o){l=[].concat(sT(n.slice(0,u)),[o-c]);break}var f=l.length%2===0?[0,s]:[s];return[].concat(sT(a.repeat(n,i)),sT(l),f).map((function(e){return"".concat(e,"px")})).join(", ")},e.id=zo("recharts-line-"),e.pathRef=function(t){e.mainCurve=t},e.handleAnimationEnd=function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()},e.handleAnimationStart=function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()},e}return t=a,n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,n=e.xAxis,r=e.yAxis,o=e.layout,a=e.children,s=Nf(a,eT.displayName);if(!s)return null;function l(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:zy(e.payload,t)}}return s.map((function(e,a){return i.cloneElement(e,{key:"bar-".concat(a),data:t,xAxis:n,yAxis:r,layout:o,dataPointFormatter:l})}))}},{key:"renderDots",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.dot,o=n.points,s=n.dataKey,l=Ra(this.props),u=Ra(r,!0),c=o.map((function(e,t){var n=oT(oT(oT({key:"dot-".concat(t),r:3},l),u),{},{value:e.value,dataKey:s,cx:e.x,cy:e.y,index:t,payload:e.payload});return a.renderDotItem(r,n)})),f={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Ma,rT({className:"recharts-line-dots",key:"dots"},f),c)}},{key:"renderCurveStatically",value:function(e,t,n,r){var o=this.props,a=o.type,s=o.layout,l=o.connectNulls,u=(o.ref,nT(o,["type","layout","connectNulls","ref"])),c=oT(oT(oT({},Ra(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:s,connectNulls:l});return i.createElement(Rc,rT({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.strokeDasharray,s=r.isAnimationActive,l=r.animationBegin,u=r.animationDuration,c=r.animationEasing,f=r.animationId,d=r.animateNewValues,h=r.width,p=r.height,m=this.state,v=m.prevPoints,g=m.totalLength;return i.createElement(Js,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(v){var s=v.length/o.length,l=o.map((function(e,t){var n=Math.floor(t*s);if(v[n]){var r=v[n],o=Yo(r.x,e.x),a=Yo(r.y,e.y);return oT(oT({},e),{},{x:o(i),y:a(i)})}if(d){var l=Yo(2*h,e.x),u=Yo(p/2,e.y);return oT(oT({},e),{},{x:l(i),y:u(i)})}return oT(oT({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var u,c=Yo(0,g)(i);if(a){var f="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));u=n.getStrokeDasharray(c,g,f)}else u="".concat(c,"px ").concat(g-c,"px");return n.renderCurveStatically(o,e,t,{strokeDasharray:u})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!Zd()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.dot,r=e.points,o=e.className,a=e.xAxis,s=e.yAxis,l=e.top,u=e.left,c=e.width,f=e.height,d=e.isAnimationActive,h=e.id;if(t||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=1===r.length,v=No()("recharts-line",o),g=a&&a.allowDataOverflow||s&&s.allowDataOverflow,y=pa()(h)?this.id:h;return i.createElement(Ma,{className:v},g?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(y)},i.createElement("rect",{x:u,y:l,width:c,height:f}))):null,!m&&this.renderCurve(g,y),this.renderErrorBar(),(m||n)&&this.renderDots(g,y),(!d||p)&&YA.renderCallByParent(this.props,r))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(sT(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(sT(r),sT(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(aa()(e))n=e(t);else{var r=No()("recharts-line-dot",e?e.className:"");n=i.createElement(lf,rT({},t,{className:r}))}return n}}],n&&cT(t.prototype,n),r&&cT(t,r),a}(i.PureComponent);mT.displayName="Line",mT.defaultProps={xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1},mT.getComposedData=function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout,f=l.map((function(e,t){var l=zy(e,a);return"horizontal"===c?{x:oE({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:pa()(l)?null:r.scale(l),value:l,payload:e}:{x:pa()(l)?null:n.scale(l),y:oE({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return oT({points:f,layout:c},u)};var vT=function(){return null};vT.displayName="XAxis",vT.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",domain:[0,"auto"],padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var gT=function(){return null};gT.displayName="YAxis",gT.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",domain:[0,"auto"],padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var yT=function(e){var t,n,r=e.chartName,o=e.GraphicalChild,a=e.defaultTooltipEventType,s=void 0===a?"axis":a,l=e.validateTooltipEventTypes,u=void 0===l?["axis"]:l,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,p=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,l=e.barSize,u=e.layout,f=e.barGap,d=e.barCategoryGap,h=e.maxBarSize,p=kA(u),m=p.numericAxisName,v=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=Lf(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=g&&function(e){var t=e.barSize,n=e.stackGroups,r=void 0===n?{}:n;if(!r)return{};for(var i={},o=Object.keys(r),a=0,s=o.length;a<s;a++)for(var l=r[o[a]].stackGroups,u=Object.keys(l),c=0,f=u.length;c<f;c++){var d=l[u[c]],h=d.items,p=d.cateAxisId,m=h.filter((function(e){return Lf(e.type).indexOf("Bar")>=0}));if(m&&m.length){var v=m[0].props.barSize,g=m[0].props[p];i[g]||(i[g]=[]),i[g].push({item:m[0],stackList:m.slice(1),barSize:pa()(v)?t:v})}}return i}({barSize:l,stackGroups:r}),E=[];return n.forEach((function(n,l){var p=_A(e.data,{dataStartIndex:a,dataEndIndex:s},n),g=n.props,A=g.dataKey,T=g.maxBarSize,O=n.props["".concat(m,"Id")],R=n.props["".concat(v,"Id")],L=c.reduce((function(e,r){var i,o=t["".concat(r.axisType,"Map")],a=n.props["".concat(r.axisType,"Id")],s=o&&o[a];return RA(RA({},e),{},(LA(i={},r.axisType,s),LA(i,"".concat(r.axisType,"Ticks"),$y(s)),i))}),{}),S=L[v],b=L["".concat(v,"Ticks")],I=r&&r[O]&&r[O].hasStack&&function(e,t){var n=e.props.stackId;if(Ko(n)){var r=t[n];if(r&&r.items.length){for(var i=-1,o=0,a=r.items.length;o<a;o++)if(r.items[o]===e){i=o;break}return i>=0?r.stackedData[i]:null}}return null}(n,r[O].stackGroups),N=Lf(n.type).indexOf("Bar")>=0,x=cE(S,b),_=[];if(N){var M,w,C=pa()(T)?h:T,P=null!==(M=null!==(w=cE(S,b,!0))&&void 0!==w?w:C)&&void 0!==M?M:0;_=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,u=jo(t,r,0,!0);if(o[0].barSize===+o[0].barSize){var c=!1,f=r/s,d=o.reduce((function(e,t){return e+t.barSize||0}),0);(d+=(s-1)*u)>=r&&(d-=(s-1)*u,u=0),d>=r&&f>0&&(c=!0,d=s*(f*=.9));var h={offset:((r-d)/2>>0)-u,size:0};l=o.reduce((function(e,t){var n=[].concat(Gy(e),[{item:t.item,position:{offset:h.offset+h.size+u,size:c?f:t.barSize}}]);return h=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:h})})),n}),[])}else{var p=jo(n,r,0,!0);r-2*p-(s-1)*u<=0&&(u=0);var m=(r-2*p-(s-1)*u)/s;m>1&&(m>>=0);var v=a===+a?Math.min(m,a):m;l=o.reduce((function(e,t,n){var r=[].concat(Gy(e),[{item:t.item,position:{offset:p+(m+u)*n+(m-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),[])}return l}({barGap:f,barCategoryGap:d,bandSize:P!==x?P:x,sizeList:y[R],maxBarSize:C}),P!==x&&(_=_.map((function(e){return RA(RA({},e),{},{position:RA(RA({},e.position),{},{offset:e.position.offset-P/2})})})))}var D,k,H,U=n&&n.type&&n.type.getComposedData;U&&E.push({props:RA(RA({},U(RA(RA({},L),{},{displayedData:p,props:e,dataKey:A,item:n,bandSize:x,barPosition:_,offset:i,stackedData:I,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},(D={key:n.key||"item-".concat(l)},LA(D,m,L[m]),LA(D,v,L[v]),LA(D,"animationId",o),D)),childIndex:(k=n,H=e.children,If(H).indexOf(k)),item:n})})),E},m=function(e,t){var n=e.props,i=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!_f({props:n}))return null;var l=n.children,u=n.layout,f=n.stackOffset,h=n.data,m=n.reverseStackOrder,v=kA(u),g=v.numericAxisName,y=v.cateAxisName,E=Nf(l,o),A=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i=t.props,o=i.stackId;if(i.hide)return e;var a=t.props[n],s=e[a]||{hasStack:!1,stackGroups:{}};if(Ko(o)){var l=s.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};l.items.push(t),s.hasStack=!0,s.stackGroups[o]=l}else s.stackGroups[zo("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Ky(Ky({},e),{},Vy({},a,s))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return Ky(Ky({},t),{},Vy({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:rE(e,a.items,i)}))}),{})),Ky(Ky({},t),{},Vy({},o,s))}),{})}(h,E,"".concat(g,"Id"),"".concat(y,"Id"),f,m),T=c.reduce((function(e,t){var r="".concat(t.axisType,"Map");return RA(RA({},e),{},LA({},r,PA(n,RA(RA({},t),{},{graphicalItems:E,stackGroups:t.axisType===g&&A,dataStartIndex:i,dataEndIndex:a}))))}),{}),O=HA(RA(RA({},T),{},{props:n,graphicalItems:E}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(T).forEach((function(e){T[e]=d(n,T[e],O,e.replace("Map",""),r)}));var R=function(e){var t=Zo(e),n=$y(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ca()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:cE(t,n)}}(T["".concat(y,"Map")]),L=p(n,RA(RA({},T),{},{dataStartIndex:i,dataEndIndex:a,updateId:s,graphicalItems:E,stackGroups:A,offset:O}));return RA(RA({formattedGraphicalItems:L,graphicalItems:E,offset:O,stackGroups:A},R),T)};return n=t=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pA(e,t)}(l,e);var t,n,o,a=mA(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).uniqueChartId=void 0,t.clipPathId=void 0,t.legendInstance=void 0,t.deferId=void 0,t.container=void 0,t.clearDeferId=function(){!pa()(t.deferId)&&xA&&xA(t.deferId),t.deferId=null},t.handleLegendBBoxUpdate=function(e){if(e&&t.legendInstance){var n=t.state,r=n.dataStartIndex,i=n.dataEndIndex,o=n.updateId;t.setState(RA({legendBBox:e},m({props:t.props,dataStartIndex:r,dataEndIndex:i,updateId:o},RA(RA({},t.state),{},{legendBBox:e}))))}},t.handleReceiveSyncEvent=function(e,n,r){t.props.syncId===e&&n!==t.uniqueChartId&&(t.clearDeferId(),t.deferId=NA&&NA(t.applySyncEvent.bind(gA(t),r)))},t.handleBrushChange=function(e){var n=e.startIndex,r=e.endIndex;if(n!==t.state.dataStartIndex||r!==t.state.dataEndIndex){var i=t.state.updateId;t.setState((function(){return RA({dataStartIndex:n,dataEndIndex:r},m({props:t.props,dataStartIndex:n,dataEndIndex:r,updateId:i},t.state))})),t.triggerSyncEvent({dataStartIndex:n,dataEndIndex:r})}},t.handleMouseEnter=function(e){var n=t.props.onMouseEnter,r=t.getMouseInfo(e);if(r){var i=RA(RA({},r),{},{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),aa()(n)&&n(i,e)}},t.triggeredAfterMouseMove=function(e){var n=t.props.onMouseMove,r=t.getMouseInfo(e),i=r?RA(RA({},r),{},{isTooltipActive:!0}):{isTooltipActive:!1};t.setState(i),t.triggerSyncEvent(i),aa()(n)&&n(i,e)},t.handleItemMouseEnter=function(e){t.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))},t.handleItemMouseLeave=function(){t.setState((function(){return{isTooltipActive:!1}}))},t.handleMouseMove=function(e){e&&aa()(e.persist)&&e.persist(),t.triggeredAfterMouseMove(e)},t.handleMouseLeave=function(e){var n=t.props.onMouseLeave,r={isTooltipActive:!1};t.setState(r),t.triggerSyncEvent(r),aa()(n)&&n(r,e),t.cancelThrottledTriggerAfterMouseMove()},t.handleOuterEvent=function(e){var n=function(e){var t=e&&e.type;return t&&Rf[t]?Rf[t]:null}(e),r=Mo()(t.props,"".concat(n));n&&aa()(r)&&r(/.*touch.*/i.test(n)?t.getMouseInfo(e.changedTouches[0]):t.getMouseInfo(e),e)},t.handleClick=function(e){var n=t.props.onClick,r=t.getMouseInfo(e);if(r){var i=RA(RA({},r),{},{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),aa()(n)&&n(i,e)}},t.handleMouseDown=function(e){var n=t.props.onMouseDown;aa()(n)&&n(t.getMouseInfo(e),e)},t.handleMouseUp=function(e){var n=t.props.onMouseUp;aa()(n)&&n(t.getMouseInfo(e),e)},t.handleTouchMove=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseMove(e.changedTouches[0])},t.handleTouchStart=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseDown(e.changedTouches[0])},t.handleTouchEnd=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseUp(e.changedTouches[0])},t.verticalCoordinatesGenerator=function(e){var t=e.xAxis,n=e.width,r=e.height,i=e.offset;return Jy(kd.getTicks(RA(RA(RA({},kd.defaultProps),t),{},{ticks:$y(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.left,i.left+i.width)},t.horizontalCoordinatesGenerator=function(e){var t=e.yAxis,n=e.width,r=e.height,i=e.offset;return Jy(kd.getTicks(RA(RA(RA({},kd.defaultProps),t),{},{ticks:$y(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.top,i.top+i.height)},t.axesTicksGenerator=function(e){return $y(e,!0)},t.renderCursor=function(e){var n=t.state,o=n.isTooltipActive,a=n.activeCoordinate,s=n.activePayload,l=n.offset,u=n.activeTooltipIndex,c=t.getTooltipEventType();if(!e||!e.props.cursor||!o||!a||"ScatterChart"!==r&&"axis"!==c)return null;var f,d=t.props.layout,h=Rc;if("ScatterChart"===r)f=a,h=wc;else if("BarChart"===r)f=t.getCursorRectangle(),h=Ef;else if("radial"===d){var p=t.getCursorPoints(),m=p.cx,v=p.cy,g=p.radius;f={cx:m,cy:v,startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:g,outerRadius:g},h=Jc}else f={points:t.getCursorPoints()},h=Rc;var y=e.key||"_recharts-cursor",E=RA(RA(RA(RA({stroke:"#ccc",pointerEvents:"none"},l),f),Ra(e.props.cursor)),{},{payload:s,payloadIndex:u,key:y,className:"recharts-tooltip-cursor"});return(0,i.isValidElement)(e.props.cursor)?(0,i.cloneElement)(e.props.cursor,E):(0,i.createElement)(h,E)},t.renderPolarAxis=function(e,n,r){var o=Mo()(e,"type.axisType"),a=Mo()(t.state,"".concat(o,"Map"))[e.props["".concat(o,"Id")]];return(0,i.cloneElement)(e,RA(RA({},a),{},{className:o,key:e.key||"".concat(n,"-").concat(r),ticks:$y(a,!0)}))},t.renderXAxis=function(e,n,r){var i=t.state.xAxisMap[e.props.xAxisId];return t.renderAxis(i,e,n,r)},t.renderYAxis=function(e,n,r){var i=t.state.yAxisMap[e.props.yAxisId];return t.renderAxis(i,e,n,r)},t.renderGrid=function(e){var n=t.state,r=n.xAxisMap,o=n.yAxisMap,a=n.offset,s=t.props,l=s.width,u=s.height,c=Zo(r),f=ia()(o,(function(e){return na()(e.domain,IA)}))||Zo(o),d=e.props||{};return(0,i.cloneElement)(e,{key:e.key||"grid",x:Fo(d.x)?d.x:a.left,y:Fo(d.y)?d.y:a.top,width:Fo(d.width)?d.width:a.width,height:Fo(d.height)?d.height:a.height,xAxis:c,yAxis:f,offset:a,chartWidth:l,chartHeight:u,verticalCoordinatesGenerator:d.verticalCoordinatesGenerator||t.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:d.horizontalCoordinatesGenerator||t.horizontalCoordinatesGenerator})},t.renderPolarGrid=function(e){var n=e.props,r=n.radialLines,o=n.polarAngles,a=n.polarRadius,s=t.state,l=s.radiusAxisMap,u=s.angleAxisMap,c=Zo(l),f=Zo(u),d=f.cx,h=f.cy,p=f.innerRadius,m=f.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Co()(o)?o:$y(f,!0).map((function(e){return e.coordinate})),polarRadius:Co()(a)?a:$y(c,!0).map((function(e){return e.coordinate})),cx:d,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:r})},t.renderLegend=function(){var e=t.state.formattedGraphicalItems,n=t.props,r=n.children,o=n.width,a=n.height,s=t.props.margin||{},l=o-(s.left||0)-(s.right||0),u=Yy({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:f});if(!u)return null;var c=u.item,d=dA(u,["item"]);return(0,i.cloneElement)(c,RA(RA({},d),{},{chartWidth:o,chartHeight:a,margin:s,ref:function(e){t.legendInstance=e},onBBoxUpdate:t.handleLegendBBoxUpdate}))},t.renderTooltip=function(){var e=t.props.children,n=xf(e,bl.displayName);if(!n)return null;var r=t.state,o=r.isTooltipActive,a=r.activeCoordinate,s=r.activePayload,l=r.activeLabel,u=r.offset;return(0,i.cloneElement)(n,{viewBox:RA(RA({},u),{},{x:u.left,y:u.top}),active:o,label:l,payload:o?s:[],coordinate:a})},t.renderBrush=function(e){var n=t.props,r=n.margin,o=n.data,a=t.state,s=a.offset,l=a.dataStartIndex,u=a.dataEndIndex,c=a.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:eE(t.handleBrushChange,null,e.props.onChange),data:o,x:Fo(e.props.x)?e.props.x:s.left,y:Fo(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:Fo(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:u,updateId:"brush-".concat(c)})},t.renderReferenceElement=function(e,n,r){if(!e)return null;var o=gA(t).clipPathId,a=t.state,s=a.xAxisMap,l=a.yAxisMap,u=a.offset,c=e.props,f=c.xAxisId,d=c.yAxisId;return(0,i.cloneElement)(e,{key:e.key||"".concat(n,"-").concat(r),xAxis:s[f],yAxis:l[d],viewBox:{x:u.left,y:u.top,width:u.width,height:u.height},clipPathId:o})},t.renderActivePoints=function(e){var t=e.item,n=e.activePoint,r=e.basePoint,i=e.childIndex,o=e.isRange,a=[],s=t.props.key,u=t.item.props,c=u.activeDot,f=RA(RA({index:i,dataKey:u.dataKey,cx:n.x,cy:n.y,r:4,fill:Zy(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value,key:"".concat(s,"-activePoint-").concat(i)},Ra(c)),La(c));return a.push(l.renderActiveDot(c,f)),r?a.push(l.renderActiveDot(c,RA(RA({},f),{},{cx:r.x,cy:r.y,key:"".concat(s,"-basePoint-").concat(i)}))):o&&a.push(null),a},t.renderGraphicChild=function(e,n,r){var o=t.filterFormatItem(e,n,r);if(!o)return null;var a=t.getTooltipEventType(),s=t.state,l=s.isTooltipActive,u=s.tooltipAxis,c=s.activeTooltipIndex,f=s.activeLabel,d=t.props.children,h=xf(d,bl.displayName),p=o.props,m=p.points,v=p.isRange,g=p.baseLine,y=o.item.props,E=y.activeDot,A=!y.hide&&l&&h&&E&&c>=0,T={};"axis"!==a&&h&&"click"===h.props.trigger?T={onClick:eE(t.handleItemMouseEnter,null,e.props.onCLick)}:"axis"!==a&&(T={onMouseLeave:eE(t.handleItemMouseLeave,null,e.props.onMouseLeave),onMouseEnter:eE(t.handleItemMouseEnter,null,e.props.onMouseEnter)});var O=(0,i.cloneElement)(e,RA(RA({},o.props),T));if(A){var R,L;if(u.dataKey&&!u.allowDuplicatedCategory){var S="function"===typeof u.dataKey?function(e){return"function"===typeof u.dataKey?u.dataKey(e.payload):null}:"payload.".concat(u.dataKey.toString());R=qo(m,S,f),L=v&&g&&qo(g,S,f)}else R=m[c],L=v&&g&&g[c];if(!pa()(R))return[O].concat(EA(t.renderActivePoints({item:o,activePoint:R,basePoint:L,childIndex:c,isRange:v})))}return v?[O,null,null]:[O,null]},t.renderCustomized=function(e,n,r){return(0,i.cloneElement)(e,RA(RA({key:"recharts-customized-".concat(r)},t.props),t.state))},t.uniqueChartId=pa()(e.id)?zo("recharts"):e.id,t.clipPathId="".concat(t.uniqueChartId,"-clip"),e.throttleDelay&&(t.triggeredAfterMouseMove=la()(t.triggeredAfterMouseMove,e.throttleDelay)),t.state={},t}return t=l,n=[{key:"componentDidMount",value:function(){pa()(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(e){pa()(e.syncId)&&!pa()(this.props.syncId)&&this.addListener(),!pa()(e.syncId)&&pa()(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),pa()(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){"function"===typeof this.triggeredAfterMouseMove.cancel&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=xf(this.props.children,bl.displayName);if(e&&va()(e.props.shared)){var t=e.props.shared?"axis":"item";return u.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t=function(e,t){return{chartX:Math.round(e.pageX-t.left),chartY:Math.round(e.pageY-t.top)}}(e,function(e){var t=e.ownerDocument.documentElement,n={top:0,left:0};return"undefined"!==typeof e.getBoundingClientRect&&(n=e.getBoundingClientRect()),{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}(this.container)),n=this.inRange(t.chartX,t.chartY);if(!n)return null;var r=this.state,i=r.xAxisMap,o=r.yAxisMap;if("axis"!==this.getTooltipEventType()&&i&&o){var a=Zo(i).scale,s=Zo(o).scale,l=a&&a.invert?a.invert(t.chartX):null,u=s&&s.invert?s.invert(t.chartY):null;return RA(RA({},t),{},{xValue:l,yValue:u})}var c=wA(this.state,this.props.data,this.props.layout,n);return c?RA(RA({},t),c):null}},{key:"getCursorRectangle",value:function(){var e=this.props.layout,t=this.state,n=t.activeCoordinate,r=t.offset,i=t.tooltipAxisBandSize,o=i/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?n.x-o:r.left+.5,y:"horizontal"===e?r.top+.5:n.y-o,width:"horizontal"===e?i:r.width-1,height:"horizontal"===e?r.height-1:i}}},{key:"getCursorPoints",value:function(){var e,t,n,r,i=this.props.layout,o=this.state,a=o.activeCoordinate,s=o.offset;if("horizontal"===i)n=e=a.x,t=s.top,r=s.top+s.height;else if("vertical"===i)r=t=a.y,e=s.left,n=s.left+s.width;else if(!pa()(a.cx)||!pa()(a.cy)){if("centric"!==i){var l=a.cx,u=a.cy,c=a.radius,f=a.startAngle,d=a.endAngle;return{points:[Uc(l,u,c,f),Uc(l,u,c,d)],cx:l,cy:u,radius:c,startAngle:f,endAngle:d}}var h=a.cx,p=a.cy,m=a.innerRadius,v=a.outerRadius,g=a.angle,y=Uc(h,p,m,g),E=Uc(h,p,v,g);e=y.x,t=y.y,n=E.x,r=E.y}return[{x:e,y:t},{x:n,y:r}]}},{key:"inRange",value:function(e,t){var n=this.props.layout;if("horizontal"===n||"vertical"===n){var r=this.state.offset;return e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height?{x:e,y:t}:null}var i=this.state,o=i.angleAxisMap,a=i.radiusAxisMap;if(o&&a){var s=Zo(o);return Wc({x:e,y:t},s)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=xf(e,bl.displayName),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),RA(RA({},La(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){sA.on(lA,this.handleReceiveSyncEvent),sA.setMaxListeners&&sA._maxListeners&&sA.setMaxListeners(sA._maxListeners+1)}},{key:"removeListener",value:function(){sA.removeListener(lA,this.handleReceiveSyncEvent),sA.setMaxListeners&&sA._maxListeners&&sA.setMaxListeners(sA._maxListeners-1)}},{key:"triggerSyncEvent",value:function(e){var t=this.props.syncId;pa()(t)||sA.emit(lA,t,this.uniqueChartId,e)}},{key:"applySyncEvent",value:function(e){var t=this.props,n=t.layout,r=t.syncMethod,i=this.state.updateId,o=e.dataStartIndex,a=e.dataEndIndex;if(pa()(e.dataStartIndex)&&pa()(e.dataEndIndex))if(pa()(e.activeTooltipIndex))this.setState(e);else{var s=e.chartX,l=e.chartY,u=e.activeTooltipIndex,c=this.state,f=c.offset,d=c.tooltipTicks;if(!f)return;if("function"===typeof r)u=r(d,e);else if("value"===r){u=-1;for(var h=0;h<d.length;h++)if(d[h].value===e.activeLabel){u=h;break}}var p=RA(RA({},f),{},{x:f.left,y:f.top}),v=Math.min(s,p.x+p.width),g=Math.min(l,p.y+p.height),y=d[u]&&d[u].value,E=MA(this.state,this.props.data,u),A=d[u]?{x:"horizontal"===n?d[u].coordinate:v,y:"horizontal"===n?g:d[u].coordinate}:bA;this.setState(RA(RA({},e),{},{activeLabel:y,activeCoordinate:A,activePayload:E,activeTooltipIndex:u}))}else this.setState(RA({dataStartIndex:o,dataEndIndex:a},m({props:this.props,dataStartIndex:o,dataEndIndex:a,updateId:i},this.state)))}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===Lf(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderAxis",value:function(e,t,n,r){var o=this.props,a=o.width,s=o.height;return i.createElement(kd,fA({},e,{className:"recharts-".concat(e.axisType," ").concat(e.axisType),key:t.key||"".concat(n,"-").concat(r),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,a=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=cA(t,2),r=n[0],i=n[1];return RA(RA({},e),{},LA({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=cA(t,2),r=n[0],i=n[1];return RA(RA({},e),{},LA({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t,n;return null===(t=this.state.xAxisMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scale}},{key:"getYScaleByAxisId",value:function(e){var t,n;return null===(t=this.state.yAxisMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scale}},{key:"getItemByXY",value:function(e){var t=this.state.formattedGraphicalItems;if(t&&t.length)for(var n=0,r=t.length;n<r;n++){var i=t[n],o=i.props,a=i.item,s=Lf(a.type);if("Bar"===s){var l=(o.data||[]).find((function(t){return yf(e,t)}));if(l)return{graphicalItem:i,payload:l}}else if("RadialBar"===s){var u=(o.data||[]).find((function(t){return Wc(e,t)}));if(u)return{graphicalItem:i,payload:u}}}return null}},{key:"render",value:function(){var e=this;if(!_f(this))return null;var t=this.props,n=t.children,r=t.className,o=t.width,a=t.height,s=t.style,l=t.compact,u=dA(t,["children","className","width","height","style","compact"]),c=Ra(u),f={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(l)return i.createElement(Na,fA({},c,{width:o,height:a}),this.renderClipPath(),Df(n,f));var d=this.parseEventsOfWrapper();return i.createElement("div",fA({className:No()("recharts-wrapper",r),style:RA({position:"relative",cursor:"default",width:o,height:a},s)},d,{ref:function(t){e.container=t}}),i.createElement(Na,fA({},c,{width:o,height:a}),this.renderClipPath(),Df(n,f)),this.renderLegend(),this.renderTooltip())}}],n&&hA(t.prototype,n),o&&hA(t,o),l}(i.Component),t.displayName=r,t.defaultProps=RA({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h),t.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.children,i=e.width,o=e.height,a=e.layout,s=e.stackOffset,l=e.margin;if(pa()(t.updateId)){var u=DA(e);return RA(RA(RA({},u),{},{updateId:0},m(RA(RA({props:e},u),{},{updateId:0}),t)),{},{prevData:n,prevWidth:i,prevHeight:o,prevLayout:a,prevStackOffset:s,prevMargin:l,prevChildren:r})}if(n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||a!==t.prevLayout||s!==t.prevStackOffset||!Tf(l,t.prevMargin)){var c=DA(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},d=RA(RA({},wA(t,n,a)),{},{updateId:t.updateId+1}),h=RA(RA(RA({},c),f),d);return RA(RA(RA({},h),m(RA({props:e},h),t)),{},{prevData:n,prevWidth:i,prevHeight:o,prevLayout:a,prevStackOffset:s,prevMargin:l,prevChildren:r})}if(!Cf(r,t.prevChildren)){var p=!pa()(n)?t.updateId:t.updateId+1;return RA(RA({updateId:p},m(RA(RA({props:e},t),{},{updateId:p}),t)),{},{prevChildren:r})}return null},t.renderActiveDot=function(e,t){var n;return n=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):aa()(e)?e(t):i.createElement(lf,t),i.createElement(Ma,{className:"recharts-active-dot",key:t.key},n)},n}({chartName:"LineChart",GraphicalChild:mT,axisComponents:[{axisType:"xAxis",AxisComp:vT},{axisType:"yAxis",AxisComp:gT}],formatAxisMap:function(e,t,n,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(t),f={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},d=!!xf(u,"Bar");return c.reduce((function(a,s){var u,c,h,p,m,v=t[s],g=v.orientation,y=v.domain,E=v.padding,A=void 0===E?{}:E,T=v.mirror,O=v.reversed,R="".concat(g).concat(T?"Mirror":"");if("number"===v.type&&("gap"===v.padding||"no-gap"===v.padding)){var L=y[1]-y[0],S=1/0,b=v.categoricalDomain.sort();b.forEach((function(e,t){t>0&&(S=Math.min((e||0)-(b[t-1]||0),S))}));var I=S/L,N="vertical"===v.layout?n.height:n.width;if("gap"===v.padding&&(u=I*N/2),"no-gap"===v.padding){var x=jo(e.barCategoryGap,I*N),_=I*N/2;u=_-x-(_-x)/N*x}}c="xAxis"===i?[n.left+(A.left||0)+(u||0),n.left+n.width-(A.right||0)-(u||0)]:"yAxis"===i?"horizontal"===l?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(u||0),n.top+n.height-(A.bottom||0)-(u||0)]:v.range,O&&(c=[c[1],c[0]]);var M=function(e,t,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:Kd(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:um(),realScaleType:"linear"}:"category"===o&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:zd(),realScaleType:"point"}:"category"===o?{scale:Kd(),realScaleType:"band"}:{scale:um(),realScaleType:"linear"};if(Bo()(i)){var l="scale".concat(Nl()(i));return{scale:(r[l]||zd)(),realScaleType:r[l]?l:"point"}}return aa()(i)?{scale:i}:{scale:zd(),realScaleType:"point"}}(v,o,d),w=M.scale,C=M.realScaleType;w.domain(y).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-tE,o=Math.max(r[0],r[1])+tE,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(w);var P=iE(w,DE(DE({},v),{},{realScaleType:C}));"xAxis"===i?(m="top"===g&&!T||"bottom"===g&&T,h=n.left,p=f[R]-m*v.height):"yAxis"===i&&(m="left"===g&&!T||"right"===g&&T,h=f[R]-m*v.width,p=n.top);var D=DE(DE(DE({},v),P),{},{realScaleType:C,x:h,y:p,scale:w,width:"xAxis"===i?n.width:v.width,height:"yAxis"===i?n.height:v.height});return D.bandSize=cE(D,P),v.hide||"xAxis"!==i?v.hide||(f[R]+=(m?-1:1)*D.width):f[R]+=(m?-1:1)*D.height,DE(DE({},a),{},kE({},s,D))}),{})}});function ET(e){return ET="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ET(e)}function AT(){return AT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AT.apply(this,arguments)}function TT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OT(Object(n),!0).forEach((function(t){LT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ST(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IT(e,t){return IT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},IT(e,t)}function NT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_T(e);if(t){var i=_T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xT(this,n)}}function xT(e,t){return!t||"object"!==ET(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _T(e){return _T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_T(e)}var MT=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IT(e,t)}(a,e);var t,n,r,o=NT(a);function a(){return ST(this,a),o.apply(this,arguments)}return t=a,n=[{key:"renderHorizontal",value:function(e){var t=this,n=this.props,r=n.x,o=n.width,s=n.horizontal;if(!e||!e.length)return null;var l=e.map((function(e,n){var i=RT(RT({},t.props),{},{x1:r,y1:e,x2:r+o,y2:e,key:"line-".concat(n),index:n});return a.renderLineItem(s,i)}));return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}},{key:"renderVertical",value:function(e){var t=this,n=this.props,r=n.y,o=n.height,s=n.vertical;if(!e||!e.length)return null;var l=e.map((function(e,n){var i=RT(RT({},t.props),{},{x1:e,y1:r,x2:e,y2:r+o,key:"line-".concat(n),index:n});return a.renderLineItem(s,i)}));return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}},{key:"renderVerticalStripes",value:function(e){var t=this.props.verticalFill;if(!t||!t.length)return null;var n=this.props,r=n.fillOpacity,o=n.x,a=n.y,s=n.width,l=n.height,u=e.slice().sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var c=u.map((function(e,n){var c=u[n+1]?u[n+1]-e:o+s-e;if(c<=0)return null;var f=n%t.length;return i.createElement("rect",{key:"react-".concat(n),x:Math.round(e+o-o),y:a,width:c,height:l,stroke:"none",fill:t[f],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}},{key:"renderHorizontalStripes",value:function(e){var t=this.props.horizontalFill;if(!t||!t.length)return null;var n=this.props,r=n.fillOpacity,o=n.x,a=n.y,s=n.width,l=n.height,u=e.slice().sort((function(e,t){return e-t}));a!==u[0]&&u.unshift(0);var c=u.map((function(e,n){var c=u[n+1]?u[n+1]-e:a+l-e;if(c<=0)return null;var f=n%t.length;return i.createElement("rect",{key:"react-".concat(n),y:Math.round(e+a-a),x:o,height:c,width:s,stroke:"none",fill:t[f],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}},{key:"renderBackground",value:function(){var e=this.props.fill;if(!e||"none"===e)return null;var t=this.props,n=t.fillOpacity,r=t.x,o=t.y,a=t.width,s=t.height;return i.createElement("rect",{x:r,y:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.horizontal,s=e.vertical,l=e.horizontalCoordinatesGenerator,u=e.verticalCoordinatesGenerator,c=e.xAxis,f=e.yAxis,d=e.offset,h=e.chartWidth,p=e.chartHeight;if(!Fo(r)||r<=0||!Fo(o)||o<=0||!Fo(t)||t!==+t||!Fo(n)||n!==+n)return null;var m=this.props,v=m.horizontalPoints,g=m.verticalPoints;return v&&v.length||!aa()(l)||(v=l({yAxis:f,width:h,height:p,offset:d})),g&&g.length||!aa()(u)||(g=u({xAxis:c,width:h,height:p,offset:d})),i.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),a&&this.renderHorizontal(v),s&&this.renderVertical(g),a&&this.renderHorizontalStripes(v),s&&this.renderVerticalStripes(g))}}],r=[{key:"renderLineItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(aa()(e))n=e(t);else{var r=t.x1,o=t.y1,a=t.x2,s=t.y2,l=t.key,u=TT(t,["x1","y1","x2","y2","key"]);n=i.createElement("line",AT({},Ra(u),{x1:r,y1:o,x2:a,y2:s,fill:"none",key:l}))}return n}}],n&&bT(t.prototype,n),r&&bT(t,r),a}(i.PureComponent);MT.displayName="CartesianGrid",MT.defaultProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};var wT,CT,PT,DT,kT=n(8529),HT=Qn.div(wT||(wT=ue(["\n  background-color: #4c4177;\n  background-image: linear-gradient(\n    315deg,\n    hsl(204, 45%, 15%) 0%,\n    hsl(252, 35%, 20%) 70%\n  );\n  padding: 15px;\n  border-radius: 15px;\n  border: 3px groove rgb(200, 200, 200);\n"]))),UT=Qn.div(CT||(CT=ue(["\n  font-size: 1.1rem;\n  font-weight: 700;\n  text-align: center;\n  color: rgb(200, 200, 200);\n"]))),BT=Qn.div(PT||(PT=ue(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  color: ",";\n"])),(function(e){return e.color})),GT=Qn.div(DT||(DT=ue(["\n  margin-left: 8px;\n"])));function WT(e){var t=e.active,n=e.payload,r=e.label,i=e.xAxisLabels;return t&&n&&n.length?(0,re.jsxs)(HT,{children:[(0,re.jsx)(UT,{children:i[r]}),n.sort((function(e,t){return t.value-e.value})).map((function(e){return(0,re.jsxs)(BT,{color:e.color,children:[(0,re.jsxs)("div",{children:[" ",e.dataKey,":"]}),(0,re.jsx)(GT,{children:e.value})]},e.dataKey)}))]}):null}var FT=n(1413),KT=U(),VT=Math.PI/3,zT=2*Math.PI/3;var jT,ZT=function(e,t,n){switch(e){case _b.Categories:return function(e,t){return Object.keys(e.categories).forEach((function(e){t[e]||(t[e]=!0)})),(0,FT.Z)({},e.categories)}(t,n);case _b.Neighbourhoods:return function(e,t){return Object.keys(e.neighbourhoods).forEach((function(e){t[e]||(t[e]=!0)})),(0,FT.Z)({},e.neighbourhoods)}(t,n);case _b.Total:return function(e,t){t.crimes=!0;var n=Object.values(e.categories).reduce((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}),0);return{crimes:n}}(t,n);default:return{}}},YT=function(e){var t=e.mode,n=e.filteredData;return(0,i.useMemo)((function(){var e=function(e,t){var n=[],r={},i=e.map((function(e,i){var o=e.month.split(", "),a=(0,s.Z)(o,2),l=a[0],u=a[1];return n.push("".concat(u,"/").concat(l.slice(2))),(0,FT.Z)({name:i},ZT(t,e,r))}));return{categories:r,groupedData:i,xAxisLabels:n}}(n,t),r=e.categories,i=e.groupedData,o=e.xAxisLabels,a=Object.keys(r),l=1/a.length,u=a.map((function(e,t){return function(e){var t;return e=(.5-e)*Math.PI,KT.r=255*(t=Math.sin(e))*t,KT.g=255*(t=Math.sin(e+VT))*t,KT.b=255*(t=Math.sin(e+zT))*t,KT+""}(t*l)}));return{groupedData:i,categories:a.sort(),xAxisLabels:o,colors:u}}),[n,t])};function qT(e){var t=e.mode,n=e.filteredData,r=YT({mode:t,filteredData:n}),o=r.groupedData,a=r.categories,l=r.xAxisLabels,u=r.colors,c=function(e){var t=e.initialData,n=(0,i.useState)("dataMin"),r=(0,s.Z)(n,2),o=r[0],a=r[1],l=(0,i.useState)("dataMax"),u=(0,s.Z)(l,2),c=u[0],f=u[1],d=(0,i.useState)(null),h=(0,s.Z)(d,2),p=h[0],m=h[1],v=(0,i.useState)(null),g=(0,s.Z)(v,2),y=g[0],E=g[1],A=(0,i.useState)("dataMax+1"),T=(0,s.Z)(A,2),O=T[0],R=T[1],L=(0,i.useState)("dataMin-1"),S=(0,s.Z)(L,2),b=S[0],I=S[1],N=(0,i.useCallback)((function(){m(null),E(null),a("dataMin"),f("dataMax"),I("dataMin-1"),R("dataMax+1")}),[t]);(0,i.useEffect)((function(){setTimeout((function(){N()}),100)}),[N]);var x=(0,i.useCallback)((function(e,n){var r=t.slice(e,n+1),i=1/0,o=-1/0;return r.forEach((function(e){Object.keys(e).forEach((function(t){"name"!==t&&(e[t]<i&&(i=e[t]),e[t]>o&&(o=e[t]))}))})),[i,o]}),[t]);return{left:o,right:c,top:O,bottom:b,refAreaLeft:p,refAreaRight:y,zoom:function(){var e=p,n=y;if(m(null),E(null),e!==n&&null!==n&&null!==e){if(e>n){var r=[n,e];e=r[0],n=r[1]}var i=x(e,n),o=(0,s.Z)(i,2),l=o[0],u=o[1];a(t[e].name),f(t[n].name),I(l),R(u)}},zoomOut:function(){N()},onMouseDown:function(e){m(e.activeTooltipIndex)},onMouseMove:function(e){p&&E(e.activeTooltipIndex)}}}({initialData:o}),f=c.left,d=c.right,h=c.top,p=c.bottom,m=c.refAreaLeft,v=c.refAreaRight,g=c.zoom,y=c.zoomOut,E=c.onMouseDown,A=c.onMouseMove;return(0,re.jsxs)(yo,{children:[f>=0&&(0,re.jsx)(Eo,{children:(0,re.jsx)($n,{onClick:y,children:(0,re.jsx)(kT.Z,{fontSize:"large"})})}),(0,re.jsx)(ea,{width:"100%",height:"100%",children:(0,re.jsxs)(yT,{data:o,margin:{top:5,right:30,left:20,bottom:5},onMouseDown:E,onMouseMove:A,onMouseUp:g,children:[(0,re.jsx)(MT,{strokeDasharray:"3 3"}),(0,re.jsx)(vT,{allowDataOverflow:!0,allowDecimals:!1,tickFormatter:function(e){return l[e]},dataKey:"name",type:"number",domain:[f,d]}),(0,re.jsx)(gT,{allowDataOverflow:!0,domain:[p,h]}),(0,re.jsx)(bl,{content:(0,re.jsx)(WT,{xAxisLabels:l})}),(0,re.jsx)(Uu,{}),a.map((function(e,t){return(0,re.jsx)(mT,{type:"monotone",dataKey:e,stroke:u[t],dot:!1},e)})),m&&v?(0,re.jsx)(iA,{x1:o[m].name,x2:o[v].name,strokeOpacity:.3}):null]})})]})}var XT=Qn.div(jT||(jT=ue(["\n  margin-bottom: 15px;\n  font-weight: 600;\n"])));var QT=i.createContext();function JT(){return i.useContext(QT)}function $T(e){return(0,at.Z)("PrivateSwitchBase",e)}(0,Fe.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var eO=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],tO=(0,ge.ZP)(ht,{skipSx:!0})((function(e){var t=e.ownerState;return(0,fe.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),nO=(0,ge.ZP)("input",{skipSx:!0})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),rO=i.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,i=e.checkedIcon,o=e.className,a=e.defaultChecked,l=e.disabled,u=e.disableFocusRipple,c=void 0!==u&&u,f=e.edge,d=void 0!==f&&f,h=e.icon,p=e.id,m=e.inputProps,v=e.inputRef,g=e.name,y=e.onBlur,E=e.onChange,A=e.onFocus,T=e.readOnly,O=e.required,R=e.tabIndex,L=e.type,S=e.value,b=(0,ce.Z)(e,eO),I=(0,qi.Z)({controlled:r,default:Boolean(a),name:"SwitchBase",state:"checked"}),N=(0,s.Z)(I,2),x=N[0],_=N[1],M=JT(),w=l;M&&"undefined"===typeof w&&(w=M.disabled);var C="checkbox"===L||"radio"===L,P=(0,fe.Z)({},e,{checked:x,disabled:w,disableFocusRipple:c,edge:d}),D=function(e){var t=e.classes,n=e.checked,r=e.disabled,i=e.edge,o={root:["root",n&&"checked",r&&"disabled",i&&"edge".concat((0,pt.Z)(i))],input:["input"]};return(0,me.Z)(o,$T,t)}(P);return(0,re.jsxs)(tO,(0,fe.Z)({component:"span",className:(0,pe.Z)(D.root,o),centerRipple:!0,focusRipple:!c,disabled:w,tabIndex:null,role:void 0,onFocus:function(e){A&&A(e),M&&M.onFocus&&M.onFocus(e)},onBlur:function(e){y&&y(e),M&&M.onBlur&&M.onBlur(e)},ownerState:P,ref:t},b,{children:[(0,re.jsx)(nO,(0,fe.Z)({autoFocus:n,checked:r,defaultChecked:a,className:D.input,disabled:w,id:C&&p,name:g,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;_(t),E&&E(e,t)}},readOnly:T,ref:v,required:O,ownerState:P,tabIndex:R,type:L},"checkbox"===L&&void 0===S?{}:{value:S},m)),x?i:h]}))})),iO=rO,oO=n(76189),aO=(0,oO.Z)((0,re.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),sO=(0,oO.Z)((0,re.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),lO=(0,oO.Z)((0,re.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function uO(e){return(0,at.Z)("MuiCheckbox",e)}var cO=(0,Fe.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),fO=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],dO=(0,ge.ZP)(iO,{shouldForwardProp:function(e){return(0,ge.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,pt.Z)(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,fe.Z)({color:n.palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:(0,ve.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,a.Z)(t,"&.".concat(cO.checked,", &.").concat(cO.indeterminate),{color:n.palette[r.color].main}),(0,a.Z)(t,"&.".concat(cO.disabled),{color:n.palette.action.disabled}),t))})),hO=(0,re.jsx)(sO,{}),pO=(0,re.jsx)(aO,{}),mO=(0,re.jsx)(lO,{}),vO=i.forwardRef((function(e,t){var n,r,o=(0,ye.Z)({props:e,name:"MuiCheckbox"}),a=o.checkedIcon,s=void 0===a?hO:a,l=o.color,u=void 0===l?"primary":l,c=o.icon,f=void 0===c?pO:c,d=o.indeterminate,h=void 0!==d&&d,p=o.indeterminateIcon,m=void 0===p?mO:p,v=o.inputProps,g=o.size,y=void 0===g?"medium":g,E=(0,ce.Z)(o,fO),A=h?m:f,T=h?m:s,O=(0,fe.Z)({},o,{color:u,indeterminate:h,size:y}),R=function(e){var t=e.classes,n=e.indeterminate,r=e.color,i={root:["root",n&&"indeterminate","color".concat((0,pt.Z)(r))]},o=(0,me.Z)(i,uO,t);return(0,fe.Z)({},t,o)}(O);return(0,re.jsx)(dO,(0,fe.Z)({type:"checkbox",inputProps:(0,fe.Z)({"data-indeterminate":h},v),icon:i.cloneElement(A,{fontSize:null!=(n=A.props.fontSize)?n:y}),checkedIcon:i.cloneElement(T,{fontSize:null!=(r=T.props.fontSize)?r:y}),ownerState:O,ref:t},E,{classes:R}))})),gO=vO,yO=n(96248),EO=n(82466),AO=n(46189),TO=n(27979),OO=n(93981),RO=["onChange","maxRows","minRows","style","value"];function LO(e,t){return parseInt(e[t],10)||0}var SO={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},bO=i.forwardRef((function(e,t){var n=e.onChange,r=e.maxRows,o=e.minRows,a=void 0===o?1:o,l=e.style,u=e.value,c=(0,ce.Z)(e,RO),f=i.useRef(null!=u).current,d=i.useRef(null),h=(0,Tr.Z)(t,d),p=i.useRef(null),m=i.useRef(0),v=i.useState({}),g=(0,s.Z)(v,2),y=g[0],E=g[1],A=i.useCallback((function(){var t=d.current,n=(0,TO.Z)(t).getComputedStyle(t);if("0px"!==n.width){var i=p.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var o=n["box-sizing"],s=LO(n,"padding-bottom")+LO(n,"padding-top"),l=LO(n,"border-bottom-width")+LO(n,"border-top-width"),u=i.scrollHeight;i.value="x";var c=i.scrollHeight,f=u;a&&(f=Math.max(Number(a)*c,f)),r&&(f=Math.min(Number(r)*c,f));var h=(f=Math.max(f,c))+("border-box"===o?s+l:0),v=Math.abs(f-u)<=1;E((function(e){return m.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==v)?(m.current+=1,{overflow:v,outerHeightStyle:h}):e}))}}),[r,a,e.placeholder]);i.useEffect((function(){var e,t=(0,OO.Z)((function(){m.current=0,A()})),n=(0,TO.Z)(d.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(d.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[A]),(0,Or.Z)((function(){A()})),i.useEffect((function(){m.current=0}),[u]);return(0,re.jsxs)(i.Fragment,{children:[(0,re.jsx)("textarea",(0,fe.Z)({value:u,onChange:function(e){m.current=0,f||A(),n&&n(e)},ref:h,rows:a,style:(0,fe.Z)({height:y.outerHeightStyle,overflow:y.overflow?"hidden":null},l)},c)),(0,re.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:(0,fe.Z)({},SO,l,{padding:0})})]})})),IO=bO;function NO(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var xO=n(40162);function _O(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,re.jsx)(Ue,{styles:i})}var MO=function(e){return(0,re.jsx)(_O,(0,fe.Z)({},e,{defaultTheme:rr.Z}))};function wO(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function CO(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(wO(e.value)&&""!==e.value||t&&wO(e.defaultValue)&&""!==e.defaultValue)}function PO(e){return(0,at.Z)("MuiInputBase",e)}var DO=(0,Fe.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),kO=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],HO=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,pt.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},UO=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},BO=(0,ge.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:HO})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({},t.typography.body1,(0,a.Z)({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(DO.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&(0,fe.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),GO=(0,ge.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:UO})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},s={opacity:"0 !important"},l={opacity:i?.42:.5};return(0,fe.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,a.Z)(t,"label[data-shrink=false] + .".concat(DO.formControl," &"),{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l}),(0,a.Z)(t,"&.".concat(DO.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),(0,a.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),WO=(0,re.jsx)(MO,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),FO=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiInputBase"}),r=n["aria-describedby"],o=n.autoComplete,a=n.autoFocus,l=n.className,u=n.components,c=void 0===u?{}:u,f=n.componentsProps,d=void 0===f?{}:f,h=n.defaultValue,p=n.disabled,m=n.disableInjectingGlobalStyles,v=n.endAdornment,g=n.fullWidth,y=void 0!==g&&g,E=n.id,A=n.inputComponent,T=void 0===A?"input":A,O=n.inputProps,R=void 0===O?{}:O,L=n.inputRef,S=n.maxRows,b=n.minRows,I=n.multiline,N=void 0!==I&&I,x=n.name,_=n.onBlur,M=n.onChange,w=n.onClick,C=n.onFocus,P=n.onKeyDown,D=n.onKeyUp,k=n.placeholder,H=n.readOnly,U=n.renderSuffix,B=n.rows,G=n.startAdornment,W=n.type,F=void 0===W?"text":W,K=n.value,V=(0,ce.Z)(n,kO),z=null!=R.value?R.value:K,j=i.useRef(null!=z).current,Z=i.useRef(),Y=i.useCallback((function(e){0}),[]),q=(0,Ee.Z)(R.ref,Y),X=(0,Ee.Z)(L,q),Q=(0,Ee.Z)(Z,X),J=i.useState(!1),$=(0,s.Z)(J,2),ee=$[0],te=$[1],ne=JT();var ie=NO({props:n,muiFormControl:ne,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=ne?ne.focused:ee,i.useEffect((function(){!ne&&p&&ee&&(te(!1),_&&_())}),[ne,p,ee,_]);var oe=ne&&ne.onFilled,ae=ne&&ne.onEmpty,se=i.useCallback((function(e){CO(e)?oe&&oe():ae&&ae()}),[oe,ae]);(0,xO.Z)((function(){j&&se({value:z})}),[z,se,j]);i.useEffect((function(){se(Z.current)}),[]);var le=T,ue=R;N&&"input"===le&&(ue=B?(0,fe.Z)({type:void 0,minRows:B,maxRows:B},ue):(0,fe.Z)({type:void 0,maxRows:S,minRows:b},ue),le=IO);i.useEffect((function(){ne&&ne.setAdornedStart(Boolean(G))}),[ne,G]);var de=(0,fe.Z)({},n,{color:ie.color||"primary",disabled:ie.disabled,endAdornment:v,error:ie.error,focused:ie.focused,formControl:ne,fullWidth:y,hiddenLabel:ie.hiddenLabel,multiline:N,size:ie.size,startAdornment:G,type:F}),he=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,o=e.endAdornment,a=e.focused,s=e.formControl,l=e.fullWidth,u=e.hiddenLabel,c=e.multiline,f=e.size,d=e.startAdornment,h=e.type,p={root:["root","color".concat((0,pt.Z)(n)),r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl","small"===f&&"sizeSmall",c&&"multiline",d&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",c&&"inputMultiline","small"===f&&"inputSizeSmall",u&&"inputHiddenLabel",d&&"inputAdornedStart",o&&"inputAdornedEnd"]};return(0,me.Z)(p,PO,t)}(de),ve=c.Root||BO,ge=d.root||{},Ae=c.Input||GO;return ue=(0,fe.Z)({},ue,d.input),(0,re.jsxs)(i.Fragment,{children:[!m&&WO,(0,re.jsxs)(ve,(0,fe.Z)({},ge,!er(ve)&&{ownerState:(0,fe.Z)({},de,ge.ownerState)},{ref:t,onClick:function(e){Z.current&&e.currentTarget===e.target&&Z.current.focus(),w&&w(e)}},V,{className:(0,pe.Z)(he.root,ge.className,l),children:[G,(0,re.jsx)(QT.Provider,{value:null,children:(0,re.jsx)(Ae,(0,fe.Z)({ownerState:de,"aria-invalid":ie.error,"aria-describedby":r,autoComplete:o,autoFocus:a,defaultValue:h,disabled:ie.disabled,id:E,onAnimationStart:function(e){se("mui-auto-fill-cancel"===e.animationName?Z.current:{value:"x"})},name:x,placeholder:k,readOnly:H,required:ie.required,rows:B,value:z,onKeyDown:P,onKeyUp:D,type:F},ue,!er(Ae)&&{as:le,ownerState:(0,fe.Z)({},de,ue.ownerState)},{ref:Q,className:(0,pe.Z)(he.input,ue.className),onBlur:function(e){_&&_(e),R.onBlur&&R.onBlur(e),ne&&ne.onBlur?ne.onBlur(e):te(!1)},onChange:function(e){if(!j){var t=e.target||Z.current;if(null==t)throw new Error((0,AO.Z)(1));se({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];R.onChange&&R.onChange.apply(R,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){ie.disabled?e.stopPropagation():(C&&C(e),R.onFocus&&R.onFocus(e),ne&&ne.onFocus?ne.onFocus(e):te(!0))}}))}),v,U?U((0,fe.Z)({},ie,{startAdornment:G})):null]}))]})})),KO=FO;function VO(e){return(0,at.Z)("MuiInput",e)}var zO=(0,Fe.Z)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]),jO=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],ZO=(0,ge.ZP)(BO,{shouldForwardProp:function(e){return(0,ge.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,d.Z)(HO(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return(0,fe.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,a.Z)(t,"&.".concat(zO.focused,":after"),{transform:"scaleX(1)"}),(0,a.Z)(t,"&.".concat(zO.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),(0,a.Z)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,a.Z)(t,"&:hover:not(.".concat(zO.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),(0,a.Z)(t,"&.".concat(zO.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),YO=(0,ge.ZP)(GO,{name:"MuiInput",slot:"Input",overridesResolver:UO})({}),qO=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,o=void 0===i?{}:i,a=n.componentsProps,s=n.fullWidth,l=void 0!==s&&s,u=n.inputComponent,c=void 0===u?"input":u,f=n.multiline,d=void 0!==f&&f,h=n.type,p=void 0===h?"text":h,m=(0,ce.Z)(n,jO),v=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,me.Z)(n,VO,t);return(0,fe.Z)({},t,r)}(n),g={root:{ownerState:{disableUnderline:r}}},y=a?(0,EO.Z)(a,g):g;return(0,re.jsx)(KO,(0,fe.Z)({components:(0,fe.Z)({Root:ZO,Input:YO},o),componentsProps:y,fullWidth:l,inputComponent:c,multiline:d,ref:t,type:p},m,{classes:v}))}));qO.muiName="Input";var XO=qO;function QO(e){return(0,at.Z)("MuiFilledInput",e)}var JO=(0,Fe.Z)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]),$O=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],eR=(0,ge.ZP)(BO,{shouldForwardProp:function(e){return(0,ge.FO)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,d.Z)(HO(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r=e.theme,i=e.ownerState,o="light"===r.palette.mode,s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,fe.Z)((t={position:"relative",backgroundColor:l,borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:l}}},(0,a.Z)(t,"&.".concat(JO.focused),{backgroundColor:l}),(0,a.Z)(t,"&.".concat(JO.disabled),{backgroundColor:o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!i.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(r.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},(0,a.Z)(n,"&.".concat(JO.focused,":after"),{transform:"scaleX(1)"}),(0,a.Z)(n,"&.".concat(JO.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),(0,a.Z)(n,"&:before",{borderBottom:"1px solid ".concat(s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),(0,a.Z)(n,"&:hover:not(.".concat(JO.disabled,"):before"),{borderBottom:"1px solid ".concat(r.palette.text.primary)}),(0,a.Z)(n,"&.".concat(JO.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&(0,fe.Z)({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),tR=(0,ge.ZP)(GO,{name:"MuiFilledInput",slot:"Input",overridesResolver:UO})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),nR=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,o=n.componentsProps,a=n.fullWidth,s=void 0!==a&&a,l=n.inputComponent,u=void 0===l?"input":l,c=n.multiline,f=void 0!==c&&c,d=n.type,h=void 0===d?"text":d,p=(0,ce.Z)(n,$O),m=(0,fe.Z)({},n,{fullWidth:s,inputComponent:u,multiline:f,type:h}),v=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,me.Z)(n,QO,t);return(0,fe.Z)({},t,r)}(n),g={root:{ownerState:m},input:{ownerState:m}},y=o?(0,EO.Z)(o,g):g;return(0,re.jsx)(KO,(0,fe.Z)({components:(0,fe.Z)({Root:eR,Input:tR},i),componentsProps:y,fullWidth:s,inputComponent:u,multiline:f,ref:t,type:h},p,{classes:v}))}));nR.muiName="Input";var rR=nR,iR=["children","classes","className","label","notched"],oR=(0,ge.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),aR=(0,ge.ZP)("legend",{skipSx:!0})((function(e){var t=e.ownerState,n=e.theme;return(0,fe.Z)({float:"unset"},void 0===t.label&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},void 0!==t.label&&(0,fe.Z)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function sR(e){return(0,at.Z)("MuiOutlinedInput",e)}var lR=(0,Fe.Z)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]),uR=["components","fullWidth","inputComponent","label","multiline","notched","type"],cR=(0,ge.ZP)(BO,{shouldForwardProp:function(e){return(0,ge.FO)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:HO})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,fe.Z)((t={position:"relative",borderRadius:n.shape.borderRadius},(0,a.Z)(t,"&:hover .".concat(lR.notchedOutline),{borderColor:n.palette.text.primary}),(0,a.Z)(t,"@media (hover: none)",(0,a.Z)({},"&:hover .".concat(lR.notchedOutline),{borderColor:i})),(0,a.Z)(t,"&.".concat(lR.focused," .").concat(lR.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),(0,a.Z)(t,"&.".concat(lR.error," .").concat(lR.notchedOutline),{borderColor:n.palette.error.main}),(0,a.Z)(t,"&.".concat(lR.disabled," .").concat(lR.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,fe.Z)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),fR=(0,ge.ZP)((function(e){var t=e.className,n=e.label,r=e.notched,i=(0,ce.Z)(e,iR),o=(0,fe.Z)({},e,{notched:r,label:n});return(0,re.jsx)(oR,(0,fe.Z)({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,re.jsx)(aR,{ownerState:o,children:n?(0,re.jsx)("span",{children:n}):(0,re.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),dR=(0,ge.ZP)(GO,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:UO})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),hR=i.forwardRef((function(e,t){var n,r=(0,ye.Z)({props:e,name:"MuiOutlinedInput"}),o=r.components,a=void 0===o?{}:o,s=r.fullWidth,l=void 0!==s&&s,u=r.inputComponent,c=void 0===u?"input":u,f=r.label,d=r.multiline,h=void 0!==d&&d,p=r.notched,m=r.type,v=void 0===m?"text":m,g=(0,ce.Z)(r,uR),y=function(e){var t=e.classes,n=(0,me.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},sR,t);return(0,fe.Z)({},t,n)}(r),E=NO({props:r,muiFormControl:JT(),states:["required"]});return(0,re.jsx)(KO,(0,fe.Z)({components:(0,fe.Z)({Root:cR,Input:dR},a),renderSuffix:function(e){return(0,re.jsx)(fR,{className:y.notchedOutline,label:f&&E.required?n||(n=(0,re.jsxs)(i.Fragment,{children:[f,"\xa0","*"]})):f,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:l,inputComponent:c,multiline:h,ref:t,type:v},g,{classes:(0,fe.Z)({},y,{notchedOutline:null})}))}));hR.muiName="Input";var pR=hR;function mR(e){return(0,at.Z)("MuiFormLabel",e)}var vR=(0,Fe.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),gR=["children","className","color","component","disabled","error","filled","focused","required"],yR=(0,ge.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,fe.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,fe.Z)({color:n.palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,a.Z)(t,"&.".concat(vR.focused),{color:n.palette[r.color].main}),(0,a.Z)(t,"&.".concat(vR.disabled),{color:n.palette.text.disabled}),(0,a.Z)(t,"&.".concat(vR.error),{color:n.palette.error.main}),t))})),ER=(0,ge.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,a.Z)({},"&.".concat(vR.error),{color:t.palette.error.main})})),AR=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"label":o,s=(0,ce.Z)(n,gR),l=NO({props:n,muiFormControl:JT(),states:["color","required","focused","disabled","error","filled"]}),u=(0,fe.Z)({},n,{color:l.color||"primary",component:a,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,o=e.error,a=e.filled,s=e.required,l={root:["root","color".concat((0,pt.Z)(n)),i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return(0,me.Z)(l,mR,t)}(u);return(0,re.jsxs)(yR,(0,fe.Z)({as:a,ownerState:u,className:(0,pe.Z)(c.root,i),ref:t},s,{children:[r,l.required&&(0,re.jsxs)(ER,{ownerState:u,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),TR=AR;function OR(e){return(0,at.Z)("MuiInputLabel",e)}(0,Fe.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var RR=["disableAnimation","margin","shrink","variant"],LR=(0,ge.ZP)(TR,{shouldForwardProp:function(e){return(0,ge.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,a.Z)({},"& .".concat(vR.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,fe.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,fe.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,fe.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),SR=i.forwardRef((function(e,t){var n=(0,ye.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,o=n.shrink,a=(0,ce.Z)(n,RR),s=JT(),l=o;"undefined"===typeof l&&s&&(l=s.filled||s.focused||s.adornedStart);var u=NO({props:n,muiFormControl:s,states:["size","variant","required"]}),c=(0,fe.Z)({},n,{disableAnimation:i,formControl:s,shrink:l,size:u.size,variant:u.variant,required:u.required}),f=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},a=(0,me.Z)(o,OR,t);return(0,fe.Z)({},t,a)}(c);return(0,re.jsx)(LR,(0,fe.Z)({"data-shrink":l,ownerState:c,ref:t},a,{classes:f}))})),bR=n(19103);function IR(e){return(0,at.Z)("MuiFormControl",e)}(0,Fe.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var NR=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],xR=(0,ge.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,fe.Z)({},t.root,t["margin".concat((0,pt.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,fe.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),_R=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiFormControl"}),r=n.children,o=n.className,a=n.color,l=void 0===a?"primary":a,u=n.component,c=void 0===u?"div":u,f=n.disabled,d=void 0!==f&&f,h=n.error,p=void 0!==h&&h,m=n.focused,v=n.fullWidth,g=void 0!==v&&v,y=n.hiddenLabel,E=void 0!==y&&y,A=n.margin,T=void 0===A?"none":A,O=n.required,R=void 0!==O&&O,L=n.size,S=void 0===L?"medium":L,b=n.variant,I=void 0===b?"outlined":b,N=(0,ce.Z)(n,NR),x=(0,fe.Z)({},n,{color:l,component:c,disabled:d,error:p,fullWidth:g,hiddenLabel:E,margin:T,required:R,size:S,variant:I}),_=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat((0,pt.Z)(n)),r&&"fullWidth"]};return(0,me.Z)(i,IR,t)}(x),M=i.useState((function(){var e=!1;return r&&i.Children.forEach(r,(function(t){if((0,bR.Z)(t,["Input","Select"])){var n=(0,bR.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),w=(0,s.Z)(M,2),C=w[0],P=w[1],D=i.useState((function(){var e=!1;return r&&i.Children.forEach(r,(function(t){(0,bR.Z)(t,["Input","Select"])&&CO(t.props,!0)&&(e=!0)})),e})),k=(0,s.Z)(D,2),H=k[0],U=k[1],B=i.useState(!1),G=(0,s.Z)(B,2),W=G[0],F=G[1];d&&W&&F(!1);var K=void 0===m||d?W:m,V=i.useCallback((function(){U(!0)}),[]),z={adornedStart:C,setAdornedStart:P,color:l,disabled:d,error:p,filled:H,focused:K,fullWidth:g,hiddenLabel:E,size:S,onBlur:function(){F(!1)},onEmpty:i.useCallback((function(){U(!1)}),[]),onFilled:V,onFocus:function(){F(!0)},registerEffect:undefined,required:R,variant:I};return(0,re.jsx)(QT.Provider,{value:z,children:(0,re.jsx)(xR,(0,fe.Z)({as:c,ownerState:x,className:(0,pe.Z)(_.root,o),ref:t},N,{children:r}))})})),MR=_R;function wR(e){return(0,at.Z)("MuiFormHelperText",e)}var CR=(0,Fe.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),PR=["children","className","component","disabled","error","filled","focused","margin","required","variant"],DR=(0,ge.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,pt.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,fe.Z)({color:n.palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,a.Z)(t,"&.".concat(CR.disabled),{color:n.palette.text.disabled}),(0,a.Z)(t,"&.".concat(CR.error),{color:n.palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),kR=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"p":o,s=(0,ce.Z)(n,PR),l=NO({props:n,muiFormControl:JT(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,fe.Z)({},n,{component:a,contained:"filled"===l.variant||"outlined"===l.variant,variant:l.variant,size:l.size,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,o=e.error,a=e.filled,s=e.focused,l=e.required,u={root:["root",i&&"disabled",o&&"error",r&&"size".concat((0,pt.Z)(r)),n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return(0,me.Z)(u,wR,t)}(u);return(0,re.jsx)(DR,(0,fe.Z)({as:a,ownerState:u,className:(0,pe.Z)(c.root,i),ref:t},s,{children:" "===r?(0,re.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):r}))})),HR=n(98301);var UR=i.createContext({});function BR(e){return(0,at.Z)("MuiList",e)}(0,Fe.Z)("MuiList",["root","padding","dense","subheader"]);var GR=["children","className","component","dense","disablePadding","subheader"],WR=(0,ge.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,fe.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),FR=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiList"}),r=n.children,o=n.className,a=n.component,s=void 0===a?"ul":a,l=n.dense,u=void 0!==l&&l,c=n.disablePadding,f=void 0!==c&&c,d=n.subheader,h=(0,ce.Z)(n,GR),p=i.useMemo((function(){return{dense:u}}),[u]),m=(0,fe.Z)({},n,{component:s,dense:u,disablePadding:f}),v=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,me.Z)(n,BR,t)}(m);return(0,re.jsx)(UR.Provider,{value:p,children:(0,re.jsxs)(WR,(0,fe.Z)({as:s,className:(0,pe.Z)(v.root,o),ref:t,ownerState:m},h,{children:[d,r]}))})}));function KR(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var VR=KR,zR=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function jR(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function ZR(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function YR(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function qR(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return!1;a=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&YR(s,o)&&!l)return s.focus(),!0;s=i(e,s,n)}return!1}var XR=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,o=void 0!==r&&r,a=e.autoFocusItem,s=void 0!==a&&a,l=e.children,u=e.className,c=e.disabledItemsFocusable,f=void 0!==c&&c,d=e.disableListWrap,h=void 0!==d&&d,p=e.onKeyDown,m=e.variant,v=void 0===m?"selectedMenu":m,g=(0,ce.Z)(e,zR),y=i.useRef(null),E=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,xO.Z)((function(){o&&y.current.focus()}),[o]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&n){var r="".concat(VR((0,HR.Z)(e)),"px");y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,y.current.style.width="calc(100% + ".concat(r,")")}return y.current}}}),[]);var A=(0,Ee.Z)(y,t),T=-1;i.Children.forEach(l,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===T)&&(T=t))}));var O=i.Children.map(l,(function(e,t){if(t===T){var n={};return s&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===v&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return(0,re.jsx)(FR,(0,fe.Z)({role:"menu",ref:A,className:u,onKeyDown:function(e){var t=y.current,n=e.key,r=(0,HR.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),qR(t,r,h,f,jR);else if("ArrowUp"===n)e.preventDefault(),qR(t,r,h,f,ZR);else if("Home"===n)e.preventDefault(),qR(t,null,h,f,jR);else if("End"===n)e.preventDefault(),qR(t,null,h,f,ZR);else if(1===n.length){var i=E.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&YR(r,i);i.previousKeyMatched&&(s||qR(t,r,!1,f,jR,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:o?0:-1},g,{children:O}))})),QR=XR;function JR(e){return(0,at.Z)("MuiPaper",e)}(0,Fe.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var $R=["className","component","elevation","square","variant"],eL=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},tL=(0,ge.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&(0,fe.Z)({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,ve.Fq)("#fff",eL(n.elevation)),", ").concat((0,ve.Fq)("#fff",eL(n.elevation)),")")}))})),nL=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.elevation,s=void 0===a?1:a,l=n.square,u=void 0!==l&&l,c=n.variant,f=void 0===c?"elevation":c,d=(0,ce.Z)(n,$R),h=(0,fe.Z)({},n,{component:o,elevation:s,square:u,variant:f}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,me.Z)(o,JR,i)}(h);return(0,re.jsx)(tL,(0,fe.Z)({as:o,ownerState:h,className:(0,pe.Z)(p.root,r),ref:t},d))})),rL=nL,iL=n(83199),oL=n(17602),aL=n(58956),sL=n(78949),lL=n(15671),uL=n(43144);function cL(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function fL(e){return parseInt((0,TO.Z)(e).getComputedStyle(e).paddingRight,10)||0}function dL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,d.Z)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&cL(e,i)}))}function hL(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function pL(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Rr.Z)(e);return t.body===e?(0,TO.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=KR((0,Rr.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(fL(r)+i,"px");var o=(0,Rr.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(fL(e)+i,"px")}))}var a=r.parentElement,s=(0,TO.Z)(r),l="HTML"===(null==a?void 0:a.nodeName)&&"scroll"===s.getComputedStyle(a).overflowY?a:r;n.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var mL=function(){function e(){(0,lL.Z)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,uL.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&cL(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);dL(t,e.mount,e.modalRef,r,!0);var i=hL(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=hL(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=pL(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=hL(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&cL(e.modalRef,!0),dL(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&cL(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),vL=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function gL(e){var t=[],n=[];return Array.from(e.querySelectorAll(vL)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function yL(){return!0}var EL=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,o=e.disableEnforceFocus,a=void 0!==o&&o,s=e.disableRestoreFocus,l=void 0!==s&&s,u=e.getTabbable,c=void 0===u?gL:u,f=e.isEnabled,d=void 0===f?yL:f,h=e.open,p=i.useRef(),m=i.useRef(null),v=i.useRef(null),g=i.useRef(null),y=i.useRef(null),E=i.useRef(!1),A=i.useRef(null),T=(0,Tr.Z)(t.ref,A),O=i.useRef(null);i.useEffect((function(){h&&A.current&&(E.current=!r)}),[r,h]),i.useEffect((function(){if(h&&A.current){var e=(0,Rr.Z)(A.current);return A.current.contains(e.activeElement)||(A.current.hasAttribute("tabIndex")||A.current.setAttribute("tabIndex",-1),E.current&&A.current.focus()),function(){l||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[h]),i.useEffect((function(){if(h&&A.current){var e=(0,Rr.Z)(A.current),t=function(t){var n=A.current;if(null!==n)if(e.hasFocus()&&!a&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!E.current)return;var r=[];if(e.activeElement!==m.current&&e.activeElement!==v.current||(r=c(A.current)),r.length>0){var i,o,s=Boolean((null==(i=O.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=O.current)?void 0:o.key)),l=r[0],u=r[r.length-1];s?u.focus():l.focus()}else n.focus()}}else p.current=!1},n=function(t){O.current=t,!a&&d()&&"Tab"===t.key&&e.activeElement===A.current&&t.shiftKey&&(p.current=!0,v.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[r,a,l,d,h,c]);var R=function(e){null===g.current&&(g.current=e.relatedTarget),E.current=!0};return(0,re.jsxs)(i.Fragment,{children:[(0,re.jsx)("div",{tabIndex:0,onFocus:R,ref:m,"data-test":"sentinelStart"}),i.cloneElement(t,{ref:T,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),E.current=!0,y.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,re.jsx)("div",{tabIndex:0,onFocus:R,ref:v,"data-test":"sentinelEnd"})]})};function AL(e){return(0,at.Z)("MuiModal",e)}(0,Fe.Z)("MuiModal",["root","hidden"]);var TL=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var OL=new mL,RL=i.forwardRef((function(e,t){var n=e.BackdropComponent,r=e.BackdropProps,o=e.children,a=e.classes,l=e.className,u=e.closeAfterTransition,c=void 0!==u&&u,f=e.component,d=void 0===f?"div":f,h=e.components,p=void 0===h?{}:h,m=e.componentsProps,v=void 0===m?{}:m,g=e.container,y=e.disableAutoFocus,E=void 0!==y&&y,A=e.disableEnforceFocus,T=void 0!==A&&A,O=e.disableEscapeKeyDown,R=void 0!==O&&O,L=e.disablePortal,S=void 0!==L&&L,b=e.disableRestoreFocus,I=void 0!==b&&b,N=e.disableScrollLock,x=void 0!==N&&N,_=e.hideBackdrop,M=void 0!==_&&_,w=e.keepMounted,C=void 0!==w&&w,P=e.manager,D=void 0===P?OL:P,k=e.onBackdropClick,H=e.onClose,U=e.onKeyDown,B=e.open,G=e.theme,W=e.onTransitionEnter,F=e.onTransitionExited,K=(0,ce.Z)(e,TL),V=i.useState(!0),z=(0,s.Z)(V,2),j=z[0],Z=z[1],Y=i.useRef({}),q=i.useRef(null),X=i.useRef(null),Q=(0,Tr.Z)(X,t),J=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),$=function(){return Y.current.modalRef=X.current,Y.current.mountNode=q.current,Y.current},ee=function(){D.mount($(),{disableScrollLock:x}),X.current.scrollTop=0},te=(0,aL.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(g)||(0,Rr.Z)(q.current).body;D.add($(),e),X.current&&ee()})),ne=i.useCallback((function(){return D.isTopModal($())}),[D]),ie=(0,aL.Z)((function(e){q.current=e,e&&(B&&ne()?ee():cL(X.current,!0))})),oe=i.useCallback((function(){D.remove($())}),[D]);i.useEffect((function(){return function(){oe()}}),[oe]),i.useEffect((function(){B?te():J&&c||oe()}),[B,oe,J,c,te]);var ae=(0,fe.Z)({},e,{classes:a,closeAfterTransition:c,disableAutoFocus:E,disableEnforceFocus:T,disableEscapeKeyDown:R,disablePortal:S,disableRestoreFocus:I,disableScrollLock:x,exited:j,hideBackdrop:M,keepMounted:C}),se=function(e){var t=e.open,n=e.exited,r=e.classes,i={root:["root",!t&&n&&"hidden"]};return(0,me.Z)(i,AL,r)}(ae);if(!C&&!B&&(!J||j))return null;var le={};void 0===o.props.tabIndex&&(le.tabIndex="-1"),J&&(le.onEnter=(0,sL.Z)((function(){Z(!1),W&&W()}),o.props.onEnter),le.onExited=(0,sL.Z)((function(){Z(!0),F&&F(),c&&oe()}),o.props.onExited));var ue=p.Root||d,de=v.root||{};return(0,re.jsx)(Ui,{ref:ie,container:g,disablePortal:S,children:(0,re.jsxs)(ue,(0,fe.Z)({role:"presentation"},de,!er(ue)&&{as:d,ownerState:(0,fe.Z)({},ae,de.ownerState),theme:G},K,{ref:Q,onKeyDown:function(e){U&&U(e),"Escape"===e.key&&ne()&&(R||(e.stopPropagation(),H&&H(e,"escapeKeyDown")))},className:(0,pe.Z)(se.root,de.className,l),children:[!M&&n?(0,re.jsx)(n,(0,fe.Z)({open:B,onClick:function(e){e.target===e.currentTarget&&(k&&k(e),H&&H(e,"backdropClick"))}},r)):null,(0,re.jsx)(EL,{disableEnforceFocus:T,disableAutoFocus:E,disableRestoreFocus:I,isEnabled:ne,open:B,children:i.cloneElement(o,le)})]}))})})),LL=RL;function SL(e){return(0,at.Z)("MuiBackdrop",e)}(0,Fe.Z)("MuiBackdrop",["root","invisible"]);var bL=["classes","className","invisible","component","components","componentsProps","theme"],IL=i.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.invisible,o=void 0!==i&&i,a=e.component,s=void 0===a?"div":a,l=e.components,u=void 0===l?{}:l,c=e.componentsProps,f=void 0===c?{}:c,d=e.theme,h=(0,ce.Z)(e,bL),p=(0,fe.Z)({},e,{classes:n,invisible:o}),m=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,me.Z)(n,SL,t)}(p),v=u.Root||s,g=f.root||{};return(0,re.jsx)(v,(0,fe.Z)({"aria-hidden":!0},g,!er(v)&&{as:s,ownerState:(0,fe.Z)({},p,g.ownerState),theme:d},{ref:t},h,{className:(0,pe.Z)(m.root,g.className,r)}))})),NL=IL,xL=n(81314),_L=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ML={entering:{opacity:1},entered:{opacity:1}},wL={enter:xL.x9.enteringScreen,exit:xL.x9.leavingScreen},CL=i.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,o=void 0===r||r,a=e.children,s=e.easing,l=e.in,u=e.onEnter,c=e.onEntered,f=e.onEntering,d=e.onExit,h=e.onExited,p=e.onExiting,m=e.style,v=e.timeout,g=void 0===v?wL:v,y=e.TransitionComponent,E=void 0===y?hr:y,A=(0,ce.Z)(e,_L),T=ir(),O=i.useRef(null),R=(0,Ee.Z)(a.ref,t),L=(0,Ee.Z)(O,R),S=function(e){return function(t){if(e){var n=O.current;void 0===t?e(n):e(n,t)}}},b=S(f),I=S((function(e,t){pr(e);var n=mr({style:m,timeout:g,easing:s},{mode:"enter"});e.style.webkitTransition=T.transitions.create("opacity",n),e.style.transition=T.transitions.create("opacity",n),u&&u(e,t)})),N=S(c),x=S(p),_=S((function(e){var t=mr({style:m,timeout:g,easing:s},{mode:"exit"});e.style.webkitTransition=T.transitions.create("opacity",t),e.style.transition=T.transitions.create("opacity",t),d&&d(e)})),M=S(h);return(0,re.jsx)(E,(0,fe.Z)({appear:o,in:l,nodeRef:O,onEnter:I,onEntered:N,onEntering:b,onExit:_,onExited:M,onExiting:x,addEndListener:function(e){n&&n(O.current,e)},timeout:g},A,{children:function(e,t){return i.cloneElement(a,(0,fe.Z)({style:(0,fe.Z)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},ML[e],m,a.props.style),ref:L},t))}}))})),PL=CL,DL=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],kL=(0,ge.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,fe.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),HL=i.forwardRef((function(e,t){var n,r=(0,ye.Z)({props:e,name:"MuiBackdrop"}),i=r.children,o=r.components,a=void 0===o?{}:o,s=r.componentsProps,l=void 0===s?{}:s,u=r.className,c=r.invisible,f=void 0!==c&&c,d=r.open,h=r.transitionDuration,p=r.TransitionComponent,m=void 0===p?PL:p,v=(0,ce.Z)(r,DL),g=function(e){return e.classes}((0,fe.Z)({},r,{invisible:f}));return(0,re.jsx)(m,(0,fe.Z)({in:d,timeout:h},v,{children:(0,re.jsx)(NL,{className:u,invisible:f,components:(0,fe.Z)({Root:kL},a),componentsProps:{root:(0,fe.Z)({},l.root,(!a.Root||!er(a.Root))&&{ownerState:(0,fe.Z)({},null==(n=l.root)?void 0:n.ownerState)})},classes:g,ref:t,children:i})}))})),UL=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],BL=(0,ge.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),GL=(0,ge.ZP)(HL,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),WL=i.forwardRef((function(e,t){var n,r=(0,ye.Z)({name:"MuiModal",props:e}),o=r.BackdropComponent,a=void 0===o?GL:o,l=r.closeAfterTransition,u=void 0!==l&&l,c=r.children,f=r.components,d=void 0===f?{}:f,h=r.componentsProps,p=void 0===h?{}:h,m=r.disableAutoFocus,v=void 0!==m&&m,g=r.disableEnforceFocus,y=void 0!==g&&g,E=r.disableEscapeKeyDown,A=void 0!==E&&E,T=r.disablePortal,O=void 0!==T&&T,R=r.disableRestoreFocus,L=void 0!==R&&R,S=r.disableScrollLock,b=void 0!==S&&S,I=r.hideBackdrop,N=void 0!==I&&I,x=r.keepMounted,_=void 0!==x&&x,M=(0,ce.Z)(r,UL),w=i.useState(!0),C=(0,s.Z)(w,2),P=C[0],D=C[1],k={closeAfterTransition:u,disableAutoFocus:v,disableEnforceFocus:y,disableEscapeKeyDown:A,disablePortal:O,disableRestoreFocus:L,disableScrollLock:b,hideBackdrop:N,keepMounted:_},H=function(e){return e.classes}((0,fe.Z)({},r,k,{exited:P}));return(0,re.jsx)(LL,(0,fe.Z)({components:(0,fe.Z)({Root:BL},d),componentsProps:{root:(0,fe.Z)({},p.root,(!d.Root||!er(d.Root))&&{ownerState:(0,fe.Z)({},null==(n=p.root)?void 0:n.ownerState)})},BackdropComponent:a,onTransitionEnter:function(){return D(!1)},onTransitionExited:function(){return D(!0)},ref:t},M,{classes:H},k,{children:c}))}));function FL(e){return(0,at.Z)("MuiPopover",e)}(0,Fe.Z)("MuiPopover",["root","paper"]);var KL=["onEntering"],VL=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function zL(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function jL(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ZL(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function YL(e){return"function"===typeof e?e():e}var qL=(0,ge.ZP)(WL,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),XL=(0,ge.ZP)(rL,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),QL=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiPopover"}),r=n.action,o=n.anchorEl,a=n.anchorOrigin,s=void 0===a?{vertical:"top",horizontal:"left"}:a,l=n.anchorPosition,u=n.anchorReference,c=void 0===u?"anchorEl":u,f=n.children,d=n.className,h=n.container,p=n.elevation,m=void 0===p?8:p,v=n.marginThreshold,g=void 0===v?16:v,y=n.open,E=n.PaperProps,A=void 0===E?{}:E,T=n.transformOrigin,O=void 0===T?{vertical:"top",horizontal:"left"}:T,R=n.TransitionComponent,L=void 0===R?Ar:R,S=n.transitionDuration,b=void 0===S?"auto":S,I=n.TransitionProps,N=(I=void 0===I?{}:I).onEntering,x=(0,ce.Z)(n.TransitionProps,KL),_=(0,ce.Z)(n,VL),M=i.useRef(),w=(0,Ee.Z)(M,A.ref),C=(0,fe.Z)({},n,{anchorOrigin:s,anchorReference:c,elevation:m,marginThreshold:g,PaperProps:A,transformOrigin:O,TransitionComponent:L,transitionDuration:b,TransitionProps:x}),P=function(e){var t=e.classes;return(0,me.Z)({root:["root"],paper:["paper"]},FL,t)}(C),D=i.useCallback((function(){if("anchorPosition"===c)return l;var e=YL(o),t=(e&&1===e.nodeType?e:(0,HR.Z)(M.current).body).getBoundingClientRect();return{top:t.top+zL(t,s.vertical),left:t.left+jL(t,s.horizontal)}}),[o,s.horizontal,s.vertical,l,c]),k=i.useCallback((function(e){return{vertical:zL(e,O.vertical),horizontal:jL(e,O.horizontal)}}),[O.horizontal,O.vertical]),H=i.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=k(t);if("none"===c)return{top:null,left:null,transformOrigin:ZL(n)};var r=D(),i=r.top-n.vertical,a=r.left-n.horizontal,s=i+t.height,l=a+t.width,u=(0,oL.Z)(YL(o)),f=u.innerHeight-g,d=u.innerWidth-g;if(i<g){var h=i-g;i-=h,n.vertical+=h}else if(s>f){var p=s-f;i-=p,n.vertical+=p}if(a<g){var m=a-g;a-=m,n.horizontal+=m}else if(l>d){var v=l-d;a-=v,n.horizontal+=v}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:ZL(n)}}),[o,c,D,k,g]),U=i.useCallback((function(){var e=M.current;if(e){var t=H(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[H]);i.useEffect((function(){y&&U()})),i.useImperativeHandle(r,(function(){return y?{updatePosition:function(){U()}}:null}),[y,U]),i.useEffect((function(){if(y){var e=(0,iL.Z)((function(){U()})),t=(0,oL.Z)(o);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[o,y,U]);var B=b;"auto"!==b||L.muiSupportAuto||(B=void 0);var G=h||(o?(0,HR.Z)(YL(o)).body:void 0);return(0,re.jsx)(qL,(0,fe.Z)({BackdropProps:{invisible:!0},className:(0,pe.Z)(P.root,d),container:G,open:y,ref:t,ownerState:C},_,{children:(0,re.jsx)(L,(0,fe.Z)({appear:!0,in:y,onEntering:function(e,t){N&&N(e,t),U()},timeout:B},x,{children:(0,re.jsx)(XL,(0,fe.Z)({elevation:m},A,{ref:w,className:(0,pe.Z)(P.paper,A.className),children:f}))}))}))})),JL=QL;function $L(e){return(0,at.Z)("MuiMenu",e)}(0,Fe.Z)("MuiMenu",["root","paper","list"]);var eS=["onEntering"],tS=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],nS={vertical:"top",horizontal:"right"},rS={vertical:"top",horizontal:"left"},iS=(0,ge.ZP)(JL,{shouldForwardProp:function(e){return(0,ge.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),oS=(0,ge.ZP)(rL,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),aS=(0,ge.ZP)(QR,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),sS=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiMenu"}),r=n.autoFocus,o=void 0===r||r,a=n.children,s=n.disableAutoFocusItem,l=void 0!==s&&s,u=n.MenuListProps,c=void 0===u?{}:u,f=n.onClose,d=n.open,h=n.PaperProps,p=void 0===h?{}:h,m=n.PopoverClasses,v=n.transitionDuration,g=void 0===v?"auto":v,y=n.TransitionProps,E=(y=void 0===y?{}:y).onEntering,A=n.variant,T=void 0===A?"selectedMenu":A,O=(0,ce.Z)(n.TransitionProps,eS),R=(0,ce.Z)(n,tS),L=ir(),S="rtl"===L.direction,b=(0,fe.Z)({},n,{autoFocus:o,disableAutoFocusItem:l,MenuListProps:c,onEntering:E,PaperProps:p,transitionDuration:g,TransitionProps:O,variant:T}),I=function(e){var t=e.classes;return(0,me.Z)({root:["root"],paper:["paper"],list:["list"]},$L,t)}(b),N=o&&!l&&d,x=i.useRef(null),_=-1;return i.Children.map(a,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===T&&e.props.selected||-1===_)&&(_=t))})),(0,re.jsx)(iS,(0,fe.Z)({classes:m,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?nS:rS,PaperProps:(0,fe.Z)({component:oS},p,{classes:(0,fe.Z)({},p.classes,{root:I.paper})}),className:I.root,open:d,ref:t,transitionDuration:g,TransitionProps:(0,fe.Z)({onEntering:function(e,t){x.current&&x.current.adjustStyleForScrollbar(e,L),E&&E(e,t)}},O),ownerState:b},R,{children:(0,re.jsx)(aS,(0,fe.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:x,autoFocus:o&&(-1===_||l),autoFocusItem:N,variant:T},c,{className:(0,pe.Z)(I.list,c.className),children:a}))}))})),lS=sS;function uS(e){return(0,at.Z)("MuiNativeSelect",e)}var cS=(0,Fe.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),fS=["className","disabled","IconComponent","inputRef","variant"],dS=function(e){var t,n=e.ownerState,r=e.theme;return(0,fe.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},(0,a.Z)(t,"&.".concat(cS.disabled),{cursor:"default"}),(0,a.Z)(t,"&[multiple]",{height:"auto"}),(0,a.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),(0,a.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},hS=(0,ge.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ge.FO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,a.Z)({},"&.".concat(cS.multiple),t.multiple)]}})(dS),pS=function(e){var t=e.ownerState,n=e.theme;return(0,fe.Z)((0,a.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(cS.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},mS=(0,ge.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,pt.Z)(n.variant))],n.open&&t.iconOpen]}})(pS),vS=i.forwardRef((function(e,t){var n=e.className,r=e.disabled,o=e.IconComponent,a=e.inputRef,s=e.variant,l=void 0===s?"standard":s,u=(0,ce.Z)(e,fS),c=(0,fe.Z)({},e,{disabled:r,variant:l}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open,a={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,pt.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,me.Z)(a,uS,t)}(c);return(0,re.jsxs)(i.Fragment,{children:[(0,re.jsx)(hS,(0,fe.Z)({ownerState:c,className:(0,pe.Z)(f.select,n),disabled:r,ref:a||t},u)),e.multiple?null:(0,re.jsx)(mS,{as:o,ownerState:c,className:f.icon})]})}));function gS(e){return(0,at.Z)("MuiSelect",e)}var yS=(0,Fe.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),ES=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],AS=(0,ge.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,a.Z)({},"&.".concat(yS.select),t.select),(0,a.Z)({},"&.".concat(yS.select),t[n.variant]),(0,a.Z)({},"&.".concat(yS.multiple),t.multiple)]}})(dS,(0,a.Z)({},"&.".concat(yS.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),TS=(0,ge.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,pt.Z)(n.variant))],n.open&&t.iconOpen]}})(pS),OS=(0,ge.ZP)("input",{shouldForwardProp:function(e){return(0,ge.Dz)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function RS(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function LS(e){return null==e||"string"===typeof e&&!e.trim()}var SS,bS,IS=i.forwardRef((function(e,t){var n=e["aria-describedby"],r=e["aria-label"],o=e.autoFocus,a=e.autoWidth,l=e.children,u=e.className,c=e.defaultValue,f=e.disabled,d=e.displayEmpty,h=e.IconComponent,p=e.inputRef,m=e.labelId,v=e.MenuProps,g=void 0===v?{}:v,y=e.multiple,E=e.name,A=e.onBlur,T=e.onChange,O=e.onClose,R=e.onFocus,L=e.onOpen,S=e.open,b=e.readOnly,I=e.renderValue,N=e.SelectDisplayProps,x=void 0===N?{}:N,_=e.tabIndex,M=e.value,w=e.variant,C=void 0===w?"standard":w,P=(0,ce.Z)(e,ES),D=(0,qi.Z)({controlled:M,default:c,name:"Select"}),k=(0,s.Z)(D,2),H=k[0],U=k[1],B=i.useRef(null),G=i.useRef(null),W=i.useState(null),F=(0,s.Z)(W,2),K=F[0],V=F[1],z=i.useRef(null!=S).current,j=i.useState(),Z=(0,s.Z)(j,2),Y=Z[0],q=Z[1],X=i.useState(!1),Q=(0,s.Z)(X,2),J=Q[0],$=Q[1],ee=(0,Ee.Z)(t,p),te=i.useCallback((function(e){G.current=e,e&&V(e)}),[]);i.useImperativeHandle(ee,(function(){return{focus:function(){G.current.focus()},node:B.current,value:H}}),[H]),i.useEffect((function(){o&&G.current.focus()}),[o]),i.useEffect((function(){var e=(0,HR.Z)(G.current).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}),[m]);var ne,ie,oe=function(e,t){e?L&&L(t):O&&O(t),z||(q(a?null:K.clientWidth),$(e))},ae=i.Children.toArray(l),se=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(H)?H.slice():[];var r=H.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),H!==n&&(U(n),T)){var i=t.nativeEvent||t,o=new i.constructor(i.type,i);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:E}}),T(o,e)}y||oe(!1,t)}}},le=null!==K&&(z?S:J);delete P["aria-invalid"];var ue=[],de=!1;(CO({value:H})||d)&&(I?ne=I(H):de=!0);var he=ae.map((function(e){if(!i.isValidElement(e))return null;var t;if(y){if(!Array.isArray(H))throw new Error((0,AO.Z)(2));t=H.some((function(t){return RS(t,e.props.value)})),t&&de&&ue.push(e.props.children)}else(t=RS(H,e.props.value))&&de&&(ie=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:se(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));de&&(ne=y?0===ue.length?null:ue.reduce((function(e,t,n){return e.push(t),n<ue.length-1&&e.push(", "),e}),[]):ie);var ve,ge=Y;!a&&z&&K&&(ge=K.clientWidth),ve="undefined"!==typeof _?_:f?null:0;var ye=x.id||(E?"mui-component-select-".concat(E):void 0),Ae=(0,fe.Z)({},e,{variant:C,value:H,open:le}),Te=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open,a={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,pt.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,me.Z)(a,gS,t)}(Ae);return(0,re.jsxs)(i.Fragment,{children:[(0,re.jsx)(AS,(0,fe.Z)({ref:te,tabIndex:ve,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":le?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[m,ye].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!b){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),oe(!0,e))}},onMouseDown:f||b?null:function(e){0===e.button&&(e.preventDefault(),G.current.focus(),oe(!0,e))},onBlur:function(e){!le&&A&&(Object.defineProperty(e,"target",{writable:!0,value:{value:H,name:E}}),A(e))},onFocus:R},x,{ownerState:Ae,className:(0,pe.Z)(Te.select,u,x.className),id:ye,children:LS(ne)?(0,re.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):ne})),(0,re.jsx)(OS,(0,fe.Z)({value:Array.isArray(H)?H.join(","):H,name:E,ref:B,"aria-hidden":!0,onChange:function(e){var t=ae.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ae[t];U(n.props.value),T&&T(e,n)}},tabIndex:-1,disabled:f,className:Te.nativeInput,autoFocus:o,ownerState:Ae},P)),(0,re.jsx)(TS,{as:h,className:Te.icon,ownerState:Ae}),(0,re.jsx)(lS,(0,fe.Z)({id:"menu-".concat(E||""),anchorEl:K,open:le,onClose:function(e){oe(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:(0,fe.Z)({"aria-labelledby":m,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:(0,fe.Z)({},g.PaperProps,{style:(0,fe.Z)({minWidth:ge},null!=g.PaperProps?g.PaperProps.style:null)}),children:he}))]})})),NS=IS,xS=(0,oO.Z)((0,re.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_S=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],MS=i.forwardRef((function(e,t){var n=(0,ye.Z)({name:"MuiSelect",props:e}),r=n.autoWidth,o=void 0!==r&&r,a=n.children,s=n.classes,l=void 0===s?{}:s,u=n.className,c=n.displayEmpty,f=void 0!==c&&c,d=n.IconComponent,h=void 0===d?xS:d,p=n.id,m=n.input,v=n.inputProps,g=n.label,y=n.labelId,E=n.MenuProps,A=n.multiple,T=void 0!==A&&A,O=n.native,R=void 0!==O&&O,L=n.onClose,S=n.onOpen,b=n.open,I=n.renderValue,N=n.SelectDisplayProps,x=n.variant,_=void 0===x?"outlined":x,M=(0,ce.Z)(n,_S),w=R?vS:NS,C=NO({props:n,muiFormControl:JT(),states:["variant"]}).variant||_,P=m||{standard:SS||(SS=(0,re.jsx)(XO,{})),outlined:(0,re.jsx)(pR,{label:g}),filled:bS||(bS=(0,re.jsx)(rR,{}))}[C],D=function(e){return e.classes}((0,fe.Z)({},n,{classes:l})),k=(0,Ee.Z)(t,P.ref);return i.cloneElement(P,(0,fe.Z)({inputComponent:w,inputProps:(0,fe.Z)({children:a,IconComponent:h,variant:C,type:void 0,multiple:T},R?{id:p}:{autoWidth:o,displayEmpty:f,labelId:y,MenuProps:E,onClose:L,onOpen:S,open:b,renderValue:I,SelectDisplayProps:(0,fe.Z)({id:p},N)},v,{classes:v?(0,EO.Z)(D,v.classes):D},m?m.props.inputProps:{})},T&&R&&"outlined"===C?{notched:!0}:{},{ref:k,className:(0,pe.Z)(P.props.className,u)},M))}));MS.muiName="Select";var wS=MS;function CS(e){return(0,at.Z)("MuiTextField",e)}(0,Fe.Z)("MuiTextField",["root"]);var PS=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],DS={standard:XO,filled:rR,outlined:pR},kS=(0,ge.ZP)(MR,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),HS=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,o=void 0!==i&&i,a=n.children,s=n.className,l=n.color,u=void 0===l?"primary":l,c=n.defaultValue,f=n.disabled,d=void 0!==f&&f,h=n.error,p=void 0!==h&&h,m=n.FormHelperTextProps,v=n.fullWidth,g=void 0!==v&&v,y=n.helperText,E=n.id,A=n.InputLabelProps,T=n.inputProps,O=n.InputProps,R=n.inputRef,L=n.label,S=n.maxRows,b=n.minRows,I=n.multiline,N=void 0!==I&&I,x=n.name,_=n.onBlur,M=n.onChange,w=n.onFocus,C=n.placeholder,P=n.required,D=void 0!==P&&P,k=n.rows,H=n.select,U=void 0!==H&&H,B=n.SelectProps,G=n.type,W=n.value,F=n.variant,K=void 0===F?"outlined":F,V=(0,ce.Z)(n,PS),z=(0,fe.Z)({},n,{autoFocus:o,color:u,disabled:d,error:p,fullWidth:g,multiline:N,required:D,select:U,variant:K}),j=function(e){var t=e.classes;return(0,me.Z)({root:["root"]},CS,t)}(z);var Z={};"outlined"===K&&(A&&"undefined"!==typeof A.shrink&&(Z.notched=A.shrink),Z.label=L),U&&(B&&B.native||(Z.id=void 0),Z["aria-describedby"]=void 0);var Y=(0,yO.Z)(E),q=y&&Y?"".concat(Y,"-helper-text"):void 0,X=L&&Y?"".concat(Y,"-label"):void 0,Q=DS[K],J=(0,re.jsx)(Q,(0,fe.Z)({"aria-describedby":q,autoComplete:r,autoFocus:o,defaultValue:c,fullWidth:g,multiline:N,name:x,rows:k,maxRows:S,minRows:b,type:G,value:W,id:Y,inputRef:R,onBlur:_,onChange:M,onFocus:w,placeholder:C,inputProps:T},Z,O));return(0,re.jsxs)(kS,(0,fe.Z)({className:(0,pe.Z)(j.root,s),disabled:d,error:p,fullWidth:g,ref:t,required:D,color:u,variant:K,ownerState:z},V,{children:[L&&(0,re.jsx)(SR,(0,fe.Z)({htmlFor:Y,id:X},A,{children:L})),U?(0,re.jsx)(wS,(0,fe.Z)({"aria-describedby":q,id:Y,labelId:X,value:W,input:J},B,{children:a})):J,y&&(0,re.jsx)(kR,(0,fe.Z)({id:q},m,{children:y}))]}))})),US=HS,BS=n(98937),GS=n(77907),WS=n(58959);function FS(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function KS(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var VS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,i=void 0===r||r,o=e.limit,a=e.matchFrom,s=void 0===a?"any":a,l=e.stringify,u=e.trim,c=void 0!==u&&u;return function(e,t){var r=t.inputValue,a=t.getOptionLabel,u=c?r.trim():r;i&&(u=u.toLowerCase()),n&&(u=FS(u));var f=e.filter((function(e){var t=(l||a)(e);return i&&(t=t.toLowerCase()),n&&(t=FS(t)),"start"===s?0===t.indexOf(u):t.indexOf(u)>-1}));return"number"===typeof o?f.slice(0,o):f}}();function zS(e){var t,n=e.autoComplete,r=void 0!==n&&n,o=e.autoHighlight,a=void 0!==o&&o,l=e.autoSelect,u=void 0!==l&&l,c=e.blurOnSelect,f=void 0!==c&&c,d=e.disabled,h=e.clearOnBlur,p=void 0===h?!e.freeSolo:h,m=e.clearOnEscape,v=void 0!==m&&m,g=e.componentName,y=void 0===g?"useAutocomplete":g,E=e.defaultValue,A=void 0===E?e.multiple?[]:null:E,T=e.disableClearable,O=void 0!==T&&T,R=e.disableCloseOnSelect,L=void 0!==R&&R,S=e.disabledItemsFocusable,b=void 0!==S&&S,I=e.disableListWrap,N=void 0!==I&&I,x=e.filterOptions,_=void 0===x?VS:x,M=e.filterSelectedOptions,w=void 0!==M&&M,C=e.freeSolo,P=void 0!==C&&C,D=e.getOptionDisabled,k=e.getOptionLabel,H=void 0===k?function(e){var t;return null!=(t=e.label)?t:e}:k,U=e.isOptionEqualToValue,B=void 0===U?function(e,t){return e===t}:U,G=e.groupBy,W=e.handleHomeEndKeys,F=void 0===W?!e.freeSolo:W,K=e.id,V=e.includeInputInList,z=void 0!==V&&V,j=e.inputValue,Z=e.multiple,Y=void 0!==Z&&Z,q=e.onChange,X=e.onClose,Q=e.onHighlightChange,J=e.onInputChange,$=e.onOpen,ee=e.open,te=e.openOnFocus,ne=void 0!==te&&te,re=e.options,ie=e.selectOnFocus,oe=void 0===ie?!e.freeSolo:ie,ae=e.value,se=(0,yO.Z)(K);t=function(e){var t=H(e);return"string"!==typeof t?String(t):t};var le=i.useRef(!1),ue=i.useRef(!0),ce=i.useRef(null),de=i.useRef(null),he=i.useState(null),pe=(0,s.Z)(he,2),me=pe[0],ve=pe[1],ge=i.useState(-1),ye=(0,s.Z)(ge,2),Ee=ye[0],Ae=ye[1],Te=a?0:-1,Oe=i.useRef(Te),Re=(0,WS.Z)({controlled:ae,default:A,name:y}),Le=(0,s.Z)(Re,2),Se=Le[0],be=Le[1],Ie=(0,WS.Z)({controlled:j,default:"",name:y,state:"inputValue"}),Ne=(0,s.Z)(Ie,2),xe=Ne[0],_e=Ne[1],Me=i.useState(!1),we=(0,s.Z)(Me,2),Ce=we[0],Pe=we[1],De=i.useCallback((function(e,n){if((Y?Se.length<n.length:null!==n)||p){var r;if(Y)r="";else if(null==n)r="";else{var i=t(n);r="string"===typeof i?i:""}xe!==r&&(_e(r),J&&J(e,r,"reset"))}}),[t,xe,Y,J,_e,p,Se]),ke=i.useRef();i.useEffect((function(){var e=Se!==ke.current;ke.current=Se,Ce&&!e||P&&!e||De(null,Se)}),[Se,De,Ce,ke,P]);var He=(0,WS.Z)({controlled:ee,default:!1,name:y,state:"open"}),Ue=(0,s.Z)(He,2),Be=Ue[0],Ge=Ue[1],We=i.useState(!0),Fe=(0,s.Z)(We,2),Ke=Fe[0],Ve=Fe[1],ze=!Y&&null!=Se&&xe===t(Se),je=Be,Ze=je?_(re.filter((function(e){return!w||!(Y?Se:[Se]).some((function(t){return null!==t&&B(e,t)}))})),{inputValue:ze&&Ke?"":xe,getOptionLabel:t}):[],Ye=Be&&Ze.length>0,qe=(0,aL.Z)((function(e){-1===e?ce.current.focus():me.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));i.useEffect((function(){Y&&Ee>Se.length-1&&(Ae(-1),qe(-1))}),[Se,Y,Ee,qe]);var Xe=(0,aL.Z)((function(e){var t=e.event,n=e.index,r=e.reason,i=void 0===r?"auto":r;if(Oe.current=n,-1===n?ce.current.removeAttribute("aria-activedescendant"):ce.current.setAttribute("aria-activedescendant","".concat(se,"-option-").concat(n)),Q&&Q(t,-1===n?null:Ze[n],i),de.current){var o=de.current.querySelector('[role="option"].Mui-focused');o&&(o.classList.remove("Mui-focused"),o.classList.remove("Mui-focusVisible"));var a=de.current.parentElement.querySelector('[role="listbox"]');if(a)if(-1!==n){var s=de.current.querySelector('[data-option-index="'.concat(n,'"]'));if(s&&(s.classList.add("Mui-focused"),"keyboard"===i&&s.classList.add("Mui-focusVisible"),a.scrollHeight>a.clientHeight&&"mouse"!==i)){var l=s,u=a.clientHeight+a.scrollTop,c=l.offsetTop+l.offsetHeight;c>u?a.scrollTop=c-a.clientHeight:l.offsetTop-l.offsetHeight*(G?1.3:0)<a.scrollTop&&(a.scrollTop=l.offsetTop-l.offsetHeight*(G?1.3:0))}}else a.scrollTop=0}})),Qe=(0,aL.Z)((function(e){var n=e.event,i=e.diff,o=e.direction,a=void 0===o?"next":o,s=e.reason,l=void 0===s?"auto":s;if(je){var u=function(e,t){if(!de.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===Ze.length||"previous"===t&&-1===n)return-1;var r=de.current.querySelector('[data-option-index="'.concat(n,'"]')),i=!b&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||i))return n;n+="next"===t?1:-1}}(function(){var e=Ze.length-1;if("reset"===i)return Te;if("start"===i)return 0;if("end"===i)return e;var t=Oe.current+i;return t<0?-1===t&&z?-1:N&&-1!==Oe.current||Math.abs(i)>1?0:e:t>e?t===e+1&&z?-1:N||Math.abs(i)>1?e:0:t}(),a);if(Xe({index:u,reason:l,event:n}),r&&"reset"!==i)if(-1===u)ce.current.value=xe;else{var c=t(Ze[u]);ce.current.value=c,0===c.toLowerCase().indexOf(xe.toLowerCase())&&xe.length>0&&ce.current.setSelectionRange(xe.length,c.length)}}})),Je=i.useCallback((function(){if(je){var e=Y?Se[0]:Se;if(0!==Ze.length&&null!=e){if(de.current)if(null==e)Oe.current>=Ze.length-1?Xe({index:Ze.length-1}):Xe({index:Oe.current});else{var t=Ze[Oe.current];if(Y&&t&&-1!==KS(Se,(function(e){return B(t,e)})))return;var n=KS(Ze,(function(t){return B(t,e)}));-1===n?Qe({diff:"reset"}):Xe({index:n})}}else Qe({diff:"reset"})}}),[Ze.length,!Y&&Se,w,Qe,Xe,je,xe,Y]),$e=(0,aL.Z)((function(e){(0,Hi.Z)(de,e),e&&Je()}));i.useEffect((function(){Je()}),[Je]);var et=function(e){Be||(Ge(!0),Ve(!0),$&&$(e))},tt=function(e,t){Be&&(Ge(!1),X&&X(e,t))},nt=function(e,t,n,r){if(Array.isArray(Se)){if(Se.length===t.length&&Se.every((function(e,n){return e===t[n]})))return}else if(Se===t)return;q&&q(e,t,n,r),be(t)},rt=i.useRef(!1),it=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",i=n,o=t;if(Y){var a=KS(o=Array.isArray(Se)?Se.slice():[],(function(e){return B(t,e)}));-1===a?o.push(t):"freeSolo"!==r&&(o.splice(a,1),i="removeOption")}De(e,o),nt(e,o,i,{option:t}),L||e.ctrlKey||e.metaKey||tt(e,i),(!0===f||"touch"===f&&rt.current||"mouse"===f&&!rt.current)&&ce.current.blur()};var ot=function(e,t){if(Y){tt(e,"toggleInput");var n=Ee;-1===Ee?""===xe&&"previous"===t&&(n=Se.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Se.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Se.length||"previous"===t&&-1===n)return-1;var r=me.querySelector('[data-tag-index="'.concat(n,'"]'));if(r&&r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),Ae(n),qe(n)}},at=function(e){le.current=!0,_e(""),J&&J(e,"","clear"),nt(e,Y?[]:null,"clear")},st=function(e){return function(t){if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Ee&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Ae(-1),qe(-1)),229!==t.which))switch(t.key){case"Home":je&&F&&(t.preventDefault(),Qe({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":je&&F&&(t.preventDefault(),Qe({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Qe({diff:-5,direction:"previous",reason:"keyboard",event:t}),et(t);break;case"PageDown":t.preventDefault(),Qe({diff:5,direction:"next",reason:"keyboard",event:t}),et(t);break;case"ArrowDown":t.preventDefault(),Qe({diff:1,direction:"next",reason:"keyboard",event:t}),et(t);break;case"ArrowUp":t.preventDefault(),Qe({diff:-1,direction:"previous",reason:"keyboard",event:t}),et(t);break;case"ArrowLeft":ot(t,"previous");break;case"ArrowRight":ot(t,"next");break;case"Enter":if(-1!==Oe.current&&je){var n=Ze[Oe.current],i=!!D&&D(n);if(t.preventDefault(),i)return;it(t,n,"selectOption"),r&&ce.current.setSelectionRange(ce.current.value.length,ce.current.value.length)}else P&&""!==xe&&!1===ze&&(Y&&t.preventDefault(),it(t,xe,"createOption","freeSolo"));break;case"Escape":je?(t.preventDefault(),t.stopPropagation(),tt(t,"escape")):v&&(""!==xe||Y&&Se.length>0)&&(t.preventDefault(),t.stopPropagation(),at(t));break;case"Backspace":if(Y&&""===xe&&Se.length>0){var o=-1===Ee?Se.length-1:Ee,a=Se.slice();a.splice(o,1),nt(t,a,"removeOption",{option:Se[o]})}}}},lt=function(e){Pe(!0),ne&&!le.current&&et(e)},ut=function(e){null!==de.current&&de.current.parentElement.contains(document.activeElement)?ce.current.focus():(Pe(!1),ue.current=!0,le.current=!1,u&&-1!==Oe.current&&je?it(e,Ze[Oe.current],"blur"):u&&P&&""!==xe?it(e,xe,"blur","freeSolo"):p&&De(e,Se),tt(e,"blur"))},ct=function(e){var t=e.target.value;xe!==t&&(_e(t),Ve(!1),J&&J(e,t,"input")),""===t?O||Y||nt(e,null,"clear"):et(e)},ft=function(e){Xe({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},dt=function(){rt.current=!0},ht=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));it(e,Ze[t],"selectOption"),rt.current=!1},pt=function(e){return function(t){var n=Se.slice();n.splice(e,1),nt(t,n,"removeOption",{option:Se[e]})}},mt=function(e){Be?tt(e,"toggleInput"):et(e)},vt=function(e){e.target.getAttribute("id")!==se&&e.preventDefault()},gt=function(){ce.current.focus(),oe&&ue.current&&ce.current.selectionEnd-ce.current.selectionStart===0&&ce.current.select(),ue.current=!1},yt=function(e){""!==xe&&Be||mt(e)},Et=P&&xe.length>0;Et=Et||(Y?Se.length>0:null!==Se);var At=Ze;if(G){new Map;At=Ze.reduce((function(e,t,n){var r=G(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return d&&Ce&&ut(),{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,fe.Z)({"aria-owns":Ye?"".concat(se,"-listbox"):null,role:"combobox","aria-expanded":Ye},e,{onKeyDown:st(e),onMouseDown:vt,onClick:gt})},getInputLabelProps:function(){return{id:"".concat(se,"-label"),htmlFor:se}},getInputProps:function(){return{id:se,value:xe,onBlur:ut,onFocus:lt,onChange:ct,onMouseDown:yt,"aria-activedescendant":je?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Ye?"".concat(se,"-listbox"):void 0,autoComplete:"off",ref:ce,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:at}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:mt}},getTagProps:function(e){var t=e.index;return{key:t,"data-tag-index":t,tabIndex:-1,onDelete:pt(t)}},getListboxProps:function(){return{role:"listbox",id:"".concat(se,"-listbox"),"aria-labelledby":"".concat(se,"-label"),ref:$e,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var n=e.index,r=e.option,i=(Y?Se:[Se]).some((function(e){return null!=e&&B(r,e)})),o=!!D&&D(r);return{key:t(r),tabIndex:-1,role:"option",id:"".concat(se,"-option-").concat(n),onMouseOver:ft,onClick:ht,onTouchStart:dt,"data-option-index":n,"aria-disabled":o,"aria-selected":i}},id:se,inputValue:xe,value:Se,dirty:Et,popupOpen:je,focused:Ce||-1!==Ee,anchorEl:me,setAnchorEl:ve,focusedTag:Ee,groupedOptions:At}}function jS(e){return(0,at.Z)("MuiListSubheader",e)}(0,Fe.Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var ZS=["className","color","component","disableGutters","disableSticky","inset"],YS=(0,ge.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,pt.Z)(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:t.palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:t.palette.background.paper})})),qS=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiListSubheader"}),r=n.className,i=n.color,o=void 0===i?"default":i,a=n.component,s=void 0===a?"li":a,l=n.disableGutters,u=void 0!==l&&l,c=n.disableSticky,f=void 0!==c&&c,d=n.inset,h=void 0!==d&&d,p=(0,ce.Z)(n,ZS),m=(0,fe.Z)({},n,{color:o,component:s,disableGutters:u,disableSticky:f,inset:h}),v=function(e){var t=e.classes,n=e.color,r=e.disableGutters,i=e.inset,o=e.disableSticky,a={root:["root","default"!==n&&"color".concat((0,pt.Z)(n)),!r&&"gutters",i&&"inset",!o&&"sticky"]};return(0,me.Z)(a,jS,t)}(m);return(0,re.jsx)(YS,(0,fe.Z)({as:s,className:(0,pe.Z)(v.root,r),ref:t,ownerState:m},p))})),XS=qS,QS=(0,oO.Z)((0,re.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function JS(e){return(0,at.Z)("MuiChip",e)}var $S=(0,Fe.Z)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),eb=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],tb=(0,ge.ZP)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.color,i=n.clickable,o=n.onDelete,s=n.size,l=n.variant;return[(0,a.Z)({},"& .".concat($S.avatar),t.avatar),(0,a.Z)({},"& .".concat($S.avatar),t["avatar".concat((0,pt.Z)(s))]),(0,a.Z)({},"& .".concat($S.avatar),t["avatarColor".concat((0,pt.Z)(r))]),(0,a.Z)({},"& .".concat($S.icon),t.icon),(0,a.Z)({},"& .".concat($S.icon),t["icon".concat((0,pt.Z)(s))]),(0,a.Z)({},"& .".concat($S.icon),t["iconColor".concat((0,pt.Z)(r))]),(0,a.Z)({},"& .".concat($S.deleteIcon),t.deleteIcon),(0,a.Z)({},"& .".concat($S.deleteIcon),t["deleteIcon".concat((0,pt.Z)(s))]),(0,a.Z)({},"& .".concat($S.deleteIcon),t["deleteIconColor".concat((0,pt.Z)(r))]),(0,a.Z)({},"& .".concat($S.deleteIcon),t["deleteIconOutlinedColor".concat((0,pt.Z)(r))]),t.root,t["size".concat((0,pt.Z)(s))],t["color".concat((0,pt.Z)(r))],i&&t.clickable,i&&"default"!==r&&t["clickableColor".concat((0,pt.Z)(r),")")],o&&t.deletable,o&&"default"!==r&&t["deletableColor".concat((0,pt.Z)(r))],t[l],"outlined"===l&&t["outlined".concat((0,pt.Z)(r))]]}})((function(e){var t,n=e.theme,r=e.ownerState,i=(0,ve.Fq)(n.palette.text.primary,.26);return(0,fe.Z)((t={fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:n.palette.text.primary,backgroundColor:n.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},(0,a.Z)(t,"&.".concat($S.disabled),{opacity:n.palette.action.disabledOpacity,pointerEvents:"none"}),(0,a.Z)(t,"& .".concat($S.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],fontSize:n.typography.pxToRem(12)}),(0,a.Z)(t,"& .".concat($S.avatarColorPrimary),{color:n.palette.primary.contrastText,backgroundColor:n.palette.primary.dark}),(0,a.Z)(t,"& .".concat($S.avatarColorSecondary),{color:n.palette.secondary.contrastText,backgroundColor:n.palette.secondary.dark}),(0,a.Z)(t,"& .".concat($S.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)}),(0,a.Z)(t,"& .".concat($S.icon),(0,fe.Z)({color:"light"===n.palette.mode?n.palette.grey[700]:n.palette.grey[300],marginLeft:5,marginRight:-6},"small"===r.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==r.color&&{color:"inherit"})),(0,a.Z)(t,"& .".concat($S.deleteIcon),(0,fe.Z)({WebkitTapHighlightColor:"transparent",color:i,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,ve.Fq)(i,.4)}},"small"===r.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==r.color&&{color:(0,ve.Fq)(n.palette[r.color].contrastText,.7),"&:hover, &:active":{color:n.palette[r.color].contrastText}})),t),"small"===r.size&&{height:24},"default"!==r.color&&{backgroundColor:n.palette[r.color].main,color:n.palette[r.color].contrastText},r.onDelete&&(0,a.Z)({},"&.".concat($S.focusVisible),{backgroundColor:(0,ve.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),r.onDelete&&"default"!==r.color&&(0,a.Z)({},"&.".concat($S.focusVisible),{backgroundColor:n.palette[r.color].dark}))}),(function(e){var t,n=e.theme,r=e.ownerState;return(0,fe.Z)({},r.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:(0,ve.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}},(0,a.Z)(t,"&.".concat($S.focusVisible),{backgroundColor:(0,ve.Fq)(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}),(0,a.Z)(t,"&:active",{boxShadow:n.shadows[1]}),t),r.clickable&&"default"!==r.color&&(0,a.Z)({},"&:hover, &.".concat($S.focusVisible),{backgroundColor:n.palette[r.color].dark}))}),(function(e){var t,n,r=e.theme,i=e.ownerState;return(0,fe.Z)({},"outlined"===i.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[700])},(0,a.Z)(t,"&.".concat($S.clickable,":hover"),{backgroundColor:r.palette.action.hover}),(0,a.Z)(t,"&.".concat($S.focusVisible),{backgroundColor:r.palette.action.focus}),(0,a.Z)(t,"& .".concat($S.avatar),{marginLeft:4}),(0,a.Z)(t,"& .".concat($S.avatarSmall),{marginLeft:2}),(0,a.Z)(t,"& .".concat($S.icon),{marginLeft:4}),(0,a.Z)(t,"& .".concat($S.iconSmall),{marginLeft:2}),(0,a.Z)(t,"& .".concat($S.deleteIcon),{marginRight:5}),(0,a.Z)(t,"& .".concat($S.deleteIconSmall),{marginRight:3}),t),"outlined"===i.variant&&"default"!==i.color&&(n={color:r.palette[i.color].main,border:"1px solid ".concat((0,ve.Fq)(r.palette[i.color].main,.7))},(0,a.Z)(n,"&.".concat($S.clickable,":hover"),{backgroundColor:(0,ve.Fq)(r.palette[i.color].main,r.palette.action.hoverOpacity)}),(0,a.Z)(n,"&.".concat($S.focusVisible),{backgroundColor:(0,ve.Fq)(r.palette[i.color].main,r.palette.action.focusOpacity)}),(0,a.Z)(n,"& .".concat($S.deleteIcon),{color:(0,ve.Fq)(r.palette[i.color].main,.7),"&:hover, &:active":{color:r.palette[i.color].main}}),n))})),nb=(0,ge.ZP)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var n=e.ownerState.size;return[t.label,t["label".concat((0,pt.Z)(n))]]}})((function(e){var t=e.ownerState;return(0,fe.Z)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function rb(e){return"Backspace"===e.key||"Delete"===e.key}var ib=i.forwardRef((function(e,t){var n=(0,ye.Z)({props:e,name:"MuiChip"}),r=n.avatar,o=n.className,a=n.clickable,s=n.color,l=void 0===s?"default":s,u=n.component,c=n.deleteIcon,f=n.disabled,d=void 0!==f&&f,h=n.icon,p=n.label,m=n.onClick,v=n.onDelete,g=n.onKeyDown,y=n.onKeyUp,E=n.size,A=void 0===E?"medium":E,T=n.variant,O=void 0===T?"filled":T,R=(0,ce.Z)(n,eb),L=i.useRef(null),S=(0,Ee.Z)(L,t),b=function(e){e.stopPropagation(),v&&v(e)},I=!(!1===a||!m)||a,N="small"===A,x=I||v?ht:u||"div",_=(0,fe.Z)({},n,{component:x,disabled:d,size:A,color:l,onDelete:!!v,clickable:I,variant:O}),M=function(e){var t=e.classes,n=e.disabled,r=e.size,i=e.color,o=e.onDelete,a=e.clickable,s=e.variant,l={root:["root",s,n&&"disabled","size".concat((0,pt.Z)(r)),"color".concat((0,pt.Z)(i)),a&&"clickable",a&&"clickableColor".concat((0,pt.Z)(i)),o&&"deletable",o&&"deletableColor".concat((0,pt.Z)(i)),"".concat(s).concat((0,pt.Z)(i))],label:["label","label".concat((0,pt.Z)(r))],avatar:["avatar","avatar".concat((0,pt.Z)(r)),"avatarColor".concat((0,pt.Z)(i))],icon:["icon","icon".concat((0,pt.Z)(r)),"iconColor".concat((0,pt.Z)(i))],deleteIcon:["deleteIcon","deleteIcon".concat((0,pt.Z)(r)),"deleteIconColor".concat((0,pt.Z)(i)),"deleteIconOutlinedColor".concat((0,pt.Z)(i))]};return(0,me.Z)(l,JS,t)}(_),w=x===ht?(0,fe.Z)({component:u||"div",focusVisibleClassName:M.focusVisible},v&&{disableRipple:!0}):{},C=null;if(v){var P=(0,pe.Z)("default"!==l&&("outlined"===O?M["deleteIconOutlinedColor".concat((0,pt.Z)(l))]:M["deleteIconColor".concat((0,pt.Z)(l))]),N&&M.deleteIconSmall);C=c&&i.isValidElement(c)?i.cloneElement(c,{className:(0,pe.Z)(c.props.className,M.deleteIcon,P),onClick:b}):(0,re.jsx)(QS,{className:(0,pe.Z)(M.deleteIcon,P),onClick:b})}var D=null;r&&i.isValidElement(r)&&(D=i.cloneElement(r,{className:(0,pe.Z)(M.avatar,r.props.className)}));var k=null;return h&&i.isValidElement(h)&&(k=i.cloneElement(h,{className:(0,pe.Z)(M.icon,h.props.className)})),(0,re.jsxs)(tb,(0,fe.Z)({as:x,className:(0,pe.Z)(M.root,o),disabled:!(!I||!d)||void 0,onClick:m,onKeyDown:function(e){e.currentTarget===e.target&&rb(e)&&e.preventDefault(),g&&g(e)},onKeyUp:function(e){e.currentTarget===e.target&&(v&&rb(e)?v(e):"Escape"===e.key&&L.current&&L.current.blur()),y&&y(e)},ref:S,ownerState:_},w,R,{children:[D||k,(0,re.jsx)(nb,{className:(0,pe.Z)(M.label),ownerState:_,children:p}),C]}))})),ob=ib,ab=(0,oO.Z)((0,re.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function sb(e){return(0,at.Z)("MuiAutocomplete",e)}var lb,ub,cb=(0,Fe.Z)("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),fb=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"],db=(0,ge.ZP)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.fullWidth,i=n.hasClearIcon,o=n.hasPopupIcon,s=n.inputFocused,l=n.size;return[(0,a.Z)({},"& .".concat(cb.tag),t.tag),(0,a.Z)({},"& .".concat(cb.tag),t["tagSize".concat((0,pt.Z)(l))]),(0,a.Z)({},"& .".concat(cb.inputRoot),t.inputRoot),(0,a.Z)({},"& .".concat(cb.input),t.input),(0,a.Z)({},"& .".concat(cb.input),s&&t.inputFocused),t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})((function(e){var t,n,r,i,o,s=e.ownerState;return(0,fe.Z)((t={},(0,a.Z)(t,"&.".concat(cb.focused," .").concat(cb.clearIndicator),{visibility:"visible"}),(0,a.Z)(t,"@media (pointer: fine)",(0,a.Z)({},"&:hover .".concat(cb.clearIndicator),{visibility:"visible"})),t),s.fullWidth&&{width:"100%"},(o={},(0,a.Z)(o,"& .".concat(cb.tag),(0,fe.Z)({margin:3,maxWidth:"calc(100% - 6px)"},"small"===s.size&&{margin:2,maxWidth:"calc(100% - 4px)"})),(0,a.Z)(o,"& .".concat(cb.inputRoot),(n={flexWrap:"wrap"},(0,a.Z)(n,".".concat(cb.hasPopupIcon,"&, .").concat(cb.hasClearIcon,"&"),{paddingRight:30}),(0,a.Z)(n,".".concat(cb.hasPopupIcon,".").concat(cb.hasClearIcon,"&"),{paddingRight:56}),(0,a.Z)(n,"& .".concat(cb.input),{width:0,minWidth:30}),n)),(0,a.Z)(o,"& .".concat(zO.root),{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}}),(0,a.Z)(o,"& .".concat(zO.root,".").concat(DO.sizeSmall),(0,a.Z)({},"& .".concat(zO.input),{padding:"2px 4px 3px 0"})),(0,a.Z)(o,"& .".concat(lR.root),(r={padding:9},(0,a.Z)(r,".".concat(cb.hasPopupIcon,"&, .").concat(cb.hasClearIcon,"&"),{paddingRight:39}),(0,a.Z)(r,".".concat(cb.hasPopupIcon,".").concat(cb.hasClearIcon,"&"),{paddingRight:65}),(0,a.Z)(r,"& .".concat(cb.input),{padding:"7.5px 4px 7.5px 6px"}),(0,a.Z)(r,"& .".concat(cb.endAdornment),{right:9}),r)),(0,a.Z)(o,"& .".concat(lR.root,".").concat(DO.sizeSmall),(0,a.Z)({padding:6},"& .".concat(cb.input),{padding:"2.5px 4px 2.5px 6px"})),(0,a.Z)(o,"& .".concat(JO.root),(i={paddingTop:19,paddingLeft:8},(0,a.Z)(i,".".concat(cb.hasPopupIcon,"&, .").concat(cb.hasClearIcon,"&"),{paddingRight:39}),(0,a.Z)(i,".".concat(cb.hasPopupIcon,".").concat(cb.hasClearIcon,"&"),{paddingRight:65}),(0,a.Z)(i,"& .".concat(JO.input),{padding:"7px 4px"}),(0,a.Z)(i,"& .".concat(cb.endAdornment),{right:9}),i)),(0,a.Z)(o,"& .".concat(JO.root,".").concat(DO.sizeSmall),(0,a.Z)({paddingBottom:1},"& .".concat(JO.input),{padding:"2.5px 4px"})),(0,a.Z)(o,"& .".concat(DO.hiddenLabel),{paddingTop:8}),(0,a.Z)(o,"& .".concat(cb.input),(0,fe.Z)({flexGrow:1,textOverflow:"ellipsis",opacity:0},s.inputFocused&&{opacity:1})),o))})),hb=(0,ge.ZP)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:function(e,t){return t.endAdornment}})({position:"absolute",right:0,top:"calc(50% - 14px)"}),pb=(0,ge.ZP)(At,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:function(e,t){return t.clearIndicator}})({marginRight:-2,padding:4,visibility:"hidden"}),mb=(0,ge.ZP)(At,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:function(e,t){var n=e.ownerState;return(0,fe.Z)({},t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen)}})((function(e){var t=e.ownerState;return(0,fe.Z)({padding:2,marginRight:-2},t.popupOpen&&{transform:"rotate(180deg)"})})),vb=(0,ge.ZP)(Zi,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[(0,a.Z)({},"& .".concat(cb.option),t.option),t.popper,n.disablePortal&&t.popperDisablePortal]}})((function(e){var t=e.theme,n=e.ownerState;return(0,fe.Z)({zIndex:t.zIndex.modal},n.disablePortal&&{position:"absolute"})})),gb=(0,ge.ZP)(rL,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:function(e,t){return t.paper}})((function(e){var t=e.theme;return(0,fe.Z)({},t.typography.body1,{overflow:"auto"})})),yb=(0,ge.ZP)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:function(e,t){return t.loading}})((function(e){return{color:e.theme.palette.text.secondary,padding:"14px 16px"}})),Eb=(0,ge.ZP)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:function(e,t){return t.noOptions}})((function(e){return{color:e.theme.palette.text.secondary,padding:"14px 16px"}})),Ab=(0,ge.ZP)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:function(e,t){return t.listbox}})((function(e){var t,n,r=e.theme;return(0,a.Z)({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},"& .".concat(cb.option),(n={minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},(0,a.Z)(n,r.breakpoints.up("sm"),{minHeight:"auto"}),(0,a.Z)(n,"&.".concat(cb.focused),{backgroundColor:r.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}),(0,a.Z)(n,'&[aria-disabled="true"]',{opacity:r.palette.action.disabledOpacity,pointerEvents:"none"}),(0,a.Z)(n,"&.".concat(cb.focusVisible),{backgroundColor:r.palette.action.focus}),(0,a.Z)(n,'&[aria-selected="true"]',(t={backgroundColor:(0,ve.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity)},(0,a.Z)(t,"&.".concat(cb.focused),{backgroundColor:(0,ve.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.palette.action.selected}}),(0,a.Z)(t,"&.".concat(cb.focusVisible),{backgroundColor:(0,ve.Fq)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}),t)),n))})),Tb=(0,ge.ZP)(XS,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:function(e,t){return t.groupLabel}})((function(e){return{backgroundColor:e.theme.palette.background.paper,top:-8}})),Ob=(0,ge.ZP)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:function(e,t){return t.groupUl}})((0,a.Z)({padding:0},"& .".concat(cb.option),{paddingLeft:24})),Rb=i.forwardRef((function(e,t){var n,r,o=(0,ye.Z)({props:e,name:"MuiAutocomplete"}),a=(o.autoComplete,o.autoHighlight,o.autoSelect,o.blurOnSelect,o.ChipProps),s=o.className,l=o.clearIcon,u=void 0===l?lb||(lb=(0,re.jsx)(ab,{fontSize:"small"})):l,c=o.clearOnBlur,f=(void 0===c&&o.freeSolo,o.clearOnEscape,o.clearText),d=void 0===f?"Clear":f,h=o.closeText,p=void 0===h?"Close":h,m=o.componentsProps,v=void 0===m?{}:m,g=o.defaultValue,y=(void 0===g&&o.multiple,o.disableClearable),E=void 0!==y&&y,A=(o.disableCloseOnSelect,o.disabled),T=void 0!==A&&A,O=(o.disabledItemsFocusable,o.disableListWrap,o.disablePortal),R=void 0!==O&&O,L=(o.filterSelectedOptions,o.forcePopupIcon),S=void 0===L?"auto":L,b=o.freeSolo,I=void 0!==b&&b,N=o.fullWidth,x=void 0!==N&&N,_=o.getLimitTagsText,M=void 0===_?function(e){return"+".concat(e)}:_,w=o.getOptionLabel,C=void 0===w?function(e){var t;return null!=(t=e.label)?t:e}:w,P=o.groupBy,D=o.handleHomeEndKeys,k=(void 0===D&&o.freeSolo,o.includeInputInList,o.limitTags),H=void 0===k?-1:k,U=o.ListboxComponent,B=void 0===U?"ul":U,G=o.ListboxProps,W=o.loading,F=void 0!==W&&W,K=o.loadingText,V=void 0===K?"Loading\u2026":K,z=o.multiple,j=void 0!==z&&z,Z=o.noOptionsText,Y=void 0===Z?"No options":Z,q=(o.openOnFocus,o.openText),X=void 0===q?"Open":q,Q=o.PaperComponent,J=void 0===Q?rL:Q,$=o.PopperComponent,ee=void 0===$?Zi:$,te=o.popupIcon,ne=void 0===te?ub||(ub=(0,re.jsx)(xS,{})):te,ie=o.renderGroup,oe=o.renderInput,ae=o.renderOption,se=o.renderTags,le=o.selectOnFocus,ue=(void 0===le&&o.freeSolo,o.size),de=void 0===ue?"medium":ue,he=(0,ce.Z)(o,fb),ve=zS((0,fe.Z)({},o,{componentName:"Autocomplete"})),ge=ve.getRootProps,Ee=ve.getInputProps,Ae=ve.getInputLabelProps,Te=ve.getPopupIndicatorProps,Oe=ve.getClearProps,Re=ve.getTagProps,Le=ve.getListboxProps,Se=ve.getOptionProps,be=ve.value,Ie=ve.dirty,Ne=ve.id,xe=ve.popupOpen,_e=ve.focused,Me=ve.focusedTag,we=ve.anchorEl,Ce=ve.setAnchorEl,Pe=ve.inputValue,De=ve.groupedOptions,ke=!E&&!T&&Ie,He=(!I||!0===S)&&!1!==S,Ue=(0,fe.Z)({},o,{disablePortal:R,focused:_e,fullWidth:x,hasClearIcon:ke,hasPopupIcon:He,inputFocused:-1===Me,popupOpen:xe,size:de}),Be=function(e){var t=e.classes,n=e.disablePortal,r=e.focused,i=e.fullWidth,o=e.hasClearIcon,a=e.hasPopupIcon,s=e.inputFocused,l=e.popupOpen,u=e.size,c={root:["root",r&&"focused",i&&"fullWidth",o&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag","tagSize".concat((0,pt.Z)(u))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",l&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,me.Z)(c,sb,t)}(Ue);if(j&&be.length>0){var Ge=function(e){return(0,fe.Z)({className:(0,pe.Z)(Be.tag),disabled:T},Re(e))};r=se?se(be,Ge):be.map((function(e,t){return(0,re.jsx)(ob,(0,fe.Z)({label:C(e),size:de},Ge({index:t}),a))}))}if(H>-1&&Array.isArray(r)){var We=r.length-H;!_e&&We>0&&(r=r.splice(0,H)).push((0,re.jsx)("span",{className:Be.tag,children:M(We)},r.length))}var Fe=ie||function(e){return(0,re.jsxs)("li",{children:[(0,re.jsx)(Tb,{className:Be.groupLabel,ownerState:Ue,component:"div",children:e.group}),(0,re.jsx)(Ob,{className:Be.groupUl,ownerState:Ue,children:e.children})]},e.key)},Ke=ae||function(e,t){return(0,re.jsx)("li",(0,fe.Z)({},e,{children:C(t)}))},Ve=function(e,t){var n=Se({option:e,index:t});return Ke((0,fe.Z)({},n,{className:Be.option}),e,{selected:n["aria-selected"],inputValue:Pe})};return(0,re.jsxs)(i.Fragment,{children:[(0,re.jsx)(db,(0,fe.Z)({ref:t,className:(0,pe.Z)(Be.root,s),ownerState:Ue},ge(he),{children:oe({id:Ne,disabled:T,fullWidth:!0,size:"small"===de?"small":void 0,InputLabelProps:Ae(),InputProps:{ref:Ce,className:Be.inputRoot,startAdornment:r,endAdornment:(0,re.jsxs)(hb,{className:Be.endAdornment,ownerState:Ue,children:[ke?(0,re.jsx)(pb,(0,fe.Z)({},Oe(),{"aria-label":d,title:d,ownerState:Ue},v.clearIndicator,{className:(0,pe.Z)(Be.clearIndicator,null==(n=v.clearIndicator)?void 0:n.className),children:u})):null,He?(0,re.jsx)(mb,(0,fe.Z)({},Te(),{disabled:T,"aria-label":xe?p:X,title:xe?p:X,className:(0,pe.Z)(Be.popupIndicator),ownerState:Ue,children:ne})):null]})},inputProps:(0,fe.Z)({className:(0,pe.Z)(Be.input),disabled:T},Ee())})})),xe&&we?(0,re.jsx)(vb,{as:ee,className:(0,pe.Z)(Be.popper),disablePortal:R,style:{width:we?we.clientWidth:null},ownerState:Ue,role:"presentation",anchorEl:we,open:!0,children:(0,re.jsxs)(gb,{as:J,className:Be.paper,ownerState:Ue,children:[F&&0===De.length?(0,re.jsx)(yb,{className:Be.loading,ownerState:Ue,children:V}):null,0!==De.length||I||F?null:(0,re.jsx)(Eb,{className:Be.noOptions,ownerState:Ue,role:"presentation",onMouseDown:function(e){e.preventDefault()},children:Y}),De.length>0?(0,re.jsx)(Ab,(0,fe.Z)({as:B,className:Be.listbox,ownerState:Ue},Le(),G,{children:De.map((function(e,t){return P?Fe({key:e.key,group:e.group,children:e.options.map((function(t,n){return Ve(t,e.index+n)}))}):Ve(e,t)}))})):null]})}):null]})})),Lb=Rb,Sb=(0,ge.ZP)(Zi)({width:"auto !important"}),bb=(0,ge.ZP)(Lb)({marginBottom:10,width:165,"& .MuiInputLabel-root":{color:"white"},"&.Mui-focused .MuiInputLabel-root":{color:"white !important"},"& .MuiButtonBase-root":{color:"white"},"& .MuiChip-root":{display:"none"},"& .MuiAutocomplete-inputRoot":{color:"white"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"white  !important"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white !important"}}),Ib=(0,re.jsx)(BS.Z,{fontSize:"small"}),Nb=(0,re.jsx)(GS.Z,{fontSize:"small"});function xb(e){var t=e.allOptions,n=e.name,r=e.filter,i=e.setFilter;return(0,re.jsx)(bb,{multiple:!0,options:t,limitTags:0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e},renderOption:function(e,t,n){var r=n.selected;return(0,re.jsxs)("li",(0,FT.Z)((0,FT.Z)({},e),{},{children:[(0,re.jsx)(gO,{icon:Ib,checkedIcon:Nb,style:{marginRight:8},checked:r}),t]}))},PopperComponent:Sb,renderInput:function(e){return(0,re.jsx)(US,(0,FT.Z)((0,FT.Z)({},e),{},{label:n}))},onChange:function(e,t){i(t)},value:r})}var _b,Mb,wb=JSON.parse('[{"month":"2008, 01","categories":{"Drug/narcotic offenses":368,"Larceny-theft":1635,"Robbery":107,"Driving under the influence":69,"Prostitution offenses":26,"Weapon law violations":54,"Destruction/damage/vandalism of property":573,"Motor vehicle theft":342,"Fraud offenses":271,"Sex offenses":33,"Bad checks":42,"Homicide offenses":6,"Extortion/blackmail":2,"Peeping tom":3,"Family offenses, nonviolent":47,"Stolen property offenses":21,"Liquor law violations":26,"Embezzlement":16,"Counterfeiting/forgery":31,"Arson":3,"Curfew/loitering/vagrancy violations":11,"Kidnapping/abduction":3,"Bribery":1,"Sex offenses, consensual":2,"Pornography/obscene material":1,"Trespass of real property":136,"Assault offenses":606,"Burglary/breaking&entering":528},"neighbourhoods":{"SOUTH PARK":61,"BELLTOWN":169,"MID BEACON HILL":60,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":77,"DOWNTOWN COMMERCIAL":419,"BRIGHTON/DUNLAP":112,"NORTHGATE":266,"MADISON PARK":19,"UNIVERSITY":175,"BALLARD SOUTH":152,"MONTLAKE/PORTAGE BAY":19,"LAKEWOOD/SEWARD PARK":37,"CENTRAL AREA/SQUIRE PARK":142,"NORTH BEACON HILL":92,"HILLMAN CITY":34,"UNKNOWN":54,"ROOSEVELT/RAVENNA":133,"FIRST HILL":120,"JUDKINS PARK/NORTH BEACON HILL":39,"NORTH ADMIRAL":38,"SLU/CASCADE":267,"HIGH POINT":35,"GENESEE":10,"MAGNOLIA":63,"PIONEER SQUARE":103,"NEW HOLLY":30,"BITTERLAKE":97,"MOUNT BAKER":76,"QUEEN ANNE":249,"MILLER PARK":39,"RAINIER VIEW":54,"HIGHLAND PARK":47,"SANDPOINT":116,"CHINATOWN/INTERNATIONAL DISTRICT":186,"GREENWOOD":92,"MORGAN":35,"COLUMBIA CITY":43,"CAPITOL HILL":237,"PHINNEY RIDGE":31,"MADRONA/LESCHI":81,"SODO":54,"WALLINGFORD":95,"BALLARD NORTH":120,"FREMONT":86,"SOUTH DELRIDGE":21,"NORTH DELRIDGE":24,"GEORGETOWN":54,"ALASKA JUNCTION":64,"CLAREMONT/RAINIER VISTA":14,"SOUTH BEACON HILL":13,"EASTLAKE - WEST":30,"RAINIER BEACH":67,"FAUNTLEROY SW":15,"ALKI":23,"EASTLAKE - EAST":6,"PIGEON POINT":10,"COMMERCIAL DUWAMISH":2,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":154}},{"month":"2008, 02","categories":{"Larceny-theft":1592,"Drug/narcotic offenses":364,"Destruction/damage/vandalism of property":565,"Liquor law violations":23,"Family offenses, nonviolent":45,"Counterfeiting/forgery":31,"Motor vehicle theft":389,"Fraud offenses":226,"Weapon law violations":51,"Robbery":102,"Driving under the influence":62,"Embezzlement":15,"Bad checks":54,"Extortion/blackmail":4,"Stolen property offenses":15,"Arson":4,"Sex offenses":18,"Pornography/obscene material":3,"Kidnapping/abduction":4,"Prostitution offenses":12,"Homicide offenses":1,"Peeping tom":2,"Sex offenses, consensual":2,"Curfew/loitering/vagrancy violations":1,"Trespass of real property":122,"Assault offenses":667,"Burglary/breaking&entering":406},"neighbourhoods":{"DOWNTOWN COMMERCIAL":378,"CENTRAL AREA/SQUIRE PARK":134,"SLU/CASCADE":232,"GEORGETOWN":57,"FAUNTLEROY SW":18,"HILLMAN CITY":37,"SANDPOINT":96,"CAPITOL HILL":209,"NORTHGATE":249,"FREMONT":103,"BALLARD SOUTH":144,"CHINATOWN/INTERNATIONAL DISTRICT":192,"QUEEN ANNE":260,"FIRST HILL":170,"GREENWOOD":109,"MONTLAKE/PORTAGE BAY":30,"BRIGHTON/DUNLAP":89,"SOUTH PARK":43,"UNIVERSITY":196,"RAINIER BEACH":42,"ROOSEVELT/RAVENNA":130,"PIONEER SQUARE":77,"SOUTH BEACON HILL":33,"MADRONA/LESCHI":91,"BALLARD NORTH":98,"GENESEE":17,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":58,"WALLINGFORD":90,"BELLTOWN":149,"HIGHLAND PARK":51,"PHINNEY RIDGE":30,"RAINIER VIEW":56,"MOUNT BAKER":59,"MILLER PARK":31,"JUDKINS PARK/NORTH BEACON HILL":26,"NORTH DELRIDGE":30,"EASTLAKE - WEST":30,"NORTH BEACON HILL":98,"ALASKA JUNCTION":74,"MORGAN":40,"BITTERLAKE":93,"CLAREMONT/RAINIER VISTA":23,"SODO":47,"MID BEACON HILL":59,"NORTH ADMIRAL":40,"MAGNOLIA":62,"UNKNOWN":67,"LAKEWOOD/SEWARD PARK":46,"ALKI":24,"COMMERCIAL HARBOR ISLAND":3,"EASTLAKE - EAST":5,"COLUMBIA CITY":36,"HIGH POINT":37,"MADISON PARK":10,"SOUTH DELRIDGE":16,"NEW HOLLY":20,"PIGEON POINT":4,"COMMERCIAL DUWAMISH":1,"LAKECITY":131}},{"month":"2008, 03","categories":{"Prostitution offenses":35,"Larceny-theft":1842,"Destruction/damage/vandalism of property":534,"Driving under the influence":63,"Drug/narcotic offenses":344,"Fraud offenses":243,"Motor vehicle theft":302,"Counterfeiting/forgery":30,"Robbery":110,"Homicide offenses":2,"Bad checks":51,"Stolen property offenses":25,"Sex offenses":16,"Liquor law violations":29,"Family offenses, nonviolent":62,"Weapon law violations":64,"Curfew/loitering/vagrancy violations":7,"Embezzlement":19,"Extortion/blackmail":3,"Arson":6,"Sex offenses, consensual":1,"Kidnapping/abduction":1,"Peeping tom":1,"Trespass of real property":116,"Burglary/breaking&entering":464,"Assault offenses":720},"neighbourhoods":{"BALLARD NORTH":127,"UNIVERSITY":188,"NORTH BEACON HILL":100,"PHINNEY RIDGE":51,"FREMONT":161,"SOUTH PARK":58,"NORTH ADMIRAL":58,"SANDPOINT":91,"CHINATOWN/INTERNATIONAL DISTRICT":198,"MONTLAKE/PORTAGE BAY":27,"CAPITOL HILL":242,"QUEEN ANNE":239,"BITTERLAKE":87,"NORTHGATE":236,"DOWNTOWN COMMERCIAL":417,"FIRST HILL":159,"CENTRAL AREA/SQUIRE PARK":151,"RAINIER VIEW":46,"SLU/CASCADE":259,"BALLARD SOUTH":110,"BRIGHTON/DUNLAP":113,"NEW HOLLY":38,"ROOSEVELT/RAVENNA":164,"SOUTH DELRIDGE":17,"PIONEER SQUARE":83,"GEORGETOWN":59,"ALASKA JUNCTION":47,"MID BEACON HILL":69,"UNKNOWN":66,"NORTH DELRIDGE":41,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":76,"MILLER PARK":58,"SODO":45,"GREENWOOD":101,"RAINIER BEACH":70,"MADISON PARK":14,"JUDKINS PARK/NORTH BEACON HILL":35,"FAUNTLEROY SW":26,"BELLTOWN":180,"HILLMAN CITY":30,"MORGAN":31,"MAGNOLIA":65,"HIGHLAND PARK":59,"MADRONA/LESCHI":73,"MOUNT BAKER":61,"ALKI":30,"COMMERCIAL DUWAMISH":3,"COLUMBIA CITY":30,"EASTLAKE - EAST":3,"GENESEE":16,"LAKEWOOD/SEWARD PARK":41,"WALLINGFORD":79,"EASTLAKE - WEST":23,"SOUTH BEACON HILL":21,"HIGH POINT":36,"CLAREMONT/RAINIER VISTA":22,"PIGEON POINT":4,"LAKECITY":156}},{"month":"2008, 04","categories":{"Robbery":151,"Driving under the influence":54,"Larceny-theft":1830,"Curfew/loitering/vagrancy violations":9,"Motor vehicle theft":222,"Drug/narcotic offenses":335,"Destruction/damage/vandalism of property":515,"Family offenses, nonviolent":54,"Stolen property offenses":20,"Fraud offenses":247,"Weapon law violations":63,"Bad checks":48,"Embezzlement":21,"Prostitution offenses":19,"Arson":9,"Liquor law violations":24,"Counterfeiting/forgery":27,"Sex offenses, consensual":4,"Peeping tom":1,"Pornography/obscene material":4,"Sex offenses":19,"Extortion/blackmail":4,"Homicide offenses":4,"Bribery":1,"Kidnapping/abduction":2,"Trespass of real property":87,"Assault offenses":633,"Burglary/breaking&entering":508},"neighbourhoods":{"NORTHGATE":243,"SLU/CASCADE":212,"DOWNTOWN COMMERCIAL":434,"CHINATOWN/INTERNATIONAL DISTRICT":146,"UNIVERSITY":166,"MID BEACON HILL":94,"PIONEER SQUARE":112,"GREENWOOD":76,"QUEEN ANNE":267,"NORTH BEACON HILL":119,"MADRONA/LESCHI":83,"CENTRAL AREA/SQUIRE PARK":134,"MAGNOLIA":62,"SOUTH PARK":43,"NORTH DELRIDGE":34,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":72,"FIRST HILL":147,"BALLARD SOUTH":132,"SODO":75,"MADISON PARK":15,"JUDKINS PARK/NORTH BEACON HILL":41,"SOUTH DELRIDGE":26,"BITTERLAKE":77,"ROOSEVELT/RAVENNA":159,"CAPITOL HILL":222,"LAKEWOOD/SEWARD PARK":38,"BALLARD NORTH":100,"HIGHLAND PARK":52,"BELLTOWN":188,"BRIGHTON/DUNLAP":102,"RAINIER BEACH":72,"SANDPOINT":98,"UNKNOWN":54,"RAINIER VIEW":64,"SOUTH BEACON HILL":24,"GEORGETOWN":47,"WALLINGFORD":92,"HIGH POINT":29,"FREMONT":118,"GENESEE":8,"HILLMAN CITY":27,"NEW HOLLY":39,"MONTLAKE/PORTAGE BAY":23,"PIGEON POINT":7,"NORTH ADMIRAL":50,"MOUNT BAKER":61,"MORGAN":50,"COLUMBIA CITY":28,"ALASKA JUNCTION":43,"PHINNEY RIDGE":40,"CLAREMONT/RAINIER VISTA":25,"ALKI":24,"EASTLAKE - WEST":24,"FAUNTLEROY SW":15,"MILLER PARK":36,"EASTLAKE - EAST":4,"COMMERCIAL HARBOR ISLAND":2,"COMMERCIAL DUWAMISH":2,"LAKECITY":138}},{"month":"2008, 05","categories":{"Robbery":135,"Larceny-theft":2007,"Destruction/damage/vandalism of property":582,"Drug/narcotic offenses":260,"Motor vehicle theft":261,"Kidnapping/abduction":7,"Fraud offenses":258,"Embezzlement":23,"Driving under the influence":79,"Liquor law violations":26,"Prostitution offenses":40,"Weapon law violations":57,"Family offenses, nonviolent":78,"Sex offenses":34,"Peeping tom":1,"Counterfeiting/forgery":33,"Stolen property offenses":18,"Bad checks":48,"Curfew/loitering/vagrancy violations":14,"Arson":3,"Pornography/obscene material":3,"Homicide offenses":3,"Gambling offenses":1,"Extortion/blackmail":1,"Trespass of real property":96,"Assault offenses":721,"Burglary/breaking&entering":549},"neighbourhoods":{"SLU/CASCADE":244,"PIONEER SQUARE":125,"BELLTOWN":176,"NORTHGATE":260,"BALLARD SOUTH":150,"MADISON PARK":25,"MORGAN":46,"FIRST HILL":163,"UNIVERSITY":189,"DOWNTOWN COMMERCIAL":473,"ALASKA JUNCTION":67,"CAPITOL HILL":286,"WALLINGFORD":104,"GREENWOOD":111,"FREMONT":118,"CENTRAL AREA/SQUIRE PARK":132,"QUEEN ANNE":259,"MID BEACON HILL":100,"SOUTH BEACON HILL":24,"SANDPOINT":97,"BALLARD NORTH":91,"MAGNOLIA":59,"HILLMAN CITY":38,"BRIGHTON/DUNLAP":86,"EASTLAKE - WEST":18,"BITTERLAKE":95,"PHINNEY RIDGE":54,"ROOSEVELT/RAVENNA":136,"CHINATOWN/INTERNATIONAL DISTRICT":151,"ALKI":32,"NEW HOLLY":42,"HIGH POINT":36,"SOUTH PARK":58,"GEORGETOWN":65,"NORTH BEACON HILL":121,"NORTH DELRIDGE":41,"RAINIER VIEW":61,"MOUNT BAKER":71,"MADRONA/LESCHI":86,"NORTH ADMIRAL":61,"MILLER PARK":29,"LAKEWOOD/SEWARD PARK":28,"RAINIER BEACH":77,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":59,"JUDKINS PARK/NORTH BEACON HILL":57,"SOUTH DELRIDGE":31,"SODO":107,"FAUNTLEROY SW":22,"UNKNOWN":42,"MONTLAKE/PORTAGE BAY":29,"HIGHLAND PARK":63,"CLAREMONT/RAINIER VISTA":26,"COLUMBIA CITY":38,"PIGEON POINT":8,"EASTLAKE - EAST":4,"COMMERCIAL HARBOR ISLAND":3,"COMMERCIAL DUWAMISH":2,"GENESEE":14,"LAKECITY":148}},{"month":"2008, 06","categories":{"Drug/narcotic offenses":263,"Larceny-theft":1992,"Weapon law violations":55,"Extortion/blackmail":2,"Motor vehicle theft":277,"Fraud offenses":255,"Robbery":115,"Family offenses, nonviolent":56,"Destruction/damage/vandalism of property":663,"Bad checks":41,"Counterfeiting/forgery":24,"Stolen property offenses":22,"Driving under the influence":65,"Prostitution offenses":41,"Liquor law violations":48,"Homicide offenses":1,"Embezzlement":21,"Curfew/loitering/vagrancy violations":9,"Sex offenses":32,"Arson":13,"Kidnapping/abduction":4,"Sex offenses, consensual":2,"Trespass of real property":97,"Assault offenses":731,"Burglary/breaking&entering":607},"neighbourhoods":{"CHINATOWN/INTERNATIONAL DISTRICT":148,"BELLTOWN":173,"NORTH BEACON HILL":106,"BALLARD SOUTH":154,"DOWNTOWN COMMERCIAL":430,"CENTRAL AREA/SQUIRE PARK":202,"FREMONT":95,"SOUTH PARK":75,"MADRONA/LESCHI":100,"PIONEER SQUARE":136,"ROOSEVELT/RAVENNA":171,"QUEEN ANNE":284,"NORTHGATE":238,"WALLINGFORD":98,"GREENWOOD":105,"FIRST HILL":149,"ALKI":40,"SLU/CASCADE":273,"MID BEACON HILL":85,"BALLARD NORTH":101,"LAKEWOOD/SEWARD PARK":29,"CAPITOL HILL":282,"GEORGETOWN":69,"BRIGHTON/DUNLAP":110,"BITTERLAKE":89,"FAUNTLEROY SW":19,"SANDPOINT":87,"MONTLAKE/PORTAGE BAY":26,"ALASKA JUNCTION":46,"PHINNEY RIDGE":44,"NORTH ADMIRAL":46,"UNIVERSITY":186,"MOUNT BAKER":72,"SODO":103,"MAGNOLIA":89,"NEW HOLLY":44,"HILLMAN CITY":34,"SOUTH BEACON HILL":47,"COLUMBIA CITY":24,"RAINIER BEACH":72,"JUDKINS PARK/NORTH BEACON HILL":59,"UNKNOWN":53,"RAINIER VIEW":74,"GENESEE":18,"MADISON PARK":13,"MORGAN":42,"MILLER PARK":40,"HIGHLAND PARK":55,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":62,"EASTLAKE - WEST":31,"SOUTH DELRIDGE":17,"HIGH POINT":27,"NORTH DELRIDGE":49,"EASTLAKE - EAST":10,"CLAREMONT/RAINIER VISTA":21,"PIGEON POINT":12,"COMMERCIAL DUWAMISH":1,"LAKECITY":171}},{"month":"2008, 07","categories":{"Driving under the influence":78,"Destruction/damage/vandalism of property":697,"Larceny-theft":2029,"Arson":8,"Family offenses, nonviolent":72,"Fraud offenses":270,"Liquor law violations":46,"Robbery":132,"Motor vehicle theft":284,"Weapon law violations":95,"Drug/narcotic offenses":281,"Stolen property offenses":19,"Bad checks":63,"Curfew/loitering/vagrancy violations":7,"Sex offenses":30,"Prostitution offenses":17,"Sex offenses, consensual":1,"Counterfeiting/forgery":30,"Embezzlement":21,"Pornography/obscene material":2,"Kidnapping/abduction":5,"Extortion/blackmail":3,"Homicide offenses":3,"Peeping tom":1,"Trespass of real property":109,"Assault offenses":791,"Burglary/breaking&entering":607},"neighbourhoods":{"SLU/CASCADE":263,"NORTHGATE":295,"MAGNOLIA":67,"FIRST HILL":158,"MILLER PARK":49,"CAPITOL HILL":316,"RAINIER BEACH":90,"UNIVERSITY":182,"CENTRAL AREA/SQUIRE PARK":190,"ALASKA JUNCTION":55,"ALKI":39,"BALLARD SOUTH":140,"LAKEWOOD/SEWARD PARK":53,"NORTH DELRIDGE":38,"DOWNTOWN COMMERCIAL":433,"WALLINGFORD":90,"NEW HOLLY":55,"PIONEER SQUARE":154,"QUEEN ANNE":265,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":48,"GREENWOOD":126,"BRIGHTON/DUNLAP":121,"SANDPOINT":109,"CHINATOWN/INTERNATIONAL DISTRICT":149,"RAINIER VIEW":65,"COLUMBIA CITY":38,"HILLMAN CITY":39,"SOUTH PARK":74,"MOUNT BAKER":92,"ROOSEVELT/RAVENNA":170,"BITTERLAKE":121,"MADRONA/LESCHI":117,"SODO":124,"MID BEACON HILL":76,"PHINNEY RIDGE":48,"EASTLAKE - WEST":30,"HIGHLAND PARK":60,"MADISON PARK":16,"UNKNOWN":44,"NORTH ADMIRAL":56,"MONTLAKE/PORTAGE BAY":38,"NORTH BEACON HILL":110,"BALLARD NORTH":116,"FAUNTLEROY SW":19,"MORGAN":38,"GEORGETOWN":69,"BELLTOWN":187,"SOUTH BEACON HILL":33,"PIGEON POINT":11,"HIGH POINT":35,"JUDKINS PARK/NORTH BEACON HILL":49,"FREMONT":96,"SOUTH DELRIDGE":14,"GENESEE":21,"COMMERCIAL HARBOR ISLAND":4,"CLAREMONT/RAINIER VISTA":36,"COMMERCIAL DUWAMISH":4,"EASTLAKE - EAST":6,"LAKECITY":160}},{"month":"2008, 08","categories":{"Drug/narcotic offenses":262,"Larceny-theft":1906,"Motor vehicle theft":344,"Destruction/damage/vandalism of property":652,"Liquor law violations":47,"Robbery":148,"Driving under the influence":118,"Fraud offenses":274,"Sex offenses":29,"Counterfeiting/forgery":26,"Weapon law violations":67,"Family offenses, nonviolent":80,"Bad checks":69,"Stolen property offenses":24,"Curfew/loitering/vagrancy violations":16,"Homicide offenses":2,"Arson":11,"Prostitution offenses":18,"Embezzlement":13,"Kidnapping/abduction":8,"Pornography/obscene material":1,"Extortion/blackmail":1,"Sex offenses, consensual":1,"Trespass of real property":107,"Burglary/breaking&entering":557,"Assault offenses":926},"neighbourhoods":{"DOWNTOWN COMMERCIAL":473,"CAPITOL HILL":318,"MONTLAKE/PORTAGE BAY":19,"BELLTOWN":198,"NORTH DELRIDGE":48,"QUEEN ANNE":289,"FIRST HILL":155,"CENTRAL AREA/SQUIRE PARK":186,"ROOSEVELT/RAVENNA":133,"JUDKINS PARK/NORTH BEACON HILL":57,"UNIVERSITY":209,"BRIGHTON/DUNLAP":136,"WALLINGFORD":67,"SANDPOINT":118,"SLU/CASCADE":276,"BALLARD NORTH":90,"MILLER PARK":36,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":59,"PIONEER SQUARE":146,"NORTH ADMIRAL":59,"BALLARD SOUTH":145,"NORTHGATE":257,"FREMONT":93,"SOUTH PARK":61,"RAINIER VIEW":73,"FAUNTLEROY SW":25,"MORGAN":46,"RAINIER BEACH":93,"SOUTH BEACON HILL":38,"HIGH POINT":39,"BITTERLAKE":93,"ALASKA JUNCTION":59,"SODO":94,"SOUTH DELRIDGE":14,"GREENWOOD":129,"CLAREMONT/RAINIER VISTA":24,"MOUNT BAKER":92,"CHINATOWN/INTERNATIONAL DISTRICT":142,"NORTH BEACON HILL":132,"UNKNOWN":45,"MADRONA/LESCHI":118,"MAGNOLIA":66,"MID BEACON HILL":91,"NEW HOLLY":54,"PHINNEY RIDGE":47,"GEORGETOWN":84,"HILLMAN CITY":55,"EASTLAKE - EAST":5,"LAKEWOOD/SEWARD PARK":34,"COLUMBIA CITY":56,"HIGHLAND PARK":73,"PIGEON POINT":6,"ALKI":19,"EASTLAKE - WEST":43,"COMMERCIAL DUWAMISH":4,"GENESEE":17,"MADISON PARK":13,"LAKECITY":156}},{"month":"2008, 09","categories":{"Destruction/damage/vandalism of property":684,"Larceny-theft":2000,"Weapon law violations":80,"Robbery":156,"Fraud offenses":294,"Liquor law violations":47,"Motor vehicle theft":381,"Driving under the influence":100,"Bad checks":92,"Kidnapping/abduction":4,"Sex offenses":35,"Drug/narcotic offenses":230,"Embezzlement":14,"Stolen property offenses":22,"Prostitution offenses":22,"Counterfeiting/forgery":37,"Family offenses, nonviolent":72,"Curfew/loitering/vagrancy violations":12,"Arson":12,"Homicide offenses":2,"Gambling offenses":3,"Extortion/blackmail":1,"Trespass of real property":121,"Burglary/breaking&entering":621,"Assault offenses":851},"neighbourhoods":{"NORTHGATE":285,"MADISON PARK":21,"BELLTOWN":208,"WALLINGFORD":101,"QUEEN ANNE":330,"SLU/CASCADE":280,"CENTRAL AREA/SQUIRE PARK":147,"HILLMAN CITY":63,"CAPITOL HILL":323,"SANDPOINT":114,"NORTH BEACON HILL":131,"DOWNTOWN COMMERCIAL":451,"NEW HOLLY":43,"CHINATOWN/INTERNATIONAL DISTRICT":133,"MAGNOLIA":82,"GEORGETOWN":80,"COLUMBIA CITY":33,"BALLARD SOUTH":164,"EASTLAKE - WEST":47,"UNIVERSITY":211,"FAUNTLEROY SW":23,"RAINIER BEACH":68,"ALASKA JUNCTION":68,"SOUTH BEACON HILL":46,"MID BEACON HILL":71,"RAINIER VIEW":89,"FIRST HILL":215,"BALLARD NORTH":97,"SODO":119,"ALKI":35,"NORTH DELRIDGE":61,"LAKEWOOD/SEWARD PARK":36,"ROOSEVELT/RAVENNA":195,"PHINNEY RIDGE":46,"GENESEE":17,"NORTH ADMIRAL":52,"GREENWOOD":119,"PIONEER SQUARE":155,"BITTERLAKE":108,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":76,"MADRONA/LESCHI":81,"MOUNT BAKER":57,"CLAREMONT/RAINIER VISTA":28,"HIGHLAND PARK":83,"SOUTH PARK":46,"BRIGHTON/DUNLAP":120,"FREMONT":90,"HIGH POINT":46,"MORGAN":44,"PIGEON POINT":8,"MILLER PARK":30,"JUDKINS PARK/NORTH BEACON HILL":39,"UNKNOWN":33,"MONTLAKE/PORTAGE BAY":44,"SOUTH DELRIDGE":17,"COMMERCIAL DUWAMISH":9,"EASTLAKE - EAST":6,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":168}},{"month":"2008, 10","categories":{"Larceny-theft":2185,"Destruction/damage/vandalism of property":575,"Robbery":184,"Weapon law violations":70,"Stolen property offenses":29,"Motor vehicle theft":408,"Fraud offenses":265,"Drug/narcotic offenses":231,"Driving under the influence":111,"Homicide offenses":4,"Family offenses, nonviolent":87,"Liquor law violations":31,"Embezzlement":23,"Bad checks":51,"Extortion/blackmail":4,"Counterfeiting/forgery":32,"Sex offenses":44,"Prostitution offenses":41,"Pornography/obscene material":3,"Arson":6,"Kidnapping/abduction":5,"Curfew/loitering/vagrancy violations":6,"Peeping tom":2,"Sex offenses, consensual":1,"Trespass of real property":97,"Assault offenses":808,"Burglary/breaking&entering":614},"neighbourhoods":{"ALKI":23,"BELLTOWN":163,"SOUTH BEACON HILL":27,"SLU/CASCADE":303,"ALASKA JUNCTION":87,"HILLMAN CITY":45,"FREMONT":98,"UNIVERSITY":231,"RAINIER BEACH":106,"SANDPOINT":85,"NORTH ADMIRAL":76,"QUEEN ANNE":286,"NORTH BEACON HILL":147,"CENTRAL AREA/SQUIRE PARK":219,"MOUNT BAKER":70,"MID BEACON HILL":118,"BALLARD SOUTH":158,"DOWNTOWN COMMERCIAL":453,"ROOSEVELT/RAVENNA":154,"BRIGHTON/DUNLAP":179,"PIONEER SQUARE":143,"CAPITOL HILL":311,"FIRST HILL":166,"HIGH POINT":54,"NORTHGATE":268,"CHINATOWN/INTERNATIONAL DISTRICT":154,"SODO":90,"WALLINGFORD":98,"MADRONA/LESCHI":85,"NEW HOLLY":47,"RAINIER VIEW":91,"CLAREMONT/RAINIER VISTA":33,"NORTH DELRIDGE":84,"LAKEWOOD/SEWARD PARK":43,"BITTERLAKE":113,"BALLARD NORTH":87,"COLUMBIA CITY":57,"MILLER PARK":33,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":86,"HIGHLAND PARK":69,"MONTLAKE/PORTAGE BAY":28,"MAGNOLIA":76,"GREENWOOD":105,"GEORGETOWN":59,"PHINNEY RIDGE":43,"MORGAN":44,"UNKNOWN":36,"COMMERCIAL DUWAMISH":4,"GENESEE":25,"JUDKINS PARK/NORTH BEACON HILL":54,"PIGEON POINT":14,"SOUTH PARK":48,"EASTLAKE - WEST":35,"SOUTH DELRIDGE":12,"FAUNTLEROY SW":15,"EASTLAKE - EAST":6,"MADISON PARK":9,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":162}},{"month":"2008, 11","categories":{"Larceny-theft":2062,"Motor vehicle theft":379,"Destruction/damage/vandalism of property":541,"Robbery":186,"Driving under the influence":122,"Drug/narcotic offenses":219,"Fraud offenses":258,"Homicide offenses":2,"Weapon law violations":62,"Liquor law violations":24,"Family offenses, nonviolent":81,"Stolen property offenses":26,"Counterfeiting/forgery":22,"Bad checks":47,"Sex offenses":14,"Prostitution offenses":16,"Embezzlement":17,"Curfew/loitering/vagrancy violations":9,"Arson":4,"Sex offenses, consensual":2,"Gambling offenses":1,"Pornography/obscene material":3,"Kidnapping/abduction":7,"Trespass of real property":109,"Assault offenses":785,"Burglary/breaking&entering":544},"neighbourhoods":{"MAGNOLIA":61,"NEW HOLLY":51,"CHINATOWN/INTERNATIONAL DISTRICT":109,"CLAREMONT/RAINIER VISTA":30,"QUEEN ANNE":332,"DOWNTOWN COMMERCIAL":390,"BELLTOWN":176,"SLU/CASCADE":259,"FREMONT":98,"CENTRAL AREA/SQUIRE PARK":165,"NORTH ADMIRAL":60,"BALLARD SOUTH":187,"RAINIER BEACH":82,"BALLARD NORTH":113,"MADRONA/LESCHI":81,"CAPITOL HILL":311,"WALLINGFORD":108,"ROOSEVELT/RAVENNA":164,"UNIVERSITY":227,"NORTH DELRIDGE":47,"PIONEER SQUARE":143,"BRIGHTON/DUNLAP":102,"FIRST HILL":156,"EASTLAKE - WEST":46,"GREENWOOD":140,"SOUTH PARK":63,"MADISON PARK":22,"NORTHGATE":262,"COMMERCIAL DUWAMISH":3,"GENESEE":14,"ALASKA JUNCTION":56,"LAKEWOOD/SEWARD PARK":29,"ALKI":17,"HIGHLAND PARK":75,"GEORGETOWN":63,"NORTH BEACON HILL":117,"BITTERLAKE":101,"RAINIER VIEW":74,"MORGAN":51,"HILLMAN CITY":49,"JUDKINS PARK/NORTH BEACON HILL":43,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":58,"SODO":74,"MOUNT BAKER":96,"MID BEACON HILL":96,"SANDPOINT":85,"MILLER PARK":31,"PHINNEY RIDGE":33,"FAUNTLEROY SW":17,"HIGH POINT":45,"COLUMBIA CITY":49,"MONTLAKE/PORTAGE BAY":35,"UNKNOWN":16,"SOUTH BEACON HILL":37,"SOUTH DELRIDGE":20,"PIGEON POINT":8,"EASTLAKE - EAST":5,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":158}},{"month":"2008, 12","categories":{"Larceny-theft":1960,"Driving under the influence":145,"Liquor law violations":23,"Robbery":141,"Fraud offenses":297,"Drug/narcotic offenses":198,"Curfew/loitering/vagrancy violations":2,"Weapon law violations":37,"Destruction/damage/vandalism of property":469,"Motor vehicle theft":261,"Family offenses, nonviolent":58,"Bad checks":48,"Kidnapping/abduction":5,"Sex offenses":14,"Counterfeiting/forgery":27,"Stolen property offenses":16,"Prostitution offenses":13,"Embezzlement":16,"Arson":6,"Peeping tom":2,"Extortion/blackmail":2,"Sex offenses, consensual":1,"Trespass of real property":83,"Assault offenses":768,"Burglary/breaking&entering":546},"neighbourhoods":{"DOWNTOWN COMMERCIAL":383,"MOUNT BAKER":58,"SLU/CASCADE":208,"PIONEER SQUARE":103,"CAPITOL HILL":238,"NORTH DELRIDGE":58,"BALLARD SOUTH":152,"QUEEN ANNE":309,"GREENWOOD":138,"CHINATOWN/INTERNATIONAL DISTRICT":151,"UNIVERSITY":223,"NORTHGATE":275,"COLUMBIA CITY":27,"FREMONT":110,"NORTH BEACON HILL":106,"RAINIER BEACH":94,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":94,"WALLINGFORD":111,"MID BEACON HILL":83,"MORGAN":35,"LAKEWOOD/SEWARD PARK":32,"NORTH ADMIRAL":77,"NEW HOLLY":28,"BALLARD NORTH":124,"BELLTOWN":170,"EASTLAKE - WEST":34,"HIGHLAND PARK":40,"SODO":53,"MADISON PARK":14,"FIRST HILL":142,"SANDPOINT":86,"ROOSEVELT/RAVENNA":169,"GEORGETOWN":66,"BITTERLAKE":72,"SOUTH PARK":40,"PHINNEY RIDGE":43,"MONTLAKE/PORTAGE BAY":31,"BRIGHTON/DUNLAP":125,"CENTRAL AREA/SQUIRE PARK":158,"HILLMAN CITY":36,"JUDKINS PARK/NORTH BEACON HILL":41,"ALASKA JUNCTION":54,"SOUTH DELRIDGE":16,"MAGNOLIA":82,"FAUNTLEROY SW":20,"HIGH POINT":39,"MADRONA/LESCHI":56,"RAINIER VIEW":69,"SOUTH BEACON HILL":30,"CLAREMONT/RAINIER VISTA":18,"UNKNOWN":17,"ALKI":32,"EASTLAKE - EAST":6,"PIGEON POINT":5,"GENESEE":14,"MILLER PARK":22,"COMMERCIAL DUWAMISH":2,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":117}},{"month":"2009, 01","categories":{"Destruction/damage/vandalism of property":545,"Larceny-theft":2186,"Motor vehicle theft":277,"Robbery":159,"Driving under the influence":112,"Drug/narcotic offenses":273,"Prostitution offenses":23,"Stolen property offenses":33,"Weapon law violations":56,"Sex offenses":23,"Fraud offenses":310,"Family offenses, nonviolent":88,"Bad checks":72,"Counterfeiting/forgery":31,"Curfew/loitering/vagrancy violations":13,"Pornography/obscene material":2,"Extortion/blackmail":2,"Embezzlement":17,"Liquor law violations":38,"Arson":13,"Homicide offenses":2,"Sex offenses, consensual":1,"Kidnapping/abduction":1,"Trespass of real property":93,"Assault offenses":770,"Burglary/breaking&entering":567},"neighbourhoods":{"SOUTH PARK":49,"BALLARD SOUTH":155,"WALLINGFORD":130,"DOWNTOWN COMMERCIAL":406,"QUEEN ANNE":347,"BALLARD NORTH":131,"SLU/CASCADE":255,"BITTERLAKE":119,"MID BEACON HILL":101,"NORTHGATE":304,"EASTLAKE - WEST":57,"ROOSEVELT/RAVENNA":203,"SODO":62,"GREENWOOD":136,"LAKEWOOD/SEWARD PARK":21,"RAINIER BEACH":94,"HIGH POINT":48,"MOUNT BAKER":72,"MAGNOLIA":57,"CENTRAL AREA/SQUIRE PARK":160,"CHINATOWN/INTERNATIONAL DISTRICT":149,"FIRST HILL":164,"NORTH BEACON HILL":102,"BELLTOWN":179,"GEORGETOWN":58,"PHINNEY RIDGE":72,"PIONEER SQUARE":112,"RAINIER VIEW":81,"NORTH DELRIDGE":42,"SANDPOINT":77,"MADRONA/LESCHI":60,"BRIGHTON/DUNLAP":107,"UNIVERSITY":227,"CAPITOL HILL":299,"SOUTH BEACON HILL":30,"HILLMAN CITY":38,"MORGAN":63,"COLUMBIA CITY":32,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":82,"FAUNTLEROY SW":27,"ALASKA JUNCTION":92,"HIGHLAND PARK":71,"MADISON PARK":11,"UNKNOWN":38,"FREMONT":110,"EASTLAKE - EAST":8,"NEW HOLLY":32,"JUDKINS PARK/NORTH BEACON HILL":40,"MONTLAKE/PORTAGE BAY":31,"CLAREMONT/RAINIER VISTA":39,"SOUTH DELRIDGE":13,"COMMERCIAL DUWAMISH":5,"ALKI":18,"NORTH ADMIRAL":73,"MILLER PARK":44,"GENESEE":14,"PIGEON POINT":5,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":154}},{"month":"2009, 02","categories":{"Liquor law violations":42,"Larceny-theft":1743,"Drug/narcotic offenses":251,"Driving under the influence":64,"Sex offenses":32,"Robbery":136,"Curfew/loitering/vagrancy violations":9,"Fraud offenses":252,"Motor vehicle theft":258,"Destruction/damage/vandalism of property":432,"Weapon law violations":36,"Bad checks":79,"Stolen property offenses":24,"Family offenses, nonviolent":68,"Counterfeiting/forgery":23,"Gambling offenses":1,"Sex offenses, consensual":3,"Bribery":1,"Embezzlement":12,"Prostitution offenses":27,"Arson":5,"Kidnapping/abduction":1,"Extortion/blackmail":1,"Homicide offenses":3,"Trespass of real property":105,"Assault offenses":652,"Burglary/breaking&entering":439},"neighbourhoods":{"CAPITOL HILL":292,"DOWNTOWN COMMERCIAL":351,"SLU/CASCADE":238,"HIGHLAND PARK":53,"SOUTH PARK":50,"ROOSEVELT/RAVENNA":148,"MAGNOLIA":54,"BELLTOWN":170,"SOUTH DELRIDGE":13,"PIONEER SQUARE":86,"UNIVERSITY":162,"BRIGHTON/DUNLAP":100,"BALLARD SOUTH":112,"CHINATOWN/INTERNATIONAL DISTRICT":108,"FIRST HILL":131,"UNKNOWN":37,"GREENWOOD":120,"QUEEN ANNE":210,"MOUNT BAKER":47,"SOUTH BEACON HILL":40,"BITTERLAKE":66,"GENESEE":19,"ALASKA JUNCTION":63,"MORGAN":37,"MID BEACON HILL":84,"GEORGETOWN":53,"CENTRAL AREA/SQUIRE PARK":147,"MILLER PARK":30,"NORTHGATE":269,"CLAREMONT/RAINIER VISTA":30,"SANDPOINT":93,"BALLARD NORTH":104,"HIGH POINT":43,"SODO":53,"JUDKINS PARK/NORTH BEACON HILL":23,"RAINIER BEACH":64,"NORTH BEACON HILL":100,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":71,"WALLINGFORD":97,"NORTH ADMIRAL":79,"MADRONA/LESCHI":55,"HILLMAN CITY":33,"RAINIER VIEW":57,"FREMONT":88,"NEW HOLLY":38,"EASTLAKE - WEST":28,"PHINNEY RIDGE":46,"FAUNTLEROY SW":19,"ALKI":23,"COLUMBIA CITY":20,"LAKEWOOD/SEWARD PARK":46,"EASTLAKE - EAST":7,"MONTLAKE/PORTAGE BAY":19,"NORTH DELRIDGE":22,"PIGEON POINT":7,"MADISON PARK":17,"COMMERCIAL DUWAMISH":5,"LAKECITY":122}},{"month":"2009, 03","categories":{"Robbery":139,"Larceny-theft":2011,"Family offenses, nonviolent":78,"Driving under the influence":98,"Fraud offenses":299,"Destruction/damage/vandalism of property":494,"Motor vehicle theft":217,"Bad checks":72,"Curfew/loitering/vagrancy violations":13,"Prostitution offenses":9,"Sex offenses":26,"Kidnapping/abduction":10,"Stolen property offenses":18,"Liquor law violations":27,"Weapon law violations":39,"Embezzlement":17,"Drug/narcotic offenses":263,"Counterfeiting/forgery":29,"Arson":16,"Homicide offenses":1,"Pornography/obscene material":3,"Extortion/blackmail":1,"Sex offenses, consensual":1,"Trespass of real property":111,"Assault offenses":737,"Burglary/breaking&entering":482},"neighbourhoods":{"CLAREMONT/RAINIER VISTA":39,"QUEEN ANNE":284,"NORTH ADMIRAL":46,"SLU/CASCADE":279,"BRIGHTON/DUNLAP":97,"NORTHGATE":237,"UNIVERSITY":196,"BELLTOWN":218,"SANDPOINT":111,"NEW HOLLY":32,"BALLARD SOUTH":146,"ROOSEVELT/RAVENNA":176,"MOUNT BAKER":70,"SODO":65,"NORTH DELRIDGE":44,"MAGNOLIA":104,"HIGH POINT":35,"CHINATOWN/INTERNATIONAL DISTRICT":112,"HIGHLAND PARK":72,"BITTERLAKE":101,"LAKEWOOD/SEWARD PARK":52,"DOWNTOWN COMMERCIAL":431,"FAUNTLEROY SW":23,"RAINIER VIEW":61,"PIONEER SQUARE":95,"WALLINGFORD":109,"FIRST HILL":127,"FREMONT":90,"GREENWOOD":99,"CAPITOL HILL":235,"ALKI":31,"COLUMBIA CITY":59,"MORGAN":53,"EASTLAKE - WEST":30,"BALLARD NORTH":107,"MADRONA/LESCHI":51,"CENTRAL AREA/SQUIRE PARK":154,"MONTLAKE/PORTAGE BAY":23,"NORTH BEACON HILL":126,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":83,"PHINNEY RIDGE":39,"MILLER PARK":33,"UNKNOWN":26,"ALASKA JUNCTION":59,"RAINIER BEACH":60,"SOUTH BEACON HILL":37,"JUDKINS PARK/NORTH BEACON HILL":21,"MID BEACON HILL":82,"HILLMAN CITY":23,"SOUTH PARK":49,"SOUTH DELRIDGE":19,"EASTLAKE - EAST":3,"GEORGETOWN":44,"MADISON PARK":16,"GENESEE":16,"PIGEON POINT":8,"COMMERCIAL DUWAMISH":2,"LAKECITY":171}},{"month":"2009, 04","categories":{"Robbery":150,"Liquor law violations":34,"Larceny-theft":1934,"Motor vehicle theft":192,"Drug/narcotic offenses":252,"Arson":20,"Destruction/damage/vandalism of property":524,"Sex offenses":27,"Fraud offenses":265,"Prostitution offenses":23,"Bad checks":112,"Embezzlement":22,"Weapon law violations":42,"Stolen property offenses":14,"Family offenses, nonviolent":79,"Driving under the influence":105,"Counterfeiting/forgery":36,"Curfew/loitering/vagrancy violations":8,"Kidnapping/abduction":9,"Peeping tom":1,"Extortion/blackmail":1,"Pornography/obscene material":1,"Sex offenses, consensual":1,"Trespass of real property":79,"Assault offenses":738,"Burglary/breaking&entering":546},"neighbourhoods":{"DOWNTOWN COMMERCIAL":441,"CAPITOL HILL":305,"ROOSEVELT/RAVENNA":152,"BELLTOWN":172,"SLU/CASCADE":289,"ALASKA JUNCTION":76,"COLUMBIA CITY":47,"PIONEER SQUARE":102,"PHINNEY RIDGE":30,"RAINIER VIEW":64,"RAINIER BEACH":66,"UNIVERSITY":201,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":101,"QUEEN ANNE":264,"BALLARD SOUTH":131,"FIRST HILL":167,"NORTH BEACON HILL":97,"FREMONT":90,"MOUNT BAKER":51,"BALLARD NORTH":115,"BITTERLAKE":87,"MONTLAKE/PORTAGE BAY":33,"SODO":74,"MADISON PARK":20,"GREENWOOD":84,"SOUTH PARK":47,"GEORGETOWN":39,"NORTH ADMIRAL":65,"MORGAN":47,"WALLINGFORD":93,"HIGHLAND PARK":63,"NORTHGATE":261,"SOUTH BEACON HILL":35,"SANDPOINT":119,"SOUTH DELRIDGE":19,"CENTRAL AREA/SQUIRE PARK":174,"NEW HOLLY":34,"BRIGHTON/DUNLAP":123,"NORTH DELRIDGE":41,"CHINATOWN/INTERNATIONAL DISTRICT":111,"MADRONA/LESCHI":70,"MAGNOLIA":82,"LAKEWOOD/SEWARD PARK":32,"MILLER PARK":30,"FAUNTLEROY SW":21,"ALKI":43,"JUDKINS PARK/NORTH BEACON HILL":34,"GENESEE":14,"HIGH POINT":50,"HILLMAN CITY":30,"EASTLAKE - WEST":24,"MID BEACON HILL":61,"CLAREMONT/RAINIER VISTA":23,"UNKNOWN":18,"COMMERCIAL DUWAMISH":3,"PIGEON POINT":8,"EASTLAKE - EAST":5,"LAKECITY":137}},{"month":"2009, 05","categories":{"Robbery":168,"Motor vehicle theft":230,"Larceny-theft":2067,"Drug/narcotic offenses":234,"Destruction/damage/vandalism of property":575,"Family offenses, nonviolent":86,"Liquor law violations":25,"Prostitution offenses":13,"Weapon law violations":45,"Fraud offenses":230,"Embezzlement":13,"Sex offenses":26,"Driving under the influence":96,"Stolen property offenses":11,"Counterfeiting/forgery":23,"Bad checks":61,"Extortion/blackmail":3,"Homicide offenses":1,"Pornography/obscene material":3,"Curfew/loitering/vagrancy violations":12,"Kidnapping/abduction":3,"Peeping tom":1,"Arson":6,"Trespass of real property":99,"Assault offenses":830,"Burglary/breaking&entering":470},"neighbourhoods":{"DOWNTOWN COMMERCIAL":448,"UNIVERSITY":180,"MADRONA/LESCHI":77,"NORTH BEACON HILL":128,"FREMONT":72,"SLU/CASCADE":282,"RAINIER VIEW":98,"PIONEER SQUARE":127,"SODO":86,"QUEEN ANNE":278,"FIRST HILL":170,"SANDPOINT":121,"CENTRAL AREA/SQUIRE PARK":150,"BALLARD SOUTH":107,"RAINIER BEACH":89,"ROOSEVELT/RAVENNA":182,"BELLTOWN":159,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":80,"CHINATOWN/INTERNATIONAL DISTRICT":123,"UNKNOWN":43,"MAGNOLIA":61,"GEORGETOWN":49,"CAPITOL HILL":247,"MONTLAKE/PORTAGE BAY":32,"BITTERLAKE":91,"HIGHLAND PARK":56,"BRIGHTON/DUNLAP":130,"HIGH POINT":56,"JUDKINS PARK/NORTH BEACON HILL":41,"WALLINGFORD":86,"PHINNEY RIDGE":43,"BALLARD NORTH":110,"SOUTH PARK":60,"COLUMBIA CITY":33,"NORTHGATE":269,"GENESEE":20,"NORTH ADMIRAL":49,"SOUTH BEACON HILL":32,"LAKEWOOD/SEWARD PARK":36,"GREENWOOD":98,"PIGEON POINT":8,"ALASKA JUNCTION":76,"HILLMAN CITY":36,"EASTLAKE - WEST":32,"SOUTH DELRIDGE":24,"NORTH DELRIDGE":44,"ALKI":41,"MORGAN":47,"CLAREMONT/RAINIER VISTA":22,"MID BEACON HILL":71,"MOUNT BAKER":62,"MADISON PARK":20,"MILLER PARK":38,"FAUNTLEROY SW":24,"NEW HOLLY":45,"COMMERCIAL HARBOR ISLAND":1,"EASTLAKE - EAST":4,"COMMERCIAL DUWAMISH":2,"LAKECITY":135}},{"month":"2009, 06","categories":{"Robbery":160,"Larceny-theft":2049,"Motor vehicle theft":239,"Destruction/damage/vandalism of property":570,"Fraud offenses":226,"Drug/narcotic offenses":175,"Family offenses, nonviolent":95,"Stolen property offenses":15,"Liquor law violations":39,"Bad checks":161,"Counterfeiting/forgery":34,"Sex offenses":29,"Sex offenses, consensual":2,"Kidnapping/abduction":4,"Driving under the influence":91,"Curfew/loitering/vagrancy violations":12,"Pornography/obscene material":1,"Weapon law violations":55,"Prostitution offenses":22,"Homicide offenses":1,"Embezzlement":10,"Extortion/blackmail":2,"Gambling offenses":2,"Arson":10,"Trespass of real property":105,"Assault offenses":798,"Burglary/breaking&entering":514,"Peeping tom":1},"neighbourhoods":{"CENTRAL AREA/SQUIRE PARK":193,"SLU/CASCADE":259,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":85,"MILLER PARK":28,"FIRST HILL":164,"CHINATOWN/INTERNATIONAL DISTRICT":153,"DOWNTOWN COMMERCIAL":439,"QUEEN ANNE":225,"BRIGHTON/DUNLAP":106,"GREENWOOD":101,"ROOSEVELT/RAVENNA":190,"BALLARD NORTH":136,"NORTH ADMIRAL":51,"RAINIER VIEW":75,"NORTHGATE":256,"RAINIER BEACH":80,"MORGAN":56,"WALLINGFORD":97,"NORTH BEACON HILL":95,"BITTERLAKE":126,"GEORGETOWN":61,"PHINNEY RIDGE":37,"SOUTH PARK":56,"COLUMBIA CITY":48,"CAPITOL HILL":329,"NEW HOLLY":54,"MOUNT BAKER":84,"FREMONT":78,"EASTLAKE - WEST":38,"PIONEER SQUARE":127,"BALLARD SOUTH":129,"FAUNTLEROY SW":22,"SOUTH BEACON HILL":40,"HIGH POINT":52,"UNIVERSITY":137,"SODO":88,"BELLTOWN":183,"MADRONA/LESCHI":92,"MAGNOLIA":68,"SANDPOINT":101,"GENESEE":31,"MADISON PARK":13,"HIGHLAND PARK":53,"MID BEACON HILL":77,"SOUTH DELRIDGE":6,"ALKI":28,"NORTH DELRIDGE":40,"MONTLAKE/PORTAGE BAY":20,"HILLMAN CITY":47,"JUDKINS PARK/NORTH BEACON HILL":37,"UNKNOWN":40,"ALASKA JUNCTION":66,"COMMERCIAL DUWAMISH":3,"CLAREMONT/RAINIER VISTA":18,"PIGEON POINT":8,"LAKEWOOD/SEWARD PARK":33,"EASTLAKE - EAST":6,"LAKECITY":157}},{"month":"2009, 07","categories":{"Prostitution offenses":37,"Destruction/damage/vandalism of property":598,"Kidnapping/abduction":7,"Family offenses, nonviolent":79,"Larceny-theft":2105,"Drug/narcotic offenses":222,"Fraud offenses":258,"Robbery":141,"Weapon law violations":76,"Motor vehicle theft":295,"Driving under the influence":88,"Curfew/loitering/vagrancy violations":8,"Stolen property offenses":15,"Embezzlement":17,"Bad checks":91,"Arson":10,"Sex offenses, consensual":2,"Sex offenses":28,"Counterfeiting/forgery":24,"Liquor law violations":44,"Gambling offenses":3,"Homicide offenses":4,"Extortion/blackmail":2,"Peeping tom":1,"Trespass of real property":87,"Assault offenses":891,"Burglary/breaking&entering":594},"neighbourhoods":{"SLU/CASCADE":291,"MAGNOLIA":79,"NEW HOLLY":64,"SANDPOINT":126,"GREENWOOD":112,"BITTERLAKE":113,"DOWNTOWN COMMERCIAL":416,"LAKEWOOD/SEWARD PARK":43,"FIRST HILL":214,"MID BEACON HILL":78,"PIONEER SQUARE":140,"NORTH DELRIDGE":52,"SODO":76,"NORTHGATE":248,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":80,"MOUNT BAKER":73,"CENTRAL AREA/SQUIRE PARK":178,"WALLINGFORD":96,"QUEEN ANNE":259,"NORTH BEACON HILL":106,"MORGAN":60,"BALLARD NORTH":141,"BELLTOWN":184,"BRIGHTON/DUNLAP":97,"EASTLAKE - WEST":32,"ROOSEVELT/RAVENNA":203,"ALASKA JUNCTION":80,"JUDKINS PARK/NORTH BEACON HILL":58,"FREMONT":87,"MADISON PARK":32,"CAPITOL HILL":345,"FAUNTLEROY SW":21,"SOUTH BEACON HILL":48,"NORTH ADMIRAL":54,"GEORGETOWN":54,"RAINIER BEACH":92,"BALLARD SOUTH":130,"GENESEE":22,"UNKNOWN":34,"UNIVERSITY":155,"CLAREMONT/RAINIER VISTA":27,"COLUMBIA CITY":29,"HILLMAN CITY":29,"ALKI":33,"MONTLAKE/PORTAGE BAY":32,"HIGHLAND PARK":61,"MILLER PARK":29,"RAINIER VIEW":102,"CHINATOWN/INTERNATIONAL DISTRICT":162,"PHINNEY RIDGE":45,"SOUTH PARK":57,"MADRONA/LESCHI":90,"HIGH POINT":66,"SOUTH DELRIDGE":24,"EASTLAKE - EAST":12,"PIGEON POINT":13,"COMMERCIAL DUWAMISH":3,"COMMERCIAL HARBOR ISLAND":3,"LAKECITY":137}},{"month":"2009, 08","categories":{"Larceny-theft":2241,"Driving under the influence":107,"Motor vehicle theft":299,"Destruction/damage/vandalism of property":557,"Drug/narcotic offenses":221,"Robbery":116,"Fraud offenses":243,"Stolen property offenses":17,"Bad checks":65,"Sex offenses":34,"Embezzlement":18,"Family offenses, nonviolent":75,"Weapon law violations":52,"Liquor law violations":66,"Curfew/loitering/vagrancy violations":18,"Prostitution offenses":43,"Counterfeiting/forgery":31,"Arson":16,"Homicide offenses":3,"Kidnapping/abduction":5,"Sex offenses, consensual":3,"Peeping tom":1,"Extortion/blackmail":1,"Trespass of real property":114,"Burglary/breaking&entering":631,"Assault offenses":836},"neighbourhoods":{"DOWNTOWN COMMERCIAL":488,"NORTHGATE":261,"LAKEWOOD/SEWARD PARK":39,"ALASKA JUNCTION":66,"SODO":108,"ALKI":38,"CAPITOL HILL":344,"UNIVERSITY":159,"QUEEN ANNE":252,"PIONEER SQUARE":140,"MILLER PARK":36,"NORTH BEACON HILL":124,"FIRST HILL":168,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":71,"WALLINGFORD":107,"HIGHLAND PARK":70,"PHINNEY RIDGE":57,"RAINIER BEACH":78,"BELLTOWN":181,"BITTERLAKE":108,"FREMONT":133,"ROOSEVELT/RAVENNA":222,"BRIGHTON/DUNLAP":73,"CHINATOWN/INTERNATIONAL DISTRICT":153,"BALLARD SOUTH":135,"SLU/CASCADE":356,"HILLMAN CITY":43,"EASTLAKE - WEST":48,"MID BEACON HILL":74,"BALLARD NORTH":135,"GREENWOOD":113,"GEORGETOWN":52,"NORTH DELRIDGE":39,"SANDPOINT":104,"MOUNT BAKER":69,"JUDKINS PARK/NORTH BEACON HILL":53,"PIGEON POINT":8,"HIGH POINT":68,"MORGAN":63,"SOUTH DELRIDGE":29,"CENTRAL AREA/SQUIRE PARK":179,"SOUTH PARK":42,"MADRONA/LESCHI":90,"FAUNTLEROY SW":29,"NEW HOLLY":41,"UNKNOWN":34,"CLAREMONT/RAINIER VISTA":44,"SOUTH BEACON HILL":26,"MONTLAKE/PORTAGE BAY":31,"NORTH ADMIRAL":62,"RAINIER VIEW":58,"MAGNOLIA":75,"MADISON PARK":18,"GENESEE":20,"EASTLAKE - EAST":8,"COLUMBIA CITY":45,"COMMERCIAL DUWAMISH":4,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":140}},{"month":"2009, 09","categories":{"Larceny-theft":2313,"Robbery":165,"Bad checks":69,"Destruction/damage/vandalism of property":586,"Motor vehicle theft":323,"Driving under the influence":97,"Family offenses, nonviolent":67,"Weapon law violations":58,"Fraud offenses":237,"Liquor law violations":38,"Drug/narcotic offenses":211,"Counterfeiting/forgery":21,"Stolen property offenses":21,"Embezzlement":8,"Prostitution offenses":36,"Curfew/loitering/vagrancy violations":8,"Arson":9,"Sex offenses":31,"Peeping tom":2,"Kidnapping/abduction":4,"Extortion/blackmail":2,"Pornography/obscene material":1,"Trespass of real property":129,"Burglary/breaking&entering":634,"Assault offenses":765},"neighbourhoods":{"DOWNTOWN COMMERCIAL":510,"CHINATOWN/INTERNATIONAL DISTRICT":121,"BELLTOWN":149,"WALLINGFORD":121,"BITTERLAKE":97,"JUDKINS PARK/NORTH BEACON HILL":37,"SODO":104,"CAPITOL HILL":316,"BALLARD SOUTH":149,"ALASKA JUNCTION":79,"NORTHGATE":291,"QUEEN ANNE":372,"BRIGHTON/DUNLAP":86,"FREMONT":150,"MADRONA/LESCHI":67,"PIONEER SQUARE":163,"SLU/CASCADE":302,"GREENWOOD":112,"FAUNTLEROY SW":23,"NORTH BEACON HILL":118,"EASTLAKE - WEST":32,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":77,"NORTH DELRIDGE":34,"MID BEACON HILL":69,"MORGAN":49,"FIRST HILL":171,"SOUTH BEACON HILL":30,"UNIVERSITY":199,"ROOSEVELT/RAVENNA":226,"CENTRAL AREA/SQUIRE PARK":165,"MONTLAKE/PORTAGE BAY":33,"BALLARD NORTH":169,"MAGNOLIA":105,"PHINNEY RIDGE":74,"HIGH POINT":52,"SANDPOINT":97,"MILLER PARK":30,"GEORGETOWN":54,"COLUMBIA CITY":21,"MOUNT BAKER":84,"UNKNOWN":39,"HIGHLAND PARK":55,"NEW HOLLY":28,"NORTH ADMIRAL":66,"HILLMAN CITY":30,"ALKI":41,"MADISON PARK":17,"CLAREMONT/RAINIER VISTA":21,"GENESEE":17,"RAINIER VIEW":71,"RAINIER BEACH":51,"LAKEWOOD/SEWARD PARK":17,"COMMERCIAL DUWAMISH":2,"EASTLAKE - EAST":10,"SOUTH PARK":48,"SOUTH DELRIDGE":12,"PIGEON POINT":7,"COMMERCIAL HARBOR ISLAND":3,"LAKECITY":162}},{"month":"2009, 10","categories":{"Drug/narcotic offenses":237,"Destruction/damage/vandalism of property":507,"Larceny-theft":2348,"Liquor law violations":32,"Homicide offenses":1,"Motor vehicle theft":332,"Robbery":154,"Counterfeiting/forgery":24,"Stolen property offenses":19,"Family offenses, nonviolent":66,"Fraud offenses":199,"Driving under the influence":122,"Arson":19,"Bad checks":79,"Embezzlement":16,"Sex offenses":23,"Kidnapping/abduction":4,"Prostitution offenses":70,"Pornography/obscene material":2,"Weapon law violations":49,"Sex offenses, consensual":2,"Extortion/blackmail":2,"Curfew/loitering/vagrancy violations":6,"Trespass of real property":84,"Assault offenses":708,"Burglary/breaking&entering":541},"neighbourhoods":{"RAINIER BEACH":76,"PIONEER SQUARE":138,"CAPITOL HILL":309,"SLU/CASCADE":309,"UNIVERSITY":217,"CENTRAL AREA/SQUIRE PARK":144,"DOWNTOWN COMMERCIAL":486,"GREENWOOD":115,"BALLARD NORTH":131,"SOUTH DELRIDGE":18,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":76,"MONTLAKE/PORTAGE BAY":49,"NORTHGATE":292,"NEW HOLLY":36,"NORTH BEACON HILL":154,"MOUNT BAKER":65,"SANDPOINT":128,"BALLARD SOUTH":153,"ROOSEVELT/RAVENNA":202,"PIGEON POINT":11,"QUEEN ANNE":287,"ALASKA JUNCTION":91,"BRIGHTON/DUNLAP":86,"CLAREMONT/RAINIER VISTA":28,"NORTH DELRIDGE":45,"CHINATOWN/INTERNATIONAL DISTRICT":148,"PHINNEY RIDGE":44,"BITTERLAKE":109,"RAINIER VIEW":55,"HIGH POINT":43,"HIGHLAND PARK":63,"UNKNOWN":33,"GENESEE":26,"GEORGETOWN":44,"FREMONT":99,"FIRST HILL":165,"BELLTOWN":182,"COLUMBIA CITY":49,"SOUTH PARK":55,"NORTH ADMIRAL":64,"MADRONA/LESCHI":68,"MAGNOLIA":89,"JUDKINS PARK/NORTH BEACON HILL":25,"WALLINGFORD":88,"LAKEWOOD/SEWARD PARK":19,"MORGAN":49,"SODO":103,"SOUTH BEACON HILL":17,"ALKI":30,"MILLER PARK":27,"MID BEACON HILL":62,"HILLMAN CITY":24,"MADISON PARK":20,"EASTLAKE - EAST":4,"EASTLAKE - WEST":31,"FAUNTLEROY SW":19,"COMMERCIAL HARBOR ISLAND":2,"COMMERCIAL DUWAMISH":3,"LAKECITY":141}},{"month":"2009, 11","categories":{"Drug/narcotic offenses":193,"Larceny-theft":2138,"Motor vehicle theft":341,"Destruction/damage/vandalism of property":481,"Robbery":149,"Sex offenses":17,"Driving under the influence":99,"Family offenses, nonviolent":65,"Fraud offenses":186,"Counterfeiting/forgery":24,"Weapon law violations":56,"Bad checks":74,"Curfew/loitering/vagrancy violations":5,"Liquor law violations":24,"Embezzlement":14,"Homicide offenses":2,"Peeping tom":1,"Stolen property offenses":15,"Prostitution offenses":17,"Sex offenses, consensual":1,"Arson":16,"Kidnapping/abduction":4,"Extortion/blackmail":1,"Gambling offenses":1,"Trespass of real property":86,"Burglary/breaking&entering":604,"Assault offenses":704},"neighbourhoods":{"WALLINGFORD":89,"UNIVERSITY":228,"NORTH BEACON HILL":150,"SODO":72,"BELLTOWN":169,"FIRST HILL":143,"NEW HOLLY":53,"CHINATOWN/INTERNATIONAL DISTRICT":123,"ROOSEVELT/RAVENNA":200,"HILLMAN CITY":33,"CAPITOL HILL":270,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":64,"NORTHGATE":276,"DOWNTOWN COMMERCIAL":499,"GEORGETOWN":47,"BITTERLAKE":105,"MOUNT BAKER":74,"FREMONT":110,"RAINIER BEACH":79,"BALLARD SOUTH":145,"CENTRAL AREA/SQUIRE PARK":145,"QUEEN ANNE":232,"ALASKA JUNCTION":59,"SLU/CASCADE":286,"EASTLAKE - EAST":6,"SOUTH BEACON HILL":40,"SANDPOINT":115,"BRIGHTON/DUNLAP":106,"MORGAN":43,"GREENWOOD":130,"PHINNEY RIDGE":39,"COLUMBIA CITY":36,"RAINIER VIEW":61,"MAGNOLIA":78,"BALLARD NORTH":117,"HIGHLAND PARK":59,"MONTLAKE/PORTAGE BAY":31,"MID BEACON HILL":58,"PIONEER SQUARE":116,"EASTLAKE - WEST":35,"NORTH DELRIDGE":37,"MADRONA/LESCHI":68,"FAUNTLEROY SW":26,"PIGEON POINT":5,"UNKNOWN":20,"JUDKINS PARK/NORTH BEACON HILL":19,"SOUTH DELRIDGE":7,"MILLER PARK":32,"SOUTH PARK":39,"HIGH POINT":39,"LAKEWOOD/SEWARD PARK":17,"NORTH ADMIRAL":48,"GENESEE":14,"CLAREMONT/RAINIER VISTA":35,"ALKI":27,"MADISON PARK":17,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":145}},{"month":"2009, 12","categories":{"Weapon law violations":39,"Larceny-theft":2220,"Sex offenses":26,"Destruction/damage/vandalism of property":506,"Driving under the influence":160,"Motor vehicle theft":393,"Drug/narcotic offenses":163,"Curfew/loitering/vagrancy violations":9,"Fraud offenses":183,"Bad checks":67,"Family offenses, nonviolent":61,"Robbery":158,"Stolen property offenses":23,"Liquor law violations":9,"Counterfeiting/forgery":41,"Extortion/blackmail":2,"Embezzlement":13,"Arson":8,"Homicide offenses":3,"Prostitution offenses":8,"Kidnapping/abduction":2,"Pornography/obscene material":2,"Sex offenses, consensual":1,"Bribery":1,"Trespass of real property":82,"Assault offenses":669,"Burglary/breaking&entering":619},"neighbourhoods":{"DOWNTOWN COMMERCIAL":501,"GREENWOOD":134,"ROOSEVELT/RAVENNA":225,"CENTRAL AREA/SQUIRE PARK":121,"NORTHGATE":340,"SLU/CASCADE":259,"FREMONT":123,"SODO":66,"CLAREMONT/RAINIER VISTA":35,"BALLARD NORTH":84,"SOUTH DELRIDGE":23,"CHINATOWN/INTERNATIONAL DISTRICT":119,"NORTH DELRIDGE":44,"FIRST HILL":162,"QUEEN ANNE":264,"BITTERLAKE":146,"BALLARD SOUTH":168,"PIONEER SQUARE":116,"MORGAN":49,"UNIVERSITY":167,"HIGH POINT":56,"JUDKINS PARK/NORTH BEACON HILL":33,"MILLER PARK":36,"NORTH ADMIRAL":58,"FAUNTLEROY SW":22,"WALLINGFORD":96,"EASTLAKE - EAST":8,"MOUNT BAKER":78,"RAINIER BEACH":56,"NORTH BEACON HILL":115,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":68,"RAINIER VIEW":82,"MADISON PARK":10,"MAGNOLIA":85,"MONTLAKE/PORTAGE BAY":29,"NEW HOLLY":36,"CAPITOL HILL":235,"MADRONA/LESCHI":69,"PHINNEY RIDGE":50,"SANDPOINT":139,"EASTLAKE - WEST":42,"COMMERCIAL HARBOR ISLAND":2,"BRIGHTON/DUNLAP":99,"ALASKA JUNCTION":67,"BELLTOWN":149,"MID BEACON HILL":82,"HILLMAN CITY":37,"SOUTH PARK":53,"GEORGETOWN":54,"HIGHLAND PARK":53,"SOUTH BEACON HILL":39,"COLUMBIA CITY":41,"COMMERCIAL DUWAMISH":3,"LAKEWOOD/SEWARD PARK":26,"PIGEON POINT":6,"GENESEE":21,"ALKI":21,"UNKNOWN":23,"LAKECITY":143}},{"month":"2010, 01","categories":{"Larceny-theft":2421,"Family offenses, nonviolent":71,"Destruction/damage/vandalism of property":545,"Motor vehicle theft":435,"Fraud offenses":244,"Drug/narcotic offenses":245,"Weapon law violations":44,"Robbery":149,"Kidnapping/abduction":4,"Bad checks":72,"Driving under the influence":135,"Liquor law violations":27,"Prostitution offenses":62,"Embezzlement":13,"Stolen property offenses":24,"Curfew/loitering/vagrancy violations":12,"Sex offenses":24,"Counterfeiting/forgery":26,"Peeping tom":1,"Arson":11,"Pornography/obscene material":2,"Homicide offenses":1,"Sex offenses, consensual":1,"Extortion/blackmail":2,"Trespass of real property":76,"Assault offenses":721,"Burglary/breaking&entering":658},"neighbourhoods":{"WALLINGFORD":103,"BRIGHTON/DUNLAP":85,"CENTRAL AREA/SQUIRE PARK":146,"FREMONT":141,"BELLTOWN":210,"SLU/CASCADE":344,"FIRST HILL":140,"COLUMBIA CITY":56,"DOWNTOWN COMMERCIAL":556,"NORTH BEACON HILL":141,"NEW HOLLY":41,"CHINATOWN/INTERNATIONAL DISTRICT":181,"ROOSEVELT/RAVENNA":207,"SOUTH BEACON HILL":26,"GREENWOOD":135,"MID BEACON HILL":83,"SANDPOINT":95,"NORTHGATE":323,"PHINNEY RIDGE":76,"UNIVERSITY":191,"RAINIER BEACH":94,"QUEEN ANNE":292,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":73,"MONTLAKE/PORTAGE BAY":36,"SODO":86,"BITTERLAKE":138,"PIONEER SQUARE":87,"MILLER PARK":37,"MADRONA/LESCHI":69,"BALLARD NORTH":138,"LAKEWOOD/SEWARD PARK":30,"JUDKINS PARK/NORTH BEACON HILL":35,"CAPITOL HILL":303,"GENESEE":39,"BALLARD SOUTH":135,"HIGHLAND PARK":56,"NORTH ADMIRAL":63,"HIGH POINT":50,"HILLMAN CITY":38,"ALASKA JUNCTION":59,"FAUNTLEROY SW":24,"ALKI":36,"MAGNOLIA":83,"SOUTH PARK":50,"RAINIER VIEW":98,"COMMERCIAL HARBOR ISLAND":1,"CLAREMONT/RAINIER VISTA":27,"MORGAN":51,"UNKNOWN":44,"NORTH DELRIDGE":38,"MOUNT BAKER":118,"GEORGETOWN":72,"EASTLAKE - WEST":28,"MADISON PARK":12,"EASTLAKE - EAST":12,"SOUTH DELRIDGE":17,"PIGEON POINT":13,"COMMERCIAL DUWAMISH":4,"LAKECITY":160}},{"month":"2010, 02","categories":{"Destruction/damage/vandalism of property":409,"Larceny-theft":1804,"Drug/narcotic offenses":259,"Liquor law violations":29,"Family offenses, nonviolent":65,"Sex offenses":15,"Motor vehicle theft":293,"Fraud offenses":199,"Stolen property offenses":25,"Counterfeiting/forgery":15,"Weapon law violations":48,"Driving under the influence":109,"Prostitution offenses":34,"Kidnapping/abduction":4,"Robbery":101,"Bad checks":63,"Embezzlement":9,"Arson":11,"Sex offenses, consensual":1,"Pornography/obscene material":1,"Curfew/loitering/vagrancy violations":10,"Homicide offenses":1,"Gambling offenses":1,"Trespass of real property":87,"Assault offenses":640,"Burglary/breaking&entering":440},"neighbourhoods":{"NORTHGATE":248,"LAKEWOOD/SEWARD PARK":17,"QUEEN ANNE":203,"SANDPOINT":124,"CENTRAL AREA/SQUIRE PARK":111,"DOWNTOWN COMMERCIAL":401,"SLU/CASCADE":238,"HIGH POINT":42,"GREENWOOD":130,"FIRST HILL":152,"CAPITOL HILL":221,"ROOSEVELT/RAVENNA":151,"UNIVERSITY":152,"BRIGHTON/DUNLAP":51,"BALLARD SOUTH":105,"HILLMAN CITY":23,"BITTERLAKE":88,"RAINIER BEACH":60,"MORGAN":54,"WALLINGFORD":82,"FREMONT":104,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":59,"MAGNOLIA":83,"MID BEACON HILL":68,"ALASKA JUNCTION":76,"SODO":58,"PIONEER SQUARE":81,"COMMERCIAL DUWAMISH":7,"RAINIER VIEW":74,"SOUTH BEACON HILL":24,"BELLTOWN":185,"MADRONA/LESCHI":57,"NORTH ADMIRAL":48,"SOUTH PARK":43,"BALLARD NORTH":81,"MONTLAKE/PORTAGE BAY":28,"CHINATOWN/INTERNATIONAL DISTRICT":135,"EASTLAKE - WEST":29,"FAUNTLEROY SW":17,"PHINNEY RIDGE":36,"NEW HOLLY":37,"NORTH BEACON HILL":87,"COLUMBIA CITY":39,"CLAREMONT/RAINIER VISTA":35,"HIGHLAND PARK":36,"GEORGETOWN":57,"MOUNT BAKER":73,"NORTH DELRIDGE":34,"JUDKINS PARK/NORTH BEACON HILL":33,"SOUTH DELRIDGE":12,"MILLER PARK":47,"MADISON PARK":19,"ALKI":17,"EASTLAKE - EAST":2,"PIGEON POINT":12,"GENESEE":17,"UNKNOWN":20,"LAKECITY":150}},{"month":"2010, 03","categories":{"Larceny-theft":1871,"Family offenses, nonviolent":78,"Driving under the influence":110,"Prostitution offenses":54,"Robbery":117,"Motor vehicle theft":325,"Drug/narcotic offenses":263,"Stolen property offenses":17,"Liquor law violations":22,"Destruction/damage/vandalism of property":469,"Fraud offenses":233,"Counterfeiting/forgery":14,"Bad checks":79,"Weapon law violations":51,"Sex offenses":24,"Kidnapping/abduction":8,"Extortion/blackmail":2,"Embezzlement":14,"Homicide offenses":1,"Curfew/loitering/vagrancy violations":12,"Arson":6,"Pornography/obscene material":1,"Sex offenses, consensual":1,"Trespass of real property":108,"Burglary/breaking&entering":555,"Assault offenses":730},"neighbourhoods":{"BELLTOWN":200,"SLU/CASCADE":251,"BRIGHTON/DUNLAP":118,"CENTRAL AREA/SQUIRE PARK":134,"NORTHGATE":345,"SOUTH PARK":47,"BALLARD SOUTH":118,"NORTH BEACON HILL":88,"GREENWOOD":114,"BALLARD NORTH":95,"LAKEWOOD/SEWARD PARK":28,"MOUNT BAKER":65,"DOWNTOWN COMMERCIAL":404,"FIRST HILL":127,"EASTLAKE - WEST":36,"CHINATOWN/INTERNATIONAL DISTRICT":121,"UNIVERSITY":178,"ROOSEVELT/RAVENNA":179,"SANDPOINT":120,"GEORGETOWN":56,"RAINIER BEACH":78,"QUEEN ANNE":242,"FAUNTLEROY SW":29,"RAINIER VIEW":65,"MADRONA/LESCHI":57,"PIONEER SQUARE":94,"MONTLAKE/PORTAGE BAY":40,"CAPITOL HILL":287,"MAGNOLIA":78,"ALASKA JUNCTION":70,"FREMONT":112,"HIGHLAND PARK":74,"COLUMBIA CITY":57,"CLAREMONT/RAINIER VISTA":32,"NEW HOLLY":32,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":65,"ALKI":26,"PIGEON POINT":4,"SODO":54,"NORTH DELRIDGE":52,"PHINNEY RIDGE":55,"MILLER PARK":26,"GENESEE":14,"WALLINGFORD":78,"MID BEACON HILL":77,"HILLMAN CITY":30,"BITTERLAKE":98,"MORGAN":56,"UNKNOWN":38,"SOUTH BEACON HILL":19,"NORTH ADMIRAL":52,"MADISON PARK":7,"JUDKINS PARK/NORTH BEACON HILL":46,"COMMERCIAL DUWAMISH":3,"HIGH POINT":43,"EASTLAKE - EAST":8,"SOUTH DELRIDGE":12,"LAKECITY":131}},{"month":"2010, 04","categories":{"Larceny-theft":1997,"Driving under the influence":94,"Destruction/damage/vandalism of property":526,"Drug/narcotic offenses":295,"Family offenses, nonviolent":86,"Motor vehicle theft":278,"Bad checks":71,"Fraud offenses":210,"Curfew/loitering/vagrancy violations":18,"Sex offenses":31,"Robbery":117,"Weapon law violations":44,"Kidnapping/abduction":5,"Stolen property offenses":21,"Prostitution offenses":32,"Embezzlement":10,"Liquor law violations":28,"Arson":7,"Counterfeiting/forgery":22,"Sex offenses, consensual":1,"Extortion/blackmail":1,"Trespass of real property":97,"Assault offenses":733,"Burglary/breaking&entering":461,"Pornography/obscene material":1},"neighbourhoods":{"NORTH BEACON HILL":84,"CAPITOL HILL":243,"FREMONT":96,"BELLTOWN":193,"BALLARD NORTH":122,"ALKI":42,"ALASKA JUNCTION":62,"DOWNTOWN COMMERCIAL":342,"QUEEN ANNE":229,"CLAREMONT/RAINIER VISTA":26,"SODO":82,"GREENWOOD":128,"MILLER PARK":30,"UNIVERSITY":206,"SANDPOINT":126,"WALLINGFORD":111,"MONTLAKE/PORTAGE BAY":34,"HIGHLAND PARK":82,"NORTHGATE":247,"GEORGETOWN":37,"BRIGHTON/DUNLAP":101,"PIONEER SQUARE":103,"MADRONA/LESCHI":73,"BALLARD SOUTH":100,"CHINATOWN/INTERNATIONAL DISTRICT":145,"RAINIER BEACH":74,"NORTH ADMIRAL":55,"HILLMAN CITY":37,"ROOSEVELT/RAVENNA":190,"FIRST HILL":146,"MADISON PARK":5,"BITTERLAKE":83,"COLUMBIA CITY":53,"MOUNT BAKER":92,"FAUNTLEROY SW":27,"MID BEACON HILL":74,"PIGEON POINT":17,"SLU/CASCADE":286,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":89,"NEW HOLLY":26,"RAINIER VIEW":77,"PHINNEY RIDGE":55,"CENTRAL AREA/SQUIRE PARK":160,"MAGNOLIA":56,"SOUTH BEACON HILL":22,"NORTH DELRIDGE":44,"HIGH POINT":57,"MORGAN":46,"LAKEWOOD/SEWARD PARK":23,"JUDKINS PARK/NORTH BEACON HILL":23,"EASTLAKE - WEST":29,"SOUTH DELRIDGE":27,"SOUTH PARK":46,"UNKNOWN":34,"GENESEE":11,"EASTLAKE - EAST":9,"COMMERCIAL DUWAMISH":1,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":167}},{"month":"2010, 05","categories":{"Larceny-theft":2142,"Destruction/damage/vandalism of property":497,"Arson":11,"Weapon law violations":52,"Drug/narcotic offenses":239,"Fraud offenses":207,"Liquor law violations":38,"Curfew/loitering/vagrancy violations":13,"Motor vehicle theft":310,"Family offenses, nonviolent":78,"Robbery":126,"Homicide offenses":3,"Driving under the influence":89,"Sex offenses":29,"Bad checks":79,"Stolen property offenses":23,"Prostitution offenses":49,"Embezzlement":9,"Counterfeiting/forgery":21,"Kidnapping/abduction":4,"Sex offenses, consensual":4,"Extortion/blackmail":1,"Pornography/obscene material":2,"Trespass of real property":92,"Assault offenses":832,"Burglary/breaking&entering":526},"neighbourhoods":{"FIRST HILL":186,"CAPITOL HILL":257,"QUEEN ANNE":269,"SLU/CASCADE":240,"SODO":97,"DOWNTOWN COMMERCIAL":374,"ROOSEVELT/RAVENNA":206,"BRIGHTON/DUNLAP":91,"CLAREMONT/RAINIER VISTA":24,"PIONEER SQUARE":94,"UNIVERSITY":214,"CHINATOWN/INTERNATIONAL DISTRICT":124,"HIGH POINT":60,"RAINIER BEACH":103,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":88,"BALLARD NORTH":158,"BELLTOWN":234,"PHINNEY RIDGE":24,"NORTHGATE":289,"RAINIER VIEW":65,"FREMONT":117,"WALLINGFORD":105,"ALASKA JUNCTION":62,"BITTERLAKE":93,"ALKI":36,"HIGHLAND PARK":59,"MOUNT BAKER":92,"MORGAN":56,"PIGEON POINT":8,"NORTH ADMIRAL":80,"MAGNOLIA":83,"SOUTH PARK":36,"SOUTH DELRIDGE":18,"SANDPOINT":147,"MADISON PARK":26,"MILLER PARK":30,"BALLARD SOUTH":142,"GENESEE":25,"CENTRAL AREA/SQUIRE PARK":155,"SOUTH BEACON HILL":26,"UNKNOWN":45,"MID BEACON HILL":71,"GREENWOOD":110,"EASTLAKE - WEST":42,"HILLMAN CITY":38,"MONTLAKE/PORTAGE BAY":37,"NORTH BEACON HILL":103,"COLUMBIA CITY":42,"JUDKINS PARK/NORTH BEACON HILL":30,"FAUNTLEROY SW":34,"NORTH DELRIDGE":32,"GEORGETOWN":48,"MADRONA/LESCHI":61,"EASTLAKE - EAST":2,"LAKEWOOD/SEWARD PARK":26,"NEW HOLLY":29,"COMMERCIAL DUWAMISH":2,"LAKECITY":131}},{"month":"2010, 06","categories":{"Larceny-theft":2053,"Extortion/blackmail":2,"Destruction/damage/vandalism of property":538,"Weapon law violations":47,"Drug/narcotic offenses":226,"Robbery":116,"Motor vehicle theft":370,"Fraud offenses":263,"Sex offenses":24,"Liquor law violations":34,"Bad checks":64,"Family offenses, nonviolent":94,"Driving under the influence":80,"Prostitution offenses":61,"Stolen property offenses":30,"Curfew/loitering/vagrancy violations":10,"Counterfeiting/forgery":27,"Embezzlement":11,"Arson":11,"Kidnapping/abduction":7,"Sex offenses, consensual":1,"Homicide offenses":1,"Trespass of real property":108,"Assault offenses":821,"Burglary/breaking&entering":519},"neighbourhoods":{"RAINIER VIEW":77,"NORTHGATE":291,"FREMONT":136,"DOWNTOWN COMMERCIAL":364,"CAPITOL HILL":360,"NEW HOLLY":42,"UNIVERSITY":181,"RAINIER BEACH":74,"MORGAN":76,"MID BEACON HILL":88,"MADISON PARK":16,"ROOSEVELT/RAVENNA":189,"FIRST HILL":175,"CHINATOWN/INTERNATIONAL DISTRICT":125,"EASTLAKE - WEST":29,"QUEEN ANNE":281,"SLU/CASCADE":300,"PHINNEY RIDGE":62,"BELLTOWN":211,"GENESEE":16,"WALLINGFORD":103,"CENTRAL AREA/SQUIRE PARK":152,"ALASKA JUNCTION":61,"SODO":109,"MOUNT BAKER":63,"BALLARD NORTH":111,"GREENWOOD":121,"BRIGHTON/DUNLAP":100,"BITTERLAKE":98,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":73,"SANDPOINT":123,"MONTLAKE/PORTAGE BAY":35,"MADRONA/LESCHI":59,"NORTH DELRIDGE":43,"NORTH BEACON HILL":96,"LAKEWOOD/SEWARD PARK":27,"SOUTH DELRIDGE":15,"JUDKINS PARK/NORTH BEACON HILL":39,"COLUMBIA CITY":37,"HIGH POINT":44,"GEORGETOWN":54,"NORTH ADMIRAL":59,"PIONEER SQUARE":90,"CLAREMONT/RAINIER VISTA":32,"BALLARD SOUTH":139,"MILLER PARK":30,"SOUTH BEACON HILL":30,"HIGHLAND PARK":54,"MAGNOLIA":77,"SOUTH PARK":56,"HILLMAN CITY":36,"UNKNOWN":29,"FAUNTLEROY SW":23,"ALKI":38,"COMMERCIAL DUWAMISH":2,"EASTLAKE - EAST":5,"PIGEON POINT":10,"LAKECITY":152}},{"month":"2010, 07","categories":{"Larceny-theft":1879,"Motor vehicle theft":286,"Destruction/damage/vandalism of property":571,"Drug/narcotic offenses":252,"Prostitution offenses":59,"Robbery":127,"Sex offenses":26,"Fraud offenses":225,"Family offenses, nonviolent":96,"Driving under the influence":98,"Weapon law violations":69,"Counterfeiting/forgery":31,"Stolen property offenses":15,"Bad checks":54,"Extortion/blackmail":3,"Curfew/loitering/vagrancy violations":7,"Liquor law violations":33,"Arson":14,"Embezzlement":12,"Sex offenses, consensual":2,"Kidnapping/abduction":2,"Trespass of real property":114,"Assault offenses":849,"Burglary/breaking&entering":478},"neighbourhoods":{"SLU/CASCADE":257,"GREENWOOD":129,"EASTLAKE - WEST":28,"QUEEN ANNE":252,"MADRONA/LESCHI":85,"NORTHGATE":215,"RAINIER BEACH":88,"UNIVERSITY":163,"FIRST HILL":181,"CHINATOWN/INTERNATIONAL DISTRICT":147,"BELLTOWN":166,"CENTRAL AREA/SQUIRE PARK":157,"DOWNTOWN COMMERCIAL":398,"PIONEER SQUARE":94,"RAINIER VIEW":68,"BRIGHTON/DUNLAP":107,"FREMONT":130,"SANDPOINT":120,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":73,"LAKEWOOD/SEWARD PARK":44,"CAPITOL HILL":278,"BALLARD SOUTH":125,"HIGHLAND PARK":56,"MAGNOLIA":70,"BALLARD NORTH":103,"SODO":95,"ALKI":51,"COLUMBIA CITY":24,"SOUTH DELRIDGE":20,"PHINNEY RIDGE":42,"MONTLAKE/PORTAGE BAY":38,"GEORGETOWN":50,"SOUTH PARK":57,"NORTH BEACON HILL":97,"WALLINGFORD":127,"MADISON PARK":24,"MORGAN":46,"SOUTH BEACON HILL":38,"MID BEACON HILL":67,"HIGH POINT":41,"ROOSEVELT/RAVENNA":175,"CLAREMONT/RAINIER VISTA":42,"MOUNT BAKER":75,"GENESEE":14,"NEW HOLLY":40,"FAUNTLEROY SW":29,"BITTERLAKE":91,"ALASKA JUNCTION":62,"NORTH ADMIRAL":59,"UNKNOWN":40,"NORTH DELRIDGE":52,"HILLMAN CITY":37,"JUDKINS PARK/NORTH BEACON HILL":38,"EASTLAKE - EAST":1,"COMMERCIAL DUWAMISH":3,"MILLER PARK":34,"PIGEON POINT":10,"LAKECITY":149}},{"month":"2010, 08","categories":{"Robbery":127,"Drug/narcotic offenses":240,"Driving under the influence":101,"Larceny-theft":1949,"Curfew/loitering/vagrancy violations":9,"Destruction/damage/vandalism of property":500,"Fraud offenses":268,"Liquor law violations":30,"Motor vehicle theft":253,"Embezzlement":15,"Family offenses, nonviolent":93,"Counterfeiting/forgery":32,"Weapon law violations":39,"Prostitution offenses":57,"Sex offenses":20,"Bad checks":54,"Arson":10,"Kidnapping/abduction":2,"Stolen property offenses":17,"Homicide offenses":2,"Peeping tom":3,"Trespass of real property":94,"Assault offenses":835,"Burglary/breaking&entering":574},"neighbourhoods":{"HIGHLAND PARK":75,"SLU/CASCADE":225,"ROOSEVELT/RAVENNA":147,"NORTHGATE":254,"DOWNTOWN COMMERCIAL":391,"CENTRAL AREA/SQUIRE PARK":155,"ALASKA JUNCTION":63,"GREENWOOD":128,"MID BEACON HILL":70,"BELLTOWN":162,"MILLER PARK":47,"WALLINGFORD":94,"CAPITOL HILL":303,"NEW HOLLY":45,"GEORGETOWN":57,"RAINIER BEACH":73,"MADRONA/LESCHI":82,"FREMONT":117,"BALLARD NORTH":121,"MONTLAKE/PORTAGE BAY":43,"NORTH DELRIDGE":50,"EASTLAKE - WEST":33,"SODO":130,"UNIVERSITY":202,"MOUNT BAKER":79,"NORTH BEACON HILL":124,"QUEEN ANNE":219,"MORGAN":54,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":74,"SOUTH BEACON HILL":37,"FIRST HILL":158,"BALLARD SOUTH":143,"PHINNEY RIDGE":52,"CHINATOWN/INTERNATIONAL DISTRICT":135,"PIONEER SQUARE":78,"BRIGHTON/DUNLAP":102,"FAUNTLEROY SW":29,"SOUTH PARK":37,"MAGNOLIA":71,"BITTERLAKE":97,"SOUTH DELRIDGE":26,"SANDPOINT":114,"ALKI":51,"JUDKINS PARK/NORTH BEACON HILL":40,"RAINIER VIEW":50,"HIGH POINT":36,"COLUMBIA CITY":38,"CLAREMONT/RAINIER VISTA":36,"GENESEE":25,"NORTH ADMIRAL":63,"HILLMAN CITY":25,"LAKEWOOD/SEWARD PARK":38,"UNKNOWN":33,"PIGEON POINT":11,"EASTLAKE - EAST":10,"COMMERCIAL DUWAMISH":3,"MADISON PARK":19,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":149}},{"month":"2010, 09","categories":{"Driving under the influence":114,"Larceny-theft":1936,"Drug/narcotic offenses":219,"Destruction/damage/vandalism of property":500,"Bad checks":54,"Weapon law violations":55,"Stolen property offenses":14,"Fraud offenses":219,"Motor vehicle theft":264,"Family offenses, nonviolent":69,"Prostitution offenses":47,"Embezzlement":10,"Counterfeiting/forgery":16,"Robbery":105,"Sex offenses":23,"Curfew/loitering/vagrancy violations":19,"Arson":12,"Liquor law violations":27,"Pornography/obscene material":1,"Homicide offenses":4,"Sex offenses, consensual":1,"Kidnapping/abduction":2,"Trespass of real property":104,"Burglary/breaking&entering":586,"Assault offenses":760},"neighbourhoods":{"SLU/CASCADE":265,"NORTHGATE":277,"BALLARD NORTH":104,"PIONEER SQUARE":91,"SODO":90,"CAPITOL HILL":280,"NORTH ADMIRAL":60,"MOUNT BAKER":70,"CHINATOWN/INTERNATIONAL DISTRICT":131,"BELLTOWN":183,"ROOSEVELT/RAVENNA":185,"QUEEN ANNE":274,"FIRST HILL":161,"DOWNTOWN COMMERCIAL":422,"CENTRAL AREA/SQUIRE PARK":159,"NORTH BEACON HILL":81,"RAINIER VIEW":57,"SOUTH BEACON HILL":33,"BALLARD SOUTH":137,"UNIVERSITY":174,"BITTERLAKE":98,"GREENWOOD":108,"WALLINGFORD":78,"ALASKA JUNCTION":79,"NORTH DELRIDGE":42,"JUDKINS PARK/NORTH BEACON HILL":22,"MADISON PARK":23,"MAGNOLIA":86,"GEORGETOWN":55,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":86,"MORGAN":43,"ALKI":28,"MADRONA/LESCHI":88,"HIGH POINT":37,"NEW HOLLY":40,"LAKEWOOD/SEWARD PARK":29,"UNKNOWN":41,"EASTLAKE - WEST":31,"HIGHLAND PARK":72,"FREMONT":111,"MID BEACON HILL":58,"HILLMAN CITY":43,"SANDPOINT":98,"SOUTH DELRIDGE":17,"FAUNTLEROY SW":20,"RAINIER BEACH":59,"BRIGHTON/DUNLAP":84,"SOUTH PARK":37,"PHINNEY RIDGE":49,"EASTLAKE - EAST":9,"COLUMBIA CITY":27,"MILLER PARK":28,"MONTLAKE/PORTAGE BAY":39,"GENESEE":14,"COMMERCIAL DUWAMISH":5,"CLAREMONT/RAINIER VISTA":24,"PIGEON POINT":8,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":110}},{"month":"2010, 10","categories":{"Larceny-theft":1873,"Motor vehicle theft":312,"Robbery":102,"Destruction/damage/vandalism of property":494,"Fraud offenses":401,"Weapon law violations":48,"Driving under the influence":122,"Family offenses, nonviolent":68,"Extortion/blackmail":2,"Sex offenses":23,"Liquor law violations":38,"Drug/narcotic offenses":250,"Prostitution offenses":50,"Bad checks":78,"Kidnapping/abduction":5,"Stolen property offenses":15,"Counterfeiting/forgery":15,"Embezzlement":6,"Curfew/loitering/vagrancy violations":7,"Sex offenses, consensual":1,"Peeping tom":1,"Homicide offenses":2,"Pornography/obscene material":1,"Arson":9,"Trespass of real property":107,"Assault offenses":741,"Burglary/breaking&entering":551},"neighbourhoods":{"SLU/CASCADE":240,"NORTH BEACON HILL":113,"BELLTOWN":189,"NORTH DELRIDGE":42,"CHINATOWN/INTERNATIONAL DISTRICT":120,"WALLINGFORD":93,"MADRONA/LESCHI":65,"GEORGETOWN":68,"GREENWOOD":127,"UNIVERSITY":235,"BALLARD NORTH":106,"ROOSEVELT/RAVENNA":152,"COLUMBIA CITY":34,"CAPITOL HILL":396,"SODO":105,"CLAREMONT/RAINIER VISTA":45,"DOWNTOWN COMMERCIAL":449,"MAGNOLIA":75,"FIRST HILL":149,"MILLER PARK":48,"MORGAN":56,"MOUNT BAKER":63,"NORTHGATE":276,"QUEEN ANNE":225,"JUDKINS PARK/NORTH BEACON HILL":31,"CENTRAL AREA/SQUIRE PARK":152,"ALKI":30,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":76,"PIONEER SQUARE":96,"PHINNEY RIDGE":32,"SANDPOINT":91,"BITTERLAKE":109,"FREMONT":92,"MADISON PARK":18,"EASTLAKE - WEST":30,"BRIGHTON/DUNLAP":90,"BALLARD SOUTH":139,"LAKEWOOD/SEWARD PARK":22,"FAUNTLEROY SW":29,"NORTH ADMIRAL":71,"GENESEE":27,"MONTLAKE/PORTAGE BAY":32,"ALASKA JUNCTION":64,"RAINIER BEACH":76,"RAINIER VIEW":42,"HIGHLAND PARK":54,"HILLMAN CITY":40,"SOUTH BEACON HILL":31,"HIGH POINT":49,"MID BEACON HILL":75,"SOUTH PARK":35,"UNKNOWN":37,"SOUTH DELRIDGE":24,"NEW HOLLY":30,"COMMERCIAL DUWAMISH":7,"COMMERCIAL HARBOR ISLAND":2,"EASTLAKE - EAST":3,"PIGEON POINT":1,"LAKECITY":114}},{"month":"2010, 11","categories":{"Larceny-theft":1860,"Drug/narcotic offenses":185,"Robbery":111,"Motor vehicle theft":223,"Fraud offenses":618,"Sex offenses":26,"Family offenses, nonviolent":75,"Stolen property offenses":22,"Bad checks":51,"Driving under the influence":103,"Destruction/damage/vandalism of property":473,"Embezzlement":12,"Prostitution offenses":39,"Weapon law violations":54,"Liquor law violations":27,"Counterfeiting/forgery":19,"Arson":5,"Homicide offenses":2,"Sex offenses, consensual":1,"Peeping tom":3,"Curfew/loitering/vagrancy violations":6,"Bribery":1,"Kidnapping/abduction":1,"Extortion/blackmail":2,"Trespass of real property":86,"Assault offenses":671,"Burglary/breaking&entering":498},"neighbourhoods":{"DOWNTOWN COMMERCIAL":398,"SODO":78,"CAPITOL HILL":443,"QUEEN ANNE":193,"BITTERLAKE":119,"ROOSEVELT/RAVENNA":182,"UNKNOWN":41,"NORTHGATE":270,"MILLER PARK":38,"ALKI":23,"RAINIER VIEW":75,"SLU/CASCADE":231,"PIONEER SQUARE":76,"HIGHLAND PARK":43,"GREENWOOD":99,"RAINIER BEACH":94,"ALASKA JUNCTION":82,"UNIVERSITY":180,"FREMONT":92,"FIRST HILL":160,"NORTH DELRIDGE":47,"CHINATOWN/INTERNATIONAL DISTRICT":92,"FAUNTLEROY SW":30,"MAGNOLIA":75,"MONTLAKE/PORTAGE BAY":35,"BALLARD SOUTH":157,"BALLARD NORTH":88,"NORTH BEACON HILL":85,"MADRONA/LESCHI":95,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":67,"JUDKINS PARK/NORTH BEACON HILL":32,"CENTRAL AREA/SQUIRE PARK":163,"MADISON PARK":15,"SOUTH PARK":40,"BELLTOWN":137,"PHINNEY RIDGE":46,"MOUNT BAKER":81,"MID BEACON HILL":85,"WALLINGFORD":89,"CLAREMONT/RAINIER VISTA":30,"PIGEON POINT":3,"SANDPOINT":111,"HILLMAN CITY":27,"NEW HOLLY":41,"GENESEE":8,"LAKEWOOD/SEWARD PARK":28,"GEORGETOWN":49,"COLUMBIA CITY":47,"MORGAN":51,"SOUTH BEACON HILL":24,"BRIGHTON/DUNLAP":87,"NORTH ADMIRAL":40,"EASTLAKE - EAST":19,"EASTLAKE - WEST":22,"SOUTH DELRIDGE":17,"HIGH POINT":48,"COMMERCIAL DUWAMISH":4,"COMMERCIAL HARBOR ISLAND":4,"LAKECITY":138}},{"month":"2010, 12","categories":{"Liquor law violations":20,"Larceny-theft":1845,"Arson":6,"Driving under the influence":147,"Fraud offenses":264,"Counterfeiting/forgery":21,"Robbery":130,"Destruction/damage/vandalism of property":472,"Motor vehicle theft":240,"Family offenses, nonviolent":70,"Bad checks":56,"Drug/narcotic offenses":195,"Embezzlement":17,"Sex offenses":28,"Weapon law violations":29,"Pornography/obscene material":2,"Prostitution offenses":25,"Stolen property offenses":12,"Extortion/blackmail":4,"Curfew/loitering/vagrancy violations":2,"Peeping tom":1,"Kidnapping/abduction":1,"Trespass of real property":91,"Assault offenses":702,"Burglary/breaking&entering":602},"neighbourhoods":{"QUEEN ANNE":247,"BITTERLAKE":113,"FIRST HILL":140,"HIGHLAND PARK":49,"NORTH BEACON HILL":99,"FREMONT":67,"CAPITOL HILL":278,"PHINNEY RIDGE":45,"MOUNT BAKER":78,"SLU/CASCADE":251,"MADISON PARK":14,"FAUNTLEROY SW":20,"CHINATOWN/INTERNATIONAL DISTRICT":129,"BELLTOWN":148,"MID BEACON HILL":75,"UNIVERSITY":166,"DOWNTOWN COMMERCIAL":389,"ALASKA JUNCTION":73,"MAGNOLIA":72,"LAKEWOOD/SEWARD PARK":29,"UNKNOWN":24,"BRIGHTON/DUNLAP":100,"ROOSEVELT/RAVENNA":174,"BALLARD SOUTH":126,"COLUMBIA CITY":44,"NORTHGATE":294,"GEORGETOWN":58,"ALKI":21,"RAINIER VIEW":70,"SOUTH BEACON HILL":33,"CLAREMONT/RAINIER VISTA":15,"CENTRAL AREA/SQUIRE PARK":144,"PIONEER SQUARE":67,"PIGEON POINT":5,"SOUTH PARK":27,"NORTH ADMIRAL":59,"WALLINGFORD":94,"JUDKINS PARK/NORTH BEACON HILL":29,"GREENWOOD":124,"BALLARD NORTH":100,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":61,"RAINIER BEACH":60,"NEW HOLLY":51,"MORGAN":38,"MILLER PARK":25,"GENESEE":21,"MADRONA/LESCHI":78,"SANDPOINT":101,"NORTH DELRIDGE":31,"MONTLAKE/PORTAGE BAY":32,"SODO":100,"EASTLAKE - WEST":37,"HIGH POINT":39,"HILLMAN CITY":27,"EASTLAKE - EAST":8,"SOUTH DELRIDGE":17,"COMMERCIAL HARBOR ISLAND":3,"COMMERCIAL DUWAMISH":1,"LAKECITY":162}},{"month":"2011, 01","categories":{"Family offenses, nonviolent":74,"Destruction/damage/vandalism of property":479,"Motor vehicle theft":247,"Larceny-theft":1772,"Drug/narcotic offenses":249,"Prostitution offenses":43,"Sex offenses":21,"Robbery":112,"Fraud offenses":225,"Weapon law violations":60,"Counterfeiting/forgery":31,"Bad checks":53,"Liquor law violations":24,"Driving under the influence":135,"Stolen property offenses":29,"Kidnapping/abduction":3,"Embezzlement":9,"Arson":6,"Curfew/loitering/vagrancy violations":7,"Pornography/obscene material":1,"Homicide offenses":3,"Sex offenses, consensual":1,"Peeping tom":1,"Trespass of real property":82,"Assault offenses":737,"Burglary/breaking&entering":623},"neighbourhoods":{"MOUNT BAKER":79,"UNIVERSITY":186,"CAPITOL HILL":269,"FREMONT":96,"CHINATOWN/INTERNATIONAL DISTRICT":124,"DOWNTOWN COMMERCIAL":399,"HIGHLAND PARK":58,"QUEEN ANNE":250,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":94,"BALLARD SOUTH":137,"NORTHGATE":271,"SLU/CASCADE":257,"BELLTOWN":155,"SOUTH PARK":48,"CENTRAL AREA/SQUIRE PARK":144,"RAINIER BEACH":60,"GREENWOOD":135,"UNKNOWN":30,"PIONEER SQUARE":86,"MILLER PARK":41,"NORTH ADMIRAL":62,"GEORGETOWN":61,"ROOSEVELT/RAVENNA":151,"PHINNEY RIDGE":57,"MONTLAKE/PORTAGE BAY":31,"SANDPOINT":67,"MAGNOLIA":47,"RAINIER VIEW":57,"SOUTH BEACON HILL":37,"ALASKA JUNCTION":65,"EASTLAKE - WEST":33,"SODO":79,"BITTERLAKE":118,"MORGAN":50,"FIRST HILL":167,"BALLARD NORTH":104,"WALLINGFORD":76,"HIGH POINT":41,"NORTH BEACON HILL":74,"BRIGHTON/DUNLAP":89,"LAKEWOOD/SEWARD PARK":30,"NEW HOLLY":47,"MADRONA/LESCHI":63,"MID BEACON HILL":69,"HILLMAN CITY":30,"JUDKINS PARK/NORTH BEACON HILL":23,"NORTH DELRIDGE":45,"GENESEE":20,"SOUTH DELRIDGE":16,"COLUMBIA CITY":28,"COMMERCIAL HARBOR ISLAND":1,"CLAREMONT/RAINIER VISTA":30,"ALKI":18,"FAUNTLEROY SW":14,"MADISON PARK":19,"EASTLAKE - EAST":11,"PIGEON POINT":2,"LAKECITY":176}},{"month":"2011, 02","categories":{"Destruction/damage/vandalism of property":432,"Larceny-theft":1510,"Motor vehicle theft":209,"Fraud offenses":189,"Sex offenses":26,"Weapon law violations":49,"Family offenses, nonviolent":73,"Stolen property offenses":11,"Counterfeiting/forgery":26,"Drug/narcotic offenses":174,"Robbery":97,"Driving under the influence":124,"Peeping tom":2,"Prostitution offenses":32,"Bad checks":43,"Liquor law violations":17,"Embezzlement":11,"Pornography/obscene material":2,"Arson":3,"Curfew/loitering/vagrancy violations":4,"Kidnapping/abduction":1,"Homicide offenses":2,"Extortion/blackmail":1,"Trespass of real property":79,"Assault offenses":653,"Burglary/breaking&entering":470},"neighbourhoods":{"CENTRAL AREA/SQUIRE PARK":111,"DOWNTOWN COMMERCIAL":365,"HIGHLAND PARK":50,"SANDPOINT":63,"NORTH BEACON HILL":81,"FIRST HILL":127,"ROOSEVELT/RAVENNA":129,"CAPITOL HILL":240,"SLU/CASCADE":200,"UNIVERSITY":169,"PIONEER SQUARE":88,"QUEEN ANNE":207,"BALLARD NORTH":70,"MAGNOLIA":57,"BALLARD SOUTH":119,"MONTLAKE/PORTAGE BAY":31,"HIGH POINT":32,"MORGAN":38,"NORTHGATE":230,"COLUMBIA CITY":43,"GREENWOOD":90,"BELLTOWN":143,"FREMONT":90,"WALLINGFORD":84,"UNKNOWN":19,"CHINATOWN/INTERNATIONAL DISTRICT":112,"LAKEWOOD/SEWARD PARK":23,"BITTERLAKE":108,"JUDKINS PARK/NORTH BEACON HILL":24,"MID BEACON HILL":52,"MOUNT BAKER":55,"RAINIER BEACH":64,"SOUTH DELRIDGE":20,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":74,"PHINNEY RIDGE":25,"SOUTH PARK":42,"GEORGETOWN":53,"NORTH ADMIRAL":52,"MADRONA/LESCHI":60,"SOUTH BEACON HILL":23,"NORTH DELRIDGE":41,"RAINIER VIEW":53,"FAUNTLEROY SW":29,"SODO":61,"GENESEE":15,"BRIGHTON/DUNLAP":66,"MADISON PARK":14,"EASTLAKE - WEST":21,"ALKI":13,"ALASKA JUNCTION":51,"MILLER PARK":27,"CLAREMONT/RAINIER VISTA":23,"NEW HOLLY":21,"EASTLAKE - EAST":7,"COMMERCIAL DUWAMISH":3,"HILLMAN CITY":14,"PIGEON POINT":5,"LAKECITY":113}},{"month":"2011, 03","categories":{"Larceny-theft":1722,"Robbery":125,"Stolen property offenses":22,"Weapon law violations":43,"Drug/narcotic offenses":192,"Motor vehicle theft":251,"Family offenses, nonviolent":79,"Fraud offenses":225,"Bad checks":53,"Embezzlement":10,"Kidnapping/abduction":5,"Destruction/damage/vandalism of property":421,"Driving under the influence":119,"Sex offenses":21,"Prostitution offenses":22,"Curfew/loitering/vagrancy violations":7,"Counterfeiting/forgery":27,"Sex offenses, consensual":1,"Homicide offenses":2,"Arson":5,"Liquor law violations":19,"Peeping tom":1,"Extortion/blackmail":1,"Pornography/obscene material":1,"Trespass of real property":68,"Assault offenses":767,"Burglary/breaking&entering":539},"neighbourhoods":{"NORTH BEACON HILL":100,"CAPITOL HILL":221,"UNIVERSITY":192,"SLU/CASCADE":224,"NORTH DELRIDGE":49,"QUEEN ANNE":258,"DOWNTOWN COMMERCIAL":450,"ROOSEVELT/RAVENNA":186,"ALASKA JUNCTION":49,"GEORGETOWN":56,"NORTHGATE":285,"BRIGHTON/DUNLAP":101,"BITTERLAKE":109,"CHINATOWN/INTERNATIONAL DISTRICT":95,"FREMONT":85,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":53,"MADRONA/LESCHI":59,"SOUTH BEACON HILL":37,"WALLINGFORD":96,"HIGHLAND PARK":76,"LAKEWOOD/SEWARD PARK":29,"SOUTH DELRIDGE":19,"HIGH POINT":47,"MID BEACON HILL":55,"MOUNT BAKER":55,"GENESEE":13,"BELLTOWN":178,"NORTH ADMIRAL":37,"COLUMBIA CITY":35,"SANDPOINT":80,"SODO":65,"RAINIER BEACH":51,"FIRST HILL":128,"FAUNTLEROY SW":22,"UNKNOWN":34,"GREENWOOD":104,"PIONEER SQUARE":96,"NEW HOLLY":39,"BALLARD SOUTH":94,"MAGNOLIA":49,"PHINNEY RIDGE":38,"CENTRAL AREA/SQUIRE PARK":124,"MILLER PARK":33,"RAINIER VIEW":38,"JUDKINS PARK/NORTH BEACON HILL":24,"CLAREMONT/RAINIER VISTA":26,"HILLMAN CITY":19,"EASTLAKE - WEST":28,"SOUTH PARK":45,"BALLARD NORTH":91,"EASTLAKE - EAST":14,"MONTLAKE/PORTAGE BAY":32,"COMMERCIAL HARBOR ISLAND":2,"ALKI":15,"MADISON PARK":12,"MORGAN":42,"PIGEON POINT":5,"COMMERCIAL DUWAMISH":2,"LAKECITY":147}},{"month":"2011, 04","categories":{"Prostitution offenses":54,"Larceny-theft":1648,"Fraud offenses":207,"Destruction/damage/vandalism of property":401,"Drug/narcotic offenses":219,"Motor vehicle theft":284,"Weapon law violations":57,"Embezzlement":10,"Robbery":105,"Driving under the influence":114,"Sex offenses":27,"Bad checks":60,"Stolen property offenses":16,"Family offenses, nonviolent":77,"Counterfeiting/forgery":35,"Curfew/loitering/vagrancy violations":8,"Kidnapping/abduction":5,"Arson":4,"Liquor law violations":14,"Sex offenses, consensual":1,"Homicide offenses":1,"Pornography/obscene material":1,"Trespass of real property":75,"Assault offenses":682,"Burglary/breaking&entering":523},"neighbourhoods":{"SLU/CASCADE":199,"CHINATOWN/INTERNATIONAL DISTRICT":93,"JUDKINS PARK/NORTH BEACON HILL":25,"ROOSEVELT/RAVENNA":136,"SODO":77,"NORTHGATE":272,"BELLTOWN":134,"DOWNTOWN COMMERCIAL":434,"UNIVERSITY":167,"CAPITOL HILL":244,"FREMONT":71,"MID BEACON HILL":64,"NORTH ADMIRAL":56,"QUEEN ANNE":221,"WALLINGFORD":72,"NORTH BEACON HILL":94,"BRIGHTON/DUNLAP":76,"EASTLAKE - EAST":11,"RAINIER VIEW":57,"GREENWOOD":111,"ALASKA JUNCTION":65,"HIGH POINT":52,"CLAREMONT/RAINIER VISTA":20,"HIGHLAND PARK":55,"CENTRAL AREA/SQUIRE PARK":118,"SANDPOINT":98,"MADRONA/LESCHI":63,"BALLARD SOUTH":112,"MOUNT BAKER":58,"ALKI":24,"UNKNOWN":36,"HILLMAN CITY":26,"FIRST HILL":145,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":72,"LAKEWOOD/SEWARD PARK":29,"NORTH DELRIDGE":41,"MORGAN":50,"GEORGETOWN":74,"NEW HOLLY":34,"MADISON PARK":12,"GENESEE":11,"PHINNEY RIDGE":23,"SOUTH DELRIDGE":19,"BITTERLAKE":116,"RAINIER BEACH":59,"PIONEER SQUARE":86,"BALLARD NORTH":89,"FAUNTLEROY SW":25,"MAGNOLIA":62,"MILLER PARK":26,"SOUTH PARK":35,"MONTLAKE/PORTAGE BAY":24,"COLUMBIA CITY":37,"SOUTH BEACON HILL":34,"EASTLAKE - WEST":33,"PIGEON POINT":11,"COMMERCIAL DUWAMISH":3,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":135}},{"month":"2011, 05","categories":{"Larceny-theft":1958,"Drug/narcotic offenses":151,"Robbery":106,"Destruction/damage/vandalism of property":514,"Motor vehicle theft":326,"Driving under the influence":132,"Family offenses, nonviolent":84,"Bad checks":34,"Fraud offenses":191,"Counterfeiting/forgery":30,"Liquor law violations":15,"Weapon law violations":38,"Curfew/loitering/vagrancy violations":6,"Prostitution offenses":48,"Sex offenses":21,"Stolen property offenses":24,"Arson":4,"Sex offenses, consensual":2,"Embezzlement":11,"Pornography/obscene material":1,"Peeping tom":2,"Kidnapping/abduction":2,"Trespass of real property":79,"Burglary/breaking&entering":571,"Assault offenses":763},"neighbourhoods":{"SODO":83,"DOWNTOWN COMMERCIAL":419,"GREENWOOD":102,"PIONEER SQUARE":93,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":72,"SANDPOINT":102,"BELLTOWN":167,"SOUTH PARK":40,"ROOSEVELT/RAVENNA":180,"EASTLAKE - WEST":49,"FIRST HILL":151,"NORTHGATE":263,"HIGHLAND PARK":59,"QUEEN ANNE":262,"BRIGHTON/DUNLAP":92,"BITTERLAKE":112,"SLU/CASCADE":223,"UNIVERSITY":196,"CAPITOL HILL":272,"MOUNT BAKER":80,"MAGNOLIA":56,"JUDKINS PARK/NORTH BEACON HILL":44,"CLAREMONT/RAINIER VISTA":28,"BALLARD NORTH":97,"PIGEON POINT":8,"CHINATOWN/INTERNATIONAL DISTRICT":104,"FREMONT":100,"FAUNTLEROY SW":20,"MORGAN":52,"BALLARD SOUTH":124,"MADISON PARK":16,"CENTRAL AREA/SQUIRE PARK":148,"COLUMBIA CITY":48,"NORTH ADMIRAL":52,"MILLER PARK":31,"ALKI":20,"RAINIER BEACH":66,"MID BEACON HILL":65,"GENESEE":16,"WALLINGFORD":86,"HILLMAN CITY":28,"GEORGETOWN":37,"NORTH BEACON HILL":108,"MADRONA/LESCHI":74,"RAINIER VIEW":68,"MONTLAKE/PORTAGE BAY":37,"NORTH DELRIDGE":46,"SOUTH BEACON HILL":30,"NEW HOLLY":32,"LAKEWOOD/SEWARD PARK":52,"HIGH POINT":59,"ALASKA JUNCTION":64,"PHINNEY RIDGE":47,"UNKNOWN":52,"EASTLAKE - EAST":11,"SOUTH DELRIDGE":10,"COMMERCIAL HARBOR ISLAND":2,"COMMERCIAL DUWAMISH":1,"LAKECITY":157}},{"month":"2011, 06","categories":{"Destruction/damage/vandalism of property":542,"Prostitution offenses":31,"Robbery":118,"Family offenses, nonviolent":86,"Liquor law violations":23,"Fraud offenses":180,"Larceny-theft":1926,"Driving under the influence":134,"Motor vehicle theft":328,"Stolen property offenses":18,"Bad checks":62,"Drug/narcotic offenses":131,"Counterfeiting/forgery":36,"Arson":7,"Weapon law violations":45,"Sex offenses":31,"Peeping tom":2,"Embezzlement":14,"Pornography/obscene material":1,"Curfew/loitering/vagrancy violations":4,"Kidnapping/abduction":5,"Homicide offenses":1,"Extortion/blackmail":1,"Bribery":1,"Trespass of real property":80,"Assault offenses":771,"Burglary/breaking&entering":490},"neighbourhoods":{"WALLINGFORD":104,"JUDKINS PARK/NORTH BEACON HILL":57,"CAPITOL HILL":259,"FIRST HILL":146,"SLU/CASCADE":193,"BITTERLAKE":131,"BALLARD SOUTH":143,"HIGH POINT":54,"DOWNTOWN COMMERCIAL":433,"CHINATOWN/INTERNATIONAL DISTRICT":86,"QUEEN ANNE":228,"UNIVERSITY":198,"LAKEWOOD/SEWARD PARK":29,"ROOSEVELT/RAVENNA":205,"MADRONA/LESCHI":84,"CENTRAL AREA/SQUIRE PARK":155,"NORTH BEACON HILL":83,"NORTH DELRIDGE":38,"RAINIER BEACH":69,"SOUTH PARK":37,"NORTHGATE":245,"FAUNTLEROY SW":30,"MOUNT BAKER":51,"COLUMBIA CITY":43,"HILLMAN CITY":30,"PHINNEY RIDGE":33,"MAGNOLIA":75,"ALASKA JUNCTION":82,"SOUTH BEACON HILL":27,"NEW HOLLY":42,"MADISON PARK":20,"FREMONT":96,"SANDPOINT":102,"NORTH ADMIRAL":35,"SODO":86,"BALLARD NORTH":130,"BELLTOWN":129,"EASTLAKE - WEST":38,"MID BEACON HILL":57,"PIONEER SQUARE":77,"GREENWOOD":120,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":74,"MONTLAKE/PORTAGE BAY":47,"SOUTH DELRIDGE":27,"MILLER PARK":26,"RAINIER VIEW":54,"GEORGETOWN":52,"MORGAN":43,"UNKNOWN":42,"BRIGHTON/DUNLAP":96,"HIGHLAND PARK":72,"EASTLAKE - EAST":10,"CLAREMONT/RAINIER VISTA":21,"GENESEE":24,"ALKI":34,"PIGEON POINT":11,"COMMERCIAL DUWAMISH":3,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":151}},{"month":"2011, 07","categories":{"Destruction/damage/vandalism of property":548,"Robbery":120,"Larceny-theft":1861,"Prostitution offenses":37,"Driving under the influence":137,"Fraud offenses":207,"Drug/narcotic offenses":193,"Family offenses, nonviolent":80,"Motor vehicle theft":397,"Arson":13,"Weapon law violations":58,"Counterfeiting/forgery":35,"Stolen property offenses":10,"Liquor law violations":19,"Bad checks":38,"Sex offenses":24,"Embezzlement":15,"Sex offenses, consensual":5,"Pornography/obscene material":1,"Homicide offenses":4,"Curfew/loitering/vagrancy violations":12,"Peeping tom":2,"Kidnapping/abduction":7,"Trespass of real property":60,"Assault offenses":783,"Burglary/breaking&entering":518},"neighbourhoods":{"FAUNTLEROY SW":27,"MID BEACON HILL":58,"PHINNEY RIDGE":43,"FREMONT":72,"GENESEE":22,"BALLARD NORTH":144,"CAPITOL HILL":302,"ROOSEVELT/RAVENNA":178,"NORTHGATE":268,"SLU/CASCADE":232,"WALLINGFORD":102,"CLAREMONT/RAINIER VISTA":39,"BITTERLAKE":132,"GREENWOOD":103,"NORTH BEACON HILL":106,"DOWNTOWN COMMERCIAL":457,"ALKI":28,"EASTLAKE - WEST":37,"UNIVERSITY":215,"SOUTH PARK":33,"HIGHLAND PARK":72,"BALLARD SOUTH":149,"FIRST HILL":118,"MORGAN":56,"MADRONA/LESCHI":77,"LAKEWOOD/SEWARD PARK":43,"QUEEN ANNE":229,"HIGH POINT":53,"BRIGHTON/DUNLAP":72,"COLUMBIA CITY":56,"CENTRAL AREA/SQUIRE PARK":146,"SANDPOINT":94,"NORTH ADMIRAL":53,"ALASKA JUNCTION":85,"PIONEER SQUARE":67,"SODO":79,"CHINATOWN/INTERNATIONAL DISTRICT":76,"MAGNOLIA":76,"RAINIER VIEW":66,"MOUNT BAKER":64,"JUDKINS PARK/NORTH BEACON HILL":47,"HILLMAN CITY":38,"BELLTOWN":154,"RAINIER BEACH":60,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":92,"MILLER PARK":35,"GEORGETOWN":54,"SOUTH BEACON HILL":29,"UNKNOWN":35,"EASTLAKE - EAST":7,"NEW HOLLY":36,"SOUTH DELRIDGE":13,"MADISON PARK":25,"NORTH DELRIDGE":52,"MONTLAKE/PORTAGE BAY":23,"PIGEON POINT":5,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":149}},{"month":"2011, 08","categories":{"Destruction/damage/vandalism of property":528,"Larceny-theft":2083,"Drug/narcotic offenses":177,"Stolen property offenses":27,"Robbery":120,"Fraud offenses":206,"Driving under the influence":129,"Motor vehicle theft":320,"Kidnapping/abduction":7,"Bad checks":53,"Family offenses, nonviolent":86,"Peeping tom":1,"Weapon law violations":51,"Prostitution offenses":23,"Counterfeiting/forgery":24,"Sex offenses":35,"Arson":13,"Liquor law violations":19,"Embezzlement":9,"Curfew/loitering/vagrancy violations":4,"Sex offenses, consensual":2,"Pornography/obscene material":2,"Homicide offenses":2,"Trespass of real property":87,"Assault offenses":842,"Burglary/breaking&entering":580},"neighbourhoods":{"CENTRAL AREA/SQUIRE PARK":120,"NORTHGATE":312,"BITTERLAKE":136,"CAPITOL HILL":326,"ROOSEVELT/RAVENNA":235,"FIRST HILL":151,"FREMONT":86,"DOWNTOWN COMMERCIAL":446,"SOUTH PARK":45,"GREENWOOD":130,"SLU/CASCADE":219,"LAKEWOOD/SEWARD PARK":48,"BALLARD SOUTH":141,"UNIVERSITY":207,"NEW HOLLY":40,"SOUTH DELRIDGE":29,"BALLARD NORTH":108,"NORTH DELRIDGE":50,"GEORGETOWN":66,"MAGNOLIA":67,"BRIGHTON/DUNLAP":100,"RAINIER BEACH":65,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":73,"MORGAN":60,"COLUMBIA CITY":33,"HILLMAN CITY":39,"MOUNT BAKER":71,"RAINIER VIEW":51,"BELLTOWN":163,"MID BEACON HILL":55,"NORTH BEACON HILL":101,"PHINNEY RIDGE":51,"SODO":111,"EASTLAKE - WEST":32,"NORTH ADMIRAL":59,"HIGH POINT":36,"QUEEN ANNE":239,"MADRONA/LESCHI":90,"CHINATOWN/INTERNATIONAL DISTRICT":132,"ALKI":49,"JUDKINS PARK/NORTH BEACON HILL":25,"SANDPOINT":123,"PIONEER SQUARE":87,"CLAREMONT/RAINIER VISTA":31,"MONTLAKE/PORTAGE BAY":41,"SOUTH BEACON HILL":20,"MILLER PARK":25,"FAUNTLEROY SW":17,"ALASKA JUNCTION":83,"PIGEON POINT":6,"EASTLAKE - EAST":10,"HIGHLAND PARK":76,"WALLINGFORD":85,"MADISON PARK":29,"UNKNOWN":31,"GENESEE":13,"COMMERCIAL HARBOR ISLAND":5,"COMMERCIAL DUWAMISH":5,"LAKECITY":146}},{"month":"2011, 09","categories":{"Family offenses, nonviolent":77,"Driving under the influence":87,"Larceny-theft":2087,"Drug/narcotic offenses":175,"Destruction/damage/vandalism of property":447,"Motor vehicle theft":334,"Robbery":110,"Fraud offenses":188,"Stolen property offenses":23,"Bad checks":40,"Sex offenses":27,"Weapon law violations":56,"Prostitution offenses":52,"Liquor law violations":17,"Curfew/loitering/vagrancy violations":6,"Extortion/blackmail":1,"Embezzlement":12,"Kidnapping/abduction":4,"Counterfeiting/forgery":18,"Homicide offenses":3,"Arson":9,"Trespass of real property":86,"Assault offenses":772,"Burglary/breaking&entering":562},"neighbourhoods":{"BALLARD SOUTH":130,"SLU/CASCADE":221,"NORTHGATE":328,"UNIVERSITY":202,"DOWNTOWN COMMERCIAL":428,"QUEEN ANNE":223,"FREMONT":93,"MADRONA/LESCHI":78,"CAPITOL HILL":304,"NORTH BEACON HILL":89,"WALLINGFORD":93,"ALASKA JUNCTION":57,"CENTRAL AREA/SQUIRE PARK":124,"LAKEWOOD/SEWARD PARK":56,"BELLTOWN":155,"EASTLAKE - WEST":43,"CHINATOWN/INTERNATIONAL DISTRICT":99,"MOUNT BAKER":61,"NORTH DELRIDGE":45,"SODO":95,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":88,"MONTLAKE/PORTAGE BAY":42,"GREENWOOD":106,"FIRST HILL":129,"PIONEER SQUARE":57,"ROOSEVELT/RAVENNA":225,"PHINNEY RIDGE":50,"HILLMAN CITY":38,"UNKNOWN":38,"BITTERLAKE":133,"SANDPOINT":110,"HIGH POINT":42,"NEW HOLLY":32,"MAGNOLIA":91,"HIGHLAND PARK":88,"GENESEE":16,"BALLARD NORTH":93,"BRIGHTON/DUNLAP":67,"MID BEACON HILL":60,"FAUNTLEROY SW":23,"SOUTH DELRIDGE":25,"MADISON PARK":16,"SOUTH BEACON HILL":27,"RAINIER BEACH":54,"RAINIER VIEW":67,"NORTH ADMIRAL":73,"CLAREMONT/RAINIER VISTA":25,"GEORGETOWN":50,"MORGAN":35,"JUDKINS PARK/NORTH BEACON HILL":30,"ALKI":34,"MILLER PARK":27,"COMMERCIAL DUWAMISH":4,"SOUTH PARK":48,"PIGEON POINT":7,"COLUMBIA CITY":35,"EASTLAKE - EAST":10,"COMMERCIAL HARBOR ISLAND":4,"LAKECITY":170}},{"month":"2011, 10","categories":{"Robbery":143,"Driving under the influence":90,"Destruction/damage/vandalism of property":466,"Weapon law violations":66,"Larceny-theft":1944,"Stolen property offenses":25,"Motor vehicle theft":268,"Drug/narcotic offenses":147,"Curfew/loitering/vagrancy violations":7,"Family offenses, nonviolent":76,"Bad checks":47,"Fraud offenses":202,"Sex offenses":34,"Liquor law violations":13,"Prostitution offenses":43,"Arson":6,"Counterfeiting/forgery":26,"Homicide offenses":4,"Embezzlement":10,"Gambling offenses":1,"Sex offenses, consensual":3,"Pornography/obscene material":1,"Kidnapping/abduction":4,"Peeping tom":2,"Trespass of real property":81,"Assault offenses":742,"Burglary/breaking&entering":659},"neighbourhoods":{"CENTRAL AREA/SQUIRE PARK":152,"BITTERLAKE":136,"MAGNOLIA":74,"UNIVERSITY":245,"SLU/CASCADE":185,"CAPITOL HILL":294,"BELLTOWN":125,"JUDKINS PARK/NORTH BEACON HILL":44,"QUEEN ANNE":221,"DOWNTOWN COMMERCIAL":394,"FREMONT":101,"ROOSEVELT/RAVENNA":172,"MADRONA/LESCHI":86,"COLUMBIA CITY":35,"GEORGETOWN":73,"NORTHGATE":324,"PIONEER SQUARE":85,"BALLARD NORTH":128,"NORTH ADMIRAL":40,"GENESEE":22,"FIRST HILL":123,"NORTH BEACON HILL":110,"FAUNTLEROY SW":16,"MOUNT BAKER":50,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":79,"BRIGHTON/DUNLAP":95,"WALLINGFORD":77,"SANDPOINT":106,"CLAREMONT/RAINIER VISTA":38,"MORGAN":40,"RAINIER VIEW":61,"CHINATOWN/INTERNATIONAL DISTRICT":110,"ALASKA JUNCTION":51,"LAKEWOOD/SEWARD PARK":39,"SOUTH PARK":34,"ALKI":30,"BALLARD SOUTH":130,"PHINNEY RIDGE":42,"SODO":74,"HIGHLAND PARK":50,"UNKNOWN":35,"SOUTH DELRIDGE":23,"SOUTH BEACON HILL":37,"HIGH POINT":51,"MID BEACON HILL":65,"RAINIER BEACH":51,"MONTLAKE/PORTAGE BAY":31,"MADISON PARK":22,"EASTLAKE - WEST":35,"PIGEON POINT":7,"GREENWOOD":106,"HILLMAN CITY":53,"NEW HOLLY":38,"MILLER PARK":22,"NORTH DELRIDGE":44,"EASTLAKE - EAST":11,"COMMERCIAL DUWAMISH":2,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":185}},{"month":"2011, 11","categories":{"Drug/narcotic offenses":109,"Motor vehicle theft":239,"Driving under the influence":123,"Destruction/damage/vandalism of property":452,"Larceny-theft":1824,"Fraud offenses":175,"Robbery":119,"Family offenses, nonviolent":63,"Bad checks":38,"Stolen property offenses":18,"Embezzlement":10,"Prostitution offenses":24,"Weapon law violations":49,"Counterfeiting/forgery":20,"Sex offenses":18,"Liquor law violations":7,"Curfew/loitering/vagrancy violations":5,"Arson":6,"Sex offenses, consensual":1,"Homicide offenses":1,"Kidnapping/abduction":3,"Trespass of real property":73,"Assault offenses":669,"Burglary/breaking&entering":627},"neighbourhoods":{"CAPITOL HILL":257,"QUEEN ANNE":195,"CENTRAL AREA/SQUIRE PARK":149,"RAINIER BEACH":36,"NORTH DELRIDGE":43,"UNIVERSITY":229,"NORTH ADMIRAL":65,"NORTHGATE":280,"FIRST HILL":98,"MAGNOLIA":72,"ROOSEVELT/RAVENNA":131,"SLU/CASCADE":182,"MOUNT BAKER":84,"COLUMBIA CITY":39,"DOWNTOWN COMMERCIAL":326,"NORTH BEACON HILL":141,"FREMONT":72,"SOUTH BEACON HILL":30,"SANDPOINT":88,"CHINATOWN/INTERNATIONAL DISTRICT":133,"SOUTH PARK":38,"MORGAN":47,"BITTERLAKE":114,"LAKEWOOD/SEWARD PARK":28,"PIONEER SQUARE":93,"SOUTH DELRIDGE":11,"GREENWOOD":100,"HIGHLAND PARK":61,"MID BEACON HILL":96,"BALLARD SOUTH":141,"HIGH POINT":63,"BALLARD NORTH":105,"UNKNOWN":26,"EASTLAKE - WEST":23,"MADISON PARK":19,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":75,"WALLINGFORD":80,"PHINNEY RIDGE":37,"COMMERCIAL DUWAMISH":3,"MADRONA/LESCHI":48,"ALASKA JUNCTION":54,"BELLTOWN":117,"NEW HOLLY":32,"JUDKINS PARK/NORTH BEACON HILL":25,"ALKI":22,"GENESEE":10,"RAINIER VIEW":75,"GEORGETOWN":43,"MONTLAKE/PORTAGE BAY":19,"CLAREMONT/RAINIER VISTA":24,"PIGEON POINT":11,"BRIGHTON/DUNLAP":81,"SODO":83,"MILLER PARK":29,"HILLMAN CITY":33,"FAUNTLEROY SW":13,"EASTLAKE - EAST":5,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":138}},{"month":"2011, 12","categories":{"Motor vehicle theft":243,"Driving under the influence":182,"Larceny-theft":1805,"Weapon law violations":38,"Robbery":145,"Family offenses, nonviolent":57,"Destruction/damage/vandalism of property":493,"Fraud offenses":235,"Bad checks":30,"Drug/narcotic offenses":146,"Sex offenses":19,"Stolen property offenses":22,"Bribery":1,"Embezzlement":6,"Arson":6,"Curfew/loitering/vagrancy violations":6,"Counterfeiting/forgery":9,"Homicide offenses":3,"Liquor law violations":6,"Prostitution offenses":20,"Kidnapping/abduction":2,"Sex offenses, consensual":1,"Peeping tom":1,"Extortion/blackmail":3,"Trespass of real property":89,"Assault offenses":662,"Burglary/breaking&entering":609},"neighbourhoods":{"WALLINGFORD":87,"SLU/CASCADE":207,"NORTH ADMIRAL":47,"QUEEN ANNE":243,"FIRST HILL":119,"PIONEER SQUARE":76,"NORTHGATE":299,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":70,"MAGNOLIA":72,"SODO":63,"DOWNTOWN COMMERCIAL":426,"UNIVERSITY":210,"ROOSEVELT/RAVENNA":184,"SOUTH PARK":66,"BALLARD SOUTH":125,"CENTRAL AREA/SQUIRE PARK":124,"SANDPOINT":88,"CAPITOL HILL":260,"CHINATOWN/INTERNATIONAL DISTRICT":120,"UNKNOWN":41,"BITTERLAKE":105,"COMMERCIAL DUWAMISH":12,"MORGAN":58,"BALLARD NORTH":92,"FREMONT":82,"MADRONA/LESCHI":55,"NORTH DELRIDGE":41,"NORTH BEACON HILL":99,"GENESEE":13,"PHINNEY RIDGE":43,"NEW HOLLY":38,"GREENWOOD":79,"GEORGETOWN":60,"MOUNT BAKER":60,"HIGH POINT":58,"CLAREMONT/RAINIER VISTA":23,"BELLTOWN":128,"COLUMBIA CITY":37,"EASTLAKE - EAST":12,"EASTLAKE - WEST":36,"JUDKINS PARK/NORTH BEACON HILL":34,"RAINIER BEACH":65,"HILLMAN CITY":28,"MID BEACON HILL":73,"HIGHLAND PARK":68,"PIGEON POINT":4,"SOUTH DELRIDGE":15,"ALASKA JUNCTION":58,"MONTLAKE/PORTAGE BAY":26,"RAINIER VIEW":42,"LAKEWOOD/SEWARD PARK":33,"BRIGHTON/DUNLAP":76,"MILLER PARK":28,"FAUNTLEROY SW":25,"MADISON PARK":18,"SOUTH BEACON HILL":20,"ALKI":28,"COMMERCIAL HARBOR ISLAND":3,"LAKECITY":137}},{"month":"2012, 01","categories":{"Larceny-theft":1756,"Curfew/loitering/vagrancy violations":2,"Destruction/damage/vandalism of property":427,"Sex offenses":26,"Driving under the influence":88,"Motor vehicle theft":280,"Drug/narcotic offenses":164,"Robbery":117,"Weapon law violations":42,"Fraud offenses":197,"Counterfeiting/forgery":18,"Family offenses, nonviolent":58,"Bad checks":39,"Stolen property offenses":16,"Embezzlement":12,"Prostitution offenses":30,"Kidnapping/abduction":3,"Liquor law violations":6,"Arson":8,"Pornography/obscene material":1,"Homicide offenses":4,"Peeping tom":1,"Sex offenses, consensual":1,"Trespass of real property":73,"Burglary/breaking&entering":520,"Assault offenses":665},"neighbourhoods":{"ALASKA JUNCTION":38,"FREMONT":93,"PIONEER SQUARE":82,"DOWNTOWN COMMERCIAL":412,"MID BEACON HILL":62,"SANDPOINT":75,"MADRONA/LESCHI":57,"BELLTOWN":153,"SLU/CASCADE":207,"ROOSEVELT/RAVENNA":146,"NORTHGATE":263,"CLAREMONT/RAINIER VISTA":22,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":64,"CENTRAL AREA/SQUIRE PARK":100,"RAINIER BEACH":51,"PHINNEY RIDGE":36,"NEW HOLLY":23,"FIRST HILL":143,"QUEEN ANNE":204,"BALLARD NORTH":80,"BALLARD SOUTH":135,"SOUTH BEACON HILL":24,"MORGAN":37,"NORTH ADMIRAL":45,"UNIVERSITY":190,"HIGH POINT":52,"HIGHLAND PARK":47,"NORTH BEACON HILL":89,"UNKNOWN":29,"MAGNOLIA":63,"HILLMAN CITY":35,"CHINATOWN/INTERNATIONAL DISTRICT":106,"MOUNT BAKER":60,"SODO":82,"EASTLAKE - WEST":33,"CAPITOL HILL":300,"LAKEWOOD/SEWARD PARK":33,"FAUNTLEROY SW":17,"MILLER PARK":16,"BITTERLAKE":120,"WALLINGFORD":75,"GENESEE":10,"JUDKINS PARK/NORTH BEACON HILL":22,"GREENWOOD":79,"COLUMBIA CITY":30,"BRIGHTON/DUNLAP":86,"GEORGETOWN":58,"SOUTH DELRIDGE":17,"ALKI":37,"MADISON PARK":10,"SOUTH PARK":59,"NORTH DELRIDGE":32,"MONTLAKE/PORTAGE BAY":19,"EASTLAKE - EAST":4,"RAINIER VIEW":56,"COMMERCIAL DUWAMISH":3,"PIGEON POINT":8,"LAKECITY":125}},{"month":"2012, 02","categories":{"Drug/narcotic offenses":193,"Larceny-theft":1834,"Stolen property offenses":12,"Weapon law violations":47,"Robbery":85,"Destruction/damage/vandalism of property":460,"Motor vehicle theft":272,"Driving under the influence":129,"Fraud offenses":213,"Bad checks":36,"Embezzlement":12,"Counterfeiting/forgery":10,"Family offenses, nonviolent":63,"Liquor law violations":23,"Kidnapping/abduction":9,"Sex offenses":21,"Prostitution offenses":34,"Curfew/loitering/vagrancy violations":5,"Homicide offenses":4,"Gambling offenses":2,"Extortion/blackmail":1,"Sex offenses, consensual":2,"Arson":1,"Trespass of real property":74,"Assault offenses":627,"Burglary/breaking&entering":474},"neighbourhoods":{"BELLTOWN":153,"CAPITOL HILL":309,"BALLARD SOUTH":125,"RAINIER BEACH":53,"CENTRAL AREA/SQUIRE PARK":109,"FIRST HILL":123,"DOWNTOWN COMMERCIAL":443,"SODO":66,"SLU/CASCADE":207,"NEW HOLLY":30,"NORTHGATE":300,"ROOSEVELT/RAVENNA":133,"NORTH BEACON HILL":90,"QUEEN ANNE":244,"PHINNEY RIDGE":29,"RAINIER VIEW":70,"BALLARD NORTH":82,"WALLINGFORD":78,"MADRONA/LESCHI":73,"GEORGETOWN":71,"PIONEER SQUARE":60,"CHINATOWN/INTERNATIONAL DISTRICT":114,"GREENWOOD":76,"UNIVERSITY":185,"HILLMAN CITY":16,"LAKEWOOD/SEWARD PARK":26,"ALASKA JUNCTION":64,"COLUMBIA CITY":31,"MOUNT BAKER":53,"BITTERLAKE":101,"FAUNTLEROY SW":11,"HIGHLAND PARK":50,"MONTLAKE/PORTAGE BAY":25,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":67,"MID BEACON HILL":65,"SANDPOINT":71,"MAGNOLIA":55,"EASTLAKE - WEST":35,"ALKI":26,"FREMONT":76,"NORTH ADMIRAL":57,"UNKNOWN":25,"MILLER PARK":21,"CLAREMONT/RAINIER VISTA":30,"NORTH DELRIDGE":51,"BRIGHTON/DUNLAP":65,"PIGEON POINT":7,"MADISON PARK":17,"SOUTH PARK":55,"SOUTH BEACON HILL":24,"GENESEE":16,"SOUTH DELRIDGE":15,"JUDKINS PARK/NORTH BEACON HILL":22,"MORGAN":37,"HIGH POINT":38,"COMMERCIAL HARBOR ISLAND":3,"EASTLAKE - EAST":7,"LAKECITY":158}},{"month":"2012, 03","categories":{"Larceny-theft":1885,"Robbery":119,"Fraud offenses":285,"Driving under the influence":129,"Destruction/damage/vandalism of property":457,"Family offenses, nonviolent":77,"Weapon law violations":45,"Motor vehicle theft":281,"Drug/narcotic offenses":184,"Sex offenses":19,"Embezzlement":8,"Bad checks":44,"Liquor law violations":11,"Kidnapping/abduction":8,"Stolen property offenses":13,"Counterfeiting/forgery":21,"Prostitution offenses":10,"Arson":7,"Curfew/loitering/vagrancy violations":4,"Homicide offenses":2,"Trespass of real property":75,"Assault offenses":634,"Burglary/breaking&entering":513},"neighbourhoods":{"NORTHGATE":269,"DOWNTOWN COMMERCIAL":467,"HIGHLAND PARK":52,"CHINATOWN/INTERNATIONAL DISTRICT":104,"BITTERLAKE":109,"CLAREMONT/RAINIER VISTA":21,"GREENWOOD":75,"BELLTOWN":120,"SODO":66,"NORTH BEACON HILL":128,"WALLINGFORD":93,"ROOSEVELT/RAVENNA":172,"RAINIER BEACH":64,"SLU/CASCADE":218,"MADRONA/LESCHI":62,"GEORGETOWN":70,"ALASKA JUNCTION":53,"SANDPOINT":97,"UNIVERSITY":180,"BALLARD SOUTH":124,"FREMONT":91,"MOUNT BAKER":77,"CAPITOL HILL":284,"QUEEN ANNE":213,"BALLARD NORTH":110,"FIRST HILL":145,"MORGAN":42,"HIGH POINT":48,"RAINIER VIEW":53,"UNKNOWN":45,"MILLER PARK":24,"CENTRAL AREA/SQUIRE PARK":108,"NEW HOLLY":31,"MID BEACON HILL":60,"SOUTH PARK":56,"NORTH ADMIRAL":39,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":57,"PIONEER SQUARE":80,"JUDKINS PARK/NORTH BEACON HILL":33,"SOUTH DELRIDGE":17,"MAGNOLIA":104,"LAKEWOOD/SEWARD PARK":18,"MADISON PARK":14,"NORTH DELRIDGE":33,"COLUMBIA CITY":32,"PHINNEY RIDGE":37,"SOUTH BEACON HILL":32,"HILLMAN CITY":24,"BRIGHTON/DUNLAP":73,"FAUNTLEROY SW":19,"PIGEON POINT":9,"EASTLAKE - WEST":26,"MONTLAKE/PORTAGE BAY":19,"GENESEE":24,"ALKI":23,"EASTLAKE - EAST":2,"COMMERCIAL HARBOR ISLAND":1,"COMMERCIAL DUWAMISH":2,"LAKECITY":182}},{"month":"2012, 04","categories":{"Driving under the influence":109,"Drug/narcotic offenses":193,"Larceny-theft":2060,"Robbery":114,"Destruction/damage/vandalism of property":497,"Fraud offenses":286,"Counterfeiting/forgery":21,"Family offenses, nonviolent":62,"Motor vehicle theft":269,"Embezzlement":10,"Liquor law violations":19,"Kidnapping/abduction":5,"Sex offenses":23,"Prostitution offenses":11,"Weapon law violations":45,"Bad checks":34,"Stolen property offenses":14,"Arson":5,"Curfew/loitering/vagrancy violations":4,"Sex offenses, consensual":3,"Homicide offenses":2,"Extortion/blackmail":4,"Pornography/obscene material":1,"Peeping tom":2,"Trespass of real property":87,"Burglary/breaking&entering":418,"Assault offenses":737},"neighbourhoods":{"FREMONT":105,"DOWNTOWN COMMERCIAL":554,"MID BEACON HILL":70,"CAPITOL HILL":303,"PHINNEY RIDGE":41,"GREENWOOD":90,"FIRST HILL":145,"LAKEWOOD/SEWARD PARK":45,"CENTRAL AREA/SQUIRE PARK":102,"UNIVERSITY":205,"QUEEN ANNE":219,"SLU/CASCADE":252,"RAINIER BEACH":59,"ALASKA JUNCTION":59,"NORTHGATE":255,"MORGAN":49,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":76,"CHINATOWN/INTERNATIONAL DISTRICT":131,"JUDKINS PARK/NORTH BEACON HILL":38,"RAINIER VIEW":54,"BRIGHTON/DUNLAP":66,"MOUNT BAKER":65,"MADRONA/LESCHI":62,"SOUTH PARK":70,"HIGHLAND PARK":50,"PIGEON POINT":9,"CLAREMONT/RAINIER VISTA":32,"BALLARD SOUTH":147,"BALLARD NORTH":71,"ALKI":27,"GEORGETOWN":68,"MAGNOLIA":90,"SANDPOINT":113,"NORTH BEACON HILL":80,"SODO":74,"ROOSEVELT/RAVENNA":150,"FAUNTLEROY SW":23,"HILLMAN CITY":31,"NEW HOLLY":44,"BITTERLAKE":91,"COLUMBIA CITY":53,"EASTLAKE - WEST":26,"BELLTOWN":146,"NORTH ADMIRAL":45,"MILLER PARK":17,"WALLINGFORD":91,"PIONEER SQUARE":77,"HIGH POINT":39,"SOUTH BEACON HILL":20,"NORTH DELRIDGE":38,"UNKNOWN":37,"MONTLAKE/PORTAGE BAY":24,"MADISON PARK":24,"GENESEE":22,"COMMERCIAL DUWAMISH":6,"SOUTH DELRIDGE":18,"EASTLAKE - EAST":5,"LAKECITY":132}},{"month":"2012, 05","categories":{"Larceny-theft":2104,"Driving under the influence":100,"Drug/narcotic offenses":141,"Weapon law violations":39,"Destruction/damage/vandalism of property":504,"Family offenses, nonviolent":54,"Motor vehicle theft":274,"Stolen property offenses":12,"Fraud offenses":220,"Bad checks":46,"Robbery":115,"Prostitution offenses":52,"Homicide offenses":5,"Embezzlement":9,"Peeping tom":1,"Sex offenses":36,"Liquor law violations":13,"Counterfeiting/forgery":18,"Curfew/loitering/vagrancy violations":7,"Arson":7,"Kidnapping/abduction":3,"Pornography/obscene material":1,"Extortion/blackmail":2,"Trespass of real property":77,"Assault offenses":772,"Burglary/breaking&entering":481},"neighbourhoods":{"SLU/CASCADE":263,"NORTHGATE":261,"BELLTOWN":143,"CENTRAL AREA/SQUIRE PARK":125,"RAINIER VIEW":51,"SODO":76,"UNIVERSITY":217,"SOUTH DELRIDGE":20,"MOUNT BAKER":64,"DOWNTOWN COMMERCIAL":542,"CAPITOL HILL":274,"LAKEWOOD/SEWARD PARK":26,"NORTH BEACON HILL":97,"WALLINGFORD":93,"JUDKINS PARK/NORTH BEACON HILL":41,"ROOSEVELT/RAVENNA":137,"NEW HOLLY":44,"QUEEN ANNE":273,"FIRST HILL":140,"PIONEER SQUARE":55,"BALLARD SOUTH":114,"SANDPOINT":86,"RAINIER BEACH":76,"BALLARD NORTH":100,"HIGHLAND PARK":69,"CLAREMONT/RAINIER VISTA":41,"HIGH POINT":50,"BITTERLAKE":101,"FAUNTLEROY SW":29,"SOUTH PARK":66,"GREENWOOD":92,"MID BEACON HILL":52,"CHINATOWN/INTERNATIONAL DISTRICT":129,"ALKI":25,"COLUMBIA CITY":44,"MADISON PARK":16,"GEORGETOWN":47,"MAGNOLIA":72,"MADRONA/LESCHI":89,"NORTH ADMIRAL":41,"MONTLAKE/PORTAGE BAY":23,"HILLMAN CITY":22,"PHINNEY RIDGE":56,"ALASKA JUNCTION":52,"GENESEE":14,"EASTLAKE - WEST":41,"FREMONT":106,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":72,"UNKNOWN":34,"MORGAN":38,"MILLER PARK":26,"SOUTH BEACON HILL":32,"BRIGHTON/DUNLAP":101,"NORTH DELRIDGE":47,"EASTLAKE - EAST":2,"PIGEON POINT":7,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":138}},{"month":"2012, 06","categories":{"Larceny-theft":1863,"Robbery":125,"Drug/narcotic offenses":155,"Destruction/damage/vandalism of property":476,"Embezzlement":15,"Motor vehicle theft":312,"Fraud offenses":223,"Arson":10,"Driving under the influence":97,"Weapon law violations":44,"Family offenses, nonviolent":63,"Liquor law violations":23,"Bad checks":41,"Counterfeiting/forgery":39,"Peeping tom":4,"Stolen property offenses":17,"Sex offenses":33,"Curfew/loitering/vagrancy violations":10,"Prostitution offenses":12,"Pornography/obscene material":3,"Extortion/blackmail":3,"Kidnapping/abduction":3,"Sex offenses, consensual":1,"Trespass of real property":67,"Burglary/breaking&entering":487,"Assault offenses":776,"Homicide offenses":1},"neighbourhoods":{"BELLTOWN":109,"PIGEON POINT":9,"QUEEN ANNE":226,"SLU/CASCADE":206,"DOWNTOWN COMMERCIAL":483,"FREMONT":113,"CAPITOL HILL":319,"SANDPOINT":95,"GREENWOOD":127,"CHINATOWN/INTERNATIONAL DISTRICT":131,"NORTH ADMIRAL":42,"NORTHGATE":240,"CLAREMONT/RAINIER VISTA":26,"BITTERLAKE":122,"ROOSEVELT/RAVENNA":162,"ALASKA JUNCTION":69,"CENTRAL AREA/SQUIRE PARK":129,"PIONEER SQUARE":63,"RAINIER VIEW":65,"FIRST HILL":150,"SOUTH BEACON HILL":38,"HIGH POINT":65,"NORTH BEACON HILL":97,"NEW HOLLY":30,"SODO":66,"BRIGHTON/DUNLAP":91,"BALLARD NORTH":97,"WALLINGFORD":90,"HILLMAN CITY":23,"MILLER PARK":23,"BALLARD SOUTH":124,"UNIVERSITY":173,"SOUTH DELRIDGE":23,"FAUNTLEROY SW":27,"MOUNT BAKER":55,"MORGAN":42,"COMMERCIAL DUWAMISH":3,"MID BEACON HILL":74,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":97,"PHINNEY RIDGE":41,"MAGNOLIA":74,"GEORGETOWN":58,"GENESEE":10,"MADISON PARK":17,"MADRONA/LESCHI":51,"RAINIER BEACH":52,"COLUMBIA CITY":33,"HIGHLAND PARK":61,"NORTH DELRIDGE":31,"MONTLAKE/PORTAGE BAY":21,"SOUTH PARK":46,"UNKNOWN":25,"ALKI":22,"LAKEWOOD/SEWARD PARK":25,"EASTLAKE - WEST":15,"JUDKINS PARK/NORTH BEACON HILL":29,"EASTLAKE - EAST":6,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":161}},{"month":"2012, 07","categories":{"Destruction/damage/vandalism of property":558,"Robbery":113,"Larceny-theft":2011,"Drug/narcotic offenses":169,"Motor vehicle theft":347,"Family offenses, nonviolent":73,"Fraud offenses":225,"Counterfeiting/forgery":44,"Weapon law violations":55,"Bad checks":47,"Driving under the influence":109,"Prostitution offenses":23,"Arson":9,"Liquor law violations":16,"Sex offenses":30,"Curfew/loitering/vagrancy violations":8,"Kidnapping/abduction":5,"Embezzlement":7,"Stolen property offenses":17,"Extortion/blackmail":3,"Sex offenses, consensual":1,"Homicide offenses":2,"Peeping tom":1,"Trespass of real property":79,"Assault offenses":860,"Burglary/breaking&entering":513},"neighbourhoods":{"PIONEER SQUARE":88,"CENTRAL AREA/SQUIRE PARK":125,"SLU/CASCADE":226,"BALLARD NORTH":109,"MORGAN":68,"DOWNTOWN COMMERCIAL":473,"HIGHLAND PARK":85,"UNIVERSITY":195,"BALLARD SOUTH":171,"NORTH BEACON HILL":92,"BRIGHTON/DUNLAP":100,"ROOSEVELT/RAVENNA":180,"COMMERCIAL DUWAMISH":7,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":88,"NORTHGATE":244,"SANDPOINT":77,"CHINATOWN/INTERNATIONAL DISTRICT":145,"CAPITOL HILL":323,"COMMERCIAL HARBOR ISLAND":5,"MAGNOLIA":78,"MILLER PARK":26,"RAINIER BEACH":95,"BELLTOWN":118,"FIRST HILL":163,"QUEEN ANNE":255,"BITTERLAKE":93,"JUDKINS PARK/NORTH BEACON HILL":27,"PHINNEY RIDGE":58,"FREMONT":80,"HILLMAN CITY":28,"ALKI":31,"MOUNT BAKER":68,"MONTLAKE/PORTAGE BAY":34,"NORTH ADMIRAL":58,"SOUTH BEACON HILL":37,"SODO":64,"FAUNTLEROY SW":32,"COLUMBIA CITY":29,"GREENWOOD":135,"CLAREMONT/RAINIER VISTA":40,"MID BEACON HILL":70,"UNKNOWN":38,"HIGH POINT":46,"GEORGETOWN":65,"EASTLAKE - EAST":16,"NORTH DELRIDGE":46,"NEW HOLLY":62,"MADRONA/LESCHI":58,"EASTLAKE - WEST":32,"RAINIER VIEW":66,"SOUTH PARK":51,"ALASKA JUNCTION":74,"MADISON PARK":16,"WALLINGFORD":103,"LAKEWOOD/SEWARD PARK":25,"GENESEE":24,"PIGEON POINT":11,"SOUTH DELRIDGE":13,"LAKECITY":159}},{"month":"2012, 08","categories":{"Drug/narcotic offenses":143,"Destruction/damage/vandalism of property":514,"Larceny-theft":1916,"Weapon law violations":51,"Homicide offenses":1,"Family offenses, nonviolent":67,"Robbery":145,"Fraud offenses":284,"Motor vehicle theft":337,"Bad checks":72,"Driving under the influence":77,"Stolen property offenses":18,"Sex offenses":23,"Embezzlement":14,"Counterfeiting/forgery":31,"Liquor law violations":18,"Curfew/loitering/vagrancy violations":3,"Prostitution offenses":24,"Kidnapping/abduction":3,"Arson":8,"Extortion/blackmail":3,"Sex offenses, consensual":1,"Trespass of real property":73,"Assault offenses":781,"Burglary/breaking&entering":539},"neighbourhoods":{"CAPITOL HILL":297,"SODO":57,"SLU/CASCADE":199,"BALLARD SOUTH":149,"DOWNTOWN COMMERCIAL":424,"FIRST HILL":101,"NORTHGATE":233,"RAINIER BEACH":85,"BELLTOWN":146,"QUEEN ANNE":253,"GREENWOOD":116,"ROOSEVELT/RAVENNA":164,"MONTLAKE/PORTAGE BAY":34,"MORGAN":56,"NEW HOLLY":53,"SANDPOINT":100,"ALKI":36,"MOUNT BAKER":61,"UNIVERSITY":209,"BRIGHTON/DUNLAP":90,"MILLER PARK":45,"BITTERLAKE":90,"UNKNOWN":28,"PIONEER SQUARE":93,"MADISON PARK":34,"CHINATOWN/INTERNATIONAL DISTRICT":123,"MID BEACON HILL":60,"HIGH POINT":45,"NORTH BEACON HILL":84,"NORTH ADMIRAL":53,"GEORGETOWN":68,"CENTRAL AREA/SQUIRE PARK":133,"JUDKINS PARK/NORTH BEACON HILL":34,"PHINNEY RIDGE":42,"BALLARD NORTH":124,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":96,"SOUTH DELRIDGE":30,"WALLINGFORD":95,"RAINIER VIEW":77,"NORTH DELRIDGE":48,"HILLMAN CITY":36,"ALASKA JUNCTION":65,"CLAREMONT/RAINIER VISTA":29,"SOUTH BEACON HILL":28,"FREMONT":91,"SOUTH PARK":48,"MADRONA/LESCHI":69,"FAUNTLEROY SW":46,"MAGNOLIA":65,"COLUMBIA CITY":39,"HIGHLAND PARK":67,"EASTLAKE - WEST":38,"LAKEWOOD/SEWARD PARK":39,"PIGEON POINT":4,"GENESEE":18,"COMMERCIAL DUWAMISH":6,"EASTLAKE - EAST":5,"LAKECITY":188}},{"month":"2012, 09","categories":{"Robbery":140,"Larceny-theft":1806,"Destruction/damage/vandalism of property":472,"Fraud offenses":226,"Motor vehicle theft":337,"Counterfeiting/forgery":26,"Drug/narcotic offenses":155,"Weapon law violations":40,"Family offenses, nonviolent":73,"Driving under the influence":83,"Curfew/loitering/vagrancy violations":7,"Sex offenses":33,"Bad checks":39,"Stolen property offenses":19,"Prostitution offenses":21,"Liquor law violations":25,"Arson":8,"Embezzlement":17,"Peeping tom":1,"Kidnapping/abduction":4,"Sex offenses, consensual":1,"Pornography/obscene material":3,"Trespass of real property":95,"Assault offenses":827,"Burglary/breaking&entering":547},"neighbourhoods":{"SLU/CASCADE":226,"EASTLAKE - WEST":39,"BALLARD SOUTH":140,"NEW HOLLY":53,"MID BEACON HILL":59,"GEORGETOWN":81,"MOUNT BAKER":55,"NORTHGATE":247,"QUEEN ANNE":235,"CAPITOL HILL":321,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":86,"CENTRAL AREA/SQUIRE PARK":147,"HIGHLAND PARK":79,"DOWNTOWN COMMERCIAL":417,"RAINIER BEACH":52,"BELLTOWN":110,"FIRST HILL":144,"BRIGHTON/DUNLAP":82,"UNIVERSITY":228,"SODO":85,"SANDPOINT":102,"BITTERLAKE":79,"CHINATOWN/INTERNATIONAL DISTRICT":122,"MONTLAKE/PORTAGE BAY":26,"HILLMAN CITY":17,"MILLER PARK":30,"GREENWOOD":103,"EASTLAKE - EAST":6,"RAINIER VIEW":52,"PIONEER SQUARE":104,"ALASKA JUNCTION":85,"HIGH POINT":57,"NORTH ADMIRAL":70,"BALLARD NORTH":77,"NORTH BEACON HILL":79,"CLAREMONT/RAINIER VISTA":40,"FREMONT":106,"ROOSEVELT/RAVENNA":163,"MORGAN":42,"NORTH DELRIDGE":45,"SOUTH PARK":56,"MAGNOLIA":82,"JUDKINS PARK/NORTH BEACON HILL":25,"MADRONA/LESCHI":48,"PHINNEY RIDGE":51,"ALKI":24,"WALLINGFORD":85,"COLUMBIA CITY":29,"LAKEWOOD/SEWARD PARK":30,"SOUTH BEACON HILL":24,"GENESEE":13,"UNKNOWN":20,"SOUTH DELRIDGE":8,"FAUNTLEROY SW":18,"MADISON PARK":12,"PIGEON POINT":5,"COMMERCIAL DUWAMISH":3,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":179}},{"month":"2012, 10","categories":{"Driving under the influence":111,"Drug/narcotic offenses":194,"Larceny-theft":1763,"Robbery":138,"Weapon law violations":44,"Family offenses, nonviolent":62,"Motor vehicle theft":334,"Destruction/damage/vandalism of property":475,"Fraud offenses":224,"Sex offenses":24,"Embezzlement":10,"Bad checks":53,"Stolen property offenses":22,"Kidnapping/abduction":4,"Arson":5,"Liquor law violations":16,"Counterfeiting/forgery":25,"Extortion/blackmail":6,"Homicide offenses":2,"Sex offenses, consensual":2,"Prostitution offenses":18,"Pornography/obscene material":1,"Trespass of real property":82,"Assault offenses":670,"Burglary/breaking&entering":634},"neighbourhoods":{"NORTH BEACON HILL":83,"BELLTOWN":103,"SLU/CASCADE":166,"NORTH DELRIDGE":57,"CENTRAL AREA/SQUIRE PARK":156,"DOWNTOWN COMMERCIAL":439,"RAINIER BEACH":71,"ROOSEVELT/RAVENNA":182,"MID BEACON HILL":53,"BALLARD SOUTH":104,"FIRST HILL":163,"CAPITOL HILL":331,"QUEEN ANNE":218,"LAKEWOOD/SEWARD PARK":33,"COLUMBIA CITY":45,"MORGAN":53,"SODO":102,"GREENWOOD":91,"ALKI":17,"UNIVERSITY":211,"BALLARD NORTH":102,"NORTHGATE":290,"PIONEER SQUARE":100,"NORTH ADMIRAL":52,"SANDPOINT":92,"GEORGETOWN":61,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":73,"BRIGHTON/DUNLAP":75,"NEW HOLLY":31,"HIGHLAND PARK":84,"ALASKA JUNCTION":66,"FAUNTLEROY SW":11,"MOUNT BAKER":65,"WALLINGFORD":105,"CHINATOWN/INTERNATIONAL DISTRICT":124,"MAGNOLIA":58,"EASTLAKE - WEST":25,"CLAREMONT/RAINIER VISTA":28,"MONTLAKE/PORTAGE BAY":24,"MILLER PARK":28,"MADRONA/LESCHI":65,"SOUTH PARK":41,"FREMONT":86,"SOUTH BEACON HILL":22,"PHINNEY RIDGE":62,"UNKNOWN":21,"BITTERLAKE":82,"RAINIER VIEW":62,"JUDKINS PARK/NORTH BEACON HILL":31,"HIGH POINT":35,"SOUTH DELRIDGE":19,"MADISON PARK":15,"GENESEE":20,"EASTLAKE - EAST":6,"HILLMAN CITY":14,"PIGEON POINT":8,"COMMERCIAL DUWAMISH":2,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":154}},{"month":"2012, 11","categories":{"Driving under the influence":92,"Larceny-theft":1580,"Stolen property offenses":27,"Drug/narcotic offenses":165,"Weapon law violations":30,"Motor vehicle theft":315,"Robbery":119,"Prostitution offenses":11,"Fraud offenses":197,"Destruction/damage/vandalism of property":387,"Counterfeiting/forgery":36,"Family offenses, nonviolent":49,"Bad checks":42,"Sex offenses":33,"Liquor law violations":7,"Embezzlement":12,"Kidnapping/abduction":4,"Pornography/obscene material":1,"Peeping tom":1,"Arson":3,"Sex offenses, consensual":1,"Curfew/loitering/vagrancy violations":1,"Extortion/blackmail":1,"Trespass of real property":91,"Assault offenses":679,"Burglary/breaking&entering":716},"neighbourhoods":{"ROOSEVELT/RAVENNA":167,"FIRST HILL":132,"NORTHGATE":278,"SLU/CASCADE":183,"BALLARD SOUTH":122,"DOWNTOWN COMMERCIAL":400,"LAKEWOOD/SEWARD PARK":32,"BITTERLAKE":82,"QUEEN ANNE":204,"CHINATOWN/INTERNATIONAL DISTRICT":118,"COLUMBIA CITY":38,"MADRONA/LESCHI":61,"GENESEE":26,"WALLINGFORD":84,"SOUTH DELRIDGE":23,"ALASKA JUNCTION":87,"EASTLAKE - WEST":33,"BALLARD NORTH":88,"NEW HOLLY":31,"RAINIER BEACH":54,"BELLTOWN":107,"FREMONT":81,"UNIVERSITY":211,"MONTLAKE/PORTAGE BAY":21,"UNKNOWN":18,"CAPITOL HILL":286,"MOUNT BAKER":72,"SOUTH BEACON HILL":26,"SODO":54,"GREENWOOD":118,"HIGHLAND PARK":60,"MAGNOLIA":74,"NORTH BEACON HILL":68,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":81,"PHINNEY RIDGE":33,"CENTRAL AREA/SQUIRE PARK":117,"EASTLAKE - EAST":9,"PIONEER SQUARE":92,"SANDPOINT":94,"MID BEACON HILL":58,"NORTH ADMIRAL":50,"BRIGHTON/DUNLAP":77,"FAUNTLEROY SW":21,"MORGAN":59,"NORTH DELRIDGE":37,"CLAREMONT/RAINIER VISTA":23,"GEORGETOWN":53,"MILLER PARK":31,"JUDKINS PARK/NORTH BEACON HILL":39,"SOUTH PARK":30,"HILLMAN CITY":17,"RAINIER VIEW":57,"MADISON PARK":9,"ALKI":15,"HIGH POINT":40,"PIGEON POINT":9,"COMMERCIAL DUWAMISH":4,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":105}},{"month":"2012, 12","categories":{"Sex offenses":28,"Drug/narcotic offenses":154,"Larceny-theft":1692,"Family offenses, nonviolent":56,"Weapon law violations":35,"Destruction/damage/vandalism of property":435,"Robbery":117,"Liquor law violations":7,"Motor vehicle theft":323,"Fraud offenses":201,"Counterfeiting/forgery":43,"Stolen property offenses":24,"Driving under the influence":150,"Peeping tom":2,"Arson":4,"Embezzlement":7,"Bad checks":30,"Prostitution offenses":3,"Extortion/blackmail":2,"Kidnapping/abduction":6,"Curfew/loitering/vagrancy violations":4,"Pornography/obscene material":2,"Trespass of real property":82,"Assault offenses":708,"Burglary/breaking&entering":683},"neighbourhoods":{"CAPITOL HILL":274,"DOWNTOWN COMMERCIAL":440,"SOUTH BEACON HILL":31,"BELLTOWN":130,"GENESEE":20,"NORTHGATE":269,"CHINATOWN/INTERNATIONAL DISTRICT":114,"QUEEN ANNE":248,"MADRONA/LESCHI":71,"UNIVERSITY":164,"GREENWOOD":122,"FIRST HILL":147,"SLU/CASCADE":176,"MILLER PARK":35,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":104,"ROOSEVELT/RAVENNA":173,"WALLINGFORD":81,"BALLARD NORTH":102,"GEORGETOWN":47,"SANDPOINT":98,"MOUNT BAKER":64,"SOUTH PARK":37,"BALLARD SOUTH":140,"ALASKA JUNCTION":83,"CENTRAL AREA/SQUIRE PARK":138,"COLUMBIA CITY":25,"MAGNOLIA":61,"NORTH ADMIRAL":43,"PHINNEY RIDGE":45,"BITTERLAKE":108,"HIGHLAND PARK":71,"ALKI":22,"CLAREMONT/RAINIER VISTA":31,"NORTH DELRIDGE":44,"BRIGHTON/DUNLAP":93,"RAINIER BEACH":54,"NORTH BEACON HILL":59,"SODO":66,"MADISON PARK":14,"SOUTH DELRIDGE":26,"PIONEER SQUARE":61,"LAKEWOOD/SEWARD PARK":23,"MORGAN":44,"MONTLAKE/PORTAGE BAY":29,"HILLMAN CITY":27,"MID BEACON HILL":68,"FREMONT":86,"COMMERCIAL DUWAMISH":5,"EASTLAKE - EAST":8,"HIGH POINT":33,"FAUNTLEROY SW":22,"NEW HOLLY":25,"EASTLAKE - WEST":37,"JUDKINS PARK/NORTH BEACON HILL":27,"UNKNOWN":24,"RAINIER VIEW":46,"PIGEON POINT":7,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":154}},{"month":"2013, 01","categories":{"Larceny-theft":2044,"Motor vehicle theft":343,"Driving under the influence":87,"Sex offenses":25,"Destruction/damage/vandalism of property":428,"Family offenses, nonviolent":64,"Fraud offenses":299,"Drug/narcotic offenses":154,"Bad checks":36,"Robbery":120,"Arson":4,"Embezzlement":17,"Weapon law violations":36,"Pornography/obscene material":4,"Counterfeiting/forgery":21,"Stolen property offenses":18,"Prostitution offenses":11,"Homicide offenses":1,"Kidnapping/abduction":6,"Liquor law violations":8,"Extortion/blackmail":2,"Curfew/loitering/vagrancy violations":9,"Sex offenses, consensual":1,"Peeping tom":1,"Trespass of real property":94,"Burglary/breaking&entering":662,"Assault offenses":663},"neighbourhoods":{"RAINIER BEACH":62,"SLU/CASCADE":196,"ROOSEVELT/RAVENNA":140,"SANDPOINT":123,"DOWNTOWN COMMERCIAL":510,"NORTHGATE":287,"FAUNTLEROY SW":42,"BITTERLAKE":95,"MADRONA/LESCHI":77,"FIRST HILL":150,"COLUMBIA CITY":56,"MONTLAKE/PORTAGE BAY":37,"MORGAN":57,"NORTH BEACON HILL":92,"CHINATOWN/INTERNATIONAL DISTRICT":94,"BALLARD NORTH":85,"NORTH ADMIRAL":62,"MOUNT BAKER":61,"NORTH DELRIDGE":37,"HIGHLAND PARK":89,"SODO":47,"UNIVERSITY":199,"QUEEN ANNE":307,"CAPITOL HILL":281,"MADISON PARK":16,"ALASKA JUNCTION":89,"FREMONT":111,"BALLARD SOUTH":139,"MID BEACON HILL":62,"EASTLAKE - WEST":45,"SOUTH DELRIDGE":22,"WALLINGFORD":108,"PIONEER SQUARE":85,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":119,"PHINNEY RIDGE":58,"CENTRAL AREA/SQUIRE PARK":136,"MAGNOLIA":68,"GENESEE":18,"GREENWOOD":98,"SOUTH PARK":32,"BELLTOWN":128,"BRIGHTON/DUNLAP":77,"GEORGETOWN":63,"HIGH POINT":45,"RAINIER VIEW":52,"UNKNOWN":30,"LAKEWOOD/SEWARD PARK":15,"SOUTH BEACON HILL":18,"ALKI":33,"NEW HOLLY":39,"EASTLAKE - EAST":8,"JUDKINS PARK/NORTH BEACON HILL":22,"MILLER PARK":25,"HILLMAN CITY":19,"PIGEON POINT":11,"CLAREMONT/RAINIER VISTA":27,"COMMERCIAL DUWAMISH":4,"LAKECITY":150}},{"month":"2013, 02","categories":{"Larceny-theft":1624,"Robbery":134,"Drug/narcotic offenses":151,"Destruction/damage/vandalism of property":446,"Motor vehicle theft":269,"Embezzlement":11,"Stolen property offenses":12,"Fraud offenses":235,"Weapon law violations":41,"Sex offenses":32,"Family offenses, nonviolent":63,"Driving under the influence":84,"Liquor law violations":14,"Bad checks":35,"Counterfeiting/forgery":33,"Homicide offenses":2,"Arson":8,"Prostitution offenses":29,"Kidnapping/abduction":7,"Pornography/obscene material":2,"Peeping tom":2,"Curfew/loitering/vagrancy violations":3,"Extortion/blackmail":3,"Trespass of real property":87,"Assault offenses":612,"Burglary/breaking&entering":542},"neighbourhoods":{"GEORGETOWN":63,"WALLINGFORD":95,"DOWNTOWN COMMERCIAL":403,"HIGH POINT":29,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":70,"CHINATOWN/INTERNATIONAL DISTRICT":97,"QUEEN ANNE":243,"UNIVERSITY":168,"SLU/CASCADE":175,"CAPITOL HILL":273,"NORTHGATE":245,"MID BEACON HILL":43,"BRIGHTON/DUNLAP":69,"SANDPOINT":115,"BITTERLAKE":101,"RAINIER VIEW":39,"BALLARD SOUTH":155,"NORTH BEACON HILL":88,"PIONEER SQUARE":61,"BELLTOWN":91,"CLAREMONT/RAINIER VISTA":16,"LAKEWOOD/SEWARD PARK":26,"MOUNT BAKER":62,"MAGNOLIA":55,"RAINIER BEACH":55,"ALKI":22,"PHINNEY RIDGE":25,"MADRONA/LESCHI":57,"FIRST HILL":153,"CENTRAL AREA/SQUIRE PARK":97,"FREMONT":97,"ROOSEVELT/RAVENNA":148,"BALLARD NORTH":98,"MILLER PARK":29,"ALASKA JUNCTION":71,"NORTH DELRIDGE":57,"SOUTH PARK":27,"GREENWOOD":103,"SODO":50,"HIGHLAND PARK":74,"EASTLAKE - WEST":37,"EASTLAKE - EAST":9,"SOUTH DELRIDGE":22,"UNKNOWN":39,"FAUNTLEROY SW":33,"NEW HOLLY":32,"MONTLAKE/PORTAGE BAY":29,"MORGAN":44,"COLUMBIA CITY":25,"COMMERCIAL DUWAMISH":2,"PIGEON POINT":7,"NORTH ADMIRAL":43,"MADISON PARK":13,"JUDKINS PARK/NORTH BEACON HILL":22,"HILLMAN CITY":25,"SOUTH BEACON HILL":15,"GENESEE":9,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":128}},{"month":"2013, 03","categories":{"Larceny-theft":1920,"Driving under the influence":110,"Destruction/damage/vandalism of property":521,"Robbery":99,"Fraud offenses":255,"Arson":10,"Stolen property offenses":23,"Counterfeiting/forgery":28,"Motor vehicle theft":283,"Drug/narcotic offenses":160,"Weapon law violations":45,"Family offenses, nonviolent":66,"Pornography/obscene material":3,"Bad checks":32,"Homicide offenses":3,"Curfew/loitering/vagrancy violations":9,"Embezzlement":15,"Sex offenses":17,"Liquor law violations":11,"Prostitution offenses":27,"Kidnapping/abduction":4,"Extortion/blackmail":1,"Peeping tom":1,"Trespass of real property":102,"Burglary/breaking&entering":607,"Assault offenses":716},"neighbourhoods":{"PHINNEY RIDGE":33,"QUEEN ANNE":322,"FREMONT":86,"DOWNTOWN COMMERCIAL":390,"CHINATOWN/INTERNATIONAL DISTRICT":108,"SOUTH PARK":37,"MAGNOLIA":75,"COMMERCIAL DUWAMISH":3,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":98,"CENTRAL AREA/SQUIRE PARK":120,"NORTH BEACON HILL":92,"BRIGHTON/DUNLAP":76,"PIONEER SQUARE":71,"UNIVERSITY":165,"NORTHGATE":289,"BITTERLAKE":128,"BALLARD NORTH":136,"FIRST HILL":157,"RAINIER VIEW":58,"SANDPOINT":124,"CAPITOL HILL":323,"MOUNT BAKER":71,"MORGAN":58,"MILLER PARK":28,"SODO":64,"UNKNOWN":45,"GREENWOOD":113,"BELLTOWN":142,"NEW HOLLY":39,"HILLMAN CITY":25,"NORTH DELRIDGE":43,"BALLARD SOUTH":159,"COLUMBIA CITY":40,"NORTH ADMIRAL":59,"EASTLAKE - WEST":41,"ROOSEVELT/RAVENNA":151,"RAINIER BEACH":41,"MID BEACON HILL":68,"SLU/CASCADE":187,"JUDKINS PARK/NORTH BEACON HILL":24,"HIGHLAND PARK":63,"WALLINGFORD":80,"CLAREMONT/RAINIER VISTA":35,"EASTLAKE - EAST":2,"LAKEWOOD/SEWARD PARK":46,"HIGH POINT":44,"GEORGETOWN":46,"MADRONA/LESCHI":72,"ALASKA JUNCTION":75,"MADISON PARK":17,"FAUNTLEROY SW":15,"SOUTH DELRIDGE":19,"PIGEON POINT":8,"SOUTH BEACON HILL":19,"GENESEE":18,"ALKI":14,"MONTLAKE/PORTAGE BAY":41,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":164}},{"month":"2013, 04","categories":{"Destruction/damage/vandalism of property":425,"Weapon law violations":41,"Stolen property offenses":28,"Larceny-theft":1889,"Liquor law violations":8,"Motor vehicle theft":317,"Robbery":103,"Fraud offenses":286,"Counterfeiting/forgery":33,"Drug/narcotic offenses":134,"Bad checks":37,"Family offenses, nonviolent":72,"Arson":7,"Driving under the influence":92,"Sex offenses":24,"Curfew/loitering/vagrancy violations":6,"Prostitution offenses":17,"Embezzlement":17,"Kidnapping/abduction":3,"Extortion/blackmail":2,"Homicide offenses":1,"Pornography/obscene material":1,"Trespass of real property":96,"Assault offenses":675,"Burglary/breaking&entering":605,"Sex offenses, consensual":1},"neighbourhoods":{"GREENWOOD":113,"NORTHGATE":315,"ROOSEVELT/RAVENNA":159,"DOWNTOWN COMMERCIAL":441,"MORGAN":67,"LAKEWOOD/SEWARD PARK":43,"PIONEER SQUARE":71,"SANDPOINT":117,"MADRONA/LESCHI":74,"SODO":73,"MAGNOLIA":82,"ALASKA JUNCTION":65,"CAPITOL HILL":307,"RAINIER VIEW":59,"MILLER PARK":30,"SLU/CASCADE":189,"UNIVERSITY":158,"WALLINGFORD":78,"CHINATOWN/INTERNATIONAL DISTRICT":100,"CENTRAL AREA/SQUIRE PARK":110,"FREMONT":94,"MONTLAKE/PORTAGE BAY":37,"BALLARD SOUTH":153,"FIRST HILL":108,"SOUTH DELRIDGE":21,"MOUNT BAKER":52,"QUEEN ANNE":258,"BITTERLAKE":105,"MID BEACON HILL":57,"NORTH BEACON HILL":107,"UNKNOWN":31,"BRIGHTON/DUNLAP":75,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":85,"BELLTOWN":125,"PIGEON POINT":7,"FAUNTLEROY SW":23,"RAINIER BEACH":59,"GENESEE":11,"NORTH ADMIRAL":52,"HIGHLAND PARK":65,"HIGH POINT":45,"COMMERCIAL HARBOR ISLAND":1,"SOUTH BEACON HILL":28,"JUDKINS PARK/NORTH BEACON HILL":38,"NORTH DELRIDGE":37,"CLAREMONT/RAINIER VISTA":28,"GEORGETOWN":53,"BALLARD NORTH":98,"COLUMBIA CITY":47,"HILLMAN CITY":33,"SOUTH PARK":36,"NEW HOLLY":34,"ALKI":30,"PHINNEY RIDGE":47,"EASTLAKE - WEST":27,"MADISON PARK":8,"EASTLAKE - EAST":4,"LAKECITY":150}},{"month":"2013, 05","categories":{"Larceny-theft":2258,"Destruction/damage/vandalism of property":527,"Curfew/loitering/vagrancy violations":5,"Driving under the influence":96,"Motor vehicle theft":351,"Robbery":136,"Drug/narcotic offenses":120,"Fraud offenses":265,"Stolen property offenses":28,"Kidnapping/abduction":4,"Counterfeiting/forgery":36,"Embezzlement":8,"Family offenses, nonviolent":86,"Weapon law violations":58,"Prostitution offenses":26,"Sex offenses":19,"Liquor law violations":18,"Arson":19,"Bad checks":47,"Homicide offenses":4,"Pornography/obscene material":2,"Peeping tom":2,"Extortion/blackmail":1,"Trespass of real property":101,"Assault offenses":781,"Burglary/breaking&entering":691},"neighbourhoods":{"FIRST HILL":163,"SOUTH PARK":47,"SLU/CASCADE":265,"BELLTOWN":138,"CAPITOL HILL":386,"FREMONT":97,"NORTHGATE":338,"QUEEN ANNE":309,"CENTRAL AREA/SQUIRE PARK":107,"CHINATOWN/INTERNATIONAL DISTRICT":116,"DOWNTOWN COMMERCIAL":522,"BRIGHTON/DUNLAP":93,"COLUMBIA CITY":46,"MOUNT BAKER":73,"MADRONA/LESCHI":69,"NORTH BEACON HILL":99,"HILLMAN CITY":32,"SODO":69,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":130,"MAGNOLIA":84,"UNKNOWN":28,"ALKI":42,"PIONEER SQUARE":53,"BALLARD NORTH":112,"CLAREMONT/RAINIER VISTA":35,"ROOSEVELT/RAVENNA":205,"UNIVERSITY":243,"MONTLAKE/PORTAGE BAY":37,"GEORGETOWN":66,"MID BEACON HILL":76,"RAINIER BEACH":65,"RAINIER VIEW":66,"GREENWOOD":125,"MILLER PARK":37,"BITTERLAKE":103,"MORGAN":44,"BALLARD SOUTH":166,"HIGHLAND PARK":56,"SOUTH BEACON HILL":29,"EASTLAKE - EAST":10,"ALASKA JUNCTION":74,"EASTLAKE - WEST":63,"WALLINGFORD":102,"SANDPOINT":115,"HIGH POINT":51,"NORTH DELRIDGE":46,"COMMERCIAL DUWAMISH":3,"LAKEWOOD/SEWARD PARK":29,"JUDKINS PARK/NORTH BEACON HILL":35,"SOUTH DELRIDGE":22,"PHINNEY RIDGE":44,"NORTH ADMIRAL":66,"FAUNTLEROY SW":28,"MADISON PARK":18,"NEW HOLLY":41,"PIGEON POINT":13,"GENESEE":4,"LAKECITY":154}},{"month":"2013, 06","categories":{"Destruction/damage/vandalism of property":501,"Driving under the influence":92,"Homicide offenses":1,"Family offenses, nonviolent":81,"Fraud offenses":220,"Larceny-theft":2068,"Motor vehicle theft":349,"Drug/narcotic offenses":147,"Robbery":124,"Sex offenses, consensual":2,"Weapon law violations":48,"Counterfeiting/forgery":31,"Sex offenses":20,"Bad checks":26,"Liquor law violations":19,"Curfew/loitering/vagrancy violations":5,"Stolen property offenses":23,"Embezzlement":10,"Pornography/obscene material":3,"Peeping tom":2,"Arson":10,"Prostitution offenses":5,"Kidnapping/abduction":1,"Trespass of real property":90,"Assault offenses":695,"Burglary/breaking&entering":590},"neighbourhoods":{"PHINNEY RIDGE":55,"MADRONA/LESCHI":68,"BALLARD NORTH":96,"UNIVERSITY":173,"DOWNTOWN COMMERCIAL":480,"GREENWOOD":126,"CAPITOL HILL":349,"NORTHGATE":272,"QUEEN ANNE":250,"PIONEER SQUARE":114,"JUDKINS PARK/NORTH BEACON HILL":46,"COLUMBIA CITY":33,"SLU/CASCADE":206,"BRIGHTON/DUNLAP":86,"FREMONT":111,"BALLARD SOUTH":133,"ROOSEVELT/RAVENNA":152,"NORTH BEACON HILL":92,"BELLTOWN":152,"RAINIER VIEW":73,"SODO":74,"ALKI":40,"EASTLAKE - EAST":7,"HIGHLAND PARK":63,"HIGH POINT":48,"SANDPOINT":123,"FIRST HILL":142,"MAGNOLIA":77,"NORTH DELRIDGE":42,"CENTRAL AREA/SQUIRE PARK":127,"WALLINGFORD":82,"LAKEWOOD/SEWARD PARK":24,"GEORGETOWN":65,"FAUNTLEROY SW":23,"MILLER PARK":26,"MOUNT BAKER":67,"SOUTH DELRIDGE":18,"BITTERLAKE":100,"MID BEACON HILL":80,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":125,"EASTLAKE - WEST":33,"SOUTH PARK":40,"UNKNOWN":25,"GENESEE":28,"NEW HOLLY":30,"RAINIER BEACH":54,"CLAREMONT/RAINIER VISTA":31,"SOUTH BEACON HILL":15,"CHINATOWN/INTERNATIONAL DISTRICT":94,"MONTLAKE/PORTAGE BAY":42,"ALASKA JUNCTION":41,"NORTH ADMIRAL":53,"MADISON PARK":20,"HILLMAN CITY":36,"COMMERCIAL DUWAMISH":3,"MORGAN":31,"PIGEON POINT":7,"COMMERCIAL HARBOR ISLAND":4,"LAKECITY":156}},{"month":"2013, 07","categories":{"Motor vehicle theft":369,"Larceny-theft":2261,"Driving under the influence":78,"Fraud offenses":277,"Destruction/damage/vandalism of property":541,"Family offenses, nonviolent":86,"Robbery":149,"Sex offenses, consensual":3,"Drug/narcotic offenses":136,"Stolen property offenses":27,"Sex offenses":41,"Liquor law violations":22,"Weapon law violations":56,"Bad checks":35,"Prostitution offenses":7,"Curfew/loitering/vagrancy violations":6,"Extortion/blackmail":1,"Counterfeiting/forgery":37,"Arson":8,"Embezzlement":11,"Homicide offenses":4,"Peeping tom":1,"Pornography/obscene material":1,"Trespass of real property":111,"Assault offenses":815,"Burglary/breaking&entering":566,"Kidnapping/abduction":2},"neighbourhoods":{"NEW HOLLY":47,"DOWNTOWN COMMERCIAL":524,"SANDPOINT":106,"FIRST HILL":178,"SODO":69,"NORTHGATE":288,"CAPITOL HILL":383,"GREENWOOD":137,"CENTRAL AREA/SQUIRE PARK":114,"EASTLAKE - WEST":46,"JUDKINS PARK/NORTH BEACON HILL":46,"ROOSEVELT/RAVENNA":184,"BRIGHTON/DUNLAP":86,"PIONEER SQUARE":79,"MADRONA/LESCHI":68,"BALLARD SOUTH":160,"MORGAN":56,"NORTH BEACON HILL":91,"FREMONT":103,"CHINATOWN/INTERNATIONAL DISTRICT":154,"GEORGETOWN":62,"BALLARD NORTH":109,"HIGH POINT":43,"LAKEWOOD/SEWARD PARK":42,"MID BEACON HILL":62,"MONTLAKE/PORTAGE BAY":42,"NORTH ADMIRAL":41,"ALASKA JUNCTION":69,"QUEEN ANNE":278,"BITTERLAKE":118,"MOUNT BAKER":82,"WALLINGFORD":112,"BELLTOWN":192,"UNIVERSITY":212,"SOUTH PARK":44,"SLU/CASCADE":238,"CLAREMONT/RAINIER VISTA":41,"MILLER PARK":38,"ALKI":36,"HIGHLAND PARK":76,"COLUMBIA CITY":44,"RAINIER VIEW":43,"RAINIER BEACH":64,"SOUTH BEACON HILL":26,"NORTH DELRIDGE":31,"MAGNOLIA":97,"PHINNEY RIDGE":45,"HILLMAN CITY":24,"MADISON PARK":15,"SOUTH DELRIDGE":21,"FAUNTLEROY SW":30,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":83,"UNKNOWN":48,"COMMERCIAL DUWAMISH":7,"EASTLAKE - EAST":12,"COMMERCIAL HARBOR ISLAND":2,"PIGEON POINT":7,"GENESEE":17,"LAKECITY":179}},{"month":"2013, 08","categories":{"Driving under the influence":99,"Larceny-theft":2222,"Fraud offenses":239,"Destruction/damage/vandalism of property":476,"Sex offenses":31,"Drug/narcotic offenses":133,"Family offenses, nonviolent":74,"Motor vehicle theft":336,"Robbery":159,"Weapon law violations":51,"Counterfeiting/forgery":18,"Stolen property offenses":20,"Bad checks":56,"Kidnapping/abduction":4,"Extortion/blackmail":1,"Embezzlement":13,"Prostitution offenses":5,"Liquor law violations":13,"Homicide offenses":1,"Arson":3,"Curfew/loitering/vagrancy violations":4,"Sex offenses, consensual":4,"Peeping tom":2,"Pornography/obscene material":1,"Trespass of real property":115,"Assault offenses":772,"Burglary/breaking&entering":606},"neighbourhoods":{"NORTH BEACON HILL":116,"SOUTH PARK":50,"GREENWOOD":136,"BRIGHTON/DUNLAP":102,"DOWNTOWN COMMERCIAL":508,"SLU/CASCADE":216,"MAGNOLIA":74,"BALLARD SOUTH":131,"QUEEN ANNE":257,"HILLMAN CITY":21,"SANDPOINT":98,"NORTHGATE":286,"BELLTOWN":177,"PIONEER SQUARE":98,"UNIVERSITY":186,"RAINIER BEACH":56,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":87,"MORGAN":46,"NORTH DELRIDGE":36,"FREMONT":103,"FIRST HILL":138,"CAPITOL HILL":398,"UNKNOWN":38,"FAUNTLEROY SW":22,"SOUTH BEACON HILL":17,"CENTRAL AREA/SQUIRE PARK":134,"ALASKA JUNCTION":81,"WALLINGFORD":89,"BALLARD NORTH":90,"HIGHLAND PARK":68,"MID BEACON HILL":73,"MILLER PARK":29,"SOUTH DELRIDGE":17,"ROOSEVELT/RAVENNA":189,"JUDKINS PARK/NORTH BEACON HILL":44,"BITTERLAKE":119,"COLUMBIA CITY":41,"NEW HOLLY":48,"MADRONA/LESCHI":69,"SODO":84,"EASTLAKE - WEST":38,"GEORGETOWN":52,"HIGH POINT":36,"CHINATOWN/INTERNATIONAL DISTRICT":131,"MADISON PARK":18,"LAKEWOOD/SEWARD PARK":51,"ALKI":40,"CLAREMONT/RAINIER VISTA":24,"MOUNT BAKER":65,"NORTH ADMIRAL":41,"MONTLAKE/PORTAGE BAY":61,"RAINIER VIEW":48,"PHINNEY RIDGE":45,"GENESEE":17,"COMMERCIAL DUWAMISH":6,"PIGEON POINT":13,"EASTLAKE - EAST":16,"LAKECITY":184}},{"month":"2013, 09","categories":{"Driving under the influence":81,"Destruction/damage/vandalism of property":479,"Larceny-theft":2220,"Weapon law violations":51,"Drug/narcotic offenses":138,"Robbery":121,"Motor vehicle theft":439,"Sex offenses":19,"Fraud offenses":278,"Family offenses, nonviolent":59,"Bad checks":44,"Homicide offenses":3,"Embezzlement":11,"Arson":6,"Liquor law violations":11,"Stolen property offenses":22,"Counterfeiting/forgery":22,"Extortion/blackmail":2,"Kidnapping/abduction":2,"Curfew/loitering/vagrancy violations":4,"Prostitution offenses":3,"Peeping tom":2,"Pornography/obscene material":1,"Trespass of real property":118,"Assault offenses":751,"Burglary/breaking&entering":629},"neighbourhoods":{"BITTERLAKE":109,"PIONEER SQUARE":99,"FREMONT":88,"BELLTOWN":165,"SANDPOINT":106,"CENTRAL AREA/SQUIRE PARK":138,"NORTHGATE":327,"GEORGETOWN":69,"CAPITOL HILL":350,"WALLINGFORD":96,"PHINNEY RIDGE":50,"SLU/CASCADE":209,"UNIVERSITY":210,"MID BEACON HILL":83,"CHINATOWN/INTERNATIONAL DISTRICT":157,"DOWNTOWN COMMERCIAL":531,"QUEEN ANNE":308,"RAINIER BEACH":71,"JUDKINS PARK/NORTH BEACON HILL":47,"ROOSEVELT/RAVENNA":175,"ALASKA JUNCTION":88,"SODO":75,"MONTLAKE/PORTAGE BAY":56,"MAGNOLIA":65,"HILLMAN CITY":28,"HIGHLAND PARK":69,"BALLARD SOUTH":164,"FIRST HILL":156,"GREENWOOD":109,"UNKNOWN":43,"MADISON PARK":21,"SOUTH PARK":49,"MOUNT BAKER":66,"MADRONA/LESCHI":43,"COLUMBIA CITY":28,"RAINIER VIEW":59,"EASTLAKE - EAST":15,"HIGH POINT":33,"PIGEON POINT":9,"CLAREMONT/RAINIER VISTA":35,"NORTH BEACON HILL":92,"COMMERCIAL DUWAMISH":5,"BRIGHTON/DUNLAP":92,"ALKI":32,"MILLER PARK":33,"MORGAN":42,"SOUTH DELRIDGE":19,"BALLARD NORTH":88,"NORTH DELRIDGE":56,"NEW HOLLY":40,"FAUNTLEROY SW":23,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":102,"SOUTH BEACON HILL":21,"NORTH ADMIRAL":40,"EASTLAKE - WEST":36,"GENESEE":21,"LAKEWOOD/SEWARD PARK":23,"LAKECITY":152}},{"month":"2013, 10","categories":{"Driving under the influence":76,"Robbery":161,"Destruction/damage/vandalism of property":483,"Larceny-theft":2392,"Motor vehicle theft":418,"Drug/narcotic offenses":179,"Fraud offenses":272,"Counterfeiting/forgery":31,"Bad checks":50,"Weapon law violations":37,"Prostitution offenses":46,"Embezzlement":7,"Family offenses, nonviolent":62,"Arson":5,"Sex offenses":28,"Liquor law violations":10,"Stolen property offenses":20,"Sex offenses, consensual":2,"Peeping tom":2,"Kidnapping/abduction":6,"Curfew/loitering/vagrancy violations":4,"Homicide offenses":2,"Extortion/blackmail":1,"Trespass of real property":104,"Assault offenses":672,"Burglary/breaking&entering":626},"neighbourhoods":{"MADRONA/LESCHI":72,"CLAREMONT/RAINIER VISTA":35,"CENTRAL AREA/SQUIRE PARK":157,"NEW HOLLY":37,"CAPITOL HILL":361,"DOWNTOWN COMMERCIAL":584,"NORTHGATE":334,"SANDPOINT":103,"SLU/CASCADE":236,"UNIVERSITY":234,"MID BEACON HILL":78,"BRIGHTON/DUNLAP":99,"MADISON PARK":20,"MAGNOLIA":75,"NORTH BEACON HILL":100,"QUEEN ANNE":243,"FIRST HILL":157,"BALLARD SOUTH":154,"FREMONT":75,"ROOSEVELT/RAVENNA":154,"PHINNEY RIDGE":34,"GREENWOOD":134,"CHINATOWN/INTERNATIONAL DISTRICT":159,"BITTERLAKE":131,"RAINIER BEACH":73,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":112,"BALLARD NORTH":114,"SODO":97,"HIGHLAND PARK":68,"NORTH ADMIRAL":49,"MILLER PARK":44,"WALLINGFORD":120,"ALKI":24,"ALASKA JUNCTION":81,"SOUTH PARK":40,"MONTLAKE/PORTAGE BAY":42,"HIGH POINT":44,"UNKNOWN":45,"PIONEER SQUARE":111,"BELLTOWN":158,"MORGAN":38,"EASTLAKE - WEST":29,"FAUNTLEROY SW":31,"LAKEWOOD/SEWARD PARK":25,"RAINIER VIEW":72,"COLUMBIA CITY":38,"JUDKINS PARK/NORTH BEACON HILL":58,"MOUNT BAKER":63,"GEORGETOWN":68,"EASTLAKE - EAST":16,"SOUTH DELRIDGE":19,"HILLMAN CITY":24,"NORTH DELRIDGE":37,"GENESEE":18,"SOUTH BEACON HILL":25,"COMMERCIAL DUWAMISH":2,"PIGEON POINT":1,"LAKECITY":144}},{"month":"2013, 11","categories":{"Motor vehicle theft":393,"Liquor law violations":6,"Larceny-theft":2264,"Driving under the influence":81,"Robbery":170,"Drug/narcotic offenses":146,"Fraud offenses":261,"Destruction/damage/vandalism of property":469,"Prostitution offenses":29,"Family offenses, nonviolent":57,"Weapon law violations":43,"Homicide offenses":2,"Sex offenses":19,"Stolen property offenses":11,"Embezzlement":11,"Kidnapping/abduction":5,"Bad checks":31,"Counterfeiting/forgery":38,"Sex offenses, consensual":1,"Curfew/loitering/vagrancy violations":1,"Extortion/blackmail":3,"Arson":3,"Pornography/obscene material":1,"Peeping tom":1,"Trespass of real property":119,"Burglary/breaking&entering":588,"Assault offenses":683},"neighbourhoods":{"CAPITOL HILL":346,"FAUNTLEROY SW":18,"QUEEN ANNE":247,"NEW HOLLY":43,"JUDKINS PARK/NORTH BEACON HILL":65,"LAKEWOOD/SEWARD PARK":43,"WALLINGFORD":100,"DOWNTOWN COMMERCIAL":510,"NORTHGATE":328,"ROOSEVELT/RAVENNA":174,"SODO":102,"SANDPOINT":102,"MILLER PARK":42,"BALLARD SOUTH":135,"UNIVERSITY":234,"SOUTH BEACON HILL":19,"SLU/CASCADE":192,"CLAREMONT/RAINIER VISTA":41,"MOUNT BAKER":79,"FIRST HILL":139,"SOUTH DELRIDGE":17,"NORTH BEACON HILL":127,"BALLARD NORTH":109,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":94,"BRIGHTON/DUNLAP":105,"BITTERLAKE":133,"PHINNEY RIDGE":42,"MADISON PARK":31,"UNKNOWN":28,"CHINATOWN/INTERNATIONAL DISTRICT":146,"FREMONT":107,"HIGHLAND PARK":48,"BELLTOWN":131,"MONTLAKE/PORTAGE BAY":36,"CENTRAL AREA/SQUIRE PARK":165,"PIONEER SQUARE":97,"GREENWOOD":114,"EASTLAKE - EAST":12,"MID BEACON HILL":77,"NORTH DELRIDGE":24,"ALASKA JUNCTION":59,"RAINIER VIEW":49,"NORTH ADMIRAL":52,"EASTLAKE - WEST":45,"MORGAN":39,"COMMERCIAL DUWAMISH":3,"RAINIER BEACH":62,"MADRONA/LESCHI":56,"GENESEE":21,"GEORGETOWN":60,"COLUMBIA CITY":46,"HIGH POINT":46,"MAGNOLIA":68,"ALKI":16,"HILLMAN CITY":37,"SOUTH PARK":37,"PIGEON POINT":2,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":134}},{"month":"2013, 12","categories":{"Weapon law violations":30,"Larceny-theft":2337,"Homicide offenses":2,"Liquor law violations":8,"Destruction/damage/vandalism of property":422,"Driving under the influence":133,"Motor vehicle theft":385,"Drug/narcotic offenses":105,"Counterfeiting/forgery":39,"Family offenses, nonviolent":68,"Fraud offenses":230,"Robbery":126,"Bad checks":37,"Sex offenses":16,"Stolen property offenses":14,"Pornography/obscene material":3,"Sex offenses, consensual":1,"Prostitution offenses":16,"Embezzlement":7,"Curfew/loitering/vagrancy violations":2,"Kidnapping/abduction":2,"Arson":4,"Extortion/blackmail":1,"Trespass of real property":96,"Assault offenses":699,"Burglary/breaking&entering":596},"neighbourhoods":{"SLU/CASCADE":179,"FIRST HILL":142,"SOUTH DELRIDGE":31,"QUEEN ANNE":289,"BALLARD SOUTH":187,"CLAREMONT/RAINIER VISTA":47,"ROOSEVELT/RAVENNA":166,"PIONEER SQUARE":97,"UNKNOWN":29,"FAUNTLEROY SW":29,"DOWNTOWN COMMERCIAL":484,"GREENWOOD":133,"HILLMAN CITY":24,"CAPITOL HILL":335,"LAKEWOOD/SEWARD PARK":49,"NORTH DELRIDGE":33,"BRIGHTON/DUNLAP":92,"CHINATOWN/INTERNATIONAL DISTRICT":123,"BITTERLAKE":104,"UNIVERSITY":178,"MONTLAKE/PORTAGE BAY":29,"GENESEE":21,"SOUTH PARK":42,"NORTH BEACON HILL":88,"ALASKA JUNCTION":77,"SANDPOINT":124,"NORTHGATE":316,"BELLTOWN":109,"NORTH ADMIRAL":42,"MADRONA/LESCHI":51,"HIGH POINT":37,"MORGAN":45,"COLUMBIA CITY":44,"CENTRAL AREA/SQUIRE PARK":120,"RAINIER BEACH":68,"MID BEACON HILL":77,"MILLER PARK":40,"WALLINGFORD":104,"JUDKINS PARK/NORTH BEACON HILL":41,"MAGNOLIA":78,"NEW HOLLY":46,"SODO":88,"MOUNT BAKER":80,"RAINIER VIEW":71,"GEORGETOWN":48,"BALLARD NORTH":123,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":106,"EASTLAKE - EAST":11,"COMMERCIAL HARBOR ISLAND":1,"PHINNEY RIDGE":47,"EASTLAKE - WEST":44,"HIGHLAND PARK":72,"FREMONT":93,"MADISON PARK":19,"SOUTH BEACON HILL":23,"ALKI":28,"PIGEON POINT":3,"COMMERCIAL DUWAMISH":1,"LAKECITY":171}},{"month":"2014, 01","categories":{"Larceny-theft":2349,"Drug/narcotic offenses":139,"Motor vehicle theft":445,"Robbery":131,"Destruction/damage/vandalism of property":466,"Curfew/loitering/vagrancy violations":12,"Driving under the influence":109,"Family offenses, nonviolent":71,"Fraud offenses":279,"Prostitution offenses":15,"Bad checks":59,"Embezzlement":17,"Sex offenses":24,"Counterfeiting/forgery":29,"Weapon law violations":35,"Arson":4,"Stolen property offenses":17,"Homicide offenses":2,"Kidnapping/abduction":3,"Peeping tom":2,"Pornography/obscene material":3,"Liquor law violations":5,"Extortion/blackmail":2,"Trespass of real property":116,"Assault offenses":760,"Burglary/breaking&entering":648},"neighbourhoods":{"GEORGETOWN":79,"BELLTOWN":145,"ROOSEVELT/RAVENNA":194,"QUEEN ANNE":320,"SODO":108,"UNIVERSITY":227,"DOWNTOWN COMMERCIAL":546,"NORTHGATE":332,"JUDKINS PARK/NORTH BEACON HILL":63,"MOUNT BAKER":103,"PIONEER SQUARE":131,"NORTH ADMIRAL":63,"CHINATOWN/INTERNATIONAL DISTRICT":160,"CLAREMONT/RAINIER VISTA":43,"BALLARD SOUTH":172,"SLU/CASCADE":212,"ALASKA JUNCTION":63,"CENTRAL AREA/SQUIRE PARK":145,"SOUTH PARK":45,"FREMONT":85,"PHINNEY RIDGE":33,"NEW HOLLY":45,"HIGH POINT":35,"MID BEACON HILL":93,"FIRST HILL":154,"RAINIER BEACH":67,"NORTH BEACON HILL":92,"RAINIER VIEW":54,"CAPITOL HILL":352,"GREENWOOD":140,"SANDPOINT":95,"BRIGHTON/DUNLAP":85,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":89,"BITTERLAKE":110,"BALLARD NORTH":99,"NORTH DELRIDGE":33,"COLUMBIA CITY":46,"HILLMAN CITY":44,"LAKEWOOD/SEWARD PARK":30,"MADRONA/LESCHI":68,"FAUNTLEROY SW":19,"MAGNOLIA":70,"MONTLAKE/PORTAGE BAY":44,"GENESEE":22,"HIGHLAND PARK":71,"PIGEON POINT":4,"SOUTH DELRIDGE":23,"UNKNOWN":31,"SOUTH BEACON HILL":30,"MORGAN":36,"COMMERCIAL DUWAMISH":1,"WALLINGFORD":101,"ALKI":17,"MILLER PARK":52,"COMMERCIAL HARBOR ISLAND":2,"EASTLAKE - WEST":32,"EASTLAKE - EAST":12,"MADISON PARK":18,"LAKECITY":157}},{"month":"2014, 02","categories":{"Larceny-theft":1978,"Destruction/damage/vandalism of property":376,"Weapon law violations":23,"Fraud offenses":276,"Driving under the influence":70,"Robbery":77,"Motor vehicle theft":368,"Bad checks":30,"Sex offenses":19,"Drug/narcotic offenses":94,"Family offenses, nonviolent":67,"Prostitution offenses":23,"Curfew/loitering/vagrancy violations":2,"Counterfeiting/forgery":22,"Pornography/obscene material":1,"Liquor law violations":10,"Stolen property offenses":19,"Kidnapping/abduction":8,"Arson":4,"Homicide offenses":2,"Sex offenses, consensual":2,"Embezzlement":8,"Trespass of real property":79,"Burglary/breaking&entering":505,"Assault offenses":614},"neighbourhoods":{"WALLINGFORD":56,"CAPITOL HILL":319,"MADRONA/LESCHI":76,"SANDPOINT":101,"QUEEN ANNE":293,"NORTHGATE":272,"SLU/CASCADE":185,"UNIVERSITY":192,"ROOSEVELT/RAVENNA":158,"ALASKA JUNCTION":42,"BALLARD NORTH":78,"JUDKINS PARK/NORTH BEACON HILL":40,"RAINIER BEACH":71,"MORGAN":37,"GREENWOOD":127,"DOWNTOWN COMMERCIAL":397,"FREMONT":106,"BELLTOWN":116,"SODO":86,"FIRST HILL":133,"COLUMBIA CITY":44,"CENTRAL AREA/SQUIRE PARK":103,"BITTERLAKE":97,"HILLMAN CITY":30,"NEW HOLLY":23,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":93,"BRIGHTON/DUNLAP":82,"ALKI":9,"BALLARD SOUTH":140,"MAGNOLIA":53,"SOUTH PARK":35,"EASTLAKE - WEST":19,"MADISON PARK":18,"EASTLAKE - EAST":5,"CLAREMONT/RAINIER VISTA":32,"CHINATOWN/INTERNATIONAL DISTRICT":95,"HIGH POINT":32,"NORTH BEACON HILL":85,"HIGHLAND PARK":50,"PIONEER SQUARE":86,"RAINIER VIEW":47,"SOUTH BEACON HILL":24,"MID BEACON HILL":58,"NORTH ADMIRAL":36,"PIGEON POINT":5,"SOUTH DELRIDGE":25,"UNKNOWN":26,"LAKEWOOD/SEWARD PARK":33,"NORTH DELRIDGE":36,"GEORGETOWN":52,"MOUNT BAKER":86,"MONTLAKE/PORTAGE BAY":27,"PHINNEY RIDGE":44,"COMMERCIAL DUWAMISH":2,"MILLER PARK":24,"GENESEE":8,"COMMERCIAL HARBOR ISLAND":2,"FAUNTLEROY SW":8,"LAKECITY":118}},{"month":"2014, 03","categories":{"Drug/narcotic offenses":102,"Larceny-theft":2327,"Motor vehicle theft":415,"Liquor law violations":11,"Driving under the influence":78,"Destruction/damage/vandalism of property":458,"Robbery":139,"Stolen property offenses":17,"Family offenses, nonviolent":80,"Fraud offenses":1492,"Counterfeiting/forgery":28,"Arson":10,"Prostitution offenses":20,"Sex offenses":28,"Bad checks":39,"Weapon law violations":47,"Curfew/loitering/vagrancy violations":2,"Sex offenses, consensual":1,"Pornography/obscene material":2,"Embezzlement":13,"Kidnapping/abduction":5,"Extortion/blackmail":1,"Trespass of real property":101,"Assault offenses":710,"Burglary/breaking&entering":556},"neighbourhoods":{"BELLTOWN":170,"ROOSEVELT/RAVENNA":291,"HIGHLAND PARK":62,"MID BEACON HILL":71,"NORTH ADMIRAL":73,"SLU/CASCADE":231,"GREENWOOD":151,"BALLARD SOUTH":159,"MADRONA/LESCHI":93,"SOUTH PARK":53,"GEORGETOWN":66,"FREMONT":110,"QUEEN ANNE":269,"MILLER PARK":66,"ALASKA JUNCTION":87,"UNIVERSITY":233,"SODO":78,"DOWNTOWN COMMERCIAL":469,"RAINIER BEACH":71,"NORTH BEACON HILL":84,"NORTHGATE":329,"EASTLAKE - WEST":33,"MADISON PARK":29,"MOUNT BAKER":114,"PHINNEY RIDGE":84,"WALLINGFORD":118,"FIRST HILL":471,"CAPITOL HILL":480,"BALLARD NORTH":141,"MAGNOLIA":133,"CENTRAL AREA/SQUIRE PARK":136,"SANDPOINT":310,"CHINATOWN/INTERNATIONAL DISTRICT":128,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":104,"BITTERLAKE":110,"PIONEER SQUARE":79,"RAINIER VIEW":55,"NORTH DELRIDGE":40,"SOUTH BEACON HILL":40,"UNKNOWN":24,"JUDKINS PARK/NORTH BEACON HILL":49,"BRIGHTON/DUNLAP":97,"SOUTH DELRIDGE":20,"COLUMBIA CITY":52,"CLAREMONT/RAINIER VISTA":44,"LAKEWOOD/SEWARD PARK":36,"NEW HOLLY":43,"MONTLAKE/PORTAGE BAY":69,"HILLMAN CITY":41,"FAUNTLEROY SW":44,"GENESEE":11,"PIGEON POINT":6,"MORGAN":43,"HIGH POINT":42,"EASTLAKE - EAST":12,"ALKI":36,"COMMERCIAL DUWAMISH":1,"LAKECITY":191}},{"month":"2014, 04","categories":{"Larceny-theft":2581,"Drug/narcotic offenses":116,"Motor vehicle theft":494,"Family offenses, nonviolent":62,"Robbery":125,"Fraud offenses":673,"Destruction/damage/vandalism of property":471,"Weapon law violations":42,"Kidnapping/abduction":5,"Counterfeiting/forgery":19,"Sex offenses":23,"Stolen property offenses":11,"Embezzlement":15,"Liquor law violations":9,"Bad checks":36,"Driving under the influence":98,"Homicide offenses":5,"Extortion/blackmail":3,"Sex offenses, consensual":2,"Prostitution offenses":46,"Arson":9,"Curfew/loitering/vagrancy violations":2,"Trespass of real property":110,"Assault offenses":725,"Burglary/breaking&entering":563},"neighbourhoods":{"SOUTH BEACON HILL":26,"CHINATOWN/INTERNATIONAL DISTRICT":134,"WALLINGFORD":105,"NORTHGATE":364,"DOWNTOWN COMMERCIAL":518,"BRIGHTON/DUNLAP":106,"CAPITOL HILL":400,"SLU/CASCADE":276,"SOUTH DELRIDGE":24,"BALLARD NORTH":149,"MAGNOLIA":112,"BITTERLAKE":138,"RAINIER BEACH":79,"CENTRAL AREA/SQUIRE PARK":153,"MOUNT BAKER":94,"NORTH ADMIRAL":63,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":88,"UNIVERSITY":264,"MONTLAKE/PORTAGE BAY":66,"GREENWOOD":163,"HIGHLAND PARK":62,"EASTLAKE - WEST":38,"MADRONA/LESCHI":102,"RAINIER VIEW":75,"FREMONT":121,"NORTH BEACON HILL":111,"HIGH POINT":30,"COLUMBIA CITY":41,"MID BEACON HILL":74,"BALLARD SOUTH":158,"ROOSEVELT/RAVENNA":183,"JUDKINS PARK/NORTH BEACON HILL":47,"BELLTOWN":195,"PHINNEY RIDGE":52,"SODO":97,"QUEEN ANNE":290,"FIRST HILL":250,"LAKEWOOD/SEWARD PARK":41,"CLAREMONT/RAINIER VISTA":30,"ALASKA JUNCTION":69,"FAUNTLEROY SW":35,"SANDPOINT":139,"NEW HOLLY":45,"EASTLAKE - EAST":14,"MADISON PARK":25,"PIONEER SQUARE":119,"GEORGETOWN":59,"ALKI":30,"MORGAN":39,"NORTH DELRIDGE":22,"COMMERCIAL DUWAMISH":3,"UNKNOWN":30,"SOUTH PARK":43,"HILLMAN CITY":34,"GENESEE":25,"MILLER PARK":41,"PIGEON POINT":5,"LAKECITY":149}},{"month":"2014, 05","categories":{"Counterfeiting/forgery":31,"Larceny-theft":2515,"Destruction/damage/vandalism of property":550,"Fraud offenses":296,"Motor vehicle theft":542,"Robbery":135,"Family offenses, nonviolent":102,"Driving under the influence":86,"Weapon law violations":47,"Prostitution offenses":26,"Curfew/loitering/vagrancy violations":5,"Drug/narcotic offenses":106,"Bad checks":44,"Sex offenses":43,"Embezzlement":14,"Stolen property offenses":17,"Liquor law violations":8,"Homicide offenses":1,"Arson":2,"Kidnapping/abduction":2,"Peeping tom":2,"Extortion/blackmail":1,"Sex offenses, consensual":1,"Pornography/obscene material":1,"Trespass of real property":111,"Burglary/breaking&entering":608,"Assault offenses":798},"neighbourhoods":{"WALLINGFORD":116,"BALLARD NORTH":132,"SLU/CASCADE":223,"NORTH ADMIRAL":38,"DOWNTOWN COMMERCIAL":529,"MONTLAKE/PORTAGE BAY":51,"CAPITOL HILL":429,"EASTLAKE - WEST":52,"UNIVERSITY":271,"BELLTOWN":196,"CHINATOWN/INTERNATIONAL DISTRICT":143,"RAINIER BEACH":83,"ROOSEVELT/RAVENNA":216,"SANDPOINT":105,"SODO":103,"BITTERLAKE":149,"QUEEN ANNE":305,"NORTHGATE":361,"MID BEACON HILL":90,"LAKEWOOD/SEWARD PARK":31,"HIGHLAND PARK":61,"NEW HOLLY":53,"RAINIER VIEW":62,"PIONEER SQUARE":117,"MAGNOLIA":93,"FIRST HILL":166,"GREENWOOD":122,"FREMONT":108,"PHINNEY RIDGE":55,"BRIGHTON/DUNLAP":97,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":109,"HILLMAN CITY":35,"GEORGETOWN":53,"CENTRAL AREA/SQUIRE PARK":158,"CLAREMONT/RAINIER VISTA":33,"MOUNT BAKER":79,"FAUNTLEROY SW":30,"UNKNOWN":26,"BALLARD SOUTH":178,"NORTH DELRIDGE":30,"SOUTH BEACON HILL":35,"COLUMBIA CITY":51,"NORTH BEACON HILL":92,"JUDKINS PARK/NORTH BEACON HILL":44,"MORGAN":35,"MILLER PARK":48,"MADRONA/LESCHI":78,"ALASKA JUNCTION":67,"MADISON PARK":14,"ALKI":25,"HIGH POINT":28,"GENESEE":33,"COMMERCIAL DUWAMISH":2,"SOUTH PARK":47,"SOUTH DELRIDGE":30,"EASTLAKE - EAST":13,"PIGEON POINT":8,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":155}},{"month":"2014, 06","categories":{"Robbery":152,"Destruction/damage/vandalism of property":540,"Larceny-theft":2451,"Drug/narcotic offenses":112,"Fraud offenses":314,"Motor vehicle theft":627,"Bad checks":38,"Counterfeiting/forgery":38,"Family offenses, nonviolent":89,"Weapon law violations":30,"Embezzlement":12,"Driving under the influence":100,"Prostitution offenses":39,"Liquor law violations":14,"Peeping tom":2,"Stolen property offenses":18,"Sex offenses":17,"Curfew/loitering/vagrancy violations":4,"Extortion/blackmail":2,"Arson":8,"Kidnapping/abduction":5,"Homicide offenses":4,"Trespass of real property":121,"Burglary/breaking&entering":598,"Assault offenses":834},"neighbourhoods":{"FREMONT":131,"ALKI":39,"FAUNTLEROY SW":25,"NORTH DELRIDGE":49,"DOWNTOWN COMMERCIAL":482,"CAPITOL HILL":394,"MID BEACON HILL":70,"NORTH ADMIRAL":54,"SLU/CASCADE":255,"HIGH POINT":52,"UNIVERSITY":201,"RAINIER BEACH":77,"NORTHGATE":380,"MADRONA/LESCHI":78,"QUEEN ANNE":279,"SOUTH DELRIDGE":29,"BITTERLAKE":140,"BALLARD SOUTH":160,"ROOSEVELT/RAVENNA":207,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":110,"UNKNOWN":36,"BALLARD NORTH":184,"MADISON PARK":24,"PIONEER SQUARE":146,"EASTLAKE - WEST":54,"CENTRAL AREA/SQUIRE PARK":133,"MORGAN":33,"NEW HOLLY":42,"CHINATOWN/INTERNATIONAL DISTRICT":169,"WALLINGFORD":135,"SOUTH PARK":52,"SODO":96,"FIRST HILL":152,"SANDPOINT":110,"BELLTOWN":171,"MAGNOLIA":112,"MOUNT BAKER":91,"RAINIER VIEW":62,"CLAREMONT/RAINIER VISTA":42,"GREENWOOD":174,"NORTH BEACON HILL":104,"PHINNEY RIDGE":60,"BRIGHTON/DUNLAP":79,"JUDKINS PARK/NORTH BEACON HILL":53,"GENESEE":22,"GEORGETOWN":51,"MONTLAKE/PORTAGE BAY":40,"LAKEWOOD/SEWARD PARK":38,"PIGEON POINT":9,"ALASKA JUNCTION":66,"EASTLAKE - EAST":11,"MILLER PARK":43,"HILLMAN CITY":21,"SOUTH BEACON HILL":27,"COLUMBIA CITY":37,"COMMERCIAL HARBOR ISLAND":1,"HIGHLAND PARK":63,"COMMERCIAL DUWAMISH":4,"LAKECITY":210}},{"month":"2014, 07","categories":{"Driving under the influence":74,"Drug/narcotic offenses":100,"Larceny-theft":2316,"Robbery":123,"Destruction/damage/vandalism of property":572,"Fraud offenses":257,"Family offenses, nonviolent":72,"Prostitution offenses":54,"Weapon law violations":62,"Motor vehicle theft":547,"Bad checks":44,"Arson":7,"Counterfeiting/forgery":43,"Homicide offenses":4,"Stolen property offenses":26,"Sex offenses":27,"Liquor law violations":18,"Embezzlement":16,"Kidnapping/abduction":1,"Sex offenses, consensual":1,"Curfew/loitering/vagrancy violations":1,"Extortion/blackmail":2,"Pornography/obscene material":1,"Trespass of real property":137,"Assault offenses":836,"Burglary/breaking&entering":609},"neighbourhoods":{"BALLARD NORTH":153,"SLU/CASCADE":231,"UNIVERSITY":238,"CHINATOWN/INTERNATIONAL DISTRICT":169,"DOWNTOWN COMMERCIAL":515,"SOUTH PARK":90,"GREENWOOD":138,"BALLARD SOUTH":163,"NORTHGATE":344,"ROOSEVELT/RAVENNA":232,"SOUTH BEACON HILL":39,"BRIGHTON/DUNLAP":117,"CAPITOL HILL":379,"ALASKA JUNCTION":68,"BELLTOWN":217,"QUEEN ANNE":253,"FIRST HILL":159,"MADRONA/LESCHI":92,"PIONEER SQUARE":108,"PHINNEY RIDGE":39,"WALLINGFORD":114,"BITTERLAKE":134,"SANDPOINT":97,"MONTLAKE/PORTAGE BAY":50,"HIGHLAND PARK":83,"FREMONT":93,"NORTH DELRIDGE":29,"MILLER PARK":35,"CENTRAL AREA/SQUIRE PARK":121,"MAGNOLIA":84,"JUDKINS PARK/NORTH BEACON HILL":56,"CLAREMONT/RAINIER VISTA":41,"RAINIER VIEW":57,"EASTLAKE - WEST":31,"HILLMAN CITY":27,"NORTH BEACON HILL":92,"SODO":85,"MOUNT BAKER":89,"COLUMBIA CITY":41,"GENESEE":25,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":88,"GEORGETOWN":68,"MADISON PARK":22,"MID BEACON HILL":74,"RAINIER BEACH":70,"SOUTH DELRIDGE":25,"UNKNOWN":28,"LAKEWOOD/SEWARD PARK":50,"COMMERCIAL DUWAMISH":6,"ALKI":31,"MORGAN":33,"NEW HOLLY":36,"FAUNTLEROY SW":20,"NORTH ADMIRAL":44,"HIGH POINT":25,"COMMERCIAL HARBOR ISLAND":3,"EASTLAKE - EAST":12,"PIGEON POINT":4,"LAKECITY":183}},{"month":"2014, 08","categories":{"Counterfeiting/forgery":32,"Fraud offenses":286,"Drug/narcotic offenses":86,"Stolen property offenses":22,"Motor vehicle theft":388,"Larceny-theft":2366,"Driving under the influence":75,"Family offenses, nonviolent":80,"Destruction/damage/vandalism of property":487,"Robbery":149,"Embezzlement":14,"Liquor law violations":14,"Homicide offenses":2,"Bad checks":46,"Sex offenses":27,"Weapon law violations":44,"Kidnapping/abduction":6,"Arson":7,"Peeping tom":2,"Pornography/obscene material":2,"Extortion/blackmail":2,"Prostitution offenses":14,"Trespass of real property":113,"Assault offenses":840,"Burglary/breaking&entering":604},"neighbourhoods":{"ROXHILL/WESTWOOD/ARBOR HEIGHTS":79,"MAGNOLIA":86,"QUEEN ANNE":275,"BALLARD SOUTH":198,"CENTRAL AREA/SQUIRE PARK":150,"DOWNTOWN COMMERCIAL":567,"RAINIER VIEW":30,"PHINNEY RIDGE":42,"ALASKA JUNCTION":46,"ROOSEVELT/RAVENNA":216,"BALLARD NORTH":145,"RAINIER BEACH":71,"SOUTH PARK":68,"NORTHGATE":350,"FREMONT":85,"CHINATOWN/INTERNATIONAL DISTRICT":152,"SLU/CASCADE":247,"BELLTOWN":153,"CAPITOL HILL":389,"CLAREMONT/RAINIER VISTA":39,"UNIVERSITY":212,"ALKI":33,"UNKNOWN":24,"GREENWOOD":120,"MADRONA/LESCHI":76,"MONTLAKE/PORTAGE BAY":50,"EASTLAKE - WEST":37,"MILLER PARK":38,"SOUTH BEACON HILL":24,"BITTERLAKE":127,"PIONEER SQUARE":93,"NEW HOLLY":45,"MID BEACON HILL":53,"NORTH BEACON HILL":92,"SANDPOINT":118,"GEORGETOWN":64,"WALLINGFORD":105,"FIRST HILL":125,"MOUNT BAKER":73,"SODO":57,"HILLMAN CITY":24,"EASTLAKE - EAST":10,"GENESEE":27,"NORTH DELRIDGE":32,"BRIGHTON/DUNLAP":103,"HIGH POINT":45,"COLUMBIA CITY":28,"NORTH ADMIRAL":45,"LAKEWOOD/SEWARD PARK":42,"SOUTH DELRIDGE":24,"HIGHLAND PARK":73,"FAUNTLEROY SW":23,"MORGAN":34,"JUDKINS PARK/NORTH BEACON HILL":47,"MADISON PARK":17,"PIGEON POINT":5,"COMMERCIAL HARBOR ISLAND":2,"COMMERCIAL DUWAMISH":2,"LAKECITY":171}},{"month":"2014, 09","categories":{"Larceny-theft":2369,"Motor vehicle theft":428,"Drug/narcotic offenses":88,"Destruction/damage/vandalism of property":469,"Robbery":155,"Driving under the influence":71,"Fraud offenses":259,"Weapon law violations":40,"Family offenses, nonviolent":76,"Stolen property offenses":27,"Counterfeiting/forgery":35,"Bad checks":66,"Homicide offenses":3,"Sex offenses":22,"Prostitution offenses":28,"Liquor law violations":8,"Embezzlement":18,"Arson":6,"Sex offenses, consensual":2,"Extortion/blackmail":2,"Kidnapping/abduction":4,"Curfew/loitering/vagrancy violations":1,"Trespass of real property":113,"Burglary/breaking&entering":617,"Assault offenses":766},"neighbourhoods":{"RAINIER VIEW":58,"BELLTOWN":166,"BITTERLAKE":133,"ROOSEVELT/RAVENNA":177,"QUEEN ANNE":264,"FIRST HILL":146,"DOWNTOWN COMMERCIAL":545,"MADRONA/LESCHI":95,"SLU/CASCADE":236,"CAPITOL HILL":376,"GEORGETOWN":71,"COLUMBIA CITY":47,"MILLER PARK":47,"MOUNT BAKER":70,"PHINNEY RIDGE":57,"HIGH POINT":38,"HIGHLAND PARK":53,"MORGAN":33,"FREMONT":75,"EASTLAKE - WEST":41,"GREENWOOD":127,"UNIVERSITY":212,"BRIGHTON/DUNLAP":78,"SODO":77,"PIGEON POINT":5,"MONTLAKE/PORTAGE BAY":46,"PIONEER SQUARE":94,"CHINATOWN/INTERNATIONAL DISTRICT":197,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":72,"RAINIER BEACH":84,"SOUTH BEACON HILL":28,"WALLINGFORD":93,"LAKEWOOD/SEWARD PARK":52,"MAGNOLIA":99,"BALLARD SOUTH":147,"HILLMAN CITY":34,"NORTHGATE":324,"ALASKA JUNCTION":68,"BALLARD NORTH":127,"ALKI":28,"SOUTH PARK":72,"MID BEACON HILL":51,"SOUTH DELRIDGE":32,"MADISON PARK":27,"CENTRAL AREA/SQUIRE PARK":137,"JUDKINS PARK/NORTH BEACON HILL":52,"SANDPOINT":119,"NEW HOLLY":34,"NORTH BEACON HILL":100,"NORTH ADMIRAL":54,"UNKNOWN":18,"FAUNTLEROY SW":22,"NORTH DELRIDGE":29,"EASTLAKE - EAST":10,"GENESEE":31,"CLAREMONT/RAINIER VISTA":18,"COMMERCIAL DUWAMISH":3,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":143}},{"month":"2014, 10","categories":{"Destruction/damage/vandalism of property":464,"Larceny-theft":2502,"Sex offenses":40,"Driving under the influence":75,"Weapon law violations":53,"Robbery":110,"Motor vehicle theft":543,"Extortion/blackmail":5,"Fraud offenses":280,"Embezzlement":15,"Drug/narcotic offenses":117,"Stolen property offenses":32,"Curfew/loitering/vagrancy violations":6,"Family offenses, nonviolent":81,"Bad checks":49,"Counterfeiting/forgery":30,"Arson":4,"Kidnapping/abduction":6,"Liquor law violations":13,"Prostitution offenses":25,"Homicide offenses":2,"Sex offenses, consensual":2,"Peeping tom":1,"Trespass of real property":125,"Assault offenses":736,"Burglary/breaking&entering":624},"neighbourhoods":{"CENTRAL AREA/SQUIRE PARK":126,"UNIVERSITY":231,"PIONEER SQUARE":82,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":91,"BALLARD NORTH":151,"SOUTH DELRIDGE":25,"BELLTOWN":182,"DOWNTOWN COMMERCIAL":552,"QUEEN ANNE":269,"BITTERLAKE":140,"BRIGHTON/DUNLAP":98,"NORTHGATE":381,"GREENWOOD":151,"MADRONA/LESCHI":97,"ALASKA JUNCTION":49,"MAGNOLIA":90,"SOUTH BEACON HILL":24,"PIGEON POINT":4,"COLUMBIA CITY":27,"MONTLAKE/PORTAGE BAY":46,"FREMONT":84,"MILLER PARK":34,"NORTH BEACON HILL":117,"SLU/CASCADE":242,"CHINATOWN/INTERNATIONAL DISTRICT":129,"CAPITOL HILL":433,"HIGHLAND PARK":75,"MADISON PARK":22,"ROOSEVELT/RAVENNA":203,"JUDKINS PARK/NORTH BEACON HILL":47,"CLAREMONT/RAINIER VISTA":27,"BALLARD SOUTH":215,"WALLINGFORD":102,"UNKNOWN":18,"FIRST HILL":195,"MOUNT BAKER":79,"PHINNEY RIDGE":53,"GEORGETOWN":64,"LAKEWOOD/SEWARD PARK":41,"SANDPOINT":100,"SODO":94,"RAINIER VIEW":58,"HIGH POINT":36,"GENESEE":22,"SOUTH PARK":61,"HILLMAN CITY":39,"EASTLAKE - WEST":39,"NEW HOLLY":33,"FAUNTLEROY SW":24,"NORTH DELRIDGE":38,"NORTH ADMIRAL":46,"MORGAN":39,"ALKI":22,"MID BEACON HILL":48,"RAINIER BEACH":61,"EASTLAKE - EAST":6,"COMMERCIAL HARBOR ISLAND":3,"COMMERCIAL DUWAMISH":3,"LAKECITY":172}},{"month":"2014, 11","categories":{"Larceny-theft":2251,"Destruction/damage/vandalism of property":479,"Drug/narcotic offenses":103,"Sex offenses":27,"Driving under the influence":85,"Robbery":141,"Motor vehicle theft":393,"Fraud offenses":239,"Family offenses, nonviolent":73,"Counterfeiting/forgery":33,"Bad checks":35,"Weapon law violations":40,"Pornography/obscene material":1,"Arson":5,"Embezzlement":12,"Prostitution offenses":21,"Stolen property offenses":20,"Liquor law violations":7,"Curfew/loitering/vagrancy violations":6,"Kidnapping/abduction":4,"Extortion/blackmail":1,"Trespass of real property":113,"Assault offenses":702,"Burglary/breaking&entering":594},"neighbourhoods":{"SODO":90,"GREENWOOD":109,"GENESEE":22,"GEORGETOWN":53,"CLAREMONT/RAINIER VISTA":34,"DOWNTOWN COMMERCIAL":524,"BALLARD SOUTH":139,"CAPITOL HILL":340,"UNIVERSITY":197,"NORTHGATE":365,"LAKEWOOD/SEWARD PARK":29,"PIONEER SQUARE":91,"ALKI":23,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":70,"MILLER PARK":36,"HIGHLAND PARK":53,"NORTH BEACON HILL":114,"SLU/CASCADE":270,"MADRONA/LESCHI":90,"CHINATOWN/INTERNATIONAL DISTRICT":134,"ROOSEVELT/RAVENNA":183,"QUEEN ANNE":229,"SOUTH DELRIDGE":21,"MORGAN":31,"HILLMAN CITY":43,"MAGNOLIA":96,"WALLINGFORD":88,"FAUNTLEROY SW":38,"MOUNT BAKER":76,"CENTRAL AREA/SQUIRE PARK":150,"SANDPOINT":102,"BRIGHTON/DUNLAP":93,"PHINNEY RIDGE":38,"EASTLAKE - WEST":37,"MID BEACON HILL":62,"BITTERLAKE":116,"BELLTOWN":139,"RAINIER VIEW":37,"HIGH POINT":38,"BALLARD NORTH":122,"NORTH ADMIRAL":37,"RAINIER BEACH":62,"ALASKA JUNCTION":48,"NORTH DELRIDGE":34,"FIRST HILL":166,"SOUTH PARK":41,"JUDKINS PARK/NORTH BEACON HILL":73,"FREMONT":74,"SOUTH BEACON HILL":22,"MONTLAKE/PORTAGE BAY":40,"NEW HOLLY":39,"PIGEON POINT":5,"COLUMBIA CITY":52,"UNKNOWN":15,"EASTLAKE - EAST":4,"MADISON PARK":14,"COMMERCIAL DUWAMISH":4,"LAKECITY":133}},{"month":"2014, 12","categories":{"Driving under the influence":92,"Larceny-theft":2339,"Drug/narcotic offenses":69,"Weapon law violations":29,"Destruction/damage/vandalism of property":434,"Stolen property offenses":21,"Family offenses, nonviolent":63,"Sex offenses":22,"Motor vehicle theft":304,"Fraud offenses":265,"Homicide offenses":3,"Robbery":143,"Bad checks":31,"Liquor law violations":8,"Counterfeiting/forgery":25,"Arson":6,"Embezzlement":13,"Kidnapping/abduction":6,"Sex offenses, consensual":1,"Curfew/loitering/vagrancy violations":1,"Gambling offenses":1,"Trespass of real property":132,"Assault offenses":688,"Burglary/breaking&entering":607},"neighbourhoods":{"FIRST HILL":174,"MADRONA/LESCHI":106,"DOWNTOWN COMMERCIAL":561,"BRIGHTON/DUNLAP":81,"NORTHGATE":266,"CHINATOWN/INTERNATIONAL DISTRICT":157,"SOUTH DELRIDGE":29,"CENTRAL AREA/SQUIRE PARK":156,"SLU/CASCADE":240,"BELLTOWN":153,"CAPITOL HILL":349,"GEORGETOWN":99,"ROOSEVELT/RAVENNA":170,"FREMONT":79,"BITTERLAKE":130,"COLUMBIA CITY":32,"FAUNTLEROY SW":31,"WALLINGFORD":74,"MONTLAKE/PORTAGE BAY":55,"UNIVERSITY":170,"LAKEWOOD/SEWARD PARK":40,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":77,"QUEEN ANNE":245,"GREENWOOD":121,"MID BEACON HILL":65,"NORTH ADMIRAL":41,"RAINIER BEACH":51,"PIONEER SQUARE":88,"NORTH DELRIDGE":35,"SOUTH PARK":46,"ALKI":20,"BALLARD NORTH":103,"JUDKINS PARK/NORTH BEACON HILL":63,"PHINNEY RIDGE":24,"ALASKA JUNCTION":49,"HIGHLAND PARK":70,"NORTH BEACON HILL":87,"BALLARD SOUTH":132,"MOUNT BAKER":75,"HIGH POINT":32,"SODO":72,"RAINIER VIEW":50,"SANDPOINT":124,"HILLMAN CITY":24,"NEW HOLLY":27,"PIGEON POINT":2,"MAGNOLIA":86,"MILLER PARK":37,"MADISON PARK":20,"EASTLAKE - WEST":22,"UNKNOWN":25,"CLAREMONT/RAINIER VISTA":24,"EASTLAKE - EAST":9,"SOUTH BEACON HILL":15,"MORGAN":37,"GENESEE":12,"COMMERCIAL DUWAMISH":1,"LAKECITY":140}},{"month":"2015, 01","categories":{"Drug/narcotic offenses":141,"Larceny-theft":2212,"Motor vehicle theft":401,"Family offenses, nonviolent":85,"Driving under the influence":94,"Robbery":133,"Destruction/damage/vandalism of property":466,"Fraud offenses":245,"Sex offenses":22,"Weapon law violations":48,"Prostitution offenses":49,"Bad checks":38,"Liquor law violations":15,"Stolen property offenses":28,"Arson":5,"Counterfeiting/forgery":25,"Embezzlement":12,"Extortion/blackmail":2,"Pornography/obscene material":2,"Kidnapping/abduction":1,"Curfew/loitering/vagrancy violations":6,"Bribery":1,"Peeping tom":1,"Trespass of real property":146,"Assault offenses":743,"Burglary/breaking&entering":555},"neighbourhoods":{"CHINATOWN/INTERNATIONAL DISTRICT":137,"ALASKA JUNCTION":75,"NORTHGATE":303,"MAGNOLIA":97,"UNIVERSITY":207,"NORTH BEACON HILL":102,"CAPITOL HILL":325,"ROOSEVELT/RAVENNA":183,"NEW HOLLY":30,"BALLARD SOUTH":145,"GREENWOOD":112,"CENTRAL AREA/SQUIRE PARK":158,"MADISON PARK":22,"SLU/CASCADE":245,"DOWNTOWN COMMERCIAL":524,"HIGH POINT":57,"SANDPOINT":110,"WALLINGFORD":63,"SOUTH DELRIDGE":17,"SOUTH BEACON HILL":26,"FIRST HILL":140,"NORTH ADMIRAL":46,"MONTLAKE/PORTAGE BAY":43,"JUDKINS PARK/NORTH BEACON HILL":56,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":90,"EASTLAKE - WEST":31,"FAUNTLEROY SW":22,"MORGAN":52,"BELLTOWN":131,"FREMONT":67,"QUEEN ANNE":294,"ALKI":26,"MID BEACON HILL":65,"UNKNOWN":25,"BALLARD NORTH":138,"COLUMBIA CITY":43,"BITTERLAKE":94,"GEORGETOWN":67,"GENESEE":25,"CLAREMONT/RAINIER VISTA":30,"PIONEER SQUARE":125,"LAKEWOOD/SEWARD PARK":41,"HILLMAN CITY":27,"RAINIER BEACH":59,"HIGHLAND PARK":57,"MOUNT BAKER":76,"RAINIER VIEW":62,"MADRONA/LESCHI":68,"SOUTH PARK":64,"SODO":103,"BRIGHTON/DUNLAP":62,"PHINNEY RIDGE":34,"MILLER PARK":45,"NORTH DELRIDGE":43,"COMMERCIAL DUWAMISH":2,"PIGEON POINT":5,"EASTLAKE - EAST":9,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":169}},{"month":"2015, 02","categories":{"Weapon law violations":40,"Destruction/damage/vandalism of property":420,"Larceny-theft":1903,"Prostitution offenses":18,"Stolen property offenses":31,"Drug/narcotic offenses":192,"Motor vehicle theft":300,"Robbery":130,"Peeping tom":1,"Fraud offenses":333,"Extortion/blackmail":2,"Family offenses, nonviolent":65,"Sex offenses":28,"Driving under the influence":91,"Counterfeiting/forgery":37,"Liquor law violations":8,"Bad checks":38,"Embezzlement":10,"Arson":5,"Curfew/loitering/vagrancy violations":5,"Kidnapping/abduction":4,"Homicide offenses":2,"Pornography/obscene material":1,"Trespass of real property":156,"Burglary/breaking&entering":478,"Assault offenses":718},"neighbourhoods":{"NORTHGATE":292,"ALASKA JUNCTION":55,"DOWNTOWN COMMERCIAL":552,"BITTERLAKE":98,"BELLTOWN":180,"FREMONT":80,"RAINIER BEACH":66,"NEW HOLLY":36,"BALLARD NORTH":105,"SANDPOINT":76,"FIRST HILL":170,"NORTH BEACON HILL":76,"PIONEER SQUARE":86,"UNIVERSITY":175,"HIGHLAND PARK":56,"WALLINGFORD":99,"ROOSEVELT/RAVENNA":182,"CAPITOL HILL":351,"CHINATOWN/INTERNATIONAL DISTRICT":103,"BALLARD SOUTH":139,"SLU/CASCADE":202,"QUEEN ANNE":226,"HIGH POINT":50,"EASTLAKE - WEST":16,"SOUTH PARK":35,"NORTH DELRIDGE":24,"LAKEWOOD/SEWARD PARK":46,"FAUNTLEROY SW":28,"MILLER PARK":44,"MAGNOLIA":113,"ALKI":14,"GREENWOOD":103,"BRIGHTON/DUNLAP":66,"SODO":76,"MORGAN":26,"COMMERCIAL DUWAMISH":2,"CENTRAL AREA/SQUIRE PARK":144,"HILLMAN CITY":39,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":67,"GEORGETOWN":54,"MONTLAKE/PORTAGE BAY":36,"COLUMBIA CITY":31,"CLAREMONT/RAINIER VISTA":21,"NORTH ADMIRAL":47,"SOUTH BEACON HILL":13,"MOUNT BAKER":62,"MID BEACON HILL":61,"UNKNOWN":18,"JUDKINS PARK/NORTH BEACON HILL":46,"PHINNEY RIDGE":30,"MADRONA/LESCHI":64,"RAINIER VIEW":39,"SOUTH DELRIDGE":16,"MADISON PARK":12,"EASTLAKE - EAST":8,"PIGEON POINT":2,"GENESEE":3,"LAKECITY":155}},{"month":"2015, 03","categories":{"Larceny-theft":2121,"Robbery":132,"Kidnapping/abduction":4,"Family offenses, nonviolent":84,"Driving under the influence":89,"Fraud offenses":399,"Motor vehicle theft":348,"Destruction/damage/vandalism of property":502,"Weapon law violations":54,"Drug/narcotic offenses":180,"Bad checks":35,"Stolen property offenses":34,"Sex offenses":24,"Counterfeiting/forgery":37,"Curfew/loitering/vagrancy violations":4,"Embezzlement":9,"Pornography/obscene material":4,"Liquor law violations":13,"Homicide offenses":5,"Arson":4,"Extortion/blackmail":2,"Peeping tom":1,"Prostitution offenses":8,"Trespass of real property":176,"Assault offenses":758,"Burglary/breaking&entering":585},"neighbourhoods":{"GENESEE":19,"CAPITOL HILL":337,"SOUTH BEACON HILL":17,"DOWNTOWN COMMERCIAL":677,"QUEEN ANNE":289,"LAKEWOOD/SEWARD PARK":48,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":119,"ROOSEVELT/RAVENNA":191,"JUDKINS PARK/NORTH BEACON HILL":34,"FIRST HILL":157,"WALLINGFORD":87,"EASTLAKE - EAST":14,"SOUTH PARK":62,"BITTERLAKE":114,"CHINATOWN/INTERNATIONAL DISTRICT":133,"SLU/CASCADE":246,"UNIVERSITY":223,"BALLARD SOUTH":152,"HIGHLAND PARK":64,"CENTRAL AREA/SQUIRE PARK":154,"RAINIER BEACH":67,"ALKI":34,"NORTH ADMIRAL":40,"SANDPOINT":105,"MORGAN":57,"MILLER PARK":36,"GEORGETOWN":52,"NORTH BEACON HILL":60,"MADRONA/LESCHI":82,"BALLARD NORTH":137,"PHINNEY RIDGE":48,"PIONEER SQUARE":100,"ALASKA JUNCTION":44,"NORTHGATE":372,"SODO":72,"BRIGHTON/DUNLAP":81,"HIGH POINT":48,"EASTLAKE - WEST":20,"GREENWOOD":132,"HILLMAN CITY":36,"RAINIER VIEW":43,"BELLTOWN":116,"NORTH DELRIDGE":31,"MADISON PARK":15,"MID BEACON HILL":57,"FREMONT":98,"MAGNOLIA":94,"MONTLAKE/PORTAGE BAY":38,"UNKNOWN":30,"MOUNT BAKER":71,"CLAREMONT/RAINIER VISTA":23,"SOUTH DELRIDGE":13,"FAUNTLEROY SW":25,"NEW HOLLY":33,"COLUMBIA CITY":34,"COMMERCIAL DUWAMISH":1,"PIGEON POINT":4,"LAKECITY":126}},{"month":"2015, 04","categories":{"Larceny-theft":2078,"Homicide offenses":1,"Motor vehicle theft":346,"Destruction/damage/vandalism of property":517,"Bad checks":40,"Driving under the influence":105,"Fraud offenses":463,"Counterfeiting/forgery":38,"Robbery":121,"Weapon law violations":57,"Extortion/blackmail":2,"Stolen property offenses":34,"Family offenses, nonviolent":85,"Sex offenses":31,"Pornography/obscene material":2,"Arson":5,"Drug/narcotic offenses":121,"Sex offenses, consensual":1,"Embezzlement":15,"Kidnapping/abduction":4,"Liquor law violations":8,"Prostitution offenses":33,"Curfew/loitering/vagrancy violations":4,"Peeping tom":1,"Trespass of real property":190,"Burglary/breaking&entering":609,"Assault offenses":710},"neighbourhoods":{"RAINIER BEACH":56,"QUEEN ANNE":272,"UNIVERSITY":240,"CHINATOWN/INTERNATIONAL DISTRICT":106,"CAPITOL HILL":333,"MADRONA/LESCHI":61,"EASTLAKE - WEST":32,"MORGAN":52,"LAKEWOOD/SEWARD PARK":27,"MAGNOLIA":110,"ROOSEVELT/RAVENNA":187,"MILLER PARK":31,"DOWNTOWN COMMERCIAL":545,"NORTHGATE":387,"FIRST HILL":161,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":89,"HIGH POINT":55,"BALLARD NORTH":137,"JUDKINS PARK/NORTH BEACON HILL":53,"MOUNT BAKER":94,"BALLARD SOUTH":166,"GREENWOOD":127,"WALLINGFORD":126,"GENESEE":24,"NEW HOLLY":41,"ALASKA JUNCTION":75,"NORTH ADMIRAL":48,"CENTRAL AREA/SQUIRE PARK":104,"NORTH BEACON HILL":95,"BELLTOWN":138,"SANDPOINT":159,"EASTLAKE - EAST":9,"FREMONT":77,"COLUMBIA CITY":27,"SODO":88,"GEORGETOWN":55,"SLU/CASCADE":241,"BRIGHTON/DUNLAP":95,"NORTH DELRIDGE":33,"PHINNEY RIDGE":50,"UNKNOWN":33,"RAINIER VIEW":57,"SOUTH BEACON HILL":26,"ALKI":32,"HIGHLAND PARK":57,"MID BEACON HILL":55,"PIONEER SQUARE":92,"MONTLAKE/PORTAGE BAY":40,"BITTERLAKE":94,"HILLMAN CITY":30,"SOUTH PARK":44,"CLAREMONT/RAINIER VISTA":21,"FAUNTLEROY SW":28,"SOUTH DELRIDGE":25,"MADISON PARK":17,"COMMERCIAL DUWAMISH":1,"PIGEON POINT":2,"LAKECITY":161}},{"month":"2015, 05","categories":{"Destruction/damage/vandalism of property":521,"Larceny-theft":2198,"Family offenses, nonviolent":86,"Drug/narcotic offenses":96,"Motor vehicle theft":300,"Weapon law violations":58,"Fraud offenses":288,"Robbery":128,"Prostitution offenses":44,"Stolen property offenses":26,"Sex offenses":27,"Driving under the influence":81,"Liquor law violations":15,"Arson":7,"Bad checks":36,"Embezzlement":14,"Counterfeiting/forgery":34,"Peeping tom":2,"Curfew/loitering/vagrancy violations":4,"Extortion/blackmail":4,"Kidnapping/abduction":1,"Sex offenses, consensual":1,"Gambling offenses":1,"Trespass of real property":173,"Assault offenses":846,"Burglary/breaking&entering":689,"Homicide offenses":1},"neighbourhoods":{"BELLTOWN":144,"BALLARD SOUTH":127,"DOWNTOWN COMMERCIAL":483,"QUEEN ANNE":298,"JUDKINS PARK/NORTH BEACON HILL":44,"RAINIER BEACH":54,"MOUNT BAKER":72,"UNIVERSITY":265,"ROOSEVELT/RAVENNA":201,"FIRST HILL":161,"BITTERLAKE":120,"MADRONA/LESCHI":72,"NORTHGATE":385,"ALASKA JUNCTION":53,"CAPITOL HILL":426,"SLU/CASCADE":274,"BALLARD NORTH":129,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":92,"RAINIER VIEW":47,"FREMONT":114,"MID BEACON HILL":56,"WALLINGFORD":103,"SANDPOINT":124,"BRIGHTON/DUNLAP":69,"LAKEWOOD/SEWARD PARK":30,"NORTH BEACON HILL":102,"GREENWOOD":147,"MAGNOLIA":92,"CENTRAL AREA/SQUIRE PARK":147,"PIONEER SQUARE":123,"PHINNEY RIDGE":41,"FAUNTLEROY SW":15,"GEORGETOWN":58,"SODO":94,"SOUTH DELRIDGE":20,"EASTLAKE - EAST":11,"MADISON PARK":18,"MILLER PARK":25,"CHINATOWN/INTERNATIONAL DISTRICT":113,"HIGH POINT":37,"CLAREMONT/RAINIER VISTA":33,"SOUTH BEACON HILL":26,"COMMERCIAL HARBOR ISLAND":3,"EASTLAKE - WEST":38,"ALKI":27,"HIGHLAND PARK":58,"SOUTH PARK":42,"NORTH ADMIRAL":36,"UNKNOWN":27,"NORTH DELRIDGE":44,"COLUMBIA CITY":39,"NEW HOLLY":28,"MONTLAKE/PORTAGE BAY":29,"MORGAN":30,"HILLMAN CITY":36,"PIGEON POINT":4,"GENESEE":25,"LAKECITY":170}},{"month":"2015, 06","categories":{"Destruction/damage/vandalism of property":527,"Weapon law violations":52,"Larceny-theft":2183,"Sex offenses":47,"Drug/narcotic offenses":116,"Motor vehicle theft":318,"Fraud offenses":308,"Robbery":140,"Bad checks":43,"Embezzlement":15,"Driving under the influence":70,"Family offenses, nonviolent":93,"Prostitution offenses":42,"Kidnapping/abduction":4,"Stolen property offenses":34,"Pornography/obscene material":2,"Arson":10,"Homicide offenses":2,"Counterfeiting/forgery":25,"Extortion/blackmail":3,"Liquor law violations":5,"Curfew/loitering/vagrancy violations":3,"Sex offenses, consensual":1,"Trespass of real property":185,"Assault offenses":821,"Burglary/breaking&entering":691},"neighbourhoods":{"FREMONT":80,"FIRST HILL":170,"BELLTOWN":163,"NORTHGATE":372,"MONTLAKE/PORTAGE BAY":32,"DOWNTOWN COMMERCIAL":486,"BALLARD SOUTH":160,"FAUNTLEROY SW":16,"SLU/CASCADE":265,"HIGHLAND PARK":69,"CHINATOWN/INTERNATIONAL DISTRICT":116,"SANDPOINT":138,"QUEEN ANNE":289,"SOUTH DELRIDGE":34,"BRIGHTON/DUNLAP":78,"MID BEACON HILL":48,"MOUNT BAKER":68,"LAKEWOOD/SEWARD PARK":54,"CAPITOL HILL":413,"ROOSEVELT/RAVENNA":199,"HIGH POINT":46,"NORTH BEACON HILL":83,"UNIVERSITY":258,"BITTERLAKE":120,"CENTRAL AREA/SQUIRE PARK":176,"JUDKINS PARK/NORTH BEACON HILL":48,"RAINIER VIEW":52,"NEW HOLLY":40,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":90,"PHINNEY RIDGE":49,"GREENWOOD":156,"ALASKA JUNCTION":50,"MILLER PARK":31,"WALLINGFORD":92,"MADRONA/LESCHI":74,"HILLMAN CITY":36,"BALLARD NORTH":113,"NORTH DELRIDGE":36,"EASTLAKE - WEST":29,"ALKI":30,"UNKNOWN":36,"MAGNOLIA":93,"RAINIER BEACH":65,"GEORGETOWN":52,"NORTH ADMIRAL":45,"COLUMBIA CITY":31,"PIONEER SQUARE":121,"SODO":83,"MORGAN":48,"COMMERCIAL HARBOR ISLAND":3,"EASTLAKE - EAST":9,"SOUTH PARK":54,"MADISON PARK":25,"CLAREMONT/RAINIER VISTA":24,"SOUTH BEACON HILL":16,"COMMERCIAL DUWAMISH":4,"GENESEE":15,"PIGEON POINT":6,"LAKECITY":151}},{"month":"2015, 07","categories":{"Destruction/damage/vandalism of property":480,"Larceny-theft":2170,"Prostitution offenses":70,"Motor vehicle theft":269,"Fraud offenses":286,"Family offenses, nonviolent":77,"Embezzlement":22,"Homicide offenses":5,"Drug/narcotic offenses":128,"Driving under the influence":76,"Robbery":143,"Weapon law violations":81,"Extortion/blackmail":4,"Counterfeiting/forgery":38,"Sex offenses":28,"Curfew/loitering/vagrancy violations":4,"Kidnapping/abduction":7,"Bad checks":36,"Stolen property offenses":25,"Arson":10,"Liquor law violations":11,"Sex offenses, consensual":2,"Peeping tom":1,"Trespass of real property":190,"Assault offenses":863,"Burglary/breaking&entering":644},"neighbourhoods":{"HILLMAN CITY":36,"DOWNTOWN COMMERCIAL":518,"NORTHGATE":370,"GENESEE":16,"ROOSEVELT/RAVENNA":207,"BRIGHTON/DUNLAP":67,"FIRST HILL":149,"UNIVERSITY":250,"CAPITOL HILL":474,"RAINIER BEACH":43,"QUEEN ANNE":274,"GEORGETOWN":64,"BALLARD SOUTH":184,"SLU/CASCADE":217,"BITTERLAKE":98,"MILLER PARK":47,"BALLARD NORTH":124,"WALLINGFORD":99,"GREENWOOD":135,"BELLTOWN":169,"LAKEWOOD/SEWARD PARK":37,"FAUNTLEROY SW":23,"CHINATOWN/INTERNATIONAL DISTRICT":145,"MAGNOLIA":91,"PIONEER SQUARE":118,"SANDPOINT":101,"COMMERCIAL HARBOR ISLAND":5,"MOUNT BAKER":51,"NEW HOLLY":39,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":95,"CLAREMONT/RAINIER VISTA":35,"MADRONA/LESCHI":70,"FREMONT":83,"PIGEON POINT":6,"SOUTH PARK":62,"RAINIER VIEW":73,"SOUTH BEACON HILL":23,"CENTRAL AREA/SQUIRE PARK":123,"JUDKINS PARK/NORTH BEACON HILL":48,"HIGHLAND PARK":56,"SODO":97,"UNKNOWN":37,"MORGAN":31,"PHINNEY RIDGE":39,"MADISON PARK":19,"NORTH ADMIRAL":51,"MID BEACON HILL":41,"NORTH BEACON HILL":70,"EASTLAKE - WEST":39,"SOUTH DELRIDGE":27,"MONTLAKE/PORTAGE BAY":41,"ALASKA JUNCTION":36,"EASTLAKE - EAST":13,"NORTH DELRIDGE":39,"COLUMBIA CITY":37,"ALKI":29,"HIGH POINT":40,"COMMERCIAL DUWAMISH":2,"LAKECITY":157}},{"month":"2015, 08","categories":{"Destruction/damage/vandalism of property":552,"Larceny-theft":2252,"Weapon law violations":85,"Family offenses, nonviolent":86,"Fraud offenses":355,"Bad checks":37,"Counterfeiting/forgery":41,"Robbery":133,"Motor vehicle theft":271,"Embezzlement":13,"Arson":13,"Drug/narcotic offenses":122,"Driving under the influence":89,"Stolen property offenses":21,"Liquor law violations":8,"Prostitution offenses":34,"Kidnapping/abduction":4,"Sex offenses":25,"Homicide offenses":4,"Sex offenses, consensual":2,"Extortion/blackmail":5,"Curfew/loitering/vagrancy violations":1,"Gambling offenses":1,"Trespass of real property":184,"Assault offenses":874,"Burglary/breaking&entering":636},"neighbourhoods":{"NORTHGATE":338,"BALLARD SOUTH":190,"COLUMBIA CITY":23,"DOWNTOWN COMMERCIAL":579,"QUEEN ANNE":298,"HIGHLAND PARK":55,"JUDKINS PARK/NORTH BEACON HILL":48,"FIRST HILL":187,"MORGAN":36,"UNIVERSITY":264,"MONTLAKE/PORTAGE BAY":43,"BRIGHTON/DUNLAP":87,"UNKNOWN":36,"SOUTH PARK":34,"ALASKA JUNCTION":82,"ALKI":23,"SLU/CASCADE":250,"BALLARD NORTH":103,"MADRONA/LESCHI":95,"CAPITOL HILL":462,"BITTERLAKE":122,"NORTH BEACON HILL":82,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":108,"RAINIER VIEW":52,"CENTRAL AREA/SQUIRE PARK":151,"NEW HOLLY":38,"MAGNOLIA":118,"SOUTH BEACON HILL":23,"PHINNEY RIDGE":50,"SANDPOINT":114,"GREENWOOD":129,"MILLER PARK":36,"WALLINGFORD":89,"ROOSEVELT/RAVENNA":174,"GEORGETOWN":74,"CHINATOWN/INTERNATIONAL DISTRICT":144,"LAKEWOOD/SEWARD PARK":31,"EASTLAKE - WEST":43,"FAUNTLEROY SW":23,"NORTH ADMIRAL":37,"PIONEER SQUARE":134,"SOUTH DELRIDGE":30,"GENESEE":28,"COMMERCIAL HARBOR ISLAND":2,"MOUNT BAKER":54,"MID BEACON HILL":26,"BELLTOWN":122,"HILLMAN CITY":42,"SODO":93,"MADISON PARK":26,"FREMONT":81,"NORTH DELRIDGE":34,"CLAREMONT/RAINIER VISTA":28,"HIGH POINT":43,"RAINIER BEACH":54,"PIGEON POINT":4,"COMMERCIAL DUWAMISH":2,"EASTLAKE - EAST":12,"LAKECITY":162}},{"month":"2015, 09","categories":{"Larceny-theft":2315,"Family offenses, nonviolent":79,"Weapon law violations":66,"Fraud offenses":316,"Motor vehicle theft":313,"Destruction/damage/vandalism of property":472,"Embezzlement":22,"Extortion/blackmail":3,"Peeping tom":3,"Robbery":134,"Bad checks":38,"Driving under the influence":77,"Drug/narcotic offenses":133,"Arson":8,"Sex offenses":27,"Counterfeiting/forgery":38,"Curfew/loitering/vagrancy violations":3,"Sex offenses, consensual":1,"Prostitution offenses":28,"Stolen property offenses":25,"Homicide offenses":3,"Liquor law violations":6,"Kidnapping/abduction":3,"Trespass of real property":180,"Assault offenses":784,"Burglary/breaking&entering":624},"neighbourhoods":{"NORTHGATE":394,"SLU/CASCADE":243,"CAPITOL HILL":393,"ALKI":31,"QUEEN ANNE":309,"CHINATOWN/INTERNATIONAL DISTRICT":150,"GREENWOOD":142,"DOWNTOWN COMMERCIAL":582,"SODO":109,"FIRST HILL":178,"CLAREMONT/RAINIER VISTA":24,"MAGNOLIA":107,"NEW HOLLY":24,"MADRONA/LESCHI":72,"BALLARD NORTH":131,"CENTRAL AREA/SQUIRE PARK":186,"MONTLAKE/PORTAGE BAY":40,"ROOSEVELT/RAVENNA":144,"SANDPOINT":110,"GEORGETOWN":50,"WALLINGFORD":118,"HIGHLAND PARK":37,"UNIVERSITY":218,"FAUNTLEROY SW":22,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":96,"MILLER PARK":34,"RAINIER VIEW":61,"NORTH BEACON HILL":86,"RAINIER BEACH":67,"NORTH ADMIRAL":47,"NORTH DELRIDGE":30,"MOUNT BAKER":76,"MID BEACON HILL":36,"BALLARD SOUTH":180,"FREMONT":88,"BELLTOWN":151,"JUDKINS PARK/NORTH BEACON HILL":67,"BITTERLAKE":101,"BRIGHTON/DUNLAP":67,"MORGAN":42,"PIONEER SQUARE":95,"GENESEE":17,"HILLMAN CITY":32,"ALASKA JUNCTION":57,"PHINNEY RIDGE":34,"COLUMBIA CITY":30,"SOUTH PARK":47,"EASTLAKE - WEST":16,"UNKNOWN":33,"LAKEWOOD/SEWARD PARK":33,"HIGH POINT":23,"MADISON PARK":24,"EASTLAKE - EAST":12,"SOUTH BEACON HILL":24,"SOUTH DELRIDGE":27,"PIGEON POINT":2,"COMMERCIAL HARBOR ISLAND":2,"COMMERCIAL DUWAMISH":2,"LAKECITY":148}},{"month":"2015, 10","categories":{"Kidnapping/abduction":3,"Family offenses, nonviolent":86,"Larceny-theft":2369,"Destruction/damage/vandalism of property":546,"Motor vehicle theft":324,"Fraud offenses":317,"Driving under the influence":102,"Liquor law violations":12,"Robbery":134,"Drug/narcotic offenses":120,"Arson":14,"Weapon law violations":52,"Bad checks":42,"Counterfeiting/forgery":44,"Sex offenses":33,"Stolen property offenses":20,"Peeping tom":2,"Embezzlement":15,"Prostitution offenses":5,"Extortion/blackmail":3,"Curfew/loitering/vagrancy violations":4,"Homicide offenses":3,"Trespass of real property":214,"Assault offenses":784,"Burglary/breaking&entering":658},"neighbourhoods":{"CAPITOL HILL":431,"FIRST HILL":206,"DOWNTOWN COMMERCIAL":526,"PHINNEY RIDGE":40,"PIONEER SQUARE":106,"SODO":114,"NORTHGATE":354,"BALLARD SOUTH":182,"NORTH ADMIRAL":52,"ROOSEVELT/RAVENNA":196,"FREMONT":101,"GEORGETOWN":61,"MORGAN":64,"BELLTOWN":147,"QUEEN ANNE":306,"UNIVERSITY":281,"ALASKA JUNCTION":87,"BRIGHTON/DUNLAP":69,"MADRONA/LESCHI":86,"GREENWOOD":122,"SANDPOINT":107,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":99,"MONTLAKE/PORTAGE BAY":41,"BALLARD NORTH":127,"FAUNTLEROY SW":18,"WALLINGFORD":100,"BITTERLAKE":118,"MOUNT BAKER":94,"ALKI":22,"CENTRAL AREA/SQUIRE PARK":142,"RAINIER BEACH":77,"SLU/CASCADE":227,"HILLMAN CITY":26,"HIGHLAND PARK":51,"NORTH DELRIDGE":54,"HIGH POINT":57,"CHINATOWN/INTERNATIONAL DISTRICT":138,"JUDKINS PARK/NORTH BEACON HILL":80,"SOUTH PARK":45,"SOUTH BEACON HILL":29,"LAKEWOOD/SEWARD PARK":22,"RAINIER VIEW":44,"GENESEE":24,"MILLER PARK":50,"MID BEACON HILL":66,"NORTH BEACON HILL":90,"EASTLAKE - WEST":30,"CLAREMONT/RAINIER VISTA":30,"MAGNOLIA":110,"MADISON PARK":21,"NEW HOLLY":36,"UNKNOWN":24,"SOUTH DELRIDGE":23,"EASTLAKE - EAST":9,"COMMERCIAL HARBOR ISLAND":1,"COLUMBIA CITY":25,"PIGEON POINT":3,"COMMERCIAL DUWAMISH":3,"LAKECITY":112}},{"month":"2015, 11","categories":{"Larceny-theft":2438,"Drug/narcotic offenses":131,"Fraud offenses":289,"Motor vehicle theft":280,"Destruction/damage/vandalism of property":480,"Stolen property offenses":29,"Counterfeiting/forgery":31,"Robbery":111,"Sex offenses":35,"Family offenses, nonviolent":83,"Bad checks":47,"Driving under the influence":78,"Liquor law violations":5,"Arson":5,"Weapon law violations":63,"Peeping tom":1,"Extortion/blackmail":5,"Pornography/obscene material":2,"Embezzlement":12,"Prostitution offenses":5,"Curfew/loitering/vagrancy violations":5,"Kidnapping/abduction":2,"Sex offenses, consensual":1,"Trespass of real property":192,"Assault offenses":757,"Burglary/breaking&entering":698},"neighbourhoods":{"JUDKINS PARK/NORTH BEACON HILL":58,"ROOSEVELT/RAVENNA":218,"NORTHGATE":370,"HILLMAN CITY":34,"GREENWOOD":151,"UNIVERSITY":291,"SLU/CASCADE":203,"CAPITOL HILL":340,"BALLARD NORTH":134,"CHINATOWN/INTERNATIONAL DISTRICT":151,"HIGHLAND PARK":60,"MONTLAKE/PORTAGE BAY":59,"PIONEER SQUARE":108,"MAGNOLIA":93,"HIGH POINT":45,"BALLARD SOUTH":194,"MORGAN":55,"DOWNTOWN COMMERCIAL":460,"PHINNEY RIDGE":50,"MADRONA/LESCHI":93,"QUEEN ANNE":258,"SANDPOINT":139,"BRIGHTON/DUNLAP":81,"SOUTH DELRIDGE":32,"MILLER PARK":37,"BELLTOWN":138,"FREMONT":110,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":110,"NEW HOLLY":31,"FAUNTLEROY SW":21,"MOUNT BAKER":85,"WALLINGFORD":82,"NORTH ADMIRAL":55,"NORTH DELRIDGE":33,"COMMERCIAL DUWAMISH":3,"ALASKA JUNCTION":113,"BITTERLAKE":114,"RAINIER VIEW":63,"SODO":91,"CENTRAL AREA/SQUIRE PARK":179,"FIRST HILL":185,"MID BEACON HILL":40,"GEORGETOWN":59,"NORTH BEACON HILL":73,"EASTLAKE - WEST":25,"RAINIER BEACH":47,"GENESEE":26,"LAKEWOOD/SEWARD PARK":30,"COLUMBIA CITY":30,"SOUTH PARK":28,"CLAREMONT/RAINIER VISTA":33,"ALKI":21,"MADISON PARK":32,"SOUTH BEACON HILL":17,"UNKNOWN":18,"PIGEON POINT":10,"COMMERCIAL HARBOR ISLAND":1,"EASTLAKE - EAST":7,"LAKECITY":161}},{"month":"2015, 12","categories":{"Larceny-theft":2380,"Family offenses, nonviolent":67,"Fraud offenses":291,"Destruction/damage/vandalism of property":493,"Motor vehicle theft":402,"Robbery":107,"Sex offenses":29,"Drug/narcotic offenses":134,"Embezzlement":23,"Bad checks":30,"Driving under the influence":74,"Stolen property offenses":29,"Weapon law violations":51,"Counterfeiting/forgery":35,"Liquor law violations":5,"Curfew/loitering/vagrancy violations":4,"Arson":6,"Kidnapping/abduction":3,"Extortion/blackmail":2,"Peeping tom":1,"Pornography/obscene material":1,"Homicide offenses":3,"Prostitution offenses":7,"Trespass of real property":202,"Burglary/breaking&entering":699,"Assault offenses":735},"neighbourhoods":{"BELLTOWN":142,"SANDPOINT":141,"MORGAN":50,"MADISON PARK":20,"MOUNT BAKER":64,"SOUTH BEACON HILL":21,"MADRONA/LESCHI":75,"JUDKINS PARK/NORTH BEACON HILL":56,"EASTLAKE - WEST":21,"FIRST HILL":156,"SODO":101,"GREENWOOD":206,"MILLER PARK":40,"DOWNTOWN COMMERCIAL":555,"ROOSEVELT/RAVENNA":163,"CHINATOWN/INTERNATIONAL DISTRICT":144,"SLU/CASCADE":240,"NORTHGATE":455,"ALASKA JUNCTION":79,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":97,"BALLARD NORTH":158,"CENTRAL AREA/SQUIRE PARK":156,"PIONEER SQUARE":88,"BALLARD SOUTH":196,"QUEEN ANNE":277,"MAGNOLIA":86,"WALLINGFORD":100,"GENESEE":7,"CAPITOL HILL":350,"HIGHLAND PARK":64,"NORTH ADMIRAL":43,"UNIVERSITY":250,"RAINIER VIEW":81,"HIGH POINT":41,"MONTLAKE/PORTAGE BAY":31,"BRIGHTON/DUNLAP":76,"GEORGETOWN":65,"PHINNEY RIDGE":45,"FREMONT":99,"BITTERLAKE":114,"LAKEWOOD/SEWARD PARK":14,"NORTH BEACON HILL":90,"SOUTH PARK":37,"CLAREMONT/RAINIER VISTA":24,"ALKI":20,"FAUNTLEROY SW":30,"SOUTH DELRIDGE":15,"NEW HOLLY":26,"HILLMAN CITY":28,"COLUMBIA CITY":34,"PIGEON POINT":3,"MID BEACON HILL":40,"COMMERCIAL HARBOR ISLAND":3,"RAINIER BEACH":48,"UNKNOWN":24,"NORTH DELRIDGE":36,"COMMERCIAL DUWAMISH":1,"EASTLAKE - EAST":11,"LAKECITY":176}},{"month":"2016, 01","categories":{"Driving under the influence":94,"Larceny-theft":2453,"Robbery":139,"Motor vehicle theft":393,"Destruction/damage/vandalism of property":501,"Fraud offenses":293,"Arson":7,"Stolen property offenses":44,"Drug/narcotic offenses":151,"Bad checks":47,"Weapon law violations":51,"Prostitution offenses":37,"Liquor law violations":13,"Counterfeiting/forgery":36,"Family offenses, nonviolent":60,"Embezzlement":17,"Sex offenses":26,"Curfew/loitering/vagrancy violations":5,"Sex offenses, consensual":1,"Homicide offenses":3,"Extortion/blackmail":8,"Kidnapping/abduction":3,"Trespass of real property":225,"Assault offenses":746,"Burglary/breaking&entering":718},"neighbourhoods":{"MONTLAKE/PORTAGE BAY":58,"RAINIER BEACH":71,"NORTH BEACON HILL":64,"UNIVERSITY":250,"SLU/CASCADE":243,"PIONEER SQUARE":101,"QUEEN ANNE":291,"ROOSEVELT/RAVENNA":237,"PIGEON POINT":17,"DOWNTOWN COMMERCIAL":547,"CAPITOL HILL":380,"BALLARD NORTH":175,"ALASKA JUNCTION":94,"MID BEACON HILL":48,"BELLTOWN":147,"NORTH DELRIDGE":59,"NORTHGATE":487,"MAGNOLIA":94,"FAUNTLEROY SW":18,"CENTRAL AREA/SQUIRE PARK":145,"MADRONA/LESCHI":70,"MORGAN":67,"HIGH POINT":36,"BALLARD SOUTH":207,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":96,"COLUMBIA CITY":24,"JUDKINS PARK/NORTH BEACON HILL":65,"FREMONT":120,"BITTERLAKE":116,"CHINATOWN/INTERNATIONAL DISTRICT":116,"BRIGHTON/DUNLAP":54,"EASTLAKE - WEST":49,"GREENWOOD":164,"UNKNOWN":27,"MILLER PARK":55,"SOUTH BEACON HILL":13,"PHINNEY RIDGE":62,"GENESEE":13,"MADISON PARK":31,"HILLMAN CITY":26,"RAINIER VIEW":65,"HIGHLAND PARK":83,"SANDPOINT":136,"SOUTH PARK":49,"FIRST HILL":155,"COMMERCIAL DUWAMISH":3,"MOUNT BAKER":65,"NEW HOLLY":30,"SODO":75,"NORTH ADMIRAL":61,"WALLINGFORD":113,"GEORGETOWN":48,"ALKI":22,"SOUTH DELRIDGE":35,"CLAREMONT/RAINIER VISTA":24,"EASTLAKE - EAST":6,"LAKEWOOD/SEWARD PARK":18,"LAKECITY":146}},{"month":"2016, 02","categories":{"Larceny-theft":2265,"Driving under the influence":99,"Family offenses, nonviolent":85,"Motor vehicle theft":363,"Liquor law violations":10,"Destruction/damage/vandalism of property":527,"Robbery":104,"Fraud offenses":277,"Counterfeiting/forgery":38,"Sex offenses":27,"Drug/narcotic offenses":165,"Homicide offenses":4,"Bad checks":43,"Weapon law violations":63,"Pornography/obscene material":1,"Stolen property offenses":35,"Prostitution offenses":47,"Embezzlement":12,"Arson":9,"Curfew/loitering/vagrancy violations":6,"Kidnapping/abduction":3,"Extortion/blackmail":4,"Trespass of real property":224,"Assault offenses":711,"Burglary/breaking&entering":632},"neighbourhoods":{"QUEEN ANNE":254,"FIRST HILL":157,"SLU/CASCADE":261,"SANDPOINT":159,"WALLINGFORD":108,"BITTERLAKE":126,"NORTHGATE":400,"BALLARD NORTH":147,"CHINATOWN/INTERNATIONAL DISTRICT":106,"MONTLAKE/PORTAGE BAY":58,"NORTH BEACON HILL":104,"MILLER PARK":51,"CAPITOL HILL":416,"ROOSEVELT/RAVENNA":239,"MADRONA/LESCHI":80,"BALLARD SOUTH":207,"MOUNT BAKER":96,"DOWNTOWN COMMERCIAL":507,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":77,"MADISON PARK":29,"MID BEACON HILL":54,"NORTH ADMIRAL":45,"SODO":91,"RAINIER BEACH":65,"UNIVERSITY":191,"MAGNOLIA":89,"EASTLAKE - WEST":34,"FREMONT":99,"CENTRAL AREA/SQUIRE PARK":111,"HIGHLAND PARK":71,"ALASKA JUNCTION":69,"BELLTOWN":150,"PHINNEY RIDGE":49,"GREENWOOD":148,"COLUMBIA CITY":32,"BRIGHTON/DUNLAP":59,"NEW HOLLY":16,"SOUTH PARK":44,"SOUTH DELRIDGE":36,"LAKEWOOD/SEWARD PARK":21,"CLAREMONT/RAINIER VISTA":26,"FAUNTLEROY SW":20,"GEORGETOWN":49,"HILLMAN CITY":22,"PIONEER SQUARE":117,"JUDKINS PARK/NORTH BEACON HILL":26,"RAINIER VIEW":52,"MORGAN":42,"COMMERCIAL HARBOR ISLAND":2,"SOUTH BEACON HILL":30,"PIGEON POINT":6,"NORTH DELRIDGE":46,"HIGH POINT":50,"UNKNOWN":25,"ALKI":27,"EASTLAKE - EAST":6,"GENESEE":10,"LAKECITY":142}},{"month":"2016, 03","categories":{"Destruction/damage/vandalism of property":509,"Larceny-theft":2139,"Fraud offenses":285,"Weapon law violations":57,"Robbery":120,"Drug/narcotic offenses":140,"Motor vehicle theft":319,"Counterfeiting/forgery":25,"Family offenses, nonviolent":71,"Driving under the influence":98,"Embezzlement":9,"Bad checks":41,"Sex offenses":32,"Liquor law violations":8,"Kidnapping/abduction":3,"Prostitution offenses":22,"Sex offenses, consensual":2,"Homicide offenses":3,"Stolen property offenses":21,"Curfew/loitering/vagrancy violations":5,"Arson":1,"Extortion/blackmail":7,"Pornography/obscene material":2,"Bribery":1,"Peeping tom":1,"Trespass of real property":224,"Assault offenses":815,"Burglary/breaking&entering":622},"neighbourhoods":{"CAPITOL HILL":404,"UNIVERSITY":155,"QUEEN ANNE":223,"DOWNTOWN COMMERCIAL":503,"NORTHGATE":326,"ROOSEVELT/RAVENNA":193,"RAINIER BEACH":99,"SODO":63,"NORTH DELRIDGE":53,"BRIGHTON/DUNLAP":65,"CENTRAL AREA/SQUIRE PARK":145,"SLU/CASCADE":216,"BALLARD NORTH":119,"ALASKA JUNCTION":89,"HIGH POINT":60,"SANDPOINT":119,"GEORGETOWN":62,"UNKNOWN":29,"MID BEACON HILL":72,"NORTH BEACON HILL":111,"SOUTH DELRIDGE":37,"MADRONA/LESCHI":101,"SOUTH PARK":64,"NORTH ADMIRAL":47,"FREMONT":100,"EASTLAKE - WEST":34,"WALLINGFORD":108,"MOUNT BAKER":68,"HIGHLAND PARK":80,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":112,"GENESEE":13,"BALLARD SOUTH":204,"BELLTOWN":134,"MONTLAKE/PORTAGE BAY":47,"MILLER PARK":44,"JUDKINS PARK/NORTH BEACON HILL":41,"SOUTH BEACON HILL":32,"GREENWOOD":120,"FIRST HILL":138,"MORGAN":43,"HILLMAN CITY":19,"MADISON PARK":36,"PIONEER SQUARE":100,"NEW HOLLY":43,"CLAREMONT/RAINIER VISTA":31,"CHINATOWN/INTERNATIONAL DISTRICT":122,"BITTERLAKE":93,"MAGNOLIA":100,"ALKI":27,"COLUMBIA CITY":33,"LAKEWOOD/SEWARD PARK":44,"RAINIER VIEW":46,"FAUNTLEROY SW":19,"EASTLAKE - EAST":10,"PHINNEY RIDGE":32,"COMMERCIAL DUWAMISH":1,"PIGEON POINT":3,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":148}},{"month":"2016, 04","categories":{"Destruction/damage/vandalism of property":493,"Larceny-theft":2143,"Counterfeiting/forgery":29,"Driving under the influence":103,"Sex offenses":59,"Robbery":132,"Arson":4,"Fraud offenses":313,"Motor vehicle theft":302,"Drug/narcotic offenses":148,"Bad checks":32,"Stolen property offenses":31,"Curfew/loitering/vagrancy violations":4,"Weapon law violations":44,"Liquor law violations":10,"Family offenses, nonviolent":88,"Prostitution offenses":14,"Extortion/blackmail":5,"Embezzlement":13,"Kidnapping/abduction":4,"Homicide offenses":2,"Trespass of real property":188,"Assault offenses":744,"Burglary/breaking&entering":646},"neighbourhoods":{"DOWNTOWN COMMERCIAL":498,"SANDPOINT":140,"ROOSEVELT/RAVENNA":230,"MORGAN":54,"RAINIER VIEW":57,"QUEEN ANNE":255,"MILLER PARK":43,"FIRST HILL":144,"GREENWOOD":129,"MAGNOLIA":94,"JUDKINS PARK/NORTH BEACON HILL":41,"BALLARD SOUTH":173,"CAPITOL HILL":403,"NORTH DELRIDGE":44,"BALLARD NORTH":126,"NORTHGATE":343,"MADRONA/LESCHI":72,"SLU/CASCADE":252,"UNIVERSITY":202,"RAINIER BEACH":74,"SOUTH DELRIDGE":34,"SODO":75,"PIONEER SQUARE":106,"PHINNEY RIDGE":33,"ALASKA JUNCTION":84,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":95,"CLAREMONT/RAINIER VISTA":38,"BRIGHTON/DUNLAP":74,"FREMONT":76,"HIGHLAND PARK":73,"EASTLAKE - WEST":29,"CENTRAL AREA/SQUIRE PARK":138,"MONTLAKE/PORTAGE BAY":41,"EASTLAKE - EAST":13,"NORTH BEACON HILL":91,"BITTERLAKE":102,"SOUTH PARK":49,"LAKEWOOD/SEWARD PARK":40,"BELLTOWN":119,"GENESEE":19,"SOUTH BEACON HILL":20,"COLUMBIA CITY":16,"MADISON PARK":24,"NEW HOLLY":32,"HIGH POINT":38,"FAUNTLEROY SW":22,"WALLINGFORD":118,"CHINATOWN/INTERNATIONAL DISTRICT":134,"MOUNT BAKER":68,"GEORGETOWN":63,"PIGEON POINT":4,"ALKI":33,"MID BEACON HILL":46,"NORTH ADMIRAL":55,"UNKNOWN":26,"COMMERCIAL DUWAMISH":3,"HILLMAN CITY":12,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":133}},{"month":"2016, 05","categories":{"Drug/narcotic offenses":156,"Family offenses, nonviolent":77,"Larceny-theft":2365,"Motor vehicle theft":338,"Fraud offenses":310,"Destruction/damage/vandalism of property":565,"Driving under the influence":92,"Prostitution offenses":17,"Liquor law violations":13,"Robbery":128,"Stolen property offenses":35,"Embezzlement":19,"Counterfeiting/forgery":30,"Weapon law violations":60,"Sex offenses":39,"Bad checks":39,"Peeping tom":1,"Curfew/loitering/vagrancy violations":13,"Arson":11,"Pornography/obscene material":2,"Kidnapping/abduction":9,"Extortion/blackmail":7,"Sex offenses, consensual":1,"Homicide offenses":1,"Trespass of real property":272,"Burglary/breaking&entering":694,"Assault offenses":875},"neighbourhoods":{"PIONEER SQUARE":106,"MID BEACON HILL":53,"BALLARD NORTH":141,"UNIVERSITY":243,"SLU/CASCADE":287,"NORTHGATE":367,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":95,"DOWNTOWN COMMERCIAL":544,"HILLMAN CITY":21,"BITTERLAKE":137,"ROOSEVELT/RAVENNA":186,"SANDPOINT":152,"SODO":96,"QUEEN ANNE":324,"CAPITOL HILL":423,"BELLTOWN":189,"MAGNOLIA":78,"GREENWOOD":156,"CENTRAL AREA/SQUIRE PARK":142,"MONTLAKE/PORTAGE BAY":38,"CHINATOWN/INTERNATIONAL DISTRICT":197,"LAKEWOOD/SEWARD PARK":46,"WALLINGFORD":123,"GENESEE":17,"ALASKA JUNCTION":88,"FIRST HILL":157,"MADRONA/LESCHI":60,"PHINNEY RIDGE":56,"NORTH BEACON HILL":83,"HIGH POINT":59,"MADISON PARK":29,"UNKNOWN":40,"FREMONT":108,"NORTH ADMIRAL":73,"HIGHLAND PARK":71,"MORGAN":53,"FAUNTLEROY SW":21,"BRIGHTON/DUNLAP":55,"MOUNT BAKER":80,"GEORGETOWN":78,"JUDKINS PARK/NORTH BEACON HILL":38,"BALLARD SOUTH":192,"RAINIER BEACH":65,"MILLER PARK":44,"RAINIER VIEW":51,"NEW HOLLY":34,"NORTH DELRIDGE":43,"SOUTH PARK":60,"SOUTH DELRIDGE":22,"PIGEON POINT":5,"COLUMBIA CITY":33,"ALKI":27,"EASTLAKE - WEST":33,"EASTLAKE - EAST":11,"CLAREMONT/RAINIER VISTA":33,"SOUTH BEACON HILL":23,"COMMERCIAL DUWAMISH":3,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":178}},{"month":"2016, 06","categories":{"Drug/narcotic offenses":144,"Kidnapping/abduction":9,"Larceny-theft":2183,"Destruction/damage/vandalism of property":539,"Motor vehicle theft":298,"Fraud offenses":307,"Bad checks":52,"Robbery":143,"Family offenses, nonviolent":117,"Embezzlement":9,"Prostitution offenses":31,"Sex offenses":38,"Arson":20,"Weapon law violations":53,"Driving under the influence":81,"Counterfeiting/forgery":27,"Stolen property offenses":29,"Liquor law violations":10,"Extortion/blackmail":3,"Curfew/loitering/vagrancy violations":4,"Sex offenses, consensual":1,"Homicide offenses":1,"Trespass of real property":245,"Assault offenses":835,"Burglary/breaking&entering":557},"neighbourhoods":{"BELLTOWN":131,"NORTH BEACON HILL":99,"PHINNEY RIDGE":55,"BALLARD SOUTH":156,"PIONEER SQUARE":71,"DOWNTOWN COMMERCIAL":527,"NORTHGATE":362,"FIRST HILL":139,"SANDPOINT":112,"MONTLAKE/PORTAGE BAY":39,"SLU/CASCADE":209,"UNIVERSITY":195,"QUEEN ANNE":307,"ROOSEVELT/RAVENNA":205,"SODO":103,"RAINIER BEACH":69,"MOUNT BAKER":76,"CAPITOL HILL":351,"MADRONA/LESCHI":70,"WALLINGFORD":109,"GREENWOOD":154,"BRIGHTON/DUNLAP":80,"MAGNOLIA":98,"JUDKINS PARK/NORTH BEACON HILL":56,"ALASKA JUNCTION":67,"MADISON PARK":19,"CENTRAL AREA/SQUIRE PARK":124,"ALKI":45,"FREMONT":108,"MILLER PARK":23,"CHINATOWN/INTERNATIONAL DISTRICT":185,"NORTH ADMIRAL":56,"BITTERLAKE":127,"RAINIER VIEW":42,"BALLARD NORTH":129,"HIGHLAND PARK":83,"COLUMBIA CITY":41,"MORGAN":48,"NORTH DELRIDGE":38,"GEORGETOWN":66,"CLAREMONT/RAINIER VISTA":30,"EASTLAKE - WEST":34,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":77,"HIGH POINT":67,"MID BEACON HILL":63,"SOUTH PARK":65,"HILLMAN CITY":27,"GENESEE":20,"SOUTH DELRIDGE":28,"LAKEWOOD/SEWARD PARK":40,"NEW HOLLY":24,"UNKNOWN":30,"FAUNTLEROY SW":21,"COMMERCIAL HARBOR ISLAND":1,"COMMERCIAL DUWAMISH":9,"SOUTH BEACON HILL":24,"PIGEON POINT":3,"EASTLAKE - EAST":7,"LAKECITY":192}},{"month":"2016, 07","categories":{"Larceny-theft":2219,"Driving under the influence":92,"Destruction/damage/vandalism of property":595,"Family offenses, nonviolent":77,"Fraud offenses":320,"Drug/narcotic offenses":172,"Arson":15,"Kidnapping/abduction":8,"Motor vehicle theft":316,"Robbery":133,"Sex offenses":31,"Weapon law violations":73,"Liquor law violations":12,"Stolen property offenses":36,"Counterfeiting/forgery":25,"Bad checks":35,"Pornography/obscene material":2,"Extortion/blackmail":3,"Curfew/loitering/vagrancy violations":1,"Prostitution offenses":225,"Homicide offenses":1,"Embezzlement":5,"Peeping tom":1,"Sex offenses, consensual":1,"Trespass of real property":244,"Burglary/breaking&entering":589,"Assault offenses":895},"neighbourhoods":{"FREMONT":93,"PIONEER SQUARE":76,"BRIGHTON/DUNLAP":68,"CAPITOL HILL":378,"BELLTOWN":130,"HIGHLAND PARK":80,"BALLARD SOUTH":161,"DOWNTOWN COMMERCIAL":530,"SOUTH DELRIDGE":31,"QUEEN ANNE":297,"SLU/CASCADE":294,"ROOSEVELT/RAVENNA":202,"SODO":85,"MAGNOLIA":103,"CENTRAL AREA/SQUIRE PARK":134,"UNKNOWN":35,"CHINATOWN/INTERNATIONAL DISTRICT":258,"SOUTH BEACON HILL":26,"NORTH DELRIDGE":43,"RAINIER BEACH":61,"UNIVERSITY":425,"ALKI":36,"MONTLAKE/PORTAGE BAY":64,"NORTHGATE":342,"GEORGETOWN":87,"BITTERLAKE":91,"GREENWOOD":148,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":92,"WALLINGFORD":115,"EASTLAKE - EAST":9,"FIRST HILL":116,"NEW HOLLY":38,"RAINIER VIEW":40,"PHINNEY RIDGE":58,"MID BEACON HILL":48,"NORTH BEACON HILL":97,"MORGAN":64,"BALLARD NORTH":135,"CLAREMONT/RAINIER VISTA":29,"MOUNT BAKER":92,"MADRONA/LESCHI":70,"EASTLAKE - WEST":36,"MILLER PARK":35,"SOUTH PARK":51,"ALASKA JUNCTION":98,"SANDPOINT":133,"JUDKINS PARK/NORTH BEACON HILL":34,"FAUNTLEROY SW":25,"MADISON PARK":24,"COLUMBIA CITY":46,"HILLMAN CITY":30,"GENESEE":10,"NORTH ADMIRAL":48,"LAKEWOOD/SEWARD PARK":41,"PIGEON POINT":3,"COMMERCIAL DUWAMISH":1,"COMMERCIAL HARBOR ISLAND":2,"HIGH POINT":56,"LAKECITY":172}},{"month":"2016, 08","categories":{"Destruction/damage/vandalism of property":553,"Larceny-theft":2263,"Drug/narcotic offenses":169,"Motor vehicle theft":344,"Fraud offenses":329,"Family offenses, nonviolent":70,"Sex offenses":42,"Robbery":137,"Weapon law violations":62,"Embezzlement":15,"Liquor law violations":5,"Driving under the influence":98,"Stolen property offenses":29,"Bad checks":37,"Extortion/blackmail":5,"Curfew/loitering/vagrancy violations":3,"Counterfeiting/forgery":26,"Arson":10,"Prostitution offenses":10,"Kidnapping/abduction":6,"Peeping tom":1,"Pornography/obscene material":1,"Homicide offenses":1,"Trespass of real property":218,"Burglary/breaking&entering":535,"Assault offenses":919},"neighbourhoods":{"SLU/CASCADE":307,"FREMONT":93,"BALLARD SOUTH":208,"CAPITOL HILL":348,"FAUNTLEROY SW":28,"MOUNT BAKER":77,"GREENWOOD":133,"SANDPOINT":148,"CLAREMONT/RAINIER VISTA":30,"DOWNTOWN COMMERCIAL":547,"WALLINGFORD":121,"BITTERLAKE":114,"NORTHGATE":357,"NORTH BEACON HILL":81,"BALLARD NORTH":112,"COLUMBIA CITY":19,"FIRST HILL":139,"HIGHLAND PARK":47,"CENTRAL AREA/SQUIRE PARK":149,"ALASKA JUNCTION":107,"ROOSEVELT/RAVENNA":210,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":98,"CHINATOWN/INTERNATIONAL DISTRICT":221,"UNIVERSITY":200,"HILLMAN CITY":16,"JUDKINS PARK/NORTH BEACON HILL":50,"MONTLAKE/PORTAGE BAY":44,"MILLER PARK":35,"PIONEER SQUARE":115,"SODO":102,"GEORGETOWN":70,"EASTLAKE - WEST":41,"NORTH ADMIRAL":75,"GENESEE":19,"QUEEN ANNE":255,"NORTH DELRIDGE":51,"MORGAN":54,"UNKNOWN":35,"MADISON PARK":22,"MID BEACON HILL":61,"BELLTOWN":128,"SOUTH PARK":43,"PHINNEY RIDGE":49,"MAGNOLIA":120,"HIGH POINT":38,"RAINIER BEACH":65,"BRIGHTON/DUNLAP":60,"MADRONA/LESCHI":72,"LAKEWOOD/SEWARD PARK":26,"RAINIER VIEW":47,"SOUTH BEACON HILL":19,"ALKI":41,"NEW HOLLY":26,"SOUTH DELRIDGE":23,"COMMERCIAL DUWAMISH":3,"EASTLAKE - EAST":11,"PIGEON POINT":6,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":170}},{"month":"2016, 09","categories":{"Larceny-theft":2122,"Destruction/damage/vandalism of property":495,"Driving under the influence":94,"Drug/narcotic offenses":172,"Motor vehicle theft":310,"Family offenses, nonviolent":56,"Fraud offenses":298,"Robbery":130,"Bad checks":39,"Stolen property offenses":38,"Weapon law violations":53,"Kidnapping/abduction":3,"Prostitution offenses":24,"Sex offenses":43,"Peeping tom":2,"Embezzlement":9,"Arson":9,"Counterfeiting/forgery":30,"Pornography/obscene material":1,"Bribery":1,"Liquor law violations":9,"Extortion/blackmail":3,"Curfew/loitering/vagrancy violations":4,"Trespass of real property":219,"Assault offenses":839,"Burglary/breaking&entering":638},"neighbourhoods":{"NORTHGATE":319,"CAPITOL HILL":338,"BELLTOWN":178,"CHINATOWN/INTERNATIONAL DISTRICT":200,"UNIVERSITY":266,"QUEEN ANNE":280,"SODO":115,"COLUMBIA CITY":31,"NEW HOLLY":33,"MAGNOLIA":81,"DOWNTOWN COMMERCIAL":488,"BITTERLAKE":121,"GREENWOOD":93,"RAINIER BEACH":59,"MONTLAKE/PORTAGE BAY":47,"FIRST HILL":145,"PIONEER SQUARE":94,"CENTRAL AREA/SQUIRE PARK":127,"FREMONT":111,"BALLARD SOUTH":152,"UNKNOWN":40,"ALKI":26,"MOUNT BAKER":77,"GENESEE":17,"HILLMAN CITY":30,"LAKEWOOD/SEWARD PARK":25,"NORTH BEACON HILL":94,"MORGAN":71,"ROOSEVELT/RAVENNA":200,"WALLINGFORD":111,"PIGEON POINT":3,"HIGH POINT":52,"SANDPOINT":138,"MADRONA/LESCHI":74,"BALLARD NORTH":107,"SLU/CASCADE":268,"ALASKA JUNCTION":83,"MADISON PARK":25,"SOUTH PARK":40,"EASTLAKE - EAST":11,"GEORGETOWN":61,"RAINIER VIEW":57,"EASTLAKE - WEST":37,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":91,"BRIGHTON/DUNLAP":64,"HIGHLAND PARK":59,"CLAREMONT/RAINIER VISTA":30,"PHINNEY RIDGE":46,"MID BEACON HILL":50,"NORTH DELRIDGE":49,"NORTH ADMIRAL":44,"MILLER PARK":31,"JUDKINS PARK/NORTH BEACON HILL":56,"SOUTH BEACON HILL":23,"FAUNTLEROY SW":20,"SOUTH DELRIDGE":15,"COMMERCIAL DUWAMISH":4,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":133}},{"month":"2016, 10","categories":{"Robbery":138,"Family offenses, nonviolent":66,"Motor vehicle theft":405,"Bad checks":48,"Counterfeiting/forgery":30,"Larceny-theft":2351,"Destruction/damage/vandalism of property":497,"Prostitution offenses":6,"Fraud offenses":328,"Weapon law violations":53,"Drug/narcotic offenses":137,"Driving under the influence":96,"Embezzlement":18,"Sex offenses":42,"Stolen property offenses":27,"Arson":8,"Extortion/blackmail":9,"Curfew/loitering/vagrancy violations":2,"Liquor law violations":7,"Kidnapping/abduction":3,"Peeping tom":1,"Homicide offenses":2,"Sex offenses, consensual":1,"Trespass of real property":267,"Burglary/breaking&entering":649,"Assault offenses":775},"neighbourhoods":{"BALLARD NORTH":140,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":112,"SANDPOINT":150,"WALLINGFORD":105,"CAPITOL HILL":414,"COLUMBIA CITY":39,"HIGHLAND PARK":58,"NORTH DELRIDGE":53,"NORTHGATE":384,"SODO":112,"SLU/CASCADE":260,"FIRST HILL":156,"ALKI":40,"RAINIER VIEW":66,"HILLMAN CITY":23,"DOWNTOWN COMMERCIAL":501,"CHINATOWN/INTERNATIONAL DISTRICT":198,"ROOSEVELT/RAVENNA":222,"BELLTOWN":121,"GEORGETOWN":59,"ALASKA JUNCTION":92,"MOUNT BAKER":60,"UNIVERSITY":263,"QUEEN ANNE":276,"RAINIER BEACH":45,"MORGAN":65,"CENTRAL AREA/SQUIRE PARK":132,"FAUNTLEROY SW":28,"SOUTH DELRIDGE":23,"BALLARD SOUTH":190,"MADRONA/LESCHI":69,"BITTERLAKE":106,"LAKEWOOD/SEWARD PARK":43,"NORTH BEACON HILL":85,"HIGH POINT":44,"EASTLAKE - WEST":45,"MID BEACON HILL":85,"MAGNOLIA":114,"JUDKINS PARK/NORTH BEACON HILL":64,"CLAREMONT/RAINIER VISTA":32,"PHINNEY RIDGE":52,"FREMONT":87,"GREENWOOD":111,"UNKNOWN":38,"BRIGHTON/DUNLAP":63,"NEW HOLLY":27,"SOUTH BEACON HILL":33,"NORTH ADMIRAL":50,"GENESEE":14,"MONTLAKE/PORTAGE BAY":37,"PIONEER SQUARE":82,"EASTLAKE - EAST":10,"SOUTH PARK":48,"MILLER PARK":36,"MADISON PARK":26,"PIGEON POINT":6,"COMMERCIAL DUWAMISH":2,"COMMERCIAL HARBOR ISLAND":6,"LAKECITY":164}},{"month":"2016, 11","categories":{"Larceny-theft":2372,"Motor vehicle theft":422,"Robbery":121,"Destruction/damage/vandalism of property":538,"Family offenses, nonviolent":70,"Sex offenses":39,"Counterfeiting/forgery":20,"Stolen property offenses":32,"Fraud offenses":267,"Driving under the influence":87,"Drug/narcotic offenses":136,"Bad checks":27,"Weapon law violations":46,"Embezzlement":9,"Curfew/loitering/vagrancy violations":8,"Liquor law violations":10,"Prostitution offenses":19,"Kidnapping/abduction":4,"Extortion/blackmail":6,"Arson":5,"Peeping tom":1,"Homicide offenses":2,"Sex offenses, consensual":1,"Trespass of real property":255,"Assault offenses":834,"Burglary/breaking&entering":608},"neighbourhoods":{"UNIVERSITY":246,"WALLINGFORD":170,"DOWNTOWN COMMERCIAL":528,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":106,"BALLARD NORTH":140,"QUEEN ANNE":309,"CAPITOL HILL":353,"ALASKA JUNCTION":109,"RAINIER VIEW":72,"SODO":107,"MAGNOLIA":95,"MONTLAKE/PORTAGE BAY":36,"ALKI":26,"MORGAN":53,"NORTH ADMIRAL":67,"BELLTOWN":132,"PHINNEY RIDGE":41,"JUDKINS PARK/NORTH BEACON HILL":50,"HIGHLAND PARK":69,"CHINATOWN/INTERNATIONAL DISTRICT":204,"BALLARD SOUTH":175,"SANDPOINT":149,"NORTHGATE":356,"CENTRAL AREA/SQUIRE PARK":138,"FAUNTLEROY SW":33,"SLU/CASCADE":238,"CLAREMONT/RAINIER VISTA":27,"GREENWOOD":119,"NORTH BEACON HILL":83,"ROOSEVELT/RAVENNA":190,"MILLER PARK":38,"COLUMBIA CITY":38,"MADISON PARK":17,"UNKNOWN":45,"MID BEACON HILL":59,"GEORGETOWN":67,"RAINIER BEACH":52,"FREMONT":107,"MOUNT BAKER":98,"NORTH DELRIDGE":53,"EASTLAKE - WEST":40,"HIGH POINT":66,"FIRST HILL":159,"BRIGHTON/DUNLAP":41,"MADRONA/LESCHI":65,"HILLMAN CITY":30,"PIONEER SQUARE":100,"BITTERLAKE":112,"SOUTH PARK":57,"LAKEWOOD/SEWARD PARK":26,"EASTLAKE - EAST":11,"SOUTH DELRIDGE":20,"NEW HOLLY":27,"SOUTH BEACON HILL":24,"GENESEE":9,"COMMERCIAL DUWAMISH":8,"PIGEON POINT":4,"LAKECITY":145}},{"month":"2016, 12","categories":{"Driving under the influence":133,"Drug/narcotic offenses":157,"Larceny-theft":2330,"Destruction/damage/vandalism of property":506,"Extortion/blackmail":8,"Stolen property offenses":29,"Weapon law violations":49,"Motor vehicle theft":377,"Fraud offenses":336,"Robbery":130,"Arson":3,"Family offenses, nonviolent":64,"Counterfeiting/forgery":30,"Embezzlement":21,"Bad checks":46,"Sex offenses":43,"Liquor law violations":3,"Curfew/loitering/vagrancy violations":7,"Kidnapping/abduction":3,"Homicide offenses":1,"Sex offenses, consensual":2,"Peeping tom":1,"Bribery":1,"Pornography/obscene material":2,"Prostitution offenses":2,"Trespass of real property":245,"Assault offenses":789,"Burglary/breaking&entering":636},"neighbourhoods":{"JUDKINS PARK/NORTH BEACON HILL":63,"SLU/CASCADE":275,"DOWNTOWN COMMERCIAL":574,"NORTHGATE":348,"UNIVERSITY":245,"CAPITOL HILL":324,"BITTERLAKE":155,"BALLARD NORTH":140,"FREMONT":101,"PIGEON POINT":4,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":125,"BALLARD SOUTH":168,"WALLINGFORD":132,"ALASKA JUNCTION":106,"NORTH DELRIDGE":59,"ROOSEVELT/RAVENNA":225,"RAINIER BEACH":53,"NORTH ADMIRAL":48,"SODO":102,"MOUNT BAKER":80,"SANDPOINT":146,"MADRONA/LESCHI":54,"QUEEN ANNE":257,"MONTLAKE/PORTAGE BAY":42,"PHINNEY RIDGE":55,"NORTH BEACON HILL":94,"EASTLAKE - WEST":33,"CHINATOWN/INTERNATIONAL DISTRICT":193,"ALKI":13,"FIRST HILL":139,"BELLTOWN":149,"GREENWOOD":172,"MID BEACON HILL":46,"CENTRAL AREA/SQUIRE PARK":121,"SOUTH BEACON HILL":16,"MORGAN":67,"MAGNOLIA":97,"COLUMBIA CITY":31,"UNKNOWN":34,"CLAREMONT/RAINIER VISTA":30,"BRIGHTON/DUNLAP":65,"COMMERCIAL HARBOR ISLAND":3,"MILLER PARK":37,"HIGH POINT":49,"GENESEE":16,"SOUTH PARK":34,"HIGHLAND PARK":74,"LAKEWOOD/SEWARD PARK":25,"COMMERCIAL DUWAMISH":3,"SOUTH DELRIDGE":40,"PIONEER SQUARE":84,"GEORGETOWN":80,"MADISON PARK":26,"HILLMAN CITY":23,"RAINIER VIEW":60,"FAUNTLEROY SW":29,"NEW HOLLY":27,"EASTLAKE - EAST":9,"LAKECITY":154}},{"month":"2017, 01","categories":{"Larceny-theft":2346,"Drug/narcotic offenses":181,"Driving under the influence":120,"Motor vehicle theft":300,"Destruction/damage/vandalism of property":580,"Fraud offenses":322,"Robbery":114,"Weapon law violations":57,"Stolen property offenses":42,"Family offenses, nonviolent":74,"Counterfeiting/forgery":44,"Bad checks":44,"Sex offenses":40,"Kidnapping/abduction":5,"Prostitution offenses":30,"Extortion/blackmail":4,"Embezzlement":9,"Curfew/loitering/vagrancy violations":4,"Homicide offenses":2,"Liquor law violations":8,"Arson":10,"Sex offenses, consensual":5,"Pornography/obscene material":2,"Trespass of real property":299,"Assault offenses":818,"Burglary/breaking&entering":707},"neighbourhoods":{"ROOSEVELT/RAVENNA":219,"MOUNT BAKER":70,"CENTRAL AREA/SQUIRE PARK":118,"NORTH ADMIRAL":58,"FREMONT":108,"UNIVERSITY":301,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":120,"NORTHGATE":360,"BELLTOWN":165,"DOWNTOWN COMMERCIAL":612,"WALLINGFORD":139,"CAPITOL HILL":389,"BALLARD NORTH":147,"MID BEACON HILL":40,"BALLARD SOUTH":188,"MADRONA/LESCHI":54,"CHINATOWN/INTERNATIONAL DISTRICT":190,"HIGH POINT":56,"MORGAN":69,"CLAREMONT/RAINIER VISTA":36,"SANDPOINT":164,"MILLER PARK":46,"QUEEN ANNE":323,"NEW HOLLY":28,"MADISON PARK":24,"ALKI":25,"GREENWOOD":127,"PIONEER SQUARE":84,"SOUTH DELRIDGE":34,"BITTERLAKE":119,"HILLMAN CITY":29,"SLU/CASCADE":270,"PHINNEY RIDGE":78,"FIRST HILL":173,"SOUTH PARK":51,"ALASKA JUNCTION":105,"MONTLAKE/PORTAGE BAY":37,"NORTH DELRIDGE":44,"BRIGHTON/DUNLAP":46,"SODO":93,"EASTLAKE - WEST":26,"FAUNTLEROY SW":26,"COLUMBIA CITY":32,"HIGHLAND PARK":68,"UNKNOWN":43,"NORTH BEACON HILL":86,"MAGNOLIA":68,"SOUTH BEACON HILL":15,"GEORGETOWN":60,"EASTLAKE - EAST":17,"RAINIER VIEW":46,"LAKEWOOD/SEWARD PARK":17,"RAINIER BEACH":41,"GENESEE":6,"JUDKINS PARK/NORTH BEACON HILL":66,"PIGEON POINT":3,"COMMERCIAL DUWAMISH":5,"COMMERCIAL HARBOR ISLAND":4,"LAKECITY":199}},{"month":"2017, 02","categories":{"Destruction/damage/vandalism of property":484,"Larceny-theft":1885,"Motor vehicle theft":270,"Fraud offenses":347,"Family offenses, nonviolent":69,"Robbery":112,"Driving under the influence":110,"Counterfeiting/forgery":19,"Drug/narcotic offenses":177,"Bad checks":33,"Arson":20,"Stolen property offenses":24,"Kidnapping/abduction":4,"Peeping tom":2,"Weapon law violations":34,"Sex offenses":32,"Curfew/loitering/vagrancy violations":9,"Liquor law violations":2,"Embezzlement":9,"Extortion/blackmail":6,"Prostitution offenses":28,"Trespass of real property":275,"Assault offenses":726,"Burglary/breaking&entering":543,"Sex offenses, consensual":1},"neighbourhoods":{"BITTERLAKE":113,"QUEEN ANNE":268,"DOWNTOWN COMMERCIAL":488,"BELLTOWN":148,"CLAREMONT/RAINIER VISTA":21,"ALASKA JUNCTION":82,"FREMONT":84,"NORTH ADMIRAL":57,"BALLARD NORTH":107,"ROOSEVELT/RAVENNA":197,"BALLARD SOUTH":162,"MADISON PARK":6,"HIGH POINT":48,"UNIVERSITY":236,"NORTHGATE":346,"BRIGHTON/DUNLAP":43,"WALLINGFORD":123,"CENTRAL AREA/SQUIRE PARK":104,"EASTLAKE - EAST":8,"MONTLAKE/PORTAGE BAY":21,"SANDPOINT":105,"SODO":95,"NORTH DELRIDGE":55,"RAINIER VIEW":32,"CAPITOL HILL":356,"CHINATOWN/INTERNATIONAL DISTRICT":159,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":80,"GREENWOOD":116,"SLU/CASCADE":233,"RAINIER BEACH":40,"MILLER PARK":38,"MID BEACON HILL":45,"SOUTH PARK":39,"HIGHLAND PARK":52,"SOUTH DELRIDGE":31,"FIRST HILL":189,"MORGAN":43,"EASTLAKE - WEST":26,"NEW HOLLY":24,"MAGNOLIA":64,"FAUNTLEROY SW":24,"NORTH BEACON HILL":64,"MOUNT BAKER":65,"PHINNEY RIDGE":54,"MADRONA/LESCHI":57,"COLUMBIA CITY":37,"ALKI":26,"JUDKINS PARK/NORTH BEACON HILL":39,"PIONEER SQUARE":74,"UNKNOWN":30,"GEORGETOWN":70,"LAKEWOOD/SEWARD PARK":16,"PIGEON POINT":5,"SOUTH BEACON HILL":14,"HILLMAN CITY":25,"COMMERCIAL HARBOR ISLAND":5,"COMMERCIAL DUWAMISH":6,"GENESEE":10,"LAKECITY":116}},{"month":"2017, 03","categories":{"Larceny-theft":2338,"Drug/narcotic offenses":173,"Destruction/damage/vandalism of property":527,"Fraud offenses":377,"Driving under the influence":111,"Motor vehicle theft":321,"Sex offenses":58,"Robbery":137,"Arson":9,"Weapon law violations":63,"Stolen property offenses":42,"Bad checks":48,"Counterfeiting/forgery":24,"Family offenses, nonviolent":93,"Extortion/blackmail":9,"Kidnapping/abduction":6,"Prostitution offenses":42,"Curfew/loitering/vagrancy violations":6,"Pornography/obscene material":4,"Embezzlement":15,"Peeping tom":1,"Liquor law violations":2,"Sex offenses, consensual":1,"Trespass of real property":362,"Assault offenses":808,"Burglary/breaking&entering":635},"neighbourhoods":{"SLU/CASCADE":244,"ROOSEVELT/RAVENNA":201,"BELLTOWN":152,"BRIGHTON/DUNLAP":72,"CAPITOL HILL":387,"DOWNTOWN COMMERCIAL":635,"NEW HOLLY":35,"SANDPOINT":108,"FREMONT":112,"PHINNEY RIDGE":80,"MADRONA/LESCHI":69,"HIGHLAND PARK":46,"BALLARD SOUTH":189,"CENTRAL AREA/SQUIRE PARK":175,"GEORGETOWN":73,"NORTHGATE":431,"GREENWOOD":235,"NORTH ADMIRAL":68,"ALKI":31,"BITTERLAKE":154,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":86,"BALLARD NORTH":144,"MOUNT BAKER":73,"ALASKA JUNCTION":132,"UNIVERSITY":249,"RAINIER VIEW":49,"PIONEER SQUARE":76,"HIGH POINT":48,"QUEEN ANNE":297,"RAINIER BEACH":62,"MID BEACON HILL":53,"FAUNTLEROY SW":20,"SOUTH PARK":64,"FIRST HILL":164,"MONTLAKE/PORTAGE BAY":39,"JUDKINS PARK/NORTH BEACON HILL":47,"COMMERCIAL HARBOR ISLAND":8,"UNKNOWN":34,"WALLINGFORD":108,"CHINATOWN/INTERNATIONAL DISTRICT":186,"MAGNOLIA":78,"GENESEE":21,"NORTH DELRIDGE":48,"COLUMBIA CITY":39,"NORTH BEACON HILL":71,"EASTLAKE - WEST":30,"CLAREMONT/RAINIER VISTA":20,"MADISON PARK":12,"MILLER PARK":48,"LAKEWOOD/SEWARD PARK":22,"PIGEON POINT":5,"HILLMAN CITY":21,"SODO":75,"MORGAN":50,"EASTLAKE - EAST":17,"SOUTH DELRIDGE":23,"SOUTH BEACON HILL":18,"COMMERCIAL DUWAMISH":1,"LAKECITY":177}},{"month":"2017, 04","categories":{"Destruction/damage/vandalism of property":542,"Larceny-theft":2219,"Robbery":144,"Drug/narcotic offenses":153,"Bad checks":49,"Sex offenses":30,"Motor vehicle theft":247,"Driving under the influence":104,"Fraud offenses":383,"Weapon law violations":82,"Counterfeiting/forgery":31,"Arson":14,"Family offenses, nonviolent":85,"Prostitution offenses":8,"Pornography/obscene material":4,"Homicide offenses":2,"Liquor law violations":13,"Kidnapping/abduction":11,"Embezzlement":14,"Stolen property offenses":27,"Extortion/blackmail":7,"Curfew/loitering/vagrancy violations":8,"Sex offenses, consensual":3,"Peeping tom":3,"Trespass of real property":305,"Burglary/breaking&entering":622,"Assault offenses":828},"neighbourhoods":{"RAINIER BEACH":58,"DOWNTOWN COMMERCIAL":553,"BELLTOWN":174,"CAPITOL HILL":425,"CHINATOWN/INTERNATIONAL DISTRICT":170,"COLUMBIA CITY":34,"MILLER PARK":42,"UNIVERSITY":250,"GEORGETOWN":75,"MOUNT BAKER":57,"MONTLAKE/PORTAGE BAY":60,"ROOSEVELT/RAVENNA":204,"ALASKA JUNCTION":125,"NORTHGATE":354,"FAUNTLEROY SW":27,"EASTLAKE - WEST":34,"FIRST HILL":147,"GREENWOOD":102,"QUEEN ANNE":299,"SLU/CASCADE":261,"MADRONA/LESCHI":55,"WALLINGFORD":96,"SOUTH DELRIDGE":22,"MAGNOLIA":122,"FREMONT":113,"GENESEE":16,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":102,"BALLARD NORTH":111,"NEW HOLLY":29,"SOUTH PARK":50,"PHINNEY RIDGE":40,"BITTERLAKE":118,"NORTH BEACON HILL":70,"BALLARD SOUTH":188,"HIGH POINT":44,"CENTRAL AREA/SQUIRE PARK":144,"MID BEACON HILL":41,"RAINIER VIEW":67,"SODO":93,"SANDPOINT":126,"LAKEWOOD/SEWARD PARK":29,"JUDKINS PARK/NORTH BEACON HILL":49,"HIGHLAND PARK":70,"MORGAN":35,"NORTH DELRIDGE":52,"BRIGHTON/DUNLAP":93,"SOUTH BEACON HILL":18,"ALKI":37,"UNKNOWN":50,"PIONEER SQUARE":80,"NORTH ADMIRAL":64,"HILLMAN CITY":20,"MADISON PARK":20,"CLAREMONT/RAINIER VISTA":42,"COMMERCIAL DUWAMISH":1,"PIGEON POINT":7,"EASTLAKE - EAST":9,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":163}},{"month":"2017, 05","categories":{"Liquor law violations":6,"Larceny-theft":2249,"Destruction/damage/vandalism of property":542,"Family offenses, nonviolent":84,"Stolen property offenses":51,"Fraud offenses":341,"Motor vehicle theft":265,"Drug/narcotic offenses":193,"Sex offenses":45,"Weapon law violations":74,"Driving under the influence":135,"Bad checks":36,"Robbery":133,"Embezzlement":7,"Counterfeiting/forgery":21,"Extortion/blackmail":4,"Peeping tom":6,"Prostitution offenses":32,"Kidnapping/abduction":4,"Arson":9,"Homicide offenses":3,"Curfew/loitering/vagrancy violations":4,"Pornography/obscene material":1,"Trespass of real property":304,"Assault offenses":955,"Burglary/breaking&entering":664},"neighbourhoods":{"PIONEER SQUARE":100,"UNKNOWN":67,"ROOSEVELT/RAVENNA":210,"SODO":110,"DOWNTOWN COMMERCIAL":600,"SANDPOINT":116,"NORTHGATE":360,"MONTLAKE/PORTAGE BAY":36,"PHINNEY RIDGE":44,"HIGHLAND PARK":85,"MID BEACON HILL":68,"EASTLAKE - EAST":11,"CAPITOL HILL":426,"BALLARD SOUTH":203,"BRIGHTON/DUNLAP":73,"FIRST HILL":166,"EASTLAKE - WEST":53,"UNIVERSITY":265,"GENESEE":10,"CHINATOWN/INTERNATIONAL DISTRICT":184,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":98,"MOUNT BAKER":60,"GEORGETOWN":104,"MAGNOLIA":96,"QUEEN ANNE":281,"RAINIER BEACH":56,"BELLTOWN":211,"ALASKA JUNCTION":79,"SLU/CASCADE":272,"BALLARD NORTH":135,"NORTH BEACON HILL":87,"FAUNTLEROY SW":22,"MADRONA/LESCHI":56,"FREMONT":85,"WALLINGFORD":101,"CENTRAL AREA/SQUIRE PARK":155,"GREENWOOD":130,"HIGH POINT":67,"BITTERLAKE":134,"SOUTH PARK":51,"NORTH DELRIDGE":36,"LAKEWOOD/SEWARD PARK":23,"JUDKINS PARK/NORTH BEACON HILL":70,"CLAREMONT/RAINIER VISTA":39,"SOUTH DELRIDGE":19,"COMMERCIAL DUWAMISH":5,"RAINIER VIEW":57,"NORTH ADMIRAL":57,"ALKI":43,"MILLER PARK":34,"NEW HOLLY":34,"MORGAN":46,"HILLMAN CITY":23,"PIGEON POINT":7,"MADISON PARK":15,"COLUMBIA CITY":31,"COMMERCIAL HARBOR ISLAND":5,"SOUTH BEACON HILL":9,"LAKECITY":148}},{"month":"2017, 06","categories":{"Robbery":113,"Weapon law violations":77,"Larceny-theft":2167,"Drug/narcotic offenses":227,"Motor vehicle theft":292,"Fraud offenses":312,"Prostitution offenses":147,"Family offenses, nonviolent":73,"Destruction/damage/vandalism of property":572,"Bad checks":45,"Liquor law violations":12,"Driving under the influence":105,"Extortion/blackmail":5,"Stolen property offenses":35,"Counterfeiting/forgery":25,"Pornography/obscene material":3,"Sex offenses":56,"Kidnapping/abduction":6,"Arson":16,"Embezzlement":10,"Homicide offenses":4,"Curfew/loitering/vagrancy violations":3,"Sex offenses, consensual":2,"Trespass of real property":294,"Assault offenses":868,"Burglary/breaking&entering":588},"neighbourhoods":{"BALLARD NORTH":107,"NORTH DELRIDGE":43,"MAGNOLIA":87,"WALLINGFORD":111,"CAPITOL HILL":394,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":113,"NORTHGATE":495,"DOWNTOWN COMMERCIAL":582,"MONTLAKE/PORTAGE BAY":39,"JUDKINS PARK/NORTH BEACON HILL":64,"BRIGHTON/DUNLAP":65,"QUEEN ANNE":276,"ROOSEVELT/RAVENNA":190,"LAKEWOOD/SEWARD PARK":42,"UNKNOWN":73,"BELLTOWN":161,"MOUNT BAKER":60,"SANDPOINT":146,"BITTERLAKE":152,"SLU/CASCADE":264,"PHINNEY RIDGE":49,"CENTRAL AREA/SQUIRE PARK":138,"MILLER PARK":31,"SOUTH DELRIDGE":23,"BALLARD SOUTH":182,"FIRST HILL":153,"CHINATOWN/INTERNATIONAL DISTRICT":163,"RAINIER BEACH":63,"PIONEER SQUARE":122,"MID BEACON HILL":51,"COLUMBIA CITY":40,"UNIVERSITY":213,"HIGHLAND PARK":74,"MADRONA/LESCHI":45,"ALASKA JUNCTION":57,"GREENWOOD":116,"NEW HOLLY":37,"MADISON PARK":23,"SODO":122,"GEORGETOWN":77,"ALKI":36,"NORTH ADMIRAL":48,"SOUTH BEACON HILL":22,"FREMONT":91,"SOUTH PARK":49,"MORGAN":50,"RAINIER VIEW":58,"CLAREMONT/RAINIER VISTA":34,"NORTH BEACON HILL":67,"HILLMAN CITY":24,"EASTLAKE - WEST":33,"FAUNTLEROY SW":25,"EASTLAKE - EAST":7,"GENESEE":12,"HIGH POINT":50,"COMMERCIAL DUWAMISH":4,"COMMERCIAL HARBOR ISLAND":3,"PIGEON POINT":6,"LAKECITY":195}},{"month":"2017, 07","categories":{"Larceny-theft":2434,"Sex offenses":43,"Weapon law violations":88,"Drug/narcotic offenses":242,"Fraud offenses":269,"Destruction/damage/vandalism of property":626,"Prostitution offenses":49,"Kidnapping/abduction":12,"Motor vehicle theft":348,"Stolen property offenses":50,"Bad checks":39,"Driving under the influence":98,"Family offenses, nonviolent":70,"Extortion/blackmail":5,"Robbery":125,"Curfew/loitering/vagrancy violations":4,"Arson":24,"Counterfeiting/forgery":14,"Pornography/obscene material":2,"Embezzlement":10,"Liquor law violations":13,"Peeping tom":2,"Homicide offenses":4,"Bribery":1,"Trespass of real property":300,"Assault offenses":931,"Burglary/breaking&entering":637},"neighbourhoods":{"ROOSEVELT/RAVENNA":248,"NORTH BEACON HILL":67,"DOWNTOWN COMMERCIAL":637,"MAGNOLIA":79,"BELLTOWN":184,"UNIVERSITY":211,"ALKI":38,"GEORGETOWN":116,"CAPITOL HILL":499,"SLU/CASCADE":273,"MADRONA/LESCHI":80,"EASTLAKE - WEST":45,"WALLINGFORD":119,"PHINNEY RIDGE":45,"BALLARD SOUTH":206,"RAINIER BEACH":62,"QUEEN ANNE":318,"SANDPOINT":164,"BITTERLAKE":118,"FAUNTLEROY SW":20,"ALASKA JUNCTION":94,"HIGHLAND PARK":67,"CHINATOWN/INTERNATIONAL DISTRICT":216,"PIONEER SQUARE":93,"NORTHGATE":440,"FIRST HILL":152,"SOUTH DELRIDGE":35,"MILLER PARK":34,"UNKNOWN":72,"CENTRAL AREA/SQUIRE PARK":153,"FREMONT":96,"SOUTH BEACON HILL":23,"BALLARD NORTH":119,"MID BEACON HILL":48,"BRIGHTON/DUNLAP":78,"LAKEWOOD/SEWARD PARK":40,"SODO":125,"CLAREMONT/RAINIER VISTA":33,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":82,"JUDKINS PARK/NORTH BEACON HILL":65,"HIGH POINT":66,"MADISON PARK":23,"GREENWOOD":134,"RAINIER VIEW":61,"NORTH DELRIDGE":41,"HILLMAN CITY":25,"EASTLAKE - EAST":10,"COLUMBIA CITY":32,"MOUNT BAKER":73,"NEW HOLLY":36,"MORGAN":41,"MONTLAKE/PORTAGE BAY":31,"NORTH ADMIRAL":63,"GENESEE":14,"COMMERCIAL DUWAMISH":7,"SOUTH PARK":40,"PIGEON POINT":8,"COMMERCIAL HARBOR ISLAND":4,"LAKECITY":137}},{"month":"2017, 08","categories":{"Robbery":139,"Destruction/damage/vandalism of property":584,"Larceny-theft":2468,"Driving under the influence":110,"Weapon law violations":71,"Drug/narcotic offenses":229,"Fraud offenses":287,"Motor vehicle theft":372,"Sex offenses":39,"Counterfeiting/forgery":29,"Bad checks":47,"Prostitution offenses":10,"Family offenses, nonviolent":85,"Peeping tom":1,"Embezzlement":12,"Stolen property offenses":43,"Liquor law violations":8,"Arson":17,"Kidnapping/abduction":7,"Extortion/blackmail":9,"Homicide offenses":3,"Sex offenses, consensual":1,"Curfew/loitering/vagrancy violations":5,"Trespass of real property":339,"Burglary/breaking&entering":665,"Assault offenses":925,"Human trafficking":1},"neighbourhoods":{"CENTRAL AREA/SQUIRE PARK":142,"CAPITOL HILL":444,"UNIVERSITY":257,"NORTHGATE":418,"ALKI":34,"MID BEACON HILL":51,"DOWNTOWN COMMERCIAL":579,"BELLTOWN":228,"WALLINGFORD":95,"QUEEN ANNE":329,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":88,"SOUTH DELRIDGE":26,"CHINATOWN/INTERNATIONAL DISTRICT":197,"SANDPOINT":167,"BALLARD SOUTH":229,"FIRST HILL":179,"SODO":135,"BITTERLAKE":109,"MADRONA/LESCHI":107,"RAINIER BEACH":54,"GEORGETOWN":94,"LAKEWOOD/SEWARD PARK":39,"ALASKA JUNCTION":104,"HIGH POINT":60,"PIONEER SQUARE":112,"BRIGHTON/DUNLAP":73,"ROOSEVELT/RAVENNA":231,"MAGNOLIA":96,"HIGHLAND PARK":47,"MILLER PARK":49,"SLU/CASCADE":290,"UNKNOWN":68,"FREMONT":93,"NORTH BEACON HILL":105,"SOUTH PARK":36,"PIGEON POINT":5,"FAUNTLEROY SW":37,"GREENWOOD":115,"NORTH DELRIDGE":56,"EASTLAKE - WEST":43,"CLAREMONT/RAINIER VISTA":31,"JUDKINS PARK/NORTH BEACON HILL":69,"RAINIER VIEW":68,"MOUNT BAKER":77,"MONTLAKE/PORTAGE BAY":44,"BALLARD NORTH":103,"HILLMAN CITY":30,"NORTH ADMIRAL":48,"MORGAN":49,"EASTLAKE - EAST":16,"PHINNEY RIDGE":42,"SOUTH BEACON HILL":24,"COLUMBIA CITY":34,"NEW HOLLY":34,"GENESEE":13,"MADISON PARK":18,"COMMERCIAL DUWAMISH":4,"COMMERCIAL HARBOR ISLAND":3,"LAKECITY":178}},{"month":"2017, 09","categories":{"Larceny-theft":2219,"Destruction/damage/vandalism of property":550,"Robbery":126,"Fraud offenses":287,"Stolen property offenses":38,"Weapon law violations":58,"Motor vehicle theft":333,"Driving under the influence":111,"Arson":9,"Counterfeiting/forgery":12,"Drug/narcotic offenses":188,"Kidnapping/abduction":5,"Bad checks":51,"Family offenses, nonviolent":80,"Sex offenses":35,"Curfew/loitering/vagrancy violations":8,"Embezzlement":17,"Extortion/blackmail":11,"Prostitution offenses":8,"Liquor law violations":10,"Pornography/obscene material":2,"Peeping tom":2,"Homicide offenses":3,"Trespass of real property":327,"Assault offenses":870,"Burglary/breaking&entering":653},"neighbourhoods":{"QUEEN ANNE":291,"SODO":117,"HIGH POINT":49,"PIONEER SQUARE":101,"NORTH BEACON HILL":96,"FIRST HILL":143,"HIGHLAND PARK":45,"MOUNT BAKER":80,"GREENWOOD":126,"GENESEE":18,"BELLTOWN":240,"NORTHGATE":342,"CHINATOWN/INTERNATIONAL DISTRICT":195,"BALLARD NORTH":111,"SLU/CASCADE":266,"DOWNTOWN COMMERCIAL":603,"BITTERLAKE":130,"UNIVERSITY":238,"BALLARD SOUTH":210,"UNKNOWN":46,"GEORGETOWN":72,"ALASKA JUNCTION":83,"SANDPOINT":113,"RAINIER BEACH":48,"PHINNEY RIDGE":36,"ROOSEVELT/RAVENNA":221,"MADRONA/LESCHI":64,"FREMONT":111,"RAINIER VIEW":43,"MAGNOLIA":67,"CENTRAL AREA/SQUIRE PARK":167,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":82,"MILLER PARK":54,"MONTLAKE/PORTAGE BAY":20,"MID BEACON HILL":57,"MORGAN":57,"WALLINGFORD":100,"NORTH ADMIRAL":63,"JUDKINS PARK/NORTH BEACON HILL":60,"NORTH DELRIDGE":42,"CAPITOL HILL":400,"FAUNTLEROY SW":24,"LAKEWOOD/SEWARD PARK":44,"BRIGHTON/DUNLAP":72,"COMMERCIAL DUWAMISH":6,"ALKI":41,"COLUMBIA CITY":30,"HILLMAN CITY":26,"EASTLAKE - EAST":4,"SOUTH DELRIDGE":27,"COMMERCIAL HARBOR ISLAND":1,"SOUTH BEACON HILL":19,"NEW HOLLY":30,"CLAREMONT/RAINIER VISTA":34,"PIGEON POINT":6,"EASTLAKE - WEST":34,"SOUTH PARK":45,"MADISON PARK":18,"LAKECITY":145}},{"month":"2017, 10","categories":{"Larceny-theft":2341,"Driving under the influence":121,"Robbery":139,"Drug/narcotic offenses":220,"Fraud offenses":317,"Motor vehicle theft":338,"Destruction/damage/vandalism of property":623,"Kidnapping/abduction":5,"Weapon law violations":70,"Family offenses, nonviolent":67,"Bad checks":31,"Sex offenses":49,"Stolen property offenses":48,"Counterfeiting/forgery":30,"Curfew/loitering/vagrancy violations":4,"Embezzlement":15,"Liquor law violations":8,"Prostitution offenses":7,"Homicide offenses":3,"Arson":4,"Sex offenses, consensual":4,"Extortion/blackmail":4,"Pornography/obscene material":2,"Peeping tom":2,"Bribery":1,"Trespass of real property":380,"Burglary/breaking&entering":723,"Assault offenses":900,"Gambling offenses":2},"neighbourhoods":{"NORTH ADMIRAL":66,"DOWNTOWN COMMERCIAL":576,"CAPITOL HILL":390,"SLU/CASCADE":248,"UNIVERSITY":289,"HIGHLAND PARK":69,"BELLTOWN":243,"CLAREMONT/RAINIER VISTA":47,"BALLARD SOUTH":206,"NORTHGATE":377,"GREENWOOD":135,"PHINNEY RIDGE":47,"WALLINGFORD":100,"UNKNOWN":72,"QUEEN ANNE":264,"SANDPOINT":144,"MORGAN":70,"FAUNTLEROY SW":30,"FIRST HILL":174,"LAKEWOOD/SEWARD PARK":39,"FREMONT":101,"RAINIER VIEW":61,"CHINATOWN/INTERNATIONAL DISTRICT":244,"ROOSEVELT/RAVENNA":272,"GEORGETOWN":74,"BALLARD NORTH":124,"BRIGHTON/DUNLAP":91,"COLUMBIA CITY":43,"SODO":149,"CENTRAL AREA/SQUIRE PARK":145,"MID BEACON HILL":82,"MONTLAKE/PORTAGE BAY":32,"EASTLAKE - WEST":32,"JUDKINS PARK/NORTH BEACON HILL":58,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":109,"ALASKA JUNCTION":109,"HIGH POINT":36,"MOUNT BAKER":66,"PIONEER SQUARE":87,"NORTH BEACON HILL":93,"RAINIER BEACH":64,"MADRONA/LESCHI":71,"MILLER PARK":48,"ALKI":42,"MADISON PARK":13,"SOUTH BEACON HILL":27,"BITTERLAKE":121,"MAGNOLIA":99,"SOUTH PARK":57,"NEW HOLLY":31,"NORTH DELRIDGE":39,"HILLMAN CITY":31,"SOUTH DELRIDGE":30,"GENESEE":10,"COMMERCIAL DUWAMISH":8,"EASTLAKE - EAST":6,"PIGEON POINT":6,"LAKECITY":160,"COMMERCIAL HARBOR ISLAND":1}},{"month":"2017, 11","categories":{"Driving under the influence":101,"Larceny-theft":2096,"Robbery":136,"Weapon law violations":52,"Destruction/damage/vandalism of property":514,"Stolen property offenses":40,"Motor vehicle theft":313,"Drug/narcotic offenses":169,"Fraud offenses":294,"Counterfeiting/forgery":31,"Sex offenses":42,"Kidnapping/abduction":5,"Family offenses, nonviolent":77,"Curfew/loitering/vagrancy violations":4,"Embezzlement":15,"Bad checks":37,"Arson":6,"Homicide offenses":2,"Pornography/obscene material":1,"Liquor law violations":5,"Prostitution offenses":8,"Extortion/blackmail":6,"Trespass of real property":355,"Assault offenses":861,"Burglary/breaking&entering":667},"neighbourhoods":{"BALLARD SOUTH":222,"UNIVERSITY":240,"SLU/CASCADE":238,"DOWNTOWN COMMERCIAL":571,"CLAREMONT/RAINIER VISTA":35,"MAGNOLIA":93,"ALKI":25,"MILLER PARK":40,"MADRONA/LESCHI":65,"GREENWOOD":131,"SOUTH PARK":42,"NORTHGATE":374,"BRIGHTON/DUNLAP":80,"LAKEWOOD/SEWARD PARK":23,"ROOSEVELT/RAVENNA":215,"BITTERLAKE":118,"PHINNEY RIDGE":45,"NORTH BEACON HILL":75,"QUEEN ANNE":281,"MORGAN":55,"PIONEER SQUARE":99,"HIGHLAND PARK":72,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":87,"MID BEACON HILL":53,"FIRST HILL":189,"HIGH POINT":53,"ALASKA JUNCTION":80,"MONTLAKE/PORTAGE BAY":32,"CAPITOL HILL":346,"SANDPOINT":95,"CENTRAL AREA/SQUIRE PARK":135,"SODO":87,"FREMONT":106,"BALLARD NORTH":93,"CHINATOWN/INTERNATIONAL DISTRICT":195,"NEW HOLLY":32,"NORTH ADMIRAL":67,"MOUNT BAKER":63,"NORTH DELRIDGE":45,"WALLINGFORD":87,"MADISON PARK":16,"RAINIER BEACH":53,"JUDKINS PARK/NORTH BEACON HILL":42,"BELLTOWN":150,"GEORGETOWN":94,"SOUTH DELRIDGE":30,"RAINIER VIEW":63,"COLUMBIA CITY":34,"UNKNOWN":54,"EASTLAKE - WEST":44,"FAUNTLEROY SW":18,"SOUTH BEACON HILL":25,"PIGEON POINT":3,"EASTLAKE - EAST":11,"COMMERCIAL DUWAMISH":5,"HILLMAN CITY":22,"COMMERCIAL HARBOR ISLAND":2,"GENESEE":6,"LAKECITY":181}},{"month":"2017, 12","categories":{"Larceny-theft":2240,"Driving under the influence":152,"Robbery":121,"Drug/narcotic offenses":175,"Sex offenses":51,"Weapon law violations":58,"Destruction/damage/vandalism of property":499,"Fraud offenses":334,"Motor vehicle theft":310,"Family offenses, nonviolent":64,"Liquor law violations":2,"Stolen property offenses":54,"Arson":12,"Extortion/blackmail":10,"Counterfeiting/forgery":35,"Embezzlement":10,"Bad checks":23,"Kidnapping/abduction":7,"Homicide offenses":4,"Peeping tom":3,"Curfew/loitering/vagrancy violations":1,"Gambling offenses":1,"Prostitution offenses":14,"Pornography/obscene material":1,"Trespass of real property":370,"Assault offenses":817,"Burglary/breaking&entering":698},"neighbourhoods":{"QUEEN ANNE":314,"GREENWOOD":163,"COLUMBIA CITY":30,"FIRST HILL":212,"SLU/CASCADE":270,"SODO":96,"ALASKA JUNCTION":83,"BALLARD NORTH":107,"RAINIER BEACH":43,"DOWNTOWN COMMERCIAL":600,"ALKI":21,"GEORGETOWN":90,"CHINATOWN/INTERNATIONAL DISTRICT":181,"RAINIER VIEW":50,"WALLINGFORD":100,"NORTHGATE":448,"BELLTOWN":152,"ROOSEVELT/RAVENNA":233,"MAGNOLIA":128,"NORTH BEACON HILL":88,"PHINNEY RIDGE":55,"PIONEER SQUARE":82,"CENTRAL AREA/SQUIRE PARK":120,"MADRONA/LESCHI":82,"BITTERLAKE":114,"JUDKINS PARK/NORTH BEACON HILL":41,"SOUTH DELRIDGE":33,"CAPITOL HILL":330,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":120,"NEW HOLLY":27,"SOUTH PARK":32,"BALLARD SOUTH":220,"SANDPOINT":93,"MORGAN":40,"NORTH DELRIDGE":44,"HIGHLAND PARK":77,"UNIVERSITY":225,"MOUNT BAKER":75,"SOUTH BEACON HILL":36,"FREMONT":107,"BRIGHTON/DUNLAP":77,"HIGH POINT":61,"EASTLAKE - EAST":5,"NORTH ADMIRAL":51,"MADISON PARK":16,"FAUNTLEROY SW":24,"UNKNOWN":49,"LAKEWOOD/SEWARD PARK":27,"CLAREMONT/RAINIER VISTA":32,"HILLMAN CITY":23,"MILLER PARK":49,"EASTLAKE - WEST":28,"MID BEACON HILL":47,"MONTLAKE/PORTAGE BAY":27,"GENESEE":7,"PIGEON POINT":7,"COMMERCIAL DUWAMISH":7,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":166}},{"month":"2018, 01","categories":{"Larceny-theft":2205,"Driving under the influence":123,"Fraud offenses":331,"Destruction/damage/vandalism of property":553,"Bad checks":41,"Extortion/blackmail":6,"Weapon law violations":67,"Drug/narcotic offenses":168,"Robbery":137,"Motor vehicle theft":325,"Curfew/loitering/vagrancy violations":4,"Sex offenses":64,"Family offenses, nonviolent":67,"Stolen property offenses":53,"Counterfeiting/forgery":27,"Kidnapping/abduction":7,"Arson":11,"Homicide offenses":2,"Prostitution offenses":3,"Sex offenses, consensual":2,"Embezzlement":9,"Liquor law violations":5,"Pornography/obscene material":2,"Gambling offenses":1,"Peeping tom":1,"Trespass of real property":388,"Burglary/breaking&entering":721,"Assault offenses":892},"neighbourhoods":{"NORTH DELRIDGE":53,"JUDKINS PARK/NORTH BEACON HILL":48,"SLU/CASCADE":271,"FIRST HILL":176,"NORTHGATE":406,"ALKI":17,"SOUTH BEACON HILL":18,"GEORGETOWN":82,"QUEEN ANNE":326,"PHINNEY RIDGE":62,"COLUMBIA CITY":21,"SODO":94,"NORTH BEACON HILL":96,"ROOSEVELT/RAVENNA":219,"MAGNOLIA":89,"MOUNT BAKER":83,"SOUTH PARK":43,"MONTLAKE/PORTAGE BAY":41,"CHINATOWN/INTERNATIONAL DISTRICT":203,"DOWNTOWN COMMERCIAL":574,"BALLARD SOUTH":203,"SANDPOINT":116,"MADRONA/LESCHI":83,"PIONEER SQUARE":84,"FREMONT":114,"MORGAN":55,"RAINIER VIEW":49,"GREENWOOD":160,"ALASKA JUNCTION":91,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":92,"CAPITOL HILL":361,"NEW HOLLY":27,"HIGH POINT":57,"BITTERLAKE":109,"MILLER PARK":33,"UNIVERSITY":290,"LAKEWOOD/SEWARD PARK":39,"EASTLAKE - WEST":26,"WALLINGFORD":87,"CENTRAL AREA/SQUIRE PARK":156,"NORTH ADMIRAL":74,"BALLARD NORTH":148,"COMMERCIAL DUWAMISH":7,"HIGHLAND PARK":80,"BELLTOWN":169,"MID BEACON HILL":49,"BRIGHTON/DUNLAP":74,"RAINIER BEACH":62,"HILLMAN CITY":15,"PIGEON POINT":11,"UNKNOWN":59,"GENESEE":9,"COMMERCIAL HARBOR ISLAND":3,"CLAREMONT/RAINIER VISTA":33,"MADISON PARK":21,"SOUTH DELRIDGE":33,"FAUNTLEROY SW":26,"EASTLAKE - EAST":6,"LAKECITY":182}},{"month":"2018, 02","categories":{"Fraud offenses":276,"Motor vehicle theft":302,"Larceny-theft":2069,"Destruction/damage/vandalism of property":496,"Family offenses, nonviolent":58,"Robbery":127,"Sex offenses":44,"Weapon law violations":62,"Counterfeiting/forgery":38,"Drug/narcotic offenses":171,"Bad checks":29,"Stolen property offenses":65,"Embezzlement":6,"Arson":11,"Driving under the influence":124,"Prostitution offenses":3,"Curfew/loitering/vagrancy violations":9,"Liquor law violations":5,"Sex offenses, consensual":2,"Kidnapping/abduction":5,"Homicide offenses":3,"Peeping tom":2,"Pornography/obscene material":3,"Extortion/blackmail":4,"Gambling offenses":1,"Trespass of real property":367,"Assault offenses":771,"Burglary/breaking&entering":582},"neighbourhoods":{"SOUTH BEACON HILL":15,"BELLTOWN":167,"SLU/CASCADE":252,"MORGAN":53,"DOWNTOWN COMMERCIAL":605,"FIRST HILL":164,"NORTH BEACON HILL":88,"ROOSEVELT/RAVENNA":189,"BITTERLAKE":118,"PIONEER SQUARE":72,"CAPITOL HILL":341,"QUEEN ANNE":247,"FREMONT":89,"COLUMBIA CITY":29,"GEORGETOWN":79,"BALLARD SOUTH":232,"BALLARD NORTH":115,"NORTHGATE":352,"MOUNT BAKER":57,"SANDPOINT":96,"SOUTH PARK":54,"CHINATOWN/INTERNATIONAL DISTRICT":161,"CENTRAL AREA/SQUIRE PARK":123,"EASTLAKE - WEST":33,"NORTH DELRIDGE":46,"SODO":107,"WALLINGFORD":106,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":77,"RAINIER VIEW":53,"BRIGHTON/DUNLAP":72,"HIGHLAND PARK":85,"MAGNOLIA":76,"UNIVERSITY":250,"MILLER PARK":31,"ALASKA JUNCTION":82,"SOUTH DELRIDGE":40,"CLAREMONT/RAINIER VISTA":41,"MONTLAKE/PORTAGE BAY":24,"GREENWOOD":113,"MADRONA/LESCHI":52,"HIGH POINT":50,"HILLMAN CITY":14,"RAINIER BEACH":64,"NORTH ADMIRAL":56,"JUDKINS PARK/NORTH BEACON HILL":54,"NEW HOLLY":23,"UNKNOWN":48,"LAKEWOOD/SEWARD PARK":20,"MID BEACON HILL":59,"PHINNEY RIDGE":46,"COMMERCIAL DUWAMISH":6,"PIGEON POINT":3,"MADISON PARK":11,"EASTLAKE - EAST":6,"FAUNTLEROY SW":20,"COMMERCIAL HARBOR ISLAND":3,"ALKI":22,"GENESEE":16,"LAKECITY":128}},{"month":"2018, 03","categories":{"Robbery":140,"Drug/narcotic offenses":199,"Larceny-theft":2139,"Fraud offenses":330,"Destruction/damage/vandalism of property":516,"Motor vehicle theft":352,"Stolen property offenses":55,"Sex offenses":45,"Bad checks":43,"Family offenses, nonviolent":86,"Weapon law violations":69,"Counterfeiting/forgery":52,"Embezzlement":13,"Driving under the influence":120,"Kidnapping/abduction":8,"Prostitution offenses":5,"Arson":14,"Liquor law violations":6,"Extortion/blackmail":3,"Curfew/loitering/vagrancy violations":3,"Pornography/obscene material":2,"Homicide offenses":2,"Trespass of real property":345,"Burglary/breaking&entering":705,"Assault offenses":889},"neighbourhoods":{"UNIVERSITY":239,"MADRONA/LESCHI":65,"FAUNTLEROY SW":30,"UNKNOWN":71,"QUEEN ANNE":302,"JUDKINS PARK/NORTH BEACON HILL":40,"HIGHLAND PARK":81,"FIRST HILL":155,"NORTHGATE":436,"ROOSEVELT/RAVENNA":188,"MADISON PARK":18,"BALLARD NORTH":132,"GEORGETOWN":63,"CHINATOWN/INTERNATIONAL DISTRICT":174,"MORGAN":71,"GREENWOOD":141,"MILLER PARK":35,"DOWNTOWN COMMERCIAL":599,"SODO":120,"RAINIER BEACH":61,"BALLARD SOUTH":223,"SLU/CASCADE":282,"ALASKA JUNCTION":86,"PHINNEY RIDGE":48,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":98,"SANDPOINT":122,"NORTH BEACON HILL":88,"BELLTOWN":171,"HIGH POINT":43,"SOUTH PARK":58,"PIONEER SQUARE":93,"CAPITOL HILL":384,"MAGNOLIA":109,"NORTH ADMIRAL":71,"MONTLAKE/PORTAGE BAY":41,"SOUTH DELRIDGE":32,"NEW HOLLY":30,"WALLINGFORD":114,"MOUNT BAKER":73,"NORTH DELRIDGE":46,"MID BEACON HILL":58,"COLUMBIA CITY":44,"COMMERCIAL DUWAMISH":10,"LAKEWOOD/SEWARD PARK":20,"BITTERLAKE":93,"PIGEON POINT":7,"CENTRAL AREA/SQUIRE PARK":137,"FREMONT":93,"RAINIER VIEW":54,"HILLMAN CITY":35,"ALKI":30,"BRIGHTON/DUNLAP":54,"SOUTH BEACON HILL":26,"CLAREMONT/RAINIER VISTA":34,"GENESEE":14,"EASTLAKE - WEST":24,"EASTLAKE - EAST":4,"COMMERCIAL HARBOR ISLAND":3,"LAKECITY":168}},{"month":"2018, 04","categories":{"Destruction/damage/vandalism of property":524,"Stolen property offenses":44,"Larceny-theft":2144,"Robbery":117,"Sex offenses":45,"Drug/narcotic offenses":165,"Motor vehicle theft":344,"Family offenses, nonviolent":81,"Fraud offenses":317,"Counterfeiting/forgery":46,"Embezzlement":12,"Weapon law violations":62,"Driving under the influence":97,"Arson":7,"Bad checks":45,"Extortion/blackmail":7,"Peeping tom":1,"Kidnapping/abduction":4,"Homicide offenses":4,"Pornography/obscene material":2,"Curfew/loitering/vagrancy violations":6,"Liquor law violations":5,"Sex offenses, consensual":3,"Trespass of real property":395,"Assault offenses":878,"Burglary/breaking&entering":705},"neighbourhoods":{"BALLARD SOUTH":220,"FREMONT":85,"CAPITOL HILL":373,"SLU/CASCADE":264,"SODO":144,"DOWNTOWN COMMERCIAL":614,"ROOSEVELT/RAVENNA":217,"MONTLAKE/PORTAGE BAY":29,"CENTRAL AREA/SQUIRE PARK":126,"QUEEN ANNE":310,"CHINATOWN/INTERNATIONAL DISTRICT":202,"PHINNEY RIDGE":47,"FIRST HILL":186,"SANDPOINT":96,"BELLTOWN":175,"NORTHGATE":361,"RAINIER BEACH":69,"WALLINGFORD":89,"NORTH ADMIRAL":58,"MILLER PARK":34,"SOUTH PARK":59,"BITTERLAKE":111,"HIGH POINT":50,"UNIVERSITY":242,"NORTH BEACON HILL":87,"HILLMAN CITY":26,"NORTH DELRIDGE":49,"UNKNOWN":54,"GENESEE":15,"ALKI":27,"BALLARD NORTH":122,"MORGAN":65,"MADRONA/LESCHI":45,"JUDKINS PARK/NORTH BEACON HILL":50,"CLAREMONT/RAINIER VISTA":38,"GREENWOOD":147,"MOUNT BAKER":71,"PIONEER SQUARE":110,"HIGHLAND PARK":68,"NEW HOLLY":20,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":93,"GEORGETOWN":117,"LAKEWOOD/SEWARD PARK":30,"COMMERCIAL DUWAMISH":9,"MAGNOLIA":92,"MID BEACON HILL":64,"MADISON PARK":18,"BRIGHTON/DUNLAP":49,"EASTLAKE - EAST":6,"COLUMBIA CITY":41,"ALASKA JUNCTION":91,"RAINIER VIEW":42,"FAUNTLEROY SW":26,"SOUTH BEACON HILL":18,"PIGEON POINT":3,"SOUTH DELRIDGE":19,"EASTLAKE - WEST":25,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":160}},{"month":"2018, 05","categories":{"Larceny-theft":2342,"Destruction/damage/vandalism of property":640,"Sex offenses":43,"Fraud offenses":343,"Motor vehicle theft":306,"Family offenses, nonviolent":81,"Counterfeiting/forgery":41,"Robbery":145,"Weapon law violations":86,"Driving under the influence":137,"Stolen property offenses":63,"Drug/narcotic offenses":207,"Kidnapping/abduction":7,"Arson":6,"Embezzlement":10,"Curfew/loitering/vagrancy violations":5,"Extortion/blackmail":9,"Prostitution offenses":9,"Bad checks":36,"Pornography/obscene material":6,"Liquor law violations":6,"Peeping tom":2,"Homicide offenses":1,"Sex offenses, consensual":1,"Trespass of real property":353,"Assault offenses":1042,"Burglary/breaking&entering":740},"neighbourhoods":{"FIRST HILL":171,"BALLARD NORTH":117,"COMMERCIAL DUWAMISH":6,"MADRONA/LESCHI":51,"MAGNOLIA":111,"NORTH BEACON HILL":101,"NORTHGATE":414,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":91,"MOUNT BAKER":123,"WALLINGFORD":110,"BALLARD SOUTH":224,"SLU/CASCADE":306,"DOWNTOWN COMMERCIAL":619,"CHINATOWN/INTERNATIONAL DISTRICT":233,"FREMONT":124,"ALASKA JUNCTION":100,"GEORGETOWN":94,"MONTLAKE/PORTAGE BAY":38,"UNIVERSITY":247,"RAINIER VIEW":75,"QUEEN ANNE":342,"FAUNTLEROY SW":30,"LAKEWOOD/SEWARD PARK":36,"SODO":127,"CAPITOL HILL":431,"MILLER PARK":35,"SANDPOINT":139,"CENTRAL AREA/SQUIRE PARK":169,"GENESEE":19,"RAINIER BEACH":59,"PIONEER SQUARE":136,"MADISON PARK":24,"BELLTOWN":185,"EASTLAKE - EAST":10,"ROOSEVELT/RAVENNA":217,"BITTERLAKE":112,"SOUTH BEACON HILL":32,"HIGH POINT":63,"GREENWOOD":150,"JUDKINS PARK/NORTH BEACON HILL":73,"UNKNOWN":51,"MORGAN":74,"NORTH ADMIRAL":73,"PIGEON POINT":11,"HIGHLAND PARK":63,"BRIGHTON/DUNLAP":63,"HILLMAN CITY":25,"ALKI":24,"MID BEACON HILL":60,"PHINNEY RIDGE":45,"NORTH DELRIDGE":48,"EASTLAKE - WEST":28,"COLUMBIA CITY":32,"CLAREMONT/RAINIER VISTA":39,"SOUTH PARK":62,"SOUTH DELRIDGE":34,"NEW HOLLY":20,"COMMERCIAL HARBOR ISLAND":3,"LAKECITY":168}},{"month":"2018, 06","categories":{"Robbery":137,"Destruction/damage/vandalism of property":576,"Driving under the influence":112,"Larceny-theft":2370,"Fraud offenses":307,"Stolen property offenses":59,"Weapon law violations":68,"Motor vehicle theft":294,"Liquor law violations":8,"Counterfeiting/forgery":50,"Drug/narcotic offenses":174,"Family offenses, nonviolent":84,"Extortion/blackmail":10,"Homicide offenses":5,"Prostitution offenses":21,"Bad checks":38,"Kidnapping/abduction":9,"Arson":9,"Sex offenses":48,"Pornography/obscene material":2,"Embezzlement":9,"Sex offenses, consensual":1,"Curfew/loitering/vagrancy violations":5,"Trespass of real property":367,"Assault offenses":961,"Burglary/breaking&entering":656},"neighbourhoods":{"DOWNTOWN COMMERCIAL":593,"UNIVERSITY":216,"QUEEN ANNE":315,"SODO":143,"FREMONT":162,"FIRST HILL":204,"SOUTH PARK":72,"CAPITOL HILL":415,"ROOSEVELT/RAVENNA":200,"NEW HOLLY":41,"CHINATOWN/INTERNATIONAL DISTRICT":248,"RAINIER VIEW":57,"MOUNT BAKER":102,"GREENWOOD":153,"NORTH BEACON HILL":114,"BALLARD SOUTH":205,"NORTHGATE":332,"ALASKA JUNCTION":91,"WALLINGFORD":99,"HIGH POINT":50,"EASTLAKE - WEST":29,"CENTRAL AREA/SQUIRE PARK":161,"SLU/CASCADE":264,"PIONEER SQUARE":113,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":96,"BELLTOWN":172,"SANDPOINT":112,"RAINIER BEACH":83,"MID BEACON HILL":53,"GENESEE":12,"PHINNEY RIDGE":36,"MORGAN":52,"MADRONA/LESCHI":78,"JUDKINS PARK/NORTH BEACON HILL":85,"GEORGETOWN":72,"MAGNOLIA":98,"BALLARD NORTH":137,"NORTH ADMIRAL":63,"BITTERLAKE":111,"LAKEWOOD/SEWARD PARK":33,"ALKI":35,"SOUTH BEACON HILL":29,"UNKNOWN":64,"HIGHLAND PARK":63,"MILLER PARK":25,"BRIGHTON/DUNLAP":67,"MONTLAKE/PORTAGE BAY":42,"NORTH DELRIDGE":31,"COLUMBIA CITY":41,"SOUTH DELRIDGE":21,"FAUNTLEROY SW":33,"CLAREMONT/RAINIER VISTA":27,"HILLMAN CITY":17,"MADISON PARK":19,"PIGEON POINT":4,"EASTLAKE - EAST":8,"COMMERCIAL DUWAMISH":4,"LAKECITY":178}},{"month":"2018, 07","categories":{"Larceny-theft":2355,"Robbery":148,"Fraud offenses":290,"Stolen property offenses":58,"Motor vehicle theft":368,"Family offenses, nonviolent":77,"Drug/narcotic offenses":205,"Destruction/damage/vandalism of property":608,"Sex offenses":52,"Counterfeiting/forgery":32,"Bad checks":37,"Extortion/blackmail":17,"Curfew/loitering/vagrancy violations":6,"Embezzlement":11,"Weapon law violations":78,"Driving under the influence":102,"Prostitution offenses":21,"Liquor law violations":9,"Arson":13,"Kidnapping/abduction":6,"Homicide offenses":2,"Pornography/obscene material":1,"Peeping tom":1,"Trespass of real property":406,"Assault offenses":1072,"Burglary/breaking&entering":654},"neighbourhoods":{"CHINATOWN/INTERNATIONAL DISTRICT":189,"GREENWOOD":140,"SODO":146,"BELLTOWN":157,"MID BEACON HILL":47,"FIRST HILL":198,"SANDPOINT":125,"MONTLAKE/PORTAGE BAY":35,"ROOSEVELT/RAVENNA":239,"HILLMAN CITY":23,"CENTRAL AREA/SQUIRE PARK":152,"QUEEN ANNE":350,"CAPITOL HILL":421,"DOWNTOWN COMMERCIAL":666,"CLAREMONT/RAINIER VISTA":50,"RAINIER BEACH":60,"MAGNOLIA":99,"ALASKA JUNCTION":89,"PIONEER SQUARE":141,"GEORGETOWN":97,"NEW HOLLY":35,"HIGH POINT":49,"BITTERLAKE":114,"BALLARD NORTH":136,"MORGAN":66,"NORTHGATE":365,"FREMONT":163,"BALLARD SOUTH":232,"UNIVERSITY":213,"JUDKINS PARK/NORTH BEACON HILL":61,"UNKNOWN":56,"MOUNT BAKER":120,"GENESEE":17,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":87,"FAUNTLEROY SW":37,"EASTLAKE - WEST":36,"NORTH DELRIDGE":51,"NORTH BEACON HILL":92,"BRIGHTON/DUNLAP":90,"COLUMBIA CITY":26,"LAKEWOOD/SEWARD PARK":28,"NORTH ADMIRAL":62,"SLU/CASCADE":251,"WALLINGFORD":120,"MADRONA/LESCHI":67,"MILLER PARK":33,"SOUTH DELRIDGE":33,"MADISON PARK":11,"RAINIER VIEW":60,"SOUTH BEACON HILL":30,"HIGHLAND PARK":95,"PHINNEY RIDGE":52,"SOUTH PARK":69,"ALKI":39,"PIGEON POINT":5,"COMMERCIAL DUWAMISH":4,"EASTLAKE - EAST":3,"LAKECITY":197}},{"month":"2018, 08","categories":{"Fraud offenses":320,"Larceny-theft":2235,"Liquor law violations":10,"Destruction/damage/vandalism of property":537,"Robbery":152,"Family offenses, nonviolent":92,"Counterfeiting/forgery":35,"Driving under the influence":101,"Bad checks":37,"Drug/narcotic offenses":218,"Weapon law violations":94,"Motor vehicle theft":374,"Embezzlement":7,"Stolen property offenses":70,"Sex offenses":56,"Extortion/blackmail":8,"Curfew/loitering/vagrancy violations":6,"Kidnapping/abduction":10,"Sex offenses, consensual":2,"Arson":14,"Prostitution offenses":1,"Homicide offenses":2,"Pornography/obscene material":4,"Trespass of real property":336,"Assault offenses":1052,"Burglary/breaking&entering":693},"neighbourhoods":{"NORTHGATE":386,"SODO":195,"GEORGETOWN":84,"HIGHLAND PARK":72,"SANDPOINT":132,"QUEEN ANNE":352,"CHINATOWN/INTERNATIONAL DISTRICT":211,"ROOSEVELT/RAVENNA":224,"CAPITOL HILL":412,"LAKEWOOD/SEWARD PARK":27,"MAGNOLIA":115,"FREMONT":123,"CENTRAL AREA/SQUIRE PARK":125,"COLUMBIA CITY":41,"NORTH BEACON HILL":96,"RAINIER BEACH":59,"BALLARD SOUTH":213,"FIRST HILL":183,"ALASKA JUNCTION":93,"MADRONA/LESCHI":78,"SOUTH PARK":49,"SLU/CASCADE":297,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":91,"BRIGHTON/DUNLAP":69,"DOWNTOWN COMMERCIAL":526,"PIONEER SQUARE":140,"UNIVERSITY":240,"JUDKINS PARK/NORTH BEACON HILL":62,"GREENWOOD":138,"NORTH ADMIRAL":52,"MONTLAKE/PORTAGE BAY":31,"MID BEACON HILL":77,"BELLTOWN":147,"WALLINGFORD":119,"BITTERLAKE":119,"MOUNT BAKER":122,"EASTLAKE - WEST":38,"NEW HOLLY":35,"PHINNEY RIDGE":50,"NORTH DELRIDGE":51,"UNKNOWN":62,"RAINIER VIEW":61,"BALLARD NORTH":114,"SOUTH BEACON HILL":19,"FAUNTLEROY SW":29,"MORGAN":47,"HIGH POINT":64,"CLAREMONT/RAINIER VISTA":32,"ALKI":36,"MILLER PARK":48,"GENESEE":17,"SOUTH DELRIDGE":23,"HILLMAN CITY":25,"PIGEON POINT":13,"MADISON PARK":12,"COMMERCIAL HARBOR ISLAND":3,"EASTLAKE - EAST":9,"COMMERCIAL DUWAMISH":4,"LAKECITY":174}},{"month":"2018, 09","categories":{"Fraud offenses":293,"Driving under the influence":96,"Counterfeiting/forgery":43,"Larceny-theft":2247,"Drug/narcotic offenses":193,"Motor vehicle theft":377,"Weapon law violations":67,"Destruction/damage/vandalism of property":546,"Family offenses, nonviolent":73,"Robbery":156,"Sex offenses":54,"Bad checks":33,"Stolen property offenses":63,"Extortion/blackmail":12,"Curfew/loitering/vagrancy violations":7,"Arson":4,"Homicide offenses":4,"Kidnapping/abduction":7,"Pornography/obscene material":4,"Liquor law violations":11,"Embezzlement":4,"Prostitution offenses":16,"Peeping tom":3,"Trespass of real property":349,"Assault offenses":972,"Burglary/breaking&entering":609},"neighbourhoods":{"CHINATOWN/INTERNATIONAL DISTRICT":182,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":108,"QUEEN ANNE":317,"GEORGETOWN":91,"SOUTH DELRIDGE":35,"WALLINGFORD":119,"BALLARD SOUTH":218,"FIRST HILL":176,"NORTHGATE":316,"DOWNTOWN COMMERCIAL":570,"JUDKINS PARK/NORTH BEACON HILL":57,"ROOSEVELT/RAVENNA":215,"BALLARD NORTH":143,"RAINIER BEACH":79,"NORTH BEACON HILL":112,"PHINNEY RIDGE":57,"BRIGHTON/DUNLAP":72,"SANDPOINT":111,"UNIVERSITY":254,"PIGEON POINT":9,"MORGAN":51,"CENTRAL AREA/SQUIRE PARK":155,"MID BEACON HILL":50,"CAPITOL HILL":407,"NORTH DELRIDGE":44,"SLU/CASCADE":239,"RAINIER VIEW":66,"FREMONT":158,"LAKEWOOD/SEWARD PARK":26,"BITTERLAKE":101,"FAUNTLEROY SW":16,"BELLTOWN":117,"ALASKA JUNCTION":96,"SOUTH BEACON HILL":40,"MAGNOLIA":92,"GREENWOOD":117,"SOUTH PARK":47,"MADRONA/LESCHI":80,"NEW HOLLY":25,"UNKNOWN":67,"SODO":167,"HIGHLAND PARK":69,"PIONEER SQUARE":107,"COLUMBIA CITY":56,"ALKI":24,"EASTLAKE - WEST":34,"HILLMAN CITY":21,"MONTLAKE/PORTAGE BAY":37,"MOUNT BAKER":93,"NORTH ADMIRAL":51,"HIGH POINT":30,"MILLER PARK":50,"EASTLAKE - EAST":6,"CLAREMONT/RAINIER VISTA":45,"COMMERCIAL HARBOR ISLAND":4,"MADISON PARK":16,"GENESEE":15,"COMMERCIAL DUWAMISH":5,"LAKECITY":178}},{"month":"2018, 10","categories":{"Robbery":167,"Weapon law violations":62,"Larceny-theft":2307,"Driving under the influence":104,"Motor vehicle theft":375,"Destruction/damage/vandalism of property":564,"Counterfeiting/forgery":46,"Fraud offenses":321,"Kidnapping/abduction":4,"Stolen property offenses":61,"Bad checks":32,"Embezzlement":21,"Drug/narcotic offenses":141,"Sex offenses":54,"Arson":3,"Family offenses, nonviolent":87,"Liquor law violations":8,"Extortion/blackmail":10,"Prostitution offenses":18,"Peeping tom":4,"Homicide offenses":3,"Pornography/obscene material":7,"Curfew/loitering/vagrancy violations":3,"Bribery":1,"Sex offenses, consensual":1,"Trespass of real property":337,"Burglary/breaking&entering":695,"Assault offenses":960},"neighbourhoods":{"DOWNTOWN COMMERCIAL":537,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":111,"SODO":160,"BRIGHTON/DUNLAP":90,"ALASKA JUNCTION":99,"CAPITOL HILL":371,"BELLTOWN":140,"FIRST HILL":200,"RAINIER VIEW":71,"COMMERCIAL HARBOR ISLAND":5,"SANDPOINT":106,"FAUNTLEROY SW":20,"CLAREMONT/RAINIER VISTA":26,"FREMONT":183,"ROOSEVELT/RAVENNA":276,"BALLARD SOUTH":230,"SLU/CASCADE":253,"GREENWOOD":124,"NORTH BEACON HILL":110,"QUEEN ANNE":301,"BALLARD NORTH":143,"NORTHGATE":390,"CENTRAL AREA/SQUIRE PARK":128,"CHINATOWN/INTERNATIONAL DISTRICT":167,"PIONEER SQUARE":105,"WALLINGFORD":133,"BITTERLAKE":125,"NORTH DELRIDGE":44,"PHINNEY RIDGE":55,"UNIVERSITY":261,"MILLER PARK":29,"JUDKINS PARK/NORTH BEACON HILL":60,"MOUNT BAKER":93,"MONTLAKE/PORTAGE BAY":49,"ALKI":23,"LAKEWOOD/SEWARD PARK":21,"SOUTH PARK":63,"MAGNOLIA":102,"HIGHLAND PARK":57,"NORTH ADMIRAL":50,"MID BEACON HILL":72,"HILLMAN CITY":24,"COLUMBIA CITY":38,"EASTLAKE - EAST":9,"RAINIER BEACH":72,"MADRONA/LESCHI":100,"UNKNOWN":51,"GEORGETOWN":89,"EASTLAKE - WEST":28,"MORGAN":57,"SOUTH BEACON HILL":23,"HIGH POINT":52,"MADISON PARK":21,"GENESEE":11,"NEW HOLLY":38,"SOUTH DELRIDGE":31,"COMMERCIAL DUWAMISH":6,"PIGEON POINT":3,"LAKECITY":160}},{"month":"2018, 11","categories":{"Larceny-theft":2232,"Destruction/damage/vandalism of property":559,"Motor vehicle theft":332,"Robbery":148,"Driving under the influence":106,"Fraud offenses":296,"Stolen property offenses":57,"Bad checks":25,"Extortion/blackmail":10,"Family offenses, nonviolent":64,"Drug/narcotic offenses":155,"Weapon law violations":64,"Counterfeiting/forgery":25,"Prostitution offenses":6,"Embezzlement":9,"Sex offenses":52,"Kidnapping/abduction":5,"Curfew/loitering/vagrancy violations":3,"Homicide offenses":4,"Sex offenses, consensual":2,"Arson":13,"Pornography/obscene material":2,"Liquor law violations":3,"Peeping tom":2,"Trespass of real property":380,"Assault offenses":957,"Burglary/breaking&entering":669},"neighbourhoods":{"CLAREMONT/RAINIER VISTA":35,"BELLTOWN":150,"NEW HOLLY":34,"BALLARD SOUTH":215,"MOUNT BAKER":93,"DOWNTOWN COMMERCIAL":569,"CAPITOL HILL":406,"MAGNOLIA":79,"QUEEN ANNE":255,"BALLARD NORTH":117,"SANDPOINT":111,"SLU/CASCADE":284,"SOUTH DELRIDGE":30,"MONTLAKE/PORTAGE BAY":30,"BRIGHTON/DUNLAP":50,"FIRST HILL":193,"PIONEER SQUARE":103,"FREMONT":209,"HILLMAN CITY":25,"NORTHGATE":372,"ROOSEVELT/RAVENNA":257,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":101,"MADRONA/LESCHI":79,"CENTRAL AREA/SQUIRE PARK":139,"RAINIER BEACH":77,"NORTH BEACON HILL":95,"NORTH DELRIDGE":32,"EASTLAKE - WEST":34,"WALLINGFORD":110,"UNIVERSITY":206,"HIGH POINT":52,"SODO":144,"PHINNEY RIDGE":43,"GEORGETOWN":93,"ALASKA JUNCTION":113,"RAINIER VIEW":52,"HIGHLAND PARK":67,"BITTERLAKE":132,"CHINATOWN/INTERNATIONAL DISTRICT":173,"GREENWOOD":113,"ALKI":19,"JUDKINS PARK/NORTH BEACON HILL":61,"FAUNTLEROY SW":33,"UNKNOWN":57,"EASTLAKE - EAST":13,"MORGAN":34,"MADISON PARK":15,"COLUMBIA CITY":27,"LAKEWOOD/SEWARD PARK":20,"NORTH ADMIRAL":47,"MILLER PARK":30,"SOUTH PARK":58,"MID BEACON HILL":71,"GENESEE":15,"PIGEON POINT":8,"COMMERCIAL DUWAMISH":2,"SOUTH BEACON HILL":24,"COMMERCIAL HARBOR ISLAND":4,"LAKECITY":170}},{"month":"2018, 12","categories":{"Stolen property offenses":58,"Larceny-theft":2325,"Driving under the influence":170,"Destruction/damage/vandalism of property":544,"Motor vehicle theft":345,"Robbery":128,"Prostitution offenses":19,"Sex offenses":57,"Fraud offenses":311,"Counterfeiting/forgery":34,"Weapon law violations":56,"Drug/narcotic offenses":166,"Bad checks":22,"Embezzlement":9,"Family offenses, nonviolent":58,"Liquor law violations":6,"Curfew/loitering/vagrancy violations":7,"Extortion/blackmail":8,"Kidnapping/abduction":8,"Arson":7,"Pornography/obscene material":5,"Sex offenses, consensual":1,"Homicide offenses":1,"Trespass of real property":385,"Burglary/breaking&entering":677,"Assault offenses":866},"neighbourhoods":{"MAGNOLIA":87,"CLAREMONT/RAINIER VISTA":51,"CAPITOL HILL":390,"MONTLAKE/PORTAGE BAY":33,"GREENWOOD":120,"NEW HOLLY":27,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":91,"RAINIER VIEW":48,"QUEEN ANNE":305,"DOWNTOWN COMMERCIAL":509,"CHINATOWN/INTERNATIONAL DISTRICT":219,"BITTERLAKE":155,"MOUNT BAKER":77,"SLU/CASCADE":271,"MADRONA/LESCHI":82,"BALLARD NORTH":137,"UNIVERSITY":256,"COLUMBIA CITY":34,"NORTH BEACON HILL":118,"JUDKINS PARK/NORTH BEACON HILL":78,"SOUTH PARK":49,"PHINNEY RIDGE":52,"BALLARD SOUTH":239,"NORTH ADMIRAL":51,"CENTRAL AREA/SQUIRE PARK":159,"NORTHGATE":343,"FIRST HILL":208,"HIGHLAND PARK":78,"BELLTOWN":133,"HILLMAN CITY":27,"FAUNTLEROY SW":30,"GEORGETOWN":109,"MILLER PARK":41,"SOUTH DELRIDGE":27,"FREMONT":170,"ROOSEVELT/RAVENNA":190,"BRIGHTON/DUNLAP":82,"PIONEER SQUARE":127,"WALLINGFORD":122,"RAINIER BEACH":74,"SODO":158,"MID BEACON HILL":72,"ALASKA JUNCTION":83,"COMMERCIAL DUWAMISH":8,"MADISON PARK":17,"SANDPOINT":119,"NORTH DELRIDGE":26,"HIGH POINT":31,"LAKEWOOD/SEWARD PARK":15,"ALKI":13,"MORGAN":36,"EASTLAKE - WEST":25,"PIGEON POINT":7,"GENESEE":8,"UNKNOWN":48,"SOUTH BEACON HILL":26,"COMMERCIAL HARBOR ISLAND":6,"EASTLAKE - EAST":7,"LAKECITY":169}},{"month":"2019, 01","categories":{"Larceny-theft":2240,"Destruction/damage/vandalism of property":548,"Weapon law violations":77,"Prostitution offenses":27,"Sex offenses, consensual":3,"Family offenses, nonviolent":80,"Drug/narcotic offenses":183,"Bad checks":41,"Fraud offenses":375,"Motor vehicle theft":269,"Robbery":135,"Sex offenses":44,"Driving under the influence":126,"Counterfeiting/forgery":32,"Stolen property offenses":47,"Arson":11,"Curfew/loitering/vagrancy violations":7,"Pornography/obscene material":6,"Liquor law violations":5,"Embezzlement":7,"Kidnapping/abduction":6,"Extortion/blackmail":8,"Peeping tom":2,"Homicide offenses":4,"Trespass of real property":461,"Burglary/breaking&entering":816,"Assault offenses":895},"neighbourhoods":{"CAPITOL HILL":445,"PIONEER SQUARE":112,"PHINNEY RIDGE":47,"DOWNTOWN COMMERCIAL":600,"NORTH BEACON HILL":92,"WALLINGFORD":114,"HIGH POINT":50,"MOUNT BAKER":93,"BRIGHTON/DUNLAP":78,"NORTHGATE":413,"ROOSEVELT/RAVENNA":239,"ALASKA JUNCTION":86,"SODO":136,"JUDKINS PARK/NORTH BEACON HILL":48,"MILLER PARK":62,"MAGNOLIA":98,"QUEEN ANNE":298,"SLU/CASCADE":266,"FIRST HILL":235,"UNIVERSITY":303,"MONTLAKE/PORTAGE BAY":45,"RAINIER VIEW":41,"NEW HOLLY":30,"FREMONT":143,"MORGAN":63,"SANDPOINT":114,"SOUTH PARK":61,"BALLARD SOUTH":243,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":102,"BITTERLAKE":136,"HIGHLAND PARK":51,"BELLTOWN":165,"MADRONA/LESCHI":60,"GENESEE":22,"EASTLAKE - WEST":22,"GREENWOOD":113,"CHINATOWN/INTERNATIONAL DISTRICT":197,"HILLMAN CITY":30,"SOUTH BEACON HILL":32,"UNKNOWN":53,"NORTH DELRIDGE":40,"RAINIER BEACH":58,"NORTH ADMIRAL":56,"BALLARD NORTH":131,"CENTRAL AREA/SQUIRE PARK":125,"MID BEACON HILL":53,"LAKEWOOD/SEWARD PARK":15,"COLUMBIA CITY":45,"GEORGETOWN":92,"SOUTH DELRIDGE":27,"FAUNTLEROY SW":24,"MADISON PARK":14,"COMMERCIAL HARBOR ISLAND":6,"EASTLAKE - EAST":9,"CLAREMONT/RAINIER VISTA":26,"ALKI":19,"COMMERCIAL DUWAMISH":2,"PIGEON POINT":5,"LAKECITY":170}},{"month":"2019, 02","categories":{"Liquor law violations":7,"Larceny-theft":1646,"Robbery":114,"Motor vehicle theft":222,"Arson":5,"Fraud offenses":276,"Driving under the influence":109,"Destruction/damage/vandalism of property":372,"Drug/narcotic offenses":137,"Bad checks":27,"Embezzlement":12,"Family offenses, nonviolent":54,"Sex offenses":40,"Pornography/obscene material":2,"Stolen property offenses":49,"Counterfeiting/forgery":24,"Weapon law violations":38,"Kidnapping/abduction":8,"Extortion/blackmail":3,"Sex offenses, consensual":2,"Prostitution offenses":2,"Curfew/loitering/vagrancy violations":4,"Homicide offenses":2,"Trespass of real property":335,"Assault offenses":736,"Burglary/breaking&entering":490},"neighbourhoods":{"BRIGHTON/DUNLAP":71,"UNIVERSITY":175,"GEORGETOWN":75,"CHINATOWN/INTERNATIONAL DISTRICT":136,"DOWNTOWN COMMERCIAL":407,"NORTHGATE":261,"MOUNT BAKER":81,"ALASKA JUNCTION":73,"SODO":131,"BALLARD SOUTH":166,"COLUMBIA CITY":21,"FREMONT":127,"CENTRAL AREA/SQUIRE PARK":104,"SLU/CASCADE":210,"LAKEWOOD/SEWARD PARK":11,"PHINNEY RIDGE":27,"BITTERLAKE":74,"BALLARD NORTH":103,"MID BEACON HILL":48,"ROOSEVELT/RAVENNA":194,"ALKI":15,"MAGNOLIA":85,"FIRST HILL":184,"QUEEN ANNE":237,"CLAREMONT/RAINIER VISTA":27,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":82,"RAINIER BEACH":46,"MADRONA/LESCHI":47,"UNKNOWN":40,"NORTH BEACON HILL":67,"HIGHLAND PARK":47,"NORTH ADMIRAL":29,"CAPITOL HILL":284,"MONTLAKE/PORTAGE BAY":22,"PIONEER SQUARE":81,"GREENWOOD":127,"SOUTH DELRIDGE":20,"WALLINGFORD":77,"RAINIER VIEW":51,"NORTH DELRIDGE":41,"EASTLAKE - WEST":31,"SOUTH PARK":42,"EASTLAKE - EAST":8,"MILLER PARK":28,"SANDPOINT":63,"BELLTOWN":89,"HILLMAN CITY":21,"HIGH POINT":30,"SOUTH BEACON HILL":19,"MORGAN":41,"JUDKINS PARK/NORTH BEACON HILL":47,"PIGEON POINT":5,"NEW HOLLY":21,"GENESEE":7,"FAUNTLEROY SW":22,"MADISON PARK":4,"COMMERCIAL DUWAMISH":2,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":131}},{"month":"2019, 03","categories":{"Larceny-theft":2077,"Sex offenses":47,"Robbery":123,"Destruction/damage/vandalism of property":501,"Fraud offenses":274,"Motor vehicle theft":265,"Drug/narcotic offenses":151,"Liquor law violations":12,"Pornography/obscene material":9,"Extortion/blackmail":8,"Driving under the influence":122,"Family offenses, nonviolent":52,"Stolen property offenses":45,"Kidnapping/abduction":9,"Curfew/loitering/vagrancy violations":6,"Weapon law violations":63,"Prostitution offenses":3,"Bad checks":33,"Arson":8,"Counterfeiting/forgery":36,"Embezzlement":10,"Homicide offenses":4,"Peeping tom":1,"Trespass of real property":386,"Assault offenses":946,"Burglary/breaking&entering":601},"neighbourhoods":{"MOUNT BAKER":66,"FIRST HILL":236,"QUEEN ANNE":291,"DOWNTOWN COMMERCIAL":515,"BITTERLAKE":121,"NORTHGATE":329,"EASTLAKE - WEST":23,"UNKNOWN":47,"BALLARD SOUTH":177,"WALLINGFORD":94,"MADRONA/LESCHI":62,"BRIGHTON/DUNLAP":67,"BELLTOWN":140,"CAPITOL HILL":371,"PIONEER SQUARE":110,"CENTRAL AREA/SQUIRE PARK":141,"SODO":162,"SLU/CASCADE":283,"UNIVERSITY":233,"FAUNTLEROY SW":26,"ROOSEVELT/RAVENNA":226,"SOUTH PARK":44,"BALLARD NORTH":111,"NEW HOLLY":32,"HIGH POINT":40,"GEORGETOWN":93,"PHINNEY RIDGE":30,"NORTH ADMIRAL":65,"JUDKINS PARK/NORTH BEACON HILL":48,"FREMONT":106,"NORTH DELRIDGE":45,"RAINIER VIEW":42,"ALASKA JUNCTION":120,"SOUTH DELRIDGE":34,"CHINATOWN/INTERNATIONAL DISTRICT":167,"COLUMBIA CITY":25,"MAGNOLIA":90,"HILLMAN CITY":21,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":86,"HIGHLAND PARK":76,"SANDPOINT":97,"MILLER PARK":32,"GENESEE":14,"MID BEACON HILL":42,"NORTH BEACON HILL":87,"RAINIER BEACH":63,"SOUTH BEACON HILL":20,"ALKI":28,"GREENWOOD":108,"CLAREMONT/RAINIER VISTA":28,"MADISON PARK":13,"MONTLAKE/PORTAGE BAY":28,"MORGAN":25,"PIGEON POINT":11,"LAKEWOOD/SEWARD PARK":16,"COMMERCIAL HARBOR ISLAND":2,"EASTLAKE - EAST":5,"COMMERCIAL DUWAMISH":1,"LAKECITY":177}},{"month":"2019, 04","categories":{"Larceny-theft":2054,"Robbery":132,"Destruction/damage/vandalism of property":505,"Motor vehicle theft":292,"Fraud offenses":332,"Drug/narcotic offenses":199,"Sex offenses":55,"Counterfeiting/forgery":24,"Family offenses, nonviolent":71,"Stolen property offenses":45,"Driving under the influence":120,"Embezzlement":11,"Kidnapping/abduction":5,"Bad checks":41,"Pornography/obscene material":6,"Weapon law violations":72,"Liquor law violations":2,"Arson":4,"Extortion/blackmail":7,"Peeping tom":1,"Homicide offenses":1,"Curfew/loitering/vagrancy violations":4,"Trespass of real property":423,"Burglary/breaking&entering":559,"Assault offenses":889},"neighbourhoods":{"SLU/CASCADE":234,"PIONEER SQUARE":108,"MOUNT BAKER":89,"ROOSEVELT/RAVENNA":186,"CAPITOL HILL":315,"SODO":148,"NORTH DELRIDGE":41,"QUEEN ANNE":312,"BALLARD SOUTH":232,"SANDPOINT":119,"RAINIER BEACH":59,"DOWNTOWN COMMERCIAL":535,"BALLARD NORTH":140,"MILLER PARK":29,"HIGH POINT":49,"HILLMAN CITY":18,"SOUTH PARK":49,"UNIVERSITY":255,"NORTH BEACON HILL":84,"BITTERLAKE":103,"FIRST HILL":226,"CHINATOWN/INTERNATIONAL DISTRICT":182,"MAGNOLIA":103,"WALLINGFORD":88,"BELLTOWN":132,"NORTH ADMIRAL":62,"FREMONT":133,"GREENWOOD":120,"CENTRAL AREA/SQUIRE PARK":159,"MID BEACON HILL":59,"COMMERCIAL HARBOR ISLAND":4,"HIGHLAND PARK":94,"PHINNEY RIDGE":46,"COLUMBIA CITY":36,"NORTHGATE":307,"MONTLAKE/PORTAGE BAY":23,"MADRONA/LESCHI":70,"GEORGETOWN":77,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":81,"ALASKA JUNCTION":93,"MORGAN":40,"ALKI":21,"RAINIER VIEW":54,"JUDKINS PARK/NORTH BEACON HILL":56,"NEW HOLLY":26,"SOUTH BEACON HILL":20,"UNKNOWN":45,"CLAREMONT/RAINIER VISTA":21,"EASTLAKE - WEST":31,"BRIGHTON/DUNLAP":60,"FAUNTLEROY SW":23,"LAKEWOOD/SEWARD PARK":25,"SOUTH DELRIDGE":20,"MADISON PARK":18,"EASTLAKE - EAST":7,"PIGEON POINT":3,"GENESEE":5,"LAKECITY":179}},{"month":"2019, 05","categories":{"Motor vehicle theft":313,"Destruction/damage/vandalism of property":502,"Robbery":118,"Larceny-theft":2050,"Driving under the influence":94,"Fraud offenses":284,"Drug/narcotic offenses":117,"Bad checks":16,"Counterfeiting/forgery":43,"Sex offenses":74,"Weapon law violations":57,"Kidnapping/abduction":12,"Stolen property offenses":47,"Arson":7,"Peeping tom":2,"Drunkenness":1,"Liquor law violations":4,"Family offenses, nonviolent":23,"Animal cruelty":2,"Extortion/blackmail":6,"Prostitution offenses":4,"Pornography/obscene material":5,"Embezzlement":4,"Homicide offenses":4,"Curfew/loitering/vagrancy violations":2,"Trespass of real property":312,"Assault offenses":1021,"Burglary/breaking&entering":616,"Sex offenses, consensual":1},"neighbourhoods":{"NORTH DELRIDGE":35,"FIRST HILL":203,"PIONEER SQUARE":118,"SODO":119,"NORTHGATE":281,"HILLMAN CITY":18,"DOWNTOWN COMMERCIAL":441,"BITTERLAKE":93,"BRIGHTON/DUNLAP":71,"CAPITOL HILL":386,"BALLARD SOUTH":217,"UNIVERSITY":253,"QUEEN ANNE":307,"MAGNOLIA":109,"NORTH ADMIRAL":60,"CHINATOWN/INTERNATIONAL DISTRICT":161,"ALASKA JUNCTION":79,"ROOSEVELT/RAVENNA":233,"FAUNTLEROY SW":28,"LAKEWOOD/SEWARD PARK":24,"BELLTOWN":159,"GREENWOOD":110,"GEORGETOWN":81,"PHINNEY RIDGE":43,"CLAREMONT/RAINIER VISTA":38,"CENTRAL AREA/SQUIRE PARK":120,"BALLARD NORTH":137,"SLU/CASCADE":226,"SANDPOINT":116,"ALKI":27,"JUDKINS PARK/NORTH BEACON HILL":39,"MOUNT BAKER":77,"HIGH POINT":50,"HIGHLAND PARK":68,"COMMERCIAL HARBOR ISLAND":2,"NORTH BEACON HILL":120,"EASTLAKE - WEST":41,"SOUTH PARK":67,"RAINIER BEACH":68,"FREMONT":106,"MADRONA/LESCHI":51,"WALLINGFORD":95,"MORGAN":38,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":93,"MILLER PARK":45,"PIGEON POINT":11,"RAINIER VIEW":43,"MONTLAKE/PORTAGE BAY":37,"NEW HOLLY":30,"COLUMBIA CITY":34,"MID BEACON HILL":55,"UNKNOWN":32,"SOUTH DELRIDGE":19,"SOUTH BEACON HILL":28,"GENESEE":6,"MADISON PARK":12,"COMMERCIAL DUWAMISH":3,"EASTLAKE - EAST":7,"LAKECITY":171}},{"month":"2019, 06","categories":{"Larceny-theft":2080,"Sex offenses":67,"Motor vehicle theft":356,"Extortion/blackmail":8,"Destruction/damage/vandalism of property":460,"Robbery":122,"Drug/narcotic offenses":133,"Weapon law violations":54,"Fraud offenses":309,"Stolen property offenses":49,"Driving under the influence":112,"Counterfeiting/forgery":29,"Liquor law violations":1,"Kidnapping/abduction":7,"Arson":9,"Pornography/obscene material":4,"Prostitution offenses":4,"Curfew/loitering/vagrancy violations":4,"Human trafficking":4,"Bad checks":16,"Family offenses, nonviolent":8,"Embezzlement":5,"Drunkenness":1,"Homicide offenses":2,"Trespass of real property":298,"Assault offenses":933,"Burglary/breaking&entering":639,"Animal cruelty":2},"neighbourhoods":{"SLU/CASCADE":259,"SODO":107,"BALLARD NORTH":116,"BELLTOWN":150,"ROOSEVELT/RAVENNA":237,"UNIVERSITY":232,"SOUTH DELRIDGE":25,"MOUNT BAKER":74,"SANDPOINT":92,"CAPITOL HILL":354,"DOWNTOWN COMMERCIAL":476,"MID BEACON HILL":66,"RAINIER BEACH":40,"HIGH POINT":65,"MAGNOLIA":103,"ALKI":41,"COLUMBIA CITY":34,"QUEEN ANNE":350,"CENTRAL AREA/SQUIRE PARK":133,"PIONEER SQUARE":128,"ALASKA JUNCTION":73,"CHINATOWN/INTERNATIONAL DISTRICT":134,"LAKEWOOD/SEWARD PARK":21,"GEORGETOWN":99,"NORTHGATE":318,"WALLINGFORD":81,"MILLER PARK":33,"BALLARD SOUTH":194,"MORGAN":57,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":89,"FREMONT":104,"HIGHLAND PARK":84,"NORTH BEACON HILL":103,"GREENWOOD":115,"NORTH DELRIDGE":47,"BITTERLAKE":96,"SOUTH BEACON HILL":27,"CLAREMONT/RAINIER VISTA":36,"BRIGHTON/DUNLAP":62,"MADRONA/LESCHI":44,"PHINNEY RIDGE":41,"JUDKINS PARK/NORTH BEACON HILL":46,"NEW HOLLY":31,"FIRST HILL":216,"NORTH ADMIRAL":47,"GENESEE":15,"SOUTH PARK":60,"UNKNOWN":38,"MONTLAKE/PORTAGE BAY":29,"FAUNTLEROY SW":20,"MADISON PARK":17,"RAINIER VIEW":36,"HILLMAN CITY":10,"PIGEON POINT":4,"COMMERCIAL DUWAMISH":1,"EASTLAKE - WEST":40,"COMMERCIAL HARBOR ISLAND":3,"EASTLAKE - EAST":5,"LAKECITY":158}},{"month":"2019, 07","categories":{"Motor vehicle theft":396,"Driving under the influence":124,"Human trafficking":2,"Fraud offenses":283,"Larceny-theft":2345,"Weapon law violations":56,"Kidnapping/abduction":10,"Robbery":149,"Destruction/damage/vandalism of property":532,"Counterfeiting/forgery":36,"Curfew/loitering/vagrancy violations":6,"Stolen property offenses":49,"Bad checks":13,"Sex offenses":65,"Drug/narcotic offenses":138,"Embezzlement":13,"Family offenses, nonviolent":8,"Arson":12,"Prostitution offenses":62,"Homicide offenses":8,"Extortion/blackmail":10,"Animal cruelty":3,"Pornography/obscene material":3,"Liquor law violations":4,"Peeping tom":1,"Trespass of real property":315,"Assault offenses":1056,"Burglary/breaking&entering":648},"neighbourhoods":{"MAGNOLIA":88,"MADISON PARK":14,"SODO":134,"UNKNOWN":85,"NORTHGATE":386,"DOWNTOWN COMMERCIAL":545,"BALLARD NORTH":162,"BALLARD SOUTH":225,"UNIVERSITY":227,"RAINIER BEACH":52,"CAPITOL HILL":407,"HIGHLAND PARK":76,"BRIGHTON/DUNLAP":74,"MONTLAKE/PORTAGE BAY":43,"BITTERLAKE":107,"SANDPOINT":144,"ROOSEVELT/RAVENNA":247,"MADRONA/LESCHI":50,"NORTH ADMIRAL":54,"PIONEER SQUARE":110,"GREENWOOD":173,"SLU/CASCADE":250,"CLAREMONT/RAINIER VISTA":50,"CHINATOWN/INTERNATIONAL DISTRICT":237,"GEORGETOWN":90,"NORTH BEACON HILL":103,"QUEEN ANNE":323,"FREMONT":97,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":112,"JUDKINS PARK/NORTH BEACON HILL":65,"WALLINGFORD":112,"CENTRAL AREA/SQUIRE PARK":138,"FAUNTLEROY SW":15,"MILLER PARK":42,"ALASKA JUNCTION":92,"PHINNEY RIDGE":47,"BELLTOWN":139,"SOUTH BEACON HILL":24,"FIRST HILL":235,"SOUTH PARK":48,"MORGAN":45,"MOUNT BAKER":86,"ALKI":28,"MID BEACON HILL":49,"NORTH DELRIDGE":51,"RAINIER VIEW":35,"PIGEON POINT":9,"HIGH POINT":51,"NEW HOLLY":33,"COLUMBIA CITY":34,"LAKEWOOD/SEWARD PARK":24,"EASTLAKE - WEST":50,"SOUTH DELRIDGE":32,"COMMERCIAL DUWAMISH":6,"HILLMAN CITY":23,"GENESEE":17,"EASTLAKE - EAST":6,"COMMERCIAL HARBOR ISLAND":1,"LAKECITY":145}},{"month":"2019, 08","categories":{"Drug/narcotic offenses":117,"Driving under the influence":120,"Robbery":143,"Liquor law violations":11,"Larceny-theft":2387,"Motor vehicle theft":403,"Destruction/damage/vandalism of property":559,"Stolen property offenses":82,"Prostitution offenses":58,"Bad checks":14,"Fraud offenses":283,"Weapon law violations":55,"Kidnapping/abduction":12,"Sex offenses":70,"Counterfeiting/forgery":48,"Embezzlement":8,"Curfew/loitering/vagrancy violations":5,"Family offenses, nonviolent":14,"Arson":9,"Animal cruelty":7,"Pornography/obscene material":5,"Extortion/blackmail":12,"Homicide offenses":5,"Peeping tom":3,"Trespass of real property":266,"Assault offenses":1011,"Burglary/breaking&entering":653},"neighbourhoods":{"QUEEN ANNE":381,"UNIVERSITY":288,"NORTHGATE":362,"BITTERLAKE":105,"JUDKINS PARK/NORTH BEACON HILL":61,"ALASKA JUNCTION":97,"SOUTH BEACON HILL":36,"NORTH ADMIRAL":60,"BALLARD NORTH":124,"SLU/CASCADE":261,"HIGH POINT":49,"FREMONT":94,"DOWNTOWN COMMERCIAL":499,"CENTRAL AREA/SQUIRE PARK":171,"CHINATOWN/INTERNATIONAL DISTRICT":214,"CAPITOL HILL":383,"SOUTH PARK":56,"MAGNOLIA":92,"MORGAN":59,"BELLTOWN":161,"MONTLAKE/PORTAGE BAY":44,"BRIGHTON/DUNLAP":55,"WALLINGFORD":97,"COMMERCIAL HARBOR ISLAND":5,"MADRONA/LESCHI":73,"CLAREMONT/RAINIER VISTA":23,"GEORGETOWN":87,"PIONEER SQUARE":158,"BALLARD SOUTH":246,"GREENWOOD":137,"RAINIER BEACH":61,"ROOSEVELT/RAVENNA":213,"SODO":144,"NORTH BEACON HILL":132,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":91,"PHINNEY RIDGE":48,"NORTH DELRIDGE":40,"MOUNT BAKER":90,"SANDPOINT":155,"HIGHLAND PARK":83,"GENESEE":12,"COMMERCIAL DUWAMISH":4,"HILLMAN CITY":20,"UNKNOWN":58,"FIRST HILL":203,"LAKEWOOD/SEWARD PARK":26,"NEW HOLLY":39,"FAUNTLEROY SW":37,"ALKI":26,"MID BEACON HILL":49,"COLUMBIA CITY":32,"SOUTH DELRIDGE":22,"EASTLAKE - EAST":14,"EASTLAKE - WEST":29,"RAINIER VIEW":39,"MILLER PARK":34,"PIGEON POINT":7,"MADISON PARK":18,"LAKECITY":156}},{"month":"2019, 09","categories":{"Driving under the influence":110,"Larceny-theft":2304,"Sex offenses":56,"Motor vehicle theft":385,"Drug/narcotic offenses":117,"Destruction/damage/vandalism of property":474,"Stolen property offenses":47,"Counterfeiting/forgery":38,"Embezzlement":11,"Fraud offenses":296,"Robbery":114,"Arson":8,"Kidnapping/abduction":16,"Bad checks":8,"Weapon law violations":47,"Peeping tom":3,"Prostitution offenses":18,"Human trafficking":4,"Liquor law violations":13,"Family offenses, nonviolent":5,"Extortion/blackmail":8,"Pornography/obscene material":6,"Curfew/loitering/vagrancy violations":4,"Homicide offenses":2,"Drunkenness":1,"Trespass of real property":243,"Burglary/breaking&entering":665,"Assault offenses":924},"neighbourhoods":{"BALLARD NORTH":124,"FIRST HILL":195,"QUEEN ANNE":360,"BRIGHTON/DUNLAP":65,"DOWNTOWN COMMERCIAL":473,"HIGHLAND PARK":74,"SOUTH BEACON HILL":25,"BELLTOWN":157,"NORTHGATE":307,"WALLINGFORD":109,"BITTERLAKE":104,"MORGAN":56,"CAPITOL HILL":321,"UNIVERSITY":244,"GEORGETOWN":75,"MID BEACON HILL":46,"GREENWOOD":178,"ROOSEVELT/RAVENNA":196,"SODO":127,"SLU/CASCADE":285,"MAGNOLIA":106,"FREMONT":105,"BALLARD SOUTH":248,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":81,"JUDKINS PARK/NORTH BEACON HILL":49,"NORTH BEACON HILL":144,"SANDPOINT":162,"ALASKA JUNCTION":80,"HIGH POINT":56,"MOUNT BAKER":62,"GENESEE":5,"CENTRAL AREA/SQUIRE PARK":129,"NORTH ADMIRAL":58,"MONTLAKE/PORTAGE BAY":41,"EASTLAKE - EAST":16,"ALKI":30,"MADISON PARK":14,"CHINATOWN/INTERNATIONAL DISTRICT":209,"CLAREMONT/RAINIER VISTA":22,"MADRONA/LESCHI":63,"PHINNEY RIDGE":50,"SOUTH PARK":55,"PIONEER SQUARE":111,"FAUNTLEROY SW":15,"EASTLAKE - WEST":46,"UNKNOWN":35,"LAKEWOOD/SEWARD PARK":22,"NEW HOLLY":15,"RAINIER BEACH":45,"NORTH DELRIDGE":44,"MILLER PARK":18,"SOUTH DELRIDGE":32,"RAINIER VIEW":30,"COMMERCIAL DUWAMISH":5,"COLUMBIA CITY":26,"HILLMAN CITY":12,"PIGEON POINT":9,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":154}},{"month":"2019, 10","categories":{"Destruction/damage/vandalism of property":436,"Larceny-theft":2334,"Fraud offenses":295,"Motor vehicle theft":383,"Curfew/loitering/vagrancy violations":3,"Weapon law violations":44,"Pornography/obscene material":7,"Peeping tom":3,"Driving under the influence":109,"Robbery":134,"Family offenses, nonviolent":4,"Liquor law violations":3,"Extortion/blackmail":10,"Prostitution offenses":29,"Arson":14,"Counterfeiting/forgery":36,"Kidnapping/abduction":13,"Sex offenses":66,"Drug/narcotic offenses":117,"Stolen property offenses":46,"Embezzlement":4,"Bad checks":10,"Homicide offenses":2,"Trespass of real property":326,"Burglary/breaking&entering":674,"Assault offenses":955,"Sex offenses, consensual":1},"neighbourhoods":{"MORGAN":49,"WALLINGFORD":86,"BELLTOWN":155,"SLU/CASCADE":240,"BALLARD SOUTH":243,"LAKEWOOD/SEWARD PARK":13,"FIRST HILL":208,"NORTHGATE":340,"NORTH DELRIDGE":66,"DOWNTOWN COMMERCIAL":540,"MONTLAKE/PORTAGE BAY":32,"ALKI":19,"RAINIER VIEW":34,"BITTERLAKE":123,"COMMERCIAL DUWAMISH":7,"CENTRAL AREA/SQUIRE PARK":150,"CAPITOL HILL":342,"ROOSEVELT/RAVENNA":224,"QUEEN ANNE":368,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":91,"PHINNEY RIDGE":52,"NORTH BEACON HILL":109,"SOUTH PARK":76,"UNIVERSITY":252,"CHINATOWN/INTERNATIONAL DISTRICT":203,"MID BEACON HILL":39,"SANDPOINT":166,"MILLER PARK":26,"GEORGETOWN":73,"MAGNOLIA":62,"COLUMBIA CITY":28,"EASTLAKE - WEST":42,"BALLARD NORTH":103,"GREENWOOD":166,"JUDKINS PARK/NORTH BEACON HILL":41,"ALASKA JUNCTION":89,"MADISON PARK":24,"HIGHLAND PARK":67,"HILLMAN CITY":19,"MADRONA/LESCHI":77,"MOUNT BAKER":71,"SOUTH BEACON HILL":14,"SODO":171,"RAINIER BEACH":56,"FREMONT":96,"NEW HOLLY":25,"NORTH ADMIRAL":39,"BRIGHTON/DUNLAP":66,"HIGH POINT":51,"CLAREMONT/RAINIER VISTA":29,"PIONEER SQUARE":113,"SOUTH DELRIDGE":35,"FAUNTLEROY SW":39,"GENESEE":21,"UNKNOWN":23,"EASTLAKE - EAST":7,"PIGEON POINT":6,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":150}},{"month":"2019, 11","categories":{"Destruction/damage/vandalism of property":486,"Larceny-theft":2286,"Motor vehicle theft":366,"Robbery":141,"Fraud offenses":269,"Counterfeiting/forgery":45,"Driving under the influence":114,"Weapon law violations":42,"Drug/narcotic offenses":116,"Stolen property offenses":53,"Kidnapping/abduction":15,"Arson":17,"Sex offenses":60,"Embezzlement":12,"Pornography/obscene material":4,"Human trafficking":6,"Prostitution offenses":16,"Extortion/blackmail":6,"Bad checks":8,"Liquor law violations":3,"Family offenses, nonviolent":7,"Peeping tom":1,"Animal cruelty":2,"Trespass of real property":277,"Assault offenses":890,"Burglary/breaking&entering":672,"Homicide offenses":3},"neighbourhoods":{"UNIVERSITY":283,"CAPITOL HILL":351,"FIRST HILL":201,"MAGNOLIA":118,"NEW HOLLY":41,"NORTHGATE":317,"QUEEN ANNE":284,"SLU/CASCADE":245,"ROOSEVELT/RAVENNA":255,"DOWNTOWN COMMERCIAL":552,"MOUNT BAKER":66,"SANDPOINT":121,"SOUTH PARK":62,"BALLARD NORTH":98,"FREMONT":108,"FAUNTLEROY SW":27,"BITTERLAKE":89,"BALLARD SOUTH":225,"CLAREMONT/RAINIER VISTA":33,"WALLINGFORD":83,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":104,"ALASKA JUNCTION":122,"GREENWOOD":140,"EASTLAKE - WEST":40,"MONTLAKE/PORTAGE BAY":26,"SODO":112,"MORGAN":72,"NORTH BEACON HILL":102,"MID BEACON HILL":48,"BRIGHTON/DUNLAP":68,"CENTRAL AREA/SQUIRE PARK":118,"BELLTOWN":171,"RAINIER BEACH":54,"PHINNEY RIDGE":37,"ALKI":24,"CHINATOWN/INTERNATIONAL DISTRICT":144,"PIONEER SQUARE":103,"HIGH POINT":46,"SOUTH DELRIDGE":23,"LAKEWOOD/SEWARD PARK":34,"PIGEON POINT":8,"GEORGETOWN":113,"RAINIER VIEW":43,"MADRONA/LESCHI":66,"HIGHLAND PARK":62,"NORTH ADMIRAL":47,"NORTH DELRIDGE":26,"UNKNOWN":19,"HILLMAN CITY":25,"SOUTH BEACON HILL":11,"COLUMBIA CITY":48,"MILLER PARK":42,"MADISON PARK":17,"JUDKINS PARK/NORTH BEACON HILL":70,"EASTLAKE - EAST":14,"GENESEE":10,"COMMERCIAL HARBOR ISLAND":4,"LAKECITY":144,"COMMERCIAL DUWAMISH":1}},{"month":"2019, 12","categories":{"Driving under the influence":146,"Robbery":129,"Motor vehicle theft":344,"Larceny-theft":2230,"Counterfeiting/forgery":40,"Fraud offenses":256,"Stolen property offenses":61,"Extortion/blackmail":7,"Kidnapping/abduction":12,"Destruction/damage/vandalism of property":446,"Weapon law violations":45,"Drug/narcotic offenses":112,"Sex offenses":53,"Curfew/loitering/vagrancy violations":1,"Family offenses, nonviolent":11,"Liquor law violations":4,"Animal cruelty":2,"Bad checks":2,"Arson":6,"Pornography/obscene material":3,"Prostitution offenses":8,"Homicide offenses":2,"Trespass of real property":277,"Assault offenses":933,"Burglary/breaking&entering":683,"Embezzlement":7},"neighbourhoods":{"FREMONT":109,"SOUTH DELRIDGE":23,"ROOSEVELT/RAVENNA":203,"GREENWOOD":139,"HIGHLAND PARK":40,"HIGH POINT":31,"NORTHGATE":334,"QUEEN ANNE":289,"BALLARD SOUTH":221,"FIRST HILL":229,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":101,"NORTH BEACON HILL":92,"ALKI":20,"UNIVERSITY":260,"GEORGETOWN":88,"MADRONA/LESCHI":64,"BITTERLAKE":110,"CHINATOWN/INTERNATIONAL DISTRICT":212,"NORTH ADMIRAL":48,"MAGNOLIA":81,"BALLARD NORTH":115,"CAPITOL HILL":365,"PHINNEY RIDGE":41,"WALLINGFORD":76,"DOWNTOWN COMMERCIAL":556,"JUDKINS PARK/NORTH BEACON HILL":67,"NORTH DELRIDGE":41,"CENTRAL AREA/SQUIRE PARK":136,"BRIGHTON/DUNLAP":58,"SLU/CASCADE":253,"SODO":99,"MORGAN":40,"LAKEWOOD/SEWARD PARK":30,"PIONEER SQUARE":139,"GENESEE":6,"RAINIER VIEW":34,"SOUTH PARK":38,"MID BEACON HILL":58,"BELLTOWN":159,"EASTLAKE - EAST":6,"MADISON PARK":26,"MONTLAKE/PORTAGE BAY":26,"NEW HOLLY":39,"FAUNTLEROY SW":34,"RAINIER BEACH":37,"ALASKA JUNCTION":96,"MOUNT BAKER":77,"COLUMBIA CITY":37,"MILLER PARK":43,"SANDPOINT":105,"CLAREMONT/RAINIER VISTA":24,"EASTLAKE - WEST":27,"COMMERCIAL HARBOR ISLAND":4,"UNKNOWN":24,"HILLMAN CITY":26,"COMMERCIAL DUWAMISH":5,"SOUTH BEACON HILL":11,"PIGEON POINT":5,"LAKECITY":163}},{"month":"2020, 01","categories":{"Larceny-theft":2262,"Extortion/blackmail":10,"Destruction/damage/vandalism of property":461,"Driving under the influence":129,"Robbery":137,"Counterfeiting/forgery":40,"Motor vehicle theft":384,"Fraud offenses":319,"Drug/narcotic offenses":126,"Weapon law violations":52,"Sex offenses":58,"Arson":1,"Human trafficking":2,"Stolen property offenses":56,"Embezzlement":10,"Liquor law violations":4,"Bad checks":9,"Kidnapping/abduction":11,"Prostitution offenses":7,"Family offenses, nonviolent":3,"Pornography/obscene material":3,"Trespass of real property":280,"Assault offenses":918,"Burglary/breaking&entering":658,"Homicide offenses":6},"neighbourhoods":{"DOWNTOWN COMMERCIAL":537,"MOUNT BAKER":68,"PIONEER SQUARE":98,"BALLARD SOUTH":233,"FIRST HILL":195,"MID BEACON HILL":42,"QUEEN ANNE":339,"BELLTOWN":156,"BRIGHTON/DUNLAP":62,"PHINNEY RIDGE":35,"CAPITOL HILL":349,"NORTH ADMIRAL":61,"SLU/CASCADE":259,"UNIVERSITY":288,"FREMONT":117,"JUDKINS PARK/NORTH BEACON HILL":78,"NORTH BEACON HILL":100,"MAGNOLIA":83,"CHINATOWN/INTERNATIONAL DISTRICT":198,"GREENWOOD":166,"MILLER PARK":31,"LAKEWOOD/SEWARD PARK":30,"GEORGETOWN":91,"BALLARD NORTH":108,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":91,"ROOSEVELT/RAVENNA":240,"SANDPOINT":119,"NORTHGATE":303,"SOUTH DELRIDGE":23,"MORGAN":59,"HIGHLAND PARK":78,"MADRONA/LESCHI":73,"ALASKA JUNCTION":89,"CENTRAL AREA/SQUIRE PARK":163,"SOUTH PARK":42,"HILLMAN CITY":28,"NORTH DELRIDGE":47,"MADISON PARK":19,"WALLINGFORD":93,"HIGH POINT":41,"BITTERLAKE":87,"EASTLAKE - WEST":33,"RAINIER BEACH":43,"ALKI":26,"SOUTH BEACON HILL":36,"SODO":104,"RAINIER VIEW":38,"MONTLAKE/PORTAGE BAY":47,"CLAREMONT/RAINIER VISTA":27,"COLUMBIA CITY":33,"PIGEON POINT":9,"FAUNTLEROY SW":32,"NEW HOLLY":31,"GENESEE":11,"COMMERCIAL HARBOR ISLAND":3,"EASTLAKE - EAST":6,"COMMERCIAL DUWAMISH":2,"UNKNOWN":11,"LAKECITY":135}},{"month":"2020, 02","categories":{"Drug/narcotic offenses":124,"Larceny-theft":2047,"Robbery":88,"Destruction/damage/vandalism of property":388,"Driving under the influence":128,"Fraud offenses":249,"Kidnapping/abduction":17,"Counterfeiting/forgery":48,"Pornography/obscene material":5,"Extortion/blackmail":11,"Motor vehicle theft":289,"Sex offenses":48,"Stolen property offenses":53,"Embezzlement":10,"Weapon law violations":50,"Trespass of real property":342,"Assault offenses":838,"Burglary/breaking&entering":597,"Liquor law violations":2,"Bad checks":5,"Family offenses, nonviolent":9,"Peeping tom":3,"Prostitution offenses":12,"Arson":9,"Animal cruelty":1,"Curfew/loitering/vagrancy violations":1,"Homicide offenses":1,"Human trafficking":1},"neighbourhoods":{"MAGNOLIA":85,"ROOSEVELT/RAVENNA":197,"BALLARD SOUTH":225,"DOWNTOWN COMMERCIAL":484,"PHINNEY RIDGE":29,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":90,"NORTHGATE":307,"CAPITOL HILL":379,"UNIVERSITY":245,"COLUMBIA CITY":26,"NORTH BEACON HILL":75,"FIRST HILL":200,"GEORGETOWN":61,"QUEEN ANNE":303,"SODO":90,"CENTRAL AREA/SQUIRE PARK":115,"MID BEACON HILL":49,"ALASKA JUNCTION":73,"FREMONT":125,"NORTH ADMIRAL":42,"SLU/CASCADE":217,"CHINATOWN/INTERNATIONAL DISTRICT":224,"SANDPOINT":104,"HILLMAN CITY":22,"HIGH POINT":38,"MOUNT BAKER":59,"HIGHLAND PARK":51,"BITTERLAKE":89,"BELLTOWN":124,"PIONEER SQUARE":89,"JUDKINS PARK/NORTH BEACON HILL":57,"MADRONA/LESCHI":49,"EASTLAKE - WEST":29,"MADISON PARK":19,"NORTH DELRIDGE":36,"CLAREMONT/RAINIER VISTA":18,"RAINIER VIEW":49,"MONTLAKE/PORTAGE BAY":28,"LAKEWOOD/SEWARD PARK":24,"SOUTH DELRIDGE":17,"WALLINGFORD":78,"SOUTH BEACON HILL":24,"NEW HOLLY":33,"GREENWOOD":129,"BALLARD NORTH":92,"PIGEON POINT":3,"MORGAN":37,"BRIGHTON/DUNLAP":79,"MILLER PARK":31,"RAINIER BEACH":49,"SOUTH PARK":46,"UNKNOWN":21,"FAUNTLEROY SW":16,"ALKI":18,"EASTLAKE - EAST":13,"GENESEE":15,"COMMERCIAL HARBOR ISLAND":2,"LAKECITY":145,"COMMERCIAL DUWAMISH":2}},{"month":"2020, 03","categories":{"Assault offenses":847,"Trespass of real property":315,"Burglary/breaking&entering":757,"Motor vehicle theft":300,"Destruction/damage/vandalism of property":496,"Driving under the influence":106,"Robbery":104,"Counterfeiting/forgery":32,"Larceny-theft":1753,"Stolen property offenses":47,"Fraud offenses":218,"Drug/narcotic offenses":118,"Weapon law violations":64,"Pornography/obscene material":3,"Sex offenses":42,"Extortion/blackmail":5,"Family offenses, nonviolent":1,"Human trafficking":1,"Kidnapping/abduction":10,"Peeping tom":2,"Bad checks":4,"Liquor law violations":5,"Curfew/loitering/vagrancy violations":5,"Embezzlement":7,"Prostitution offenses":1,"Animal cruelty":2,"Arson":5,"Sex offenses, consensual":1,"Homicide offenses":2},"neighbourhoods":{"DOWNTOWN COMMERCIAL":376,"SANDPOINT":86,"NORTHGATE":255,"NORTH ADMIRAL":40,"MOUNT BAKER":84,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":79,"RAINIER VIEW":37,"CAPITOL HILL":346,"CENTRAL AREA/SQUIRE PARK":123,"BALLARD SOUTH":207,"CHINATOWN/INTERNATIONAL DISTRICT":247,"BALLARD NORTH":105,"NORTH BEACON HILL":75,"ROOSEVELT/RAVENNA":186,"UNIVERSITY":236,"JUDKINS PARK/NORTH BEACON HILL":51,"NORTH DELRIDGE":37,"BITTERLAKE":92,"SODO":81,"SLU/CASCADE":268,"QUEEN ANNE":312,"FIRST HILL":207,"BELLTOWN":133,"CLAREMONT/RAINIER VISTA":26,"WALLINGFORD":78,"BRIGHTON/DUNLAP":66,"GEORGETOWN":68,"GREENWOOD":133,"MAGNOLIA":85,"ALKI":22,"RAINIER BEACH":41,"COLUMBIA CITY":32,"FREMONT":94,"SOUTH PARK":45,"HIGHLAND PARK":60,"SOUTH BEACON HILL":13,"HIGH POINT":56,"ALASKA JUNCTION":75,"EASTLAKE - EAST":4,"MADISON PARK":13,"MADRONA/LESCHI":58,"MONTLAKE/PORTAGE BAY":24,"NEW HOLLY":35,"COMMERCIAL DUWAMISH":3,"HILLMAN CITY":21,"PHINNEY RIDGE":50,"FAUNTLEROY SW":18,"EASTLAKE - WEST":30,"LAKEWOOD/SEWARD PARK":20,"SOUTH DELRIDGE":25,"PIONEER SQUARE":89,"MORGAN":50,"MILLER PARK":45,"MID BEACON HILL":50,"PIGEON POINT":5,"GENESEE":9,"UNKNOWN":43,"LAKECITY":102,"COMMERCIAL HARBOR ISLAND":2}},{"month":"2020, 04","categories":{"Robbery":112,"Burglary/breaking&entering":975,"Assault offenses":793,"Driving under the influence":93,"Sex offenses":44,"Liquor law violations":3,"Destruction/damage/vandalism of property":553,"Trespass of real property":331,"Larceny-theft":1832,"Bribery":1,"Motor vehicle theft":368,"Drug/narcotic offenses":127,"Fraud offenses":261,"Stolen property offenses":52,"Homicide offenses":4,"Weapon law violations":62,"Bad checks":6,"Counterfeiting/forgery":21,"Extortion/blackmail":11,"Kidnapping/abduction":11,"Family offenses, nonviolent":4,"Animal cruelty":3,"Embezzlement":3,"Peeping tom":2,"Arson":8,"Drunkenness":1},"neighbourhoods":{"QUEEN ANNE":371,"UNIVERSITY":278,"ALASKA JUNCTION":81,"FIRST HILL":230,"CLAREMONT/RAINIER VISTA":34,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":107,"ROOSEVELT/RAVENNA":235,"CHINATOWN/INTERNATIONAL DISTRICT":183,"LAKECITY":161,"MID BEACON HILL":54,"CAPITOL HILL":313,"GREENWOOD":157,"JUDKINS PARK/NORTH BEACON HILL":63,"BELLTOWN":100,"GEORGETOWN":86,"SLU/CASCADE":272,"NORTHGATE":271,"PHINNEY RIDGE":58,"NORTH BEACON HILL":94,"MORGAN":51,"BITTERLAKE":110,"NORTH ADMIRAL":27,"BALLARD NORTH":106,"BALLARD SOUTH":240,"CENTRAL AREA/SQUIRE PARK":134,"NEW HOLLY":38,"COLUMBIA CITY":32,"FREMONT":119,"DOWNTOWN COMMERCIAL":287,"BRIGHTON/DUNLAP":91,"SANDPOINT":137,"PIONEER SQUARE":75,"MOUNT BAKER":101,"SODO":74,"SOUTH PARK":35,"HIGHLAND PARK":40,"GENESEE":15,"MILLER PARK":49,"MADRONA/LESCHI":49,"MADISON PARK":19,"MONTLAKE/PORTAGE BAY":25,"MAGNOLIA":112,"HILLMAN CITY":25,"NORTH DELRIDGE":47,"WALLINGFORD":109,"ALKI":11,"HIGH POINT":66,"SOUTH BEACON HILL":27,"RAINIER VIEW":45,"RAINIER BEACH":34,"LAKEWOOD/SEWARD PARK":24,"COMMERCIAL DUWAMISH":9,"UNKNOWN":86,"EASTLAKE - WEST":37,"SOUTH DELRIDGE":19,"FAUNTLEROY SW":19,"EASTLAKE - EAST":2,"PIGEON POINT":6,"COMMERCIAL HARBOR ISLAND":1}},{"month":"2020, 05","categories":{"Burglary/breaking&entering":906,"Assault offenses":877,"Larceny-theft":1663,"Motor vehicle theft":289,"Robbery":115,"Driving under the influence":96,"Drug/narcotic offenses":126,"Trespass of real property":257,"Destruction/damage/vandalism of property":555,"Weapon law violations":73,"Kidnapping/abduction":5,"Stolen property offenses":64,"Fraud offenses":8003,"Counterfeiting/forgery":35,"Embezzlement":7,"Sex offenses":40,"Family offenses, nonviolent":4,"Extortion/blackmail":11,"Drunkenness":2,"Arson":7,"Prostitution offenses":2,"Liquor law violations":7,"Human trafficking":2,"Animal cruelty":2,"Peeping tom":1,"Bad checks":2,"Curfew/loitering/vagrancy violations":1,"Homicide offenses":6},"neighbourhoods":{"CAPITOL HILL":547,"GEORGETOWN":120,"SOUTH PARK":51,"CHINATOWN/INTERNATIONAL DISTRICT":186,"NORTH ADMIRAL":241,"GREENWOOD":377,"HIGHLAND PARK":130,"DOWNTOWN COMMERCIAL":537,"WALLINGFORD":351,"CENTRAL AREA/SQUIRE PARK":349,"BELLTOWN":186,"NORTHGATE":610,"SODO":107,"BRIGHTON/DUNLAP":111,"BALLARD SOUTH":442,"JUDKINS PARK/NORTH BEACON HILL":96,"HIGH POINT":104,"FAUNTLEROY SW":108,"QUEEN ANNE":798,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":186,"NEW HOLLY":47,"SANDPOINT":769,"FIRST HILL":320,"MAGNOLIA":403,"LAKECITY":351,"SLU/CASCADE":401,"MADRONA/LESCHI":212,"EASTLAKE - WEST":105,"NORTH BEACON HILL":195,"FREMONT":234,"MILLER PARK":157,"ALASKA JUNCTION":271,"UNIVERSITY":323,"GENESEE":42,"RAINIER BEACH":63,"EASTLAKE - EAST":18,"ROOSEVELT/RAVENNA":681,"RAINIER VIEW":96,"BITTERLAKE":299,"LAKEWOOD/SEWARD PARK":105,"MONTLAKE/PORTAGE BAY":165,"PHINNEY RIDGE":240,"MADISON PARK":103,"PIONEER SQUARE":175,"NORTH DELRIDGE":89,"COLUMBIA CITY":91,"SOUTH BEACON HILL":45,"BALLARD NORTH":533,"MORGAN":209,"UNKNOWN":239,"CLAREMONT/RAINIER VISTA":61,"MOUNT BAKER":170,"ALKI":108,"SOUTH DELRIDGE":13,"MID BEACON HILL":109,"COMMERCIAL HARBOR ISLAND":5,"PIGEON POINT":19,"HILLMAN CITY":52,"COMMERCIAL DUWAMISH":3}},{"month":"2020, 06","categories":{"Burglary/breaking&entering":765,"Larceny-theft":1253,"Sex offenses":46,"Destruction/damage/vandalism of property":548,"Trespass of real property":132,"Assault offenses":854,"Stolen property offenses":26,"Fraud offenses":869,"Robbery":118,"Driving under the influence":67,"Weapon law violations":34,"Counterfeiting/forgery":32,"Drug/narcotic offenses":35,"Arson":18,"Curfew/loitering/vagrancy violations":4,"Bad checks":3,"Motor vehicle theft":372,"Peeping tom":1,"Kidnapping/abduction":14,"Embezzlement":5,"Pornography/obscene material":3,"Extortion/blackmail":7,"Animal cruelty":1,"Prostitution offenses":2,"Family offenses, nonviolent":3,"Liquor law violations":1,"Homicide offenses":5,"Sex offenses, consensual":1,"Human trafficking":1},"neighbourhoods":{"BALLARD SOUTH":204,"HILLMAN CITY":26,"UNIVERSITY":208,"HIGH POINT":49,"BITTERLAKE":116,"NEW HOLLY":27,"GEORGETOWN":71,"RAINIER BEACH":32,"LAKECITY":147,"NORTHGATE":249,"ALASKA JUNCTION":77,"CHINATOWN/INTERNATIONAL DISTRICT":113,"DOWNTOWN COMMERCIAL":243,"NORTH BEACON HILL":89,"SLU/CASCADE":223,"WALLINGFORD":105,"SANDPOINT":164,"FIRST HILL":149,"COLUMBIA CITY":40,"QUEEN ANNE":291,"GENESEE":16,"UNKNOWN":158,"MILLER PARK":54,"CAPITOL HILL":377,"CLAREMONT/RAINIER VISTA":27,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":75,"HIGHLAND PARK":62,"MOUNT BAKER":76,"BELLTOWN":111,"NORTH ADMIRAL":65,"BALLARD NORTH":121,"SOUTH PARK":27,"ROOSEVELT/RAVENNA":216,"FREMONT":80,"MONTLAKE/PORTAGE BAY":42,"PIONEER SQUARE":82,"MADRONA/LESCHI":52,"SOUTH DELRIDGE":10,"EASTLAKE - WEST":46,"BRIGHTON/DUNLAP":81,"SODO":68,"JUDKINS PARK/NORTH BEACON HILL":57,"MAGNOLIA":117,"PHINNEY RIDGE":57,"RAINIER VIEW":33,"CENTRAL AREA/SQUIRE PARK":112,"MORGAN":59,"GREENWOOD":109,"LAKEWOOD/SEWARD PARK":25,"COMMERCIAL HARBOR ISLAND":3,"ALKI":23,"MID BEACON HILL":46,"NORTH DELRIDGE":21,"MADISON PARK":28,"SOUTH BEACON HILL":26,"FAUNTLEROY SW":19,"PIGEON POINT":5,"COMMERCIAL DUWAMISH":2,"EASTLAKE - EAST":9}},{"month":"2020, 07","categories":{"Assault offenses":987,"Destruction/damage/vandalism of property":636,"Robbery":128,"Curfew/loitering/vagrancy violations":5,"Burglary/breaking&entering":862,"Sex offenses":35,"Larceny-theft":1641,"Weapon law violations":41,"Motor vehicle theft":439,"Fraud offenses":396,"Driving under the influence":45,"Stolen property offenses":34,"Trespass of real property":168,"Drug/narcotic offenses":39,"Extortion/blackmail":5,"Kidnapping/abduction":13,"Arson":23,"Pornography/obscene material":4,"Liquor law violations":1,"Counterfeiting/forgery":17,"Embezzlement":4,"Animal cruelty":3,"Bad checks":1,"Homicide offenses":6,"Human trafficking":1},"neighbourhoods":{"DOWNTOWN COMMERCIAL":235,"UNIVERSITY":260,"NORTH DELRIDGE":33,"CAPITOL HILL":367,"NORTHGATE":285,"SANDPOINT":141,"BITTERLAKE":125,"PIONEER SQUARE":80,"MOUNT BAKER":92,"SODO":57,"RAINIER BEACH":46,"MADRONA/LESCHI":74,"EASTLAKE - WEST":39,"BALLARD NORTH":119,"BRIGHTON/DUNLAP":88,"RAINIER VIEW":47,"CHINATOWN/INTERNATIONAL DISTRICT":126,"FREMONT":118,"BELLTOWN":132,"HIGHLAND PARK":58,"ALKI":38,"JUDKINS PARK/NORTH BEACON HILL":64,"HILLMAN CITY":29,"LAKECITY":108,"CENTRAL AREA/SQUIRE PARK":156,"WALLINGFORD":110,"UNKNOWN":136,"MORGAN":44,"GREENWOOD":141,"NORTH BEACON HILL":93,"ROOSEVELT/RAVENNA":202,"QUEEN ANNE":331,"SOUTH BEACON HILL":22,"MAGNOLIA":114,"BALLARD SOUTH":239,"NORTH ADMIRAL":56,"HIGH POINT":36,"FIRST HILL":192,"SLU/CASCADE":282,"MONTLAKE/PORTAGE BAY":23,"MADISON PARK":19,"LAKEWOOD/SEWARD PARK":19,"GEORGETOWN":58,"MILLER PARK":30,"PHINNEY RIDGE":35,"COLUMBIA CITY":49,"ALASKA JUNCTION":97,"GENESEE":22,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":66,"FAUNTLEROY SW":24,"SOUTH PARK":43,"CLAREMONT/RAINIER VISTA":41,"MID BEACON HILL":33,"NEW HOLLY":23,"EASTLAKE - EAST":11,"SOUTH DELRIDGE":16,"PIGEON POINT":3,"COMMERCIAL DUWAMISH":5,"COMMERCIAL HARBOR ISLAND":2}},{"month":"2020, 08","categories":{"Robbery":149,"Assault offenses":997,"Destruction/damage/vandalism of property":600,"Larceny-theft":1776,"Trespass of real property":153,"Burglary/breaking&entering":910,"Fraud offenses":290,"Motor vehicle theft":484,"Driving under the influence":63,"Sex offenses":41,"Weapon law violations":41,"Arson":31,"Drug/narcotic offenses":45,"Embezzlement":6,"Counterfeiting/forgery":35,"Stolen property offenses":41,"Extortion/blackmail":7,"Pornography/obscene material":4,"Animal cruelty":4,"Kidnapping/abduction":11,"Peeping tom":1,"Liquor law violations":1,"Bad checks":3,"Family offenses, nonviolent":5,"Curfew/loitering/vagrancy violations":1,"Homicide offenses":6,"Human trafficking":1},"neighbourhoods":{"BITTERLAKE":121,"SOUTH BEACON HILL":20,"FIRST HILL":203,"DOWNTOWN COMMERCIAL":327,"UNKNOWN":161,"MORGAN":65,"BALLARD NORTH":86,"BALLARD SOUTH":253,"NORTHGATE":264,"MONTLAKE/PORTAGE BAY":51,"SLU/CASCADE":288,"JUDKINS PARK/NORTH BEACON HILL":76,"CENTRAL AREA/SQUIRE PARK":132,"UNIVERSITY":246,"CAPITOL HILL":341,"QUEEN ANNE":324,"LAKECITY":146,"NORTH BEACON HILL":122,"HIGH POINT":43,"BELLTOWN":137,"GREENWOOD":123,"ROOSEVELT/RAVENNA":194,"ALASKA JUNCTION":94,"ALKI":42,"NORTH ADMIRAL":55,"PHINNEY RIDGE":62,"SANDPOINT":111,"FREMONT":122,"MAGNOLIA":117,"GENESEE":26,"RAINIER VIEW":43,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":68,"WALLINGFORD":96,"EASTLAKE - WEST":40,"MADISON PARK":18,"CHINATOWN/INTERNATIONAL DISTRICT":129,"MOUNT BAKER":80,"GEORGETOWN":121,"SODO":84,"BRIGHTON/DUNLAP":75,"COLUMBIA CITY":30,"MID BEACON HILL":42,"NEW HOLLY":27,"HILLMAN CITY":19,"CLAREMONT/RAINIER VISTA":60,"FAUNTLEROY SW":22,"PIONEER SQUARE":80,"SOUTH DELRIDGE":14,"RAINIER BEACH":32,"MADRONA/LESCHI":54,"MILLER PARK":38,"HIGHLAND PARK":51,"SOUTH PARK":44,"NORTH DELRIDGE":42,"LAKEWOOD/SEWARD PARK":23,"PIGEON POINT":8,"EASTLAKE - EAST":7,"COMMERCIAL DUWAMISH":4,"COMMERCIAL HARBOR ISLAND":3}},{"month":"2020, 09","categories":{"Assault offenses":904,"Sex offenses":52,"Burglary/breaking&entering":1040,"Trespass of real property":180,"Robbery":138,"Motor vehicle theft":531,"Destruction/damage/vandalism of property":673,"Larceny-theft":2407,"Driving under the influence":57,"Fraud offenses":320,"Counterfeiting/forgery":28,"Embezzlement":4,"Stolen property offenses":42,"Drug/narcotic offenses":49,"Weapon law violations":51,"Arson":17,"Extortion/blackmail":9,"Kidnapping/abduction":10,"Pornography/obscene material":4,"Peeping tom":1,"Human trafficking":2,"Bad checks":2,"Prostitution offenses":1,"Family offenses, nonviolent":3,"Curfew/loitering/vagrancy violations":1,"Animal cruelty":1,"Sex offenses, consensual":1,"Homicide offenses":7},"neighbourhoods":{"BITTERLAKE":138,"HIGHLAND PARK":78,"RAINIER BEACH":57,"GEORGETOWN":156,"CAPITOL HILL":402,"SLU/CASCADE":246,"UNIVERSITY":282,"FAUNTLEROY SW":25,"HIGH POINT":48,"DOWNTOWN COMMERCIAL":279,"CLAREMONT/RAINIER VISTA":53,"FIRST HILL":227,"NORTHGATE":367,"WALLINGFORD":142,"UNKNOWN":132,"SANDPOINT":150,"HILLMAN CITY":28,"BRIGHTON/DUNLAP":101,"CENTRAL AREA/SQUIRE PARK":177,"MORGAN":52,"MADRONA/LESCHI":71,"ALASKA JUNCTION":77,"ROOSEVELT/RAVENNA":260,"FREMONT":149,"MAGNOLIA":106,"ALKI":32,"QUEEN ANNE":374,"NORTH ADMIRAL":61,"BALLARD SOUTH":316,"BALLARD NORTH":130,"PIONEER SQUARE":85,"BELLTOWN":138,"GREENWOOD":137,"SODO":109,"SOUTH PARK":42,"PHINNEY RIDGE":61,"NORTH BEACON HILL":152,"NEW HOLLY":20,"SOUTH BEACON HILL":18,"CHINATOWN/INTERNATIONAL DISTRICT":147,"MOUNT BAKER":102,"JUDKINS PARK/NORTH BEACON HILL":58,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":82,"LAKECITY":197,"MID BEACON HILL":58,"SOUTH DELRIDGE":29,"RAINIER VIEW":50,"NORTH DELRIDGE":50,"EASTLAKE - WEST":47,"MILLER PARK":51,"COMMERCIAL DUWAMISH":4,"MADISON PARK":18,"LAKEWOOD/SEWARD PARK":30,"MONTLAKE/PORTAGE BAY":55,"COLUMBIA CITY":38,"COMMERCIAL HARBOR ISLAND":4,"GENESEE":21,"PIGEON POINT":11,"EASTLAKE - EAST":5}},{"month":"2020, 10","categories":{"Assault offenses":863,"Robbery":146,"Larceny-theft":2332,"Drug/narcotic offenses":71,"Destruction/damage/vandalism of property":690,"Trespass of real property":155,"Fraud offenses":262,"Motor vehicle theft":542,"Burglary/breaking&entering":1007,"Driving under the influence":77,"Sex offenses":43,"Counterfeiting/forgery":30,"Stolen property offenses":81,"Weapon law violations":56,"Kidnapping/abduction":13,"Family offenses, nonviolent":3,"Embezzlement":5,"Arson":16,"Animal cruelty":5,"Extortion/blackmail":6,"Pornography/obscene material":5,"Curfew/loitering/vagrancy violations":2,"Homicide offenses":7,"Human trafficking":1,"Liquor law violations":1,"Bad checks":1,"Peeping tom":1,"Prostitution offenses":1},"neighbourhoods":{"COLUMBIA CITY":43,"LAKECITY":181,"RAINIER BEACH":45,"DOWNTOWN COMMERCIAL":277,"FIRST HILL":224,"WALLINGFORD":135,"UNIVERSITY":272,"BALLARD SOUTH":267,"BRIGHTON/DUNLAP":73,"NORTHGATE":382,"PIONEER SQUARE":55,"FREMONT":152,"SLU/CASCADE":303,"CAPITOL HILL":400,"RAINIER VIEW":64,"BITTERLAKE":134,"EASTLAKE - WEST":62,"SANDPOINT":162,"SOUTH PARK":38,"QUEEN ANNE":325,"HIGHLAND PARK":66,"MID BEACON HILL":68,"UNKNOWN":119,"CENTRAL AREA/SQUIRE PARK":169,"GEORGETOWN":108,"ROOSEVELT/RAVENNA":258,"MADRONA/LESCHI":76,"FAUNTLEROY SW":39,"NORTH DELRIDGE":47,"HILLMAN CITY":35,"GREENWOOD":160,"MOUNT BAKER":132,"MAGNOLIA":130,"EASTLAKE - EAST":9,"LAKEWOOD/SEWARD PARK":25,"NORTH BEACON HILL":122,"CHINATOWN/INTERNATIONAL DISTRICT":150,"MORGAN":58,"MADISON PARK":22,"BELLTOWN":121,"HIGH POINT":51,"SODO":96,"PIGEON POINT":6,"MILLER PARK":44,"BALLARD NORTH":96,"PHINNEY RIDGE":63,"CLAREMONT/RAINIER VISTA":50,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":100,"ALASKA JUNCTION":100,"JUDKINS PARK/NORTH BEACON HILL":66,"MONTLAKE/PORTAGE BAY":46,"SOUTH DELRIDGE":22,"NORTH ADMIRAL":67,"COMMERCIAL DUWAMISH":4,"GENESEE":17,"NEW HOLLY":20,"COMMERCIAL HARBOR ISLAND":5,"SOUTH BEACON HILL":31,"ALKI":30}},{"month":"2020, 11","categories":{"Assault offenses":742,"Robbery":126,"Larceny-theft":2162,"Burglary/breaking&entering":957,"Destruction/damage/vandalism of property":540,"Motor vehicle theft":463,"Fraud offenses":241,"Stolen property offenses":67,"Trespass of real property":156,"Drug/narcotic offenses":79,"Kidnapping/abduction":5,"Counterfeiting/forgery":27,"Weapon law violations":49,"Driving under the influence":63,"Sex offenses":45,"Arson":14,"Gambling offenses":1,"Family offenses, nonviolent":5,"Pornography/obscene material":5,"Extortion/blackmail":16,"Embezzlement":7,"Prostitution offenses":2,"Liquor law violations":2,"Curfew/loitering/vagrancy violations":1,"Bad checks":2,"Peeping tom":1,"Human trafficking":1,"Homicide offenses":3,"Animal cruelty":1,"Sex offenses, consensual":1},"neighbourhoods":{"FIRST HILL":174,"GREENWOOD":125,"SLU/CASCADE":272,"NORTH BEACON HILL":111,"CHINATOWN/INTERNATIONAL DISTRICT":152,"CAPITOL HILL":303,"NEW HOLLY":25,"CENTRAL AREA/SQUIRE PARK":157,"MAGNOLIA":100,"QUEEN ANNE":343,"SOUTH DELRIDGE":34,"NORTHGATE":329,"BALLARD SOUTH":250,"NORTH ADMIRAL":47,"BRIGHTON/DUNLAP":75,"BALLARD NORTH":95,"DOWNTOWN COMMERCIAL":266,"UNIVERSITY":234,"BELLTOWN":150,"LAKECITY":179,"GEORGETOWN":135,"NORTH DELRIDGE":49,"HIGH POINT":46,"MOUNT BAKER":110,"PHINNEY RIDGE":64,"RAINIER BEACH":40,"ALASKA JUNCTION":111,"MORGAN":81,"HIGHLAND PARK":63,"ROOSEVELT/RAVENNA":242,"SANDPOINT":153,"JUDKINS PARK/NORTH BEACON HILL":82,"CLAREMONT/RAINIER VISTA":29,"MID BEACON HILL":58,"MADISON PARK":21,"FREMONT":131,"MILLER PARK":50,"PIGEON POINT":7,"WALLINGFORD":120,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":73,"MONTLAKE/PORTAGE BAY":45,"ALKI":28,"EASTLAKE - WEST":60,"BITTERLAKE":92,"GENESEE":22,"RAINIER VIEW":28,"COLUMBIA CITY":30,"PIONEER SQUARE":48,"MADRONA/LESCHI":82,"FAUNTLEROY SW":22,"UNKNOWN":27,"HILLMAN CITY":23,"SOUTH BEACON HILL":26,"SOUTH PARK":54,"EASTLAKE - EAST":14,"SODO":75,"LAKEWOOD/SEWARD PARK":17,"COMMERCIAL DUWAMISH":3,"COMMERCIAL HARBOR ISLAND":2}},{"month":"2020, 12","categories":{"Assault offenses":729,"Destruction/damage/vandalism of property":536,"Larceny-theft":2292,"Burglary/breaking&entering":1001,"Sex offenses, consensual":1,"Weapon law violations":40,"Robbery":130,"Drug/narcotic offenses":65,"Motor vehicle theft":474,"Trespass of real property":166,"Family offenses, nonviolent":5,"Fraud offenses":274,"Stolen property offenses":54,"Counterfeiting/forgery":37,"Driving under the influence":71,"Sex offenses":41,"Arson":15,"Bad checks":4,"Embezzlement":9,"Extortion/blackmail":9,"Liquor law violations":2,"Animal cruelty":3,"Pornography/obscene material":6,"Kidnapping/abduction":9,"Prostitution offenses":1,"Peeping tom":2,"Homicide offenses":2,"Curfew/loitering/vagrancy violations":1,"Human trafficking":1},"neighbourhoods":{"MONTLAKE/PORTAGE BAY":55,"ROOSEVELT/RAVENNA":259,"SLU/CASCADE":271,"MILLER PARK":58,"RAINIER BEACH":43,"CENTRAL AREA/SQUIRE PARK":169,"UNIVERSITY":261,"LAKECITY":184,"FIRST HILL":184,"MID BEACON HILL":68,"QUEEN ANNE":346,"CAPITOL HILL":347,"JUDKINS PARK/NORTH BEACON HILL":70,"BALLARD SOUTH":266,"ALKI":33,"ALASKA JUNCTION":100,"CHINATOWN/INTERNATIONAL DISTRICT":123,"SODO":98,"MAGNOLIA":119,"PIONEER SQUARE":50,"MADISON PARK":30,"HIGH POINT":83,"NORTH BEACON HILL":97,"CLAREMONT/RAINIER VISTA":55,"MADRONA/LESCHI":76,"HIGHLAND PARK":78,"WALLINGFORD":131,"BALLARD NORTH":107,"DOWNTOWN COMMERCIAL":235,"GEORGETOWN":110,"EASTLAKE - WEST":48,"BITTERLAKE":110,"SANDPOINT":166,"RAINIER VIEW":47,"NORTHGATE":371,"BELLTOWN":105,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":68,"FAUNTLEROY SW":33,"SOUTH BEACON HILL":17,"SOUTH PARK":48,"FREMONT":130,"MOUNT BAKER":98,"SOUTH DELRIDGE":33,"NORTH DELRIDGE":58,"UNKNOWN":18,"LAKEWOOD/SEWARD PARK":32,"NEW HOLLY":28,"BRIGHTON/DUNLAP":84,"MORGAN":59,"PHINNEY RIDGE":69,"NORTH ADMIRAL":58,"HILLMAN CITY":26,"GREENWOOD":113,"GENESEE":16,"COLUMBIA CITY":31,"EASTLAKE - EAST":3,"PIGEON POINT":4,"COMMERCIAL HARBOR ISLAND":1}},{"month":"2021, 01","categories":{"Stolen property offenses":67,"Motor vehicle theft":429,"Assault offenses":793,"Larceny-theft":2132,"Burglary/breaking&entering":899,"Trespass of real property":159,"Driving under the influence":69,"Destruction/damage/vandalism of property":533,"Robbery":134,"Sex offenses":57,"Arson":18,"Drug/narcotic offenses":104,"Fraud offenses":259,"Animal cruelty":3,"Weapon law violations":50,"Kidnapping/abduction":11,"Counterfeiting/forgery":25,"Bad checks":6,"Homicide offenses":4,"Human trafficking":1,"Embezzlement":8,"Curfew/loitering/vagrancy violations":2,"Pornography/obscene material":3,"Extortion/blackmail":6,"Family offenses, nonviolent":4},"neighbourhoods":{"LAKECITY":202,"LAKEWOOD/SEWARD PARK":41,"DOWNTOWN COMMERCIAL":257,"NORTHGATE":362,"UNIVERSITY":251,"BALLARD SOUTH":247,"SANDPOINT":152,"SOUTH BEACON HILL":20,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":79,"CAPITOL HILL":302,"QUEEN ANNE":348,"FREMONT":126,"CHINATOWN/INTERNATIONAL DISTRICT":162,"ROOSEVELT/RAVENNA":208,"WALLINGFORD":116,"NORTH DELRIDGE":61,"PIONEER SQUARE":47,"FIRST HILL":192,"SLU/CASCADE":242,"SOUTH DELRIDGE":29,"SOUTH PARK":43,"SODO":74,"MID BEACON HILL":46,"NORTH BEACON HILL":113,"CENTRAL AREA/SQUIRE PARK":153,"GREENWOOD":108,"BELLTOWN":125,"RAINIER VIEW":53,"NEW HOLLY":28,"BITTERLAKE":124,"MORGAN":48,"EASTLAKE - WEST":46,"HIGH POINT":48,"BALLARD NORTH":125,"JUDKINS PARK/NORTH BEACON HILL":66,"RAINIER BEACH":49,"PHINNEY RIDGE":79,"HIGHLAND PARK":89,"UNKNOWN":3,"FAUNTLEROY SW":18,"HILLMAN CITY":22,"MADRONA/LESCHI":63,"MOUNT BAKER":82,"BRIGHTON/DUNLAP":80,"GEORGETOWN":111,"MAGNOLIA":119,"ALKI":17,"MONTLAKE/PORTAGE BAY":66,"ALASKA JUNCTION":126,"NORTH ADMIRAL":53,"COLUMBIA CITY":27,"MILLER PARK":62,"CLAREMONT/RAINIER VISTA":28,"PIGEON POINT":4,"MADISON PARK":14,"GENESEE":8,"EASTLAKE - EAST":9,"COMMERCIAL HARBOR ISLAND":1,"COMMERCIAL DUWAMISH":2}},{"month":"2021, 02","categories":{"Destruction/damage/vandalism of property":487,"Motor vehicle theft":363,"Stolen property offenses":53,"Larceny-theft":1738,"Assault offenses":767,"Weapon law violations":29,"Driving under the influence":73,"Burglary/breaking&entering":786,"Trespass of real property":114,"Fraud offenses":229,"Arson":14,"Drug/narcotic offenses":85,"Counterfeiting/forgery":34,"Prostitution offenses":1,"Robbery":116,"Pornography/obscene material":4,"Extortion/blackmail":8,"Sex offenses":35,"Kidnapping/abduction":6,"Sex offenses, consensual":2,"Embezzlement":3,"Homicide offenses":3,"Curfew/loitering/vagrancy violations":2,"Drunkenness":1,"Family offenses, nonviolent":5,"Animal cruelty":1,"Human trafficking":2,"Bad checks":2},"neighbourhoods":{"GREENWOOD":99,"ALKI":22,"NORTH DELRIDGE":57,"FREMONT":125,"NORTH ADMIRAL":37,"WALLINGFORD":86,"CAPITOL HILL":257,"SODO":81,"CENTRAL AREA/SQUIRE PARK":116,"ALASKA JUNCTION":108,"RAINIER BEACH":44,"ROOSEVELT/RAVENNA":202,"BITTERLAKE":100,"GEORGETOWN":98,"FAUNTLEROY SW":28,"PIONEER SQUARE":53,"CLAREMONT/RAINIER VISTA":32,"NORTHGATE":263,"SLU/CASCADE":237,"QUEEN ANNE":273,"DOWNTOWN COMMERCIAL":234,"MILLER PARK":60,"SOUTH BEACON HILL":26,"MORGAN":45,"UNIVERSITY":198,"CHINATOWN/INTERNATIONAL DISTRICT":140,"LAKEWOOD/SEWARD PARK":15,"COLUMBIA CITY":27,"FIRST HILL":160,"MADRONA/LESCHI":35,"SOUTH PARK":57,"BALLARD SOUTH":203,"HILLMAN CITY":27,"BALLARD NORTH":92,"UNKNOWN":11,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":75,"MID BEACON HILL":51,"PIGEON POINT":13,"COMMERCIAL DUWAMISH":8,"BELLTOWN":108,"BRIGHTON/DUNLAP":100,"MADISON PARK":15,"LAKECITY":163,"HIGHLAND PARK":63,"MONTLAKE/PORTAGE BAY":49,"HIGH POINT":52,"SOUTH DELRIDGE":19,"SANDPOINT":131,"MOUNT BAKER":83,"EASTLAKE - EAST":6,"NEW HOLLY":22,"PHINNEY RIDGE":34,"NORTH BEACON HILL":93,"MAGNOLIA":83,"JUDKINS PARK/NORTH BEACON HILL":54,"GENESEE":31,"RAINIER VIEW":25,"EASTLAKE - WEST":35,"COMMERCIAL HARBOR ISLAND":2}},{"month":"2021, 03","categories":{"Stolen property offenses":56,"Motor vehicle theft":377,"Trespass of real property":125,"Burglary/breaking&entering":840,"Weapon law violations":33,"Robbery":122,"Larceny-theft":2025,"Destruction/damage/vandalism of property":543,"Assault offenses":836,"Fraud offenses":258,"Kidnapping/abduction":16,"Sex offenses":47,"Arson":20,"Counterfeiting/forgery":29,"Extortion/blackmail":12,"Drug/narcotic offenses":21,"Prostitution offenses":1,"Driving under the influence":60,"Embezzlement":6,"Family offenses, nonviolent":6,"Liquor law violations":1,"Sex offenses, consensual":1,"Homicide offenses":3,"Curfew/loitering/vagrancy violations":5,"Bad checks":2,"Pornography/obscene material":4,"Animal cruelty":2,"Drunkenness":1},"neighbourhoods":{"SODO":80,"MADISON PARK":32,"MADRONA/LESCHI":57,"FIRST HILL":173,"JUDKINS PARK/NORTH BEACON HILL":56,"CAPITOL HILL":288,"DOWNTOWN COMMERCIAL":288,"CLAREMONT/RAINIER VISTA":41,"QUEEN ANNE":359,"BITTERLAKE":119,"SLU/CASCADE":243,"COLUMBIA CITY":35,"EASTLAKE - WEST":31,"LAKECITY":168,"MILLER PARK":44,"CENTRAL AREA/SQUIRE PARK":122,"NORTHGATE":306,"CHINATOWN/INTERNATIONAL DISTRICT":142,"PIONEER SQUARE":54,"WALLINGFORD":99,"NORTH BEACON HILL":121,"ROOSEVELT/RAVENNA":187,"GEORGETOWN":107,"GREENWOOD":82,"UNIVERSITY":246,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":95,"MID BEACON HILL":62,"GENESEE":13,"PHINNEY RIDGE":38,"NORTH DELRIDGE":43,"BELLTOWN":102,"ALASKA JUNCTION":89,"BALLARD SOUTH":233,"MONTLAKE/PORTAGE BAY":45,"HIGHLAND PARK":62,"HIGH POINT":65,"MOUNT BAKER":94,"FREMONT":139,"BALLARD NORTH":102,"MORGAN":60,"HILLMAN CITY":24,"NORTH ADMIRAL":40,"SANDPOINT":145,"EASTLAKE - EAST":9,"MAGNOLIA":117,"RAINIER BEACH":59,"UNKNOWN":20,"SOUTH BEACON HILL":17,"LAKEWOOD/SEWARD PARK":26,"SOUTH PARK":42,"PIGEON POINT":9,"COMMERCIAL DUWAMISH":4,"NEW HOLLY":30,"BRIGHTON/DUNLAP":75,"RAINIER VIEW":41,"SOUTH DELRIDGE":24,"ALKI":31,"FAUNTLEROY SW":16,"COMMERCIAL HARBOR ISLAND":1}},{"month":"2021, 04","categories":{"Fraud offenses":233,"Destruction/damage/vandalism of property":474,"Larceny-theft":1950,"Assault offenses":860,"Trespass of real property":127,"Robbery":123,"Burglary/breaking&entering":796,"Family offenses, nonviolent":5,"Sex offenses":37,"Stolen property offenses":39,"Weapon law violations":37,"Sex offenses, consensual":3,"Driving under the influence":87,"Drug/narcotic offenses":18,"Counterfeiting/forgery":32,"Embezzlement":2,"Kidnapping/abduction":10,"Arson":23,"Motor vehicle theft":351,"Prostitution offenses":1,"Peeping tom":2,"Extortion/blackmail":9,"Pornography/obscene material":2,"Bribery":1,"Animal cruelty":4,"Homicide offenses":2},"neighbourhoods":{"MORGAN":54,"BELLTOWN":117,"BALLARD SOUTH":203,"NORTH BEACON HILL":100,"HILLMAN CITY":25,"ROOSEVELT/RAVENNA":240,"CENTRAL AREA/SQUIRE PARK":172,"CAPITOL HILL":310,"SOUTH PARK":47,"QUEEN ANNE":299,"PIONEER SQUARE":60,"DOWNTOWN COMMERCIAL":262,"SANDPOINT":151,"SLU/CASCADE":256,"RAINIER BEACH":42,"EASTLAKE - WEST":53,"NORTHGATE":314,"COLUMBIA CITY":40,"MOUNT BAKER":73,"SODO":81,"UNIVERSITY":227,"HIGH POINT":48,"MADRONA/LESCHI":63,"RAINIER VIEW":55,"LAKECITY":140,"FIRST HILL":194,"LAKEWOOD/SEWARD PARK":29,"BRIGHTON/DUNLAP":57,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":85,"MAGNOLIA":97,"MID BEACON HILL":41,"FREMONT":105,"WALLINGFORD":100,"MILLER PARK":40,"NORTH ADMIRAL":39,"PHINNEY RIDGE":43,"MONTLAKE/PORTAGE BAY":45,"ALASKA JUNCTION":67,"BALLARD NORTH":95,"GREENWOOD":74,"CHINATOWN/INTERNATIONAL DISTRICT":111,"JUDKINS PARK/NORTH BEACON HILL":63,"GEORGETOWN":75,"NEW HOLLY":38,"NORTH DELRIDGE":39,"HIGHLAND PARK":45,"BITTERLAKE":92,"CLAREMONT/RAINIER VISTA":31,"EASTLAKE - EAST":12,"PIGEON POINT":5,"MADISON PARK":18,"SOUTH DELRIDGE":24,"GENESEE":19,"UNKNOWN":27,"SOUTH BEACON HILL":20,"FAUNTLEROY SW":23,"ALKI":31,"COMMERCIAL DUWAMISH":9,"COMMERCIAL HARBOR ISLAND":3}},{"month":"2021, 05","categories":{"Assault offenses":928,"Larceny-theft":2206,"Destruction/damage/vandalism of property":569,"Arson":33,"Motor vehicle theft":345,"Drug/narcotic offenses":19,"Weapon law violations":49,"Kidnapping/abduction":17,"Burglary/breaking&entering":837,"Trespass of real property":158,"Robbery":148,"Sex offenses":38,"Driving under the influence":88,"Fraud offenses":249,"Peeping tom":2,"Stolen property offenses":44,"Counterfeiting/forgery":25,"Family offenses, nonviolent":6,"Embezzlement":4,"Extortion/blackmail":8,"Pornography/obscene material":3,"Prostitution offenses":7,"Homicide offenses":2,"Animal cruelty":2,"Liquor law violations":1,"Bad checks":1},"neighbourhoods":{"CHINATOWN/INTERNATIONAL DISTRICT":157,"QUEEN ANNE":256,"DOWNTOWN COMMERCIAL":394,"CAPITOL HILL":321,"MORGAN":47,"FIRST HILL":213,"SLU/CASCADE":291,"JUDKINS PARK/NORTH BEACON HILL":61,"MILLER PARK":40,"ROOSEVELT/RAVENNA":272,"RAINIER VIEW":61,"GEORGETOWN":104,"FREMONT":109,"EASTLAKE - EAST":17,"MOUNT BAKER":90,"NORTHGATE":382,"LAKECITY":169,"BALLARD SOUTH":209,"ALASKA JUNCTION":87,"NORTH ADMIRAL":44,"BELLTOWN":116,"MID BEACON HILL":54,"PIONEER SQUARE":62,"COLUMBIA CITY":48,"UNIVERSITY":211,"NORTH BEACON HILL":100,"BALLARD NORTH":84,"CLAREMONT/RAINIER VISTA":45,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":65,"BITTERLAKE":115,"GENESEE":24,"CENTRAL AREA/SQUIRE PARK":162,"SANDPOINT":150,"SOUTH DELRIDGE":28,"GREENWOOD":104,"HILLMAN CITY":24,"MONTLAKE/PORTAGE BAY":54,"NORTH DELRIDGE":40,"HIGHLAND PARK":52,"EASTLAKE - WEST":38,"RAINIER BEACH":40,"SODO":107,"MADRONA/LESCHI":75,"HIGH POINT":54,"NEW HOLLY":26,"SOUTH PARK":41,"WALLINGFORD":113,"FAUNTLEROY SW":16,"MAGNOLIA":117,"PHINNEY RIDGE":50,"ALKI":44,"SOUTH BEACON HILL":18,"BRIGHTON/DUNLAP":54,"UNKNOWN":61,"LAKEWOOD/SEWARD PARK":26,"MADISON PARK":24,"COMMERCIAL DUWAMISH":14,"PIGEON POINT":7,"COMMERCIAL HARBOR ISLAND":2}},{"month":"2021, 06","categories":{"Assault offenses":997,"Larceny-theft":2137,"Robbery":142,"Weapon law violations":38,"Trespass of real property":133,"Destruction/damage/vandalism of property":617,"Burglary/breaking&entering":786,"Motor vehicle theft":398,"Fraud offenses":250,"Drug/narcotic offenses":15,"Peeping tom":2,"Sex offenses":35,"Family offenses, nonviolent":9,"Driving under the influence":79,"Stolen property offenses":41,"Counterfeiting/forgery":30,"Kidnapping/abduction":18,"Arson":18,"Extortion/blackmail":8,"Prostitution offenses":5,"Homicide offenses":9,"Embezzlement":4,"Curfew/loitering/vagrancy violations":2,"Pornography/obscene material":1,"Bad checks":2,"Animal cruelty":5},"neighbourhoods":{"ALASKA JUNCTION":93,"CAPITOL HILL":360,"CENTRAL AREA/SQUIRE PARK":171,"PHINNEY RIDGE":43,"UNIVERSITY":215,"DOWNTOWN COMMERCIAL":380,"CLAREMONT/RAINIER VISTA":47,"BITTERLAKE":100,"QUEEN ANNE":292,"RAINIER BEACH":43,"LAKECITY":193,"MORGAN":55,"SLU/CASCADE":282,"BRIGHTON/DUNLAP":54,"NORTHGATE":312,"BELLTOWN":148,"GREENWOOD":90,"HIGH POINT":67,"FIRST HILL":180,"GEORGETOWN":110,"PIONEER SQUARE":69,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":87,"CHINATOWN/INTERNATIONAL DISTRICT":146,"NORTH ADMIRAL":46,"MADRONA/LESCHI":102,"SANDPOINT":142,"GENESEE":28,"MILLER PARK":32,"BALLARD NORTH":112,"NEW HOLLY":23,"NORTH BEACON HILL":94,"MOUNT BAKER":112,"MONTLAKE/PORTAGE BAY":42,"ROOSEVELT/RAVENNA":270,"HIGHLAND PARK":59,"HILLMAN CITY":19,"MAGNOLIA":85,"JUDKINS PARK/NORTH BEACON HILL":61,"FREMONT":80,"BALLARD SOUTH":233,"MADISON PARK":12,"SOUTH PARK":34,"MID BEACON HILL":58,"FAUNTLEROY SW":21,"SODO":89,"EASTLAKE - WEST":37,"LAKEWOOD/SEWARD PARK":44,"WALLINGFORD":125,"RAINIER VIEW":52,"SOUTH DELRIDGE":28,"NORTH DELRIDGE":54,"COMMERCIAL DUWAMISH":3,"ALKI":39,"COLUMBIA CITY":28,"SOUTH BEACON HILL":16,"UNKNOWN":50,"EASTLAKE - EAST":5,"COMMERCIAL HARBOR ISLAND":5,"PIGEON POINT":3,"SlU/CASCADE":1}},{"month":"2021, 07","categories":{"Assault offenses":1081,"Burglary/breaking&entering":788,"Motor vehicle theft":398,"Larceny-theft":2354,"Sex offenses":59,"Robbery":144,"Trespass of real property":155,"Kidnapping/abduction":22,"Driving under the influence":104,"Drug/narcotic offenses":25,"Weapon law violations":61,"Family offenses, nonviolent":10,"Destruction/damage/vandalism of property":682,"Fraud offenses":201,"Liquor law violations":1,"Arson":25,"Animal cruelty":3,"Stolen property offenses":40,"Extortion/blackmail":12,"Counterfeiting/forgery":25,"Homicide offenses":4,"Bad checks":2,"Embezzlement":2,"Pornography/obscene material":3,"Human trafficking":1},"neighbourhoods":{"CAPITOL HILL":395,"NORTHGATE":279,"MADRONA/LESCHI":70,"GEORGETOWN":106,"CLAREMONT/RAINIER VISTA":45,"GREENWOOD":93,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":114,"PIONEER SQUARE":106,"CHINATOWN/INTERNATIONAL DISTRICT":155,"BITTERLAKE":120,"SLU/CASCADE":319,"SOUTH DELRIDGE":22,"WALLINGFORD":111,"UNIVERSITY":246,"SODO":109,"MAGNOLIA":104,"BALLARD SOUTH":236,"ALKI":42,"NORTH DELRIDGE":60,"CENTRAL AREA/SQUIRE PARK":155,"MID BEACON HILL":51,"HIGHLAND PARK":79,"GENESEE":16,"MORGAN":59,"MILLER PARK":45,"FIRST HILL":235,"MOUNT BAKER":119,"LAKECITY":192,"SOUTH PARK":47,"QUEEN ANNE":336,"BELLTOWN":152,"DOWNTOWN COMMERCIAL":407,"HIGH POINT":44,"ALASKA JUNCTION":90,"COLUMBIA CITY":27,"EASTLAKE - EAST":14,"ROOSEVELT/RAVENNA":287,"FREMONT":97,"SANDPOINT":156,"JUDKINS PARK/NORTH BEACON HILL":66,"EASTLAKE - WEST":45,"COMMERCIAL DUWAMISH":11,"NORTH BEACON HILL":116,"PHINNEY RIDGE":48,"RAINIER BEACH":45,"NEW HOLLY":38,"MONTLAKE/PORTAGE BAY":37,"BALLARD NORTH":105,"NORTH ADMIRAL":48,"RAINIER VIEW":33,"MADISON PARK":28,"BRIGHTON/DUNLAP":70,"LAKEWOOD/SEWARD PARK":21,"FAUNTLEROY SW":28,"SOUTH BEACON HILL":18,"HILLMAN CITY":13,"PIGEON POINT":7,"UNKNOWN":83,"COMMERCIAL HARBOR ISLAND":2}},{"month":"2021, 08","categories":{"Assault offenses":1037,"Burglary/breaking&entering":713,"Destruction/damage/vandalism of property":684,"Driving under the influence":83,"Robbery":164,"Motor vehicle theft":482,"Larceny-theft":2405,"Weapon law violations":62,"Stolen property offenses":43,"Trespass of real property":167,"Kidnapping/abduction":17,"Sex offenses":31,"Fraud offenses":204,"Counterfeiting/forgery":18,"Drug/narcotic offenses":25,"Arson":24,"Extortion/blackmail":8,"Sex offenses, consensual":3,"Embezzlement":6,"Prostitution offenses":7,"Homicide offenses":5,"Family offenses, nonviolent":3,"Animal cruelty":3,"Pornography/obscene material":2,"Curfew/loitering/vagrancy violations":1,"Bad checks":1},"neighbourhoods":{"RAINIER BEACH":40,"SLU/CASCADE":344,"MOUNT BAKER":94,"CHINATOWN/INTERNATIONAL DISTRICT":129,"CLAREMONT/RAINIER VISTA":51,"DOWNTOWN COMMERCIAL":353,"FREMONT":97,"QUEEN ANNE":295,"NORTH BEACON HILL":123,"WALLINGFORD":122,"NORTHGATE":378,"CAPITOL HILL":422,"UNIVERSITY":227,"GENESEE":24,"ROOSEVELT/RAVENNA":238,"MAGNOLIA":126,"PIONEER SQUARE":89,"BITTERLAKE":109,"GEORGETOWN":146,"JUDKINS PARK/NORTH BEACON HILL":75,"MADRONA/LESCHI":76,"ALASKA JUNCTION":93,"BALLARD NORTH":118,"NORTH DELRIDGE":63,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":97,"CENTRAL AREA/SQUIRE PARK":156,"PHINNEY RIDGE":60,"SODO":98,"MILLER PARK":34,"FIRST HILL":185,"NORTH ADMIRAL":58,"RAINIER VIEW":42,"HILLMAN CITY":30,"HIGH POINT":49,"BELLTOWN":164,"PIGEON POINT":9,"EASTLAKE - WEST":53,"MID BEACON HILL":49,"LAKECITY":183,"BALLARD SOUTH":251,"SANDPOINT":126,"HIGHLAND PARK":63,"UNKNOWN":146,"BRIGHTON/DUNLAP":59,"MORGAN":35,"MADISON PARK":25,"SOUTH PARK":41,"FAUNTLEROY SW":14,"MONTLAKE/PORTAGE BAY":44,"GREENWOOD":92,"COLUMBIA CITY":46,"SOUTH BEACON HILL":23,"LAKEWOOD/SEWARD PARK":30,"ALKI":31,"COMMERCIAL HARBOR ISLAND":4,"NEW HOLLY":14,"EASTLAKE - EAST":16,"SOUTH DELRIDGE":29,"COMMERCIAL DUWAMISH":7,"":3}},{"month":"2021, 09","categories":{"Larceny-theft":2559,"Assault offenses":929,"Destruction/damage/vandalism of property":652,"Drug/narcotic offenses":18,"Motor vehicle theft":554,"Burglary/breaking&entering":787,"Sex offenses":48,"Robbery":150,"Fraud offenses":216,"Driving under the influence":84,"Prostitution offenses":11,"Stolen property offenses":51,"Bad checks":4,"Trespass of real property":141,"Kidnapping/abduction":11,"Weapon law violations":48,"Arson":15,"Counterfeiting/forgery":21,"Extortion/blackmail":11,"Embezzlement":2,"Family offenses, nonviolent":3,"Human trafficking":2,"Animal cruelty":4,"Homicide offenses":2,"Pornography/obscene material":2,"Sex offenses, consensual":1,"Gambling offenses":1},"neighbourhoods":{"CAPITOL HILL":410,"FIRST HILL":209,"UNKNOWN":133,"MADISON PARK":22,"BELLTOWN":156,"NORTH BEACON HILL":102,"BRIGHTON/DUNLAP":62,"MORGAN":51,"SOUTH BEACON HILL":12,"NORTHGATE":439,"GENESEE":31,"GEORGETOWN":104,"NEW HOLLY":33,"BITTERLAKE":167,"MILLER PARK":43,"BALLARD SOUTH":212,"NORTH DELRIDGE":45,"ROOSEVELT/RAVENNA":309,"QUEEN ANNE":284,"CENTRAL AREA/SQUIRE PARK":161,"SLU/CASCADE":277,"FREMONT":97,"CHINATOWN/INTERNATIONAL DISTRICT":158,"DOWNTOWN COMMERCIAL":389,"JUDKINS PARK/NORTH BEACON HILL":66,"HIGH POINT":46,"ALKI":26,"LAKECITY":175,"PIONEER SQUARE":88,"MID BEACON HILL":38,"SOUTH DELRIDGE":21,"UNIVERSITY":318,"MADRONA/LESCHI":88,"ALASKA JUNCTION":100,"SODO":128,"SANDPOINT":150,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":78,"WALLINGFORD":139,"NORTH ADMIRAL":50,"BALLARD NORTH":97,"MAGNOLIA":99,"SOUTH PARK":46,"HILLMAN CITY":21,"HIGHLAND PARK":70,"MONTLAKE/PORTAGE BAY":46,"CLAREMONT/RAINIER VISTA":36,"PHINNEY RIDGE":66,"MOUNT BAKER":116,"COMMERCIAL DUWAMISH":5,"RAINIER VIEW":38,"GREENWOOD":90,"RAINIER BEACH":44,"LAKEWOOD/SEWARD PARK":30,"EASTLAKE - WEST":50,"COLUMBIA CITY":27,"COMMERCIAL HARBOR ISLAND":3,"FAUNTLEROY SW":18,"EASTLAKE - EAST":5,"PIGEON POINT":3}},{"month":"2021, 10","categories":{"Robbery":183,"Larceny-theft":2766,"Assault offenses":1013,"Kidnapping/abduction":14,"Destruction/damage/vandalism of property":716,"Motor vehicle theft":587,"Burglary/breaking&entering":869,"Stolen property offenses":55,"Trespass of real property":160,"Sex offenses":51,"Driving under the influence":78,"Fraud offenses":255,"Weapon law violations":59,"Extortion/blackmail":16,"Counterfeiting/forgery":38,"Arson":11,"Drug/narcotic offenses":20,"Pornography/obscene material":3,"Homicide offenses":3,"Family offenses, nonviolent":4,"Embezzlement":4,"Bad checks":3,"Animal cruelty":2},"neighbourhoods":{"CAPITOL HILL":486,"FIRST HILL":293,"JUDKINS PARK/NORTH BEACON HILL":111,"QUEEN ANNE":338,"BITTERLAKE":125,"NEW HOLLY":26,"BRIGHTON/DUNLAP":77,"SODO":140,"ROOSEVELT/RAVENNA":281,"BALLARD NORTH":95,"HILLMAN CITY":27,"GREENWOOD":111,"UNIVERSITY":310,"MOUNT BAKER":139,"PIGEON POINT":6,"BALLARD SOUTH":293,"GEORGETOWN":122,"WALLINGFORD":168,"PHINNEY RIDGE":65,"DOWNTOWN COMMERCIAL":375,"CENTRAL AREA/SQUIRE PARK":161,"NORTH ADMIRAL":64,"SOUTH DELRIDGE":24,"HIGH POINT":49,"RAINIER BEACH":45,"MAGNOLIA":144,"CHINATOWN/INTERNATIONAL DISTRICT":268,"HIGHLAND PARK":56,"SOUTH PARK":57,"SLU/CASCADE":278,"NORTHGATE":375,"NORTH DELRIDGE":64,"FAUNTLEROY SW":27,"LAKECITY":146,"PIONEER SQUARE":98,"BELLTOWN":178,"MID BEACON HILL":44,"LAKEWOOD/SEWARD PARK":34,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":94,"MILLER PARK":46,"ALASKA JUNCTION":127,"NORTH BEACON HILL":120,"SANDPOINT":110,"EASTLAKE - EAST":13,"MADRONA/LESCHI":73,"GENESEE":24,"CLAREMONT/RAINIER VISTA":46,"FREMONT":101,"MONTLAKE/PORTAGE BAY":58,"EASTLAKE - WEST":41,"RAINIER VIEW":35,"MADISON PARK":7,"UNKNOWN":158,"SOUTH BEACON HILL":27,"MORGAN":60,"COLUMBIA CITY":35,"ALKI":26,"COMMERCIAL HARBOR ISLAND":1,"COMMERCIAL DUWAMISH":8}},{"month":"2021, 11","categories":{"Driving under the influence":89,"Trespass of real property":198,"Motor vehicle theft":506,"Larceny-theft":2518,"Assault offenses":859,"Burglary/breaking&entering":899,"Destruction/damage/vandalism of property":668,"Drug/narcotic offenses":21,"Stolen property offenses":77,"Fraud offenses":232,"Sex offenses":64,"Robbery":187,"Weapon law violations":53,"Arson":15,"Sex offenses, consensual":1,"Kidnapping/abduction":21,"Family offenses, nonviolent":8,"Animal cruelty":7,"Counterfeiting/forgery":20,"Embezzlement":6,"Extortion/blackmail":7,"Homicide offenses":3,"Prostitution offenses":9,"Bad checks":3,"Liquor law violations":3,"Pornography/obscene material":1,"Drunkenness":1},"neighbourhoods":{"MID BEACON HILL":57,"MADRONA/LESCHI":66,"CAPITOL HILL":401,"SODO":130,"NEW HOLLY":30,"LAKECITY":189,"MOUNT BAKER":139,"CHINATOWN/INTERNATIONAL DISTRICT":230,"QUEEN ANNE":322,"UNIVERSITY":280,"GEORGETOWN":105,"HIGHLAND PARK":74,"BELLTOWN":162,"NORTHGATE":431,"CENTRAL AREA/SQUIRE PARK":159,"RAINIER BEACH":47,"NORTH DELRIDGE":42,"DOWNTOWN COMMERCIAL":395,"UNKNOWN":80,"RAINIER VIEW":31,"BITTERLAKE":96,"NORTH BEACON HILL":123,"GREENWOOD":114,"WALLINGFORD":182,"HIGH POINT":75,"FREMONT":110,"ALASKA JUNCTION":95,"FIRST HILL":215,"FAUNTLEROY SW":18,"MORGAN":69,"SLU/CASCADE":282,"BALLARD SOUTH":245,"BALLARD NORTH":101,"MAGNOLIA":94,"EASTLAKE - WEST":42,"ROOSEVELT/RAVENNA":284,"GENESEE":11,"JUDKINS PARK/NORTH BEACON HILL":85,"MONTLAKE/PORTAGE BAY":63,"MADISON PARK":15,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":111,"COLUMBIA CITY":37,"PHINNEY RIDGE":54,"SANDPOINT":130,"BRIGHTON/DUNLAP":71,"SOUTH PARK":47,"NORTH ADMIRAL":48,"PIONEER SQUARE":90,"CLAREMONT/RAINIER VISTA":46,"PIGEON POINT":15,"MILLER PARK":29,"ALKI":22,"SOUTH DELRIDGE":20,"HILLMAN CITY":20,"LAKEWOOD/SEWARD PARK":25,"EASTLAKE - EAST":11,"SOUTH BEACON HILL":5,"<Null>":1,"COMMERCIAL HARBOR ISLAND":2,"COMMERCIAL DUWAMISH":3}},{"month":"2021, 12","categories":{"Larceny-theft":2311,"Burglary/breaking&entering":865,"Assault offenses":896,"Motor vehicle theft":520,"Driving under the influence":96,"Arson":13,"Trespass of real property":182,"Destruction/damage/vandalism of property":665,"Counterfeiting/forgery":19,"Robbery":137,"Fraud offenses":197,"Sex offenses":42,"Weapon law violations":43,"Stolen property offenses":46,"Kidnapping/abduction":20,"Extortion/blackmail":7,"Family offenses, nonviolent":3,"Homicide offenses":1,"Drug/narcotic offenses":24,"Bad checks":2,"Embezzlement":5,"Sex offenses, consensual":1,"Animal cruelty":3,"Prostitution offenses":8,"Liquor law violations":1,"Pornography/obscene material":3,"Curfew/loitering/vagrancy violations":1},"neighbourhoods":{"CENTRAL AREA/SQUIRE PARK":167,"MAGNOLIA":136,"BALLARD NORTH":87,"EASTLAKE - WEST":49,"JUDKINS PARK/NORTH BEACON HILL":78,"DOWNTOWN COMMERCIAL":433,"CLAREMONT/RAINIER VISTA":36,"NORTHGATE":395,"HIGH POINT":59,"MOUNT BAKER":118,"NORTH BEACON HILL":103,"QUEEN ANNE":355,"UNIVERSITY":252,"BELLTOWN":163,"FIRST HILL":218,"SLU/CASCADE":280,"PHINNEY RIDGE":38,"GEORGETOWN":98,"GREENWOOD":93,"SANDPOINT":115,"CAPITOL HILL":375,"LAKECITY":177,"HILLMAN CITY":19,"MADRONA/LESCHI":65,"NEW HOLLY":33,"CHINATOWN/INTERNATIONAL DISTRICT":210,"FREMONT":110,"BALLARD SOUTH":253,"ROOSEVELT/RAVENNA":217,"FAUNTLEROY SW":21,"PIONEER SQUARE":72,"MILLER PARK":35,"EASTLAKE - EAST":9,"SODO":109,"WALLINGFORD":122,"HIGHLAND PARK":46,"SOUTH DELRIDGE":21,"COLUMBIA CITY":30,"BRIGHTON/DUNLAP":64,"SOUTH BEACON HILL":17,"SOUTH PARK":30,"ALASKA JUNCTION":108,"UNKNOWN":107,"BITTERLAKE":110,"MID BEACON HILL":46,"ALKI":27,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":98,"NORTH DELRIDGE":52,"MORGAN":44,"RAINIER BEACH":51,"MONTLAKE/PORTAGE BAY":22,"PIGEON POINT":8,"LAKEWOOD/SEWARD PARK":14,"GENESEE":19,"RAINIER VIEW":28,"COMMERCIAL DUWAMISH":7,"NORTH ADMIRAL":45,"MADISON PARK":16,"COMMERCIAL HARBOR ISLAND":1}},{"month":"2022, 01","categories":{"Assault offenses":246,"Motor vehicle theft":154,"Destruction/damage/vandalism of property":156,"Robbery":31,"Larceny-theft":624,"Sex offenses":10,"Human trafficking":2,"Trespass of real property":64,"Kidnapping/abduction":2,"Stolen property offenses":19,"Driving under the influence":23,"Burglary/breaking&entering":227,"Weapon law violations":10,"Fraud offenses":40,"Pornography/obscene material":1,"Drug/narcotic offenses":3,"Animal cruelty":2,"Counterfeiting/forgery":5,"Arson":4,"Embezzlement":1,"Family offenses, nonviolent":2},"neighbourhoods":{"FIRST HILL":49,"NORTHGATE":96,"HIGHLAND PARK":13,"BELLTOWN":46,"CAPITOL HILL":92,"ALASKA JUNCTION":23,"ROXHILL/WESTWOOD/ARBOR HEIGHTS":22,"NORTH ADMIRAL":13,"LAKECITY":49,"CLAREMONT/RAINIER VISTA":15,"BALLARD NORTH":13,"FREMONT":35,"BALLARD SOUTH":60,"SLU/CASCADE":75,"SANDPOINT":27,"DOWNTOWN COMMERCIAL":124,"EASTLAKE - WEST":8,"ROOSEVELT/RAVENNA":47,"BRIGHTON/DUNLAP":23,"HILLMAN CITY":5,"MOUNT BAKER":31,"GREENWOOD":19,"NORTH DELRIDGE":21,"CENTRAL AREA/SQUIRE PARK":39,"UNIVERSITY":62,"BITTERLAKE":36,"WALLINGFORD":38,"QUEEN ANNE":92,"NORTH BEACON HILL":32,"UNKNOWN":91,"PIONEER SQUARE":20,"CHINATOWN/INTERNATIONAL DISTRICT":56,"GEORGETOWN":19,"HIGH POINT":12,"NEW HOLLY":8,"MAGNOLIA":20,"JUDKINS PARK/NORTH BEACON HILL":14,"COLUMBIA CITY":13,"ALKI":8,"RAINIER VIEW":9,"MID BEACON HILL":9,"PHINNEY RIDGE":17,"SODO":23,"RAINIER BEACH":10,"MADRONA/LESCHI":13,"FAUNTLEROY SW":5,"SOUTH PARK":23,"LAKEWOOD/SEWARD PARK":5,"SOUTH BEACON HILL":5,"GENESEE":2,"EASTLAKE - EAST":5,"MADISON PARK":3,"MORGAN":9,"MONTLAKE/PORTAGE BAY":7,"MILLER PARK":7,"SOUTH DELRIDGE":5,"PIGEON POINT":2,"COMMERCIAL DUWAMISH":1}}]'),Cb=function(e){var t={};return wb.forEach((function(n){t=(0,FT.Z)((0,FT.Z)({},t),n[e])})),Object.keys(t).sort()};function Pb(e){var t=e.mode,n=e.setFilteredData,r=(0,i.useMemo)((function(){return Cb("neighbourhoods")}),[]),o=(0,i.useMemo)((function(){return Cb("categories")}),[]),a=(0,i.useState)([]),l=(0,s.Z)(a,2),u=l[0],c=l[1],f=(0,i.useState)([]),d=(0,s.Z)(f,2),h=d[0],p=d[1];return(0,i.useEffect)((function(){var e=wb.map((function(e){var t={month:e.month,categories:{},neighbourhoods:{}};return u.length?u.forEach((function(n){e.categories[n]&&(t.categories[n]=e.categories[n])})):t.categories=e.categories,h.length?h.forEach((function(n){e.neighbourhoods[n]&&(t.neighbourhoods[n]=e.neighbourhoods[n])})):t.neighbourhoods=e.neighbourhoods,t}));n(e)}),[u,h,n]),t===_b.Total?null:(0,re.jsxs)(To,{children:[(0,re.jsx)(XT,{children:"Filter Data"}),t===_b.Categories&&(0,re.jsx)(xb,{allOptions:o,filter:u,setFilter:c,name:"Categories"}),t===_b.Neighbourhoods&&(0,re.jsx)(xb,{allOptions:r,filter:h,setFilter:p,name:"Neighbourhoods"})]})}function Db(){var e=(0,i.useState)(_b.Total),t=(0,s.Z)(e,2),n=t[0],r=t[1],o=(0,i.useState)([]),a=(0,s.Z)(o,2),l=a[0],u=a[1];return(0,re.jsxs)(go,{children:[(0,re.jsxs)(Ao,{children:[(0,re.jsx)(Lo,{mode:n,setMode:r}),(0,re.jsx)(Pb,{mode:n,setFilteredData:u})]}),(0,re.jsx)(qT,{mode:n,filteredData:l})]})}function kb(){var e,t=(0,i.useState)(Mb.Map),n=(0,s.Z)(t,2),r=n[0],o=n[1];return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(po,{mode:r,setMode:o}),(e={},(0,a.Z)(e,Mb.Map,(0,re.jsx)(ae,{})),(0,a.Z)(e,Mb.Charts,(0,re.jsx)(Db,{})),e)[r]]})}!function(e){e[e.Total=0]="Total",e[e.Categories=1]="Categories",e[e.Neighbourhoods=2]="Neighbourhoods"}(_b||(_b={})),function(e){e[e.Map=0]="Map",e[e.Charts=1]="Charts"}(Mb||(Mb={})),o.render((0,re.jsx)(i.StrictMode,{children:(0,re.jsx)(kb,{})}),document.getElementById("root"))},78677:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=n(96567),i=Math.abs,o=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function d(e){return e.length}function h(e){return e.length}function p(e,t){return t.push(e),e}var m=1,v=1,g=0,y=0,E=0,A="";function T(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:v,length:a,return:""}}function O(e,t){return a(T("",null,null,"",null,null,0),e,{length:-e.length},t)}function R(){return E=y>0?c(A,--y):0,v--,10===E&&(v=1,m--),E}function L(){return E=y<g?c(A,y++):0,v++,10===E&&(v=1,m++),E}function S(){return c(A,y)}function b(){return y}function I(e,t){return f(A,e,t)}function N(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x(e){return m=v=1,g=d(A=e),y=0,[]}function _(e){return A="",e}function M(e){return s(I(y-1,P(91===e?e+2:40===e?e+1:e)))}function w(e){for(;(E=S())&&E<33;)L();return N(e)>2||N(E)>3?"":" "}function C(e,t){for(;--t&&L()&&!(E<48||E>102||E>57&&E<65||E>70&&E<97););return I(e,b()+(t<6&&32==S()&&32==L()))}function P(e){for(;L();)switch(E){case e:return y;case 34:case 39:34!==e&&39!==e&&P(E);break;case 40:41===e&&P(e);break;case 92:L()}return y}function D(e,t){for(;L()&&e+E!==57&&(e+E!==84||47!==S()););return"/*"+I(t,y-1)+"*"+o(47===e?e:L())}function k(e){for(;!N(S());)L();return I(e,y)}var H="-ms-",U="-moz-",B="-webkit-",G="comm",W="rule",F="decl",K="@keyframes";function V(e,t){for(var n="",r=h(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function z(e,t,n,r){switch(e.type){case"@import":case F:return e.return=e.return||e.value;case G:return"";case K:return e.return=e.value+"{"+V(e.children,r)+"}";case W:e.value=e.props.join(",")}return d(n=V(e.children,r))?e.return=e.value+"{"+n+"}":""}function j(e,t){switch(function(e,t){return(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3)}(e,t)){case 5103:return B+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+U+e+H+e+e;case 6828:case 4268:return B+e+H+e+e;case 6165:return B+e+H+"flex-"+e+e;case 5187:return B+e+l(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return B+e+H+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return B+e+H+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+H+l(e,"shrink","negative")+e;case 5292:return B+e+H+l(e,"basis","preferred-size")+e;case 6060:return B+"box-"+l(e,"-grow","")+B+e+H+l(e,"grow","positive")+e;case 4554:return B+l(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,B+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+U+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?j(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,d(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+B)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===c(e,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+H+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return B+e+H+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+H+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+H+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+H+e+e}return e}function Z(e){return _(Y("",null,null,null,[""],e=x(e),0,[0],e))}function Y(e,t,n,r,i,a,s,c,f){for(var h=0,m=0,v=s,g=0,y=0,E=0,A=1,T=1,O=1,I=0,N="",x=i,_=a,P=r,H=N;T;)switch(E=I,I=L()){case 40:if(108!=E&&58==H.charCodeAt(v-1)){-1!=u(H+=l(M(I),"&","&\f"),"&\f")&&(O=-1);break}case 34:case 39:case 91:H+=M(I);break;case 9:case 10:case 13:case 32:H+=w(E);break;case 92:H+=C(b()-1,7);continue;case 47:switch(S()){case 42:case 47:p(X(D(L(),b()),t,n),f);break;default:H+="/"}break;case 123*A:c[h++]=d(H)*O;case 125*A:case 59:case 0:switch(I){case 0:case 125:T=0;case 59+m:y>0&&d(H)-v&&p(y>32?Q(H+";",r,n,v-1):Q(l(H," ","")+";",r,n,v-2),f);break;case 59:H+=";";default:if(p(P=q(H,t,n,h,m,i,c,N,x=[],_=[],v),a),123===I)if(0===m)Y(H,t,P,P,x,a,v,c,_);else switch(g){case 100:case 109:case 115:Y(e,P,P,r&&p(q(e,P,P,0,0,i,c,N,i,x=[],v),_),i,_,v,c,r?x:_);break;default:Y(H,P,P,P,[""],_,0,c,_)}}h=m=y=0,A=O=1,N=H="",v=s;break;case 58:v=1+d(H),y=E;default:if(A<1)if(123==I)--A;else if(125==I&&0==A++&&125==R())continue;switch(H+=o(I),I*A){case 38:O=m>0?1:(H+="\f",-1);break;case 44:c[h++]=(d(H)-1)*O,O=1;break;case 64:45===S()&&(H+=M(L())),g=S(),m=v=d(N=H+=k(b())),I++;break;case 45:45===E&&2==d(H)&&(A=0)}}return a}function q(e,t,n,r,o,a,u,c,d,p,m){for(var v=o-1,g=0===o?a:[""],y=h(g),E=0,A=0,O=0;E<r;++E)for(var R=0,L=f(e,v+1,v=i(A=u[E])),S=e;R<y;++R)(S=s(A>0?g[R]+" "+L:l(L,/&\f/g,g[R])))&&(d[O++]=S);return T(e,t,n,0===o?W:c,d,p,m)}function X(e,t,n){return T(e,t,n,G,o(E),f(e,2,-2),0)}function Q(e,t,n,r){return T(e,t,n,F,f(e,0,r),f(e,r+1,-1),r)}var J=function(e,t,n){for(var r=0,i=0;r=i,i=S(),38===r&&12===i&&(t[n]=1),!N(i);)L();return I(e,y)},$=function(e,t){return _(function(e,t){var n=-1,r=44;do{switch(N(r)){case 0:38===r&&12===S()&&(t[n]=1),e[n]+=J(y-1,t,n);break;case 2:e[n]+=M(r);break;case 4:if(44===r){e[++n]=58===S()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=L());return e}(x(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],o=$(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case F:e.return=j(e.value,e.length);break;case K:return V([O(e,{value:l(e.value,"@","@"+B)})],r);case W:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return V([O(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return V([O(e,{props:[l(t,/:(plac\w+)/,":-webkit-input-$1")]}),O(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),O(e,{props:[l(t,/:(plac\w+)/,H+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,a,s={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,f=[z,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=h(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([te,ne].concat(i,f));a=function(e,t,n,r){u=n,V(Z(e?e+"{"+t.styles+"}":t.styles),d),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r.m({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(l),p}},50620:function(e,t){"use strict";t.Z=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},91672:function(e,t,n){"use strict";n.d(t,{T:function(){return s},w:function(){return a}});var r=n(72791),i=n(78677),o=(n(84804),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null));o.Provider;var a=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(o);return e(t,i,n)}))},s=(0,r.createContext)({})},84804:function(e,t,n){"use strict";n.d(t,{O:function(){return m}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i=n(63840),o=n(50620),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.Z)((function(e){return l(e)?e:e.replace(a,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===i.Z[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":u(a)&&(r+=c(o)+":"+f(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a);switch(o){case"animation":case"animationName":r+=c(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)u(a[l])&&(r+=c(o)+":"+f(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";h=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=d(n,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=d(n,t,e[s]),i&&(o+=a[s]);p.lastIndex=0;for(var l,u="";null!==(l=p.exec(o));)u+="-"+l[1];return{name:r(o)+u,styles:o,next:h}}},96567:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},63840:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},95438:function(e,t,n){"use strict";n.d(t,{f:function(){return r},M:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},97489:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(17668),t),i(n(63014),t),i(n(71350),t),i(n(22939),t),i(n(14650),t),i(n(47633),t)},26309:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(67538),t),i(n(22939),t),i(n(38794),t),i(n(72885),t),i(n(6705),t),i(n(73917),t),i(n(71872),t),i(n(53693),t),i(n(47468),t),i(n(23365),t),i(n(68891),t),i(n(79829),t),i(n(91173),t),i(n(51566),t),i(n(44987),t),i(n(47633),t),i(n(68374),t),i(n(84727),t)},67538:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorUtils=void 0;var r=n(15739),i=n(34585),o=n(55471),a=255,s=new i.Color;!function(e){e.getHexFromRgba=function(e,t,n,i){return r.assert(i>=0&&i<=1),a-Math.floor(i*a)<<24^e*a<<16^t*a<<8^n*a<<0},e.getHexFromRgb=function(e,t,n){return r.assert(e>=0&&e<=1),r.assert(t>=0&&t<=1),r.assert(n>=0&&n<=1),e*a<<16^t*a<<8^n*a<<0},e.getHexFromHsl=function(e,t,n){return r.assert(e>=0&&e<=1),r.assert(t>=0&&t<=1),r.assert(n>=0&&n<=1),s.setHSL(e,t,n).getHex()},e.getRgbaFromHex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.RGBA;return r.assert(0===(0&e),"Wrong hex format"),t.r=(e>>16&a)/a,t.g=(e>>8&a)/a,t.b=(e>>0&a)/a,t.a=(a-(e>>24&a))/a,t},e.hasAlphaInHex=function(e){return r.assert(0===(0&e),"Wrong hex format"),e>>24!==0},e.getAlphaFromHex=function(e){return r.assert(0===(0&e),"Wrong hex format"),(a-(e>>24)&a)/a},e.removeAlphaFromHex=function(e){return r.assert(0===(0&e),"Wrong hex format"),16777215&e}}(t.ColorUtils||(t.ColorUtils={}))},51566:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.scaleHeight=t.getFeatureText=t.getFeatureName=t.getFeatureId=t.getProjectionName=t.getProjection=t.GeometryType=t.getArrayConstructor=void 0;var i=n(31201),o=n(22939),a=n(51638),s=n(38794);function l(e,t,n,i,o){var a,s;if(void 0===t&&(t="name"),n){var l=e.lookup("".concat(t,":short"));if("string"===typeof l&&l.length>0)return l}if(i){var u=e.lookup("iso_code");if("string"===typeof u&&u.length>0)return u}if(void 0!==o){var c,f=r(o);try{for(f.s();!(c=f.n()).done;){var d=c.value;if("string"===typeof(s=null!==(a=e.lookup("".concat(t,":").concat(d)))&&void 0!==a?a:e.lookup("".concat(t,"_").concat(d)))&&s.length>0)return s}}catch(h){f.e(h)}finally{f.f()}}if("string"===typeof(s=e.lookup(t)))return s}t.getArrayConstructor=function(e){switch(e){case"float":return Float32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array}},function(e){e[e.Unspecified=0]="Unspecified",e[e.Point=1]="Point",e[e.Line=2]="Line",e[e.SolidLine=3]="SolidLine",e[e.Text=4]="Text",e[e.TextPath=5]="TextPath",e[e.ExtrudedLine=6]="ExtrudedLine",e[e.Polygon=7]="Polygon",e[e.ExtrudedPolygon=8]="ExtrudedPolygon",e[e.Object3D=9]="Object3D",e[e.Other=1e3]="Other"}(t.GeometryType||(t.GeometryType={})),t.getProjection=function(e){switch(e){case"mercator":return i.mercatorProjection;case"webMercator":return i.webMercatorProjection;case"sphere":return i.sphereProjection;case"normalizedEquirectangular":return i.normalizedEquirectangularProjection;case"equirectangular":return i.equirectangularProjection;default:throw new Error("Unknown projection ".concat(e))}},t.getProjectionName=function(e){if(e===i.mercatorProjection)return"mercator";if(e===i.webMercatorProjection)return"webMercator";if(e===i.sphereProjection)return"sphere";if(e===i.normalizedEquirectangularProjection)return"normalizedEquirectangular";if(e===i.equirectangularProjection)return"equirectangular";throw new Error("Unknown projection")},t.getFeatureId=function(e){if(void 0===e)return 0;if("string"===typeof e||"number"===typeof e)return e;if(e.hasOwnProperty("$id")){var t=e.$id;if("string"===typeof t||"number"===typeof t)return t}return 0},t.getFeatureName=l,t.getFeatureText=function(e,t,n){var r,i,u=e instanceof o.Env?e:e.env,c="name";if(s.isTextTechnique(t)||s.isPoiTechnique(t)||s.isLineMarkerTechnique(t)){if(void 0!==t.text)return a.evaluateTechniqueAttr(e,t.text);if(void 0!==t.label&&"string"!==typeof(c=a.evaluateTechniqueAttr(e,t.label)))return;r=t.useAbbreviation,i=t.useIsoCode}return l(u,c,r,i,n)},t.scaleHeight=function(e,t,n){return!a.evaluateTechniqueAttr(e,t.constantHeight,n<12)}},18284:function(e,t,n){"use strict";var r=n(2205).default,i=n(99842).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapEnv=t.Env=void 0;var s=function(){function e(){o(this,e)}return a(e,[{key:"lookup",value:function(e){}},{key:"unmap",value:function(){return{}}}],[{key:"isEnv",value:function(t){return t instanceof e}}]),e}();t.Env=s;var l=function(e){r(n,e);var t=i(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).entries=e,i.parent=r,i}return a(n,[{key:"lookup",value:function(e){if(this.entries.hasOwnProperty(e)){var t=this.entries[e];if(void 0!==t)return t}return this.parent?this.parent.lookup(e):void 0}},{key:"unmap",value:function(){var e=this.parent?this.parent.unmap():{};for(var t in this.entries)this.entries.hasOwnProperty(t)&&(e[t]=this.entries[t]);return e}}]),n}(s);t.MapEnv=l},22939:function(e,t,n){"use strict";var r=n(43269).default,i=n(319).default,o=n(2205).default,a=n(99842).default,s=n(63038).default,l=n(93913).default,u=n(34575).default,c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||c(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpolateExpr=t.StepExpr=t.CaseExpr=t.MatchExpr=t.CallExpr=t.HasAttributeExpr=t.ObjectLiteralExpr=t.StringLiteralExpr=t.NumberLiteralExpr=t.BooleanLiteralExpr=t.NullLiteralExpr=t.LiteralExpr=t.VarExpr=t.Expr=t.ExprScope=t.isJsonExpr=t.ExprDependencies=void 0;var d=n(34585),h=n(37087),p=n(72037),m=n(9375),v=n(53693),g=n(79145),y=n(55471);f(n(18284),t);var E=new h.ExprEvaluator,A=new p.ExprInstantiator,T=l((function e(){u(this,e),this.properties=new Set}));t.ExprDependencies=T;var O,R=function(){function e(){u(this,e)}return l(e,[{key:"visitNullLiteralExpr",value:function(e,t){}},{key:"visitBooleanLiteralExpr",value:function(e,t){}},{key:"visitNumberLiteralExpr",value:function(e,t){}},{key:"visitStringLiteralExpr",value:function(e,t){}},{key:"visitObjectLiteralExpr",value:function(e,t){}},{key:"visitVarExpr",value:function(e,t){t.properties.add(e.name)}},{key:"visitHasAttributeExpr",value:function(e,t){t.properties.add(e.name)}},{key:"visitCallExpr",value:function(e,t){var n=this;switch(e.args.forEach((function(e){return e.accept(n,t)})),e.op){case"dynamic-properties":t.volatile=!0;break;case"feature-state":t.featureState=!0,t.properties.add("$state"),t.properties.add("$id");break;case"id":t.properties.add("$id");break;case"zoom":case"world-ppi-scale":case"world-discrete-ppi-scale":t.properties.add("$zoom");break;case"geometry-type":t.properties.add("$geometryType")}}},{key:"visitMatchExpr",value:function(e,t){var n=this;e.value.accept(this,t),e.branches.forEach((function(e){var r=s(e,2);r[0];return r[1].accept(n,t)})),e.fallback.accept(this,t)}},{key:"visitCaseExpr",value:function(e,t){var n=this;e.branches.forEach((function(e){var r=s(e,2),i=r[0],o=r[1];i.accept(n,t),o.accept(n,t)})),e.fallback.accept(this,t)}},{key:"visitStepExpr",value:function(e,t){var n=this;e.input.accept(this,t),e.defaultValue.accept(this,t),e.stops.forEach((function(e){var r=s(e,2);r[0];return r[1].accept(n,t)}))}},{key:"visitInterpolateExpr",value:function(e,t){var n=this;e.input.accept(this,t),e.stops.forEach((function(e){var r=s(e,2);r[0];return r[1].accept(n,t)}))}}],[{key:"of",value:function(e){var t=new T;return e.accept(this.instance,t),t}}]),e}();function L(e){return Array.isArray(e)&&e.length>0&&"string"===typeof e[0]}R.instance=new R,t.isJsonExpr=L,function(e){e[e.Value=0]="Value",e[e.Condition=1]="Condition",e[e.Dynamic=2]="Dynamic"}(O=t.ExprScope||(t.ExprScope={}));var S=function(){function e(){u(this,e)}return l(e,[{key:"evaluate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.Value,n=arguments.length>2?arguments[2]:void 0;return this.accept(E,new h.ExprEvaluatorContext(E,e,t,n))}},{key:"instantiate",value:function(e){return this.accept(A,e)}},{key:"dependencies",value:function(){return this.m_dependencies||(this.m_dependencies=R.of(this)),this.m_dependencies}},{key:"intern",value:function(e){return e.add(this)}},{key:"toJSON",value:function(){return(new B).serialize(this)}},{key:"isDynamic",value:function(){return void 0===this.m_isDynamic&&(this.m_isDynamic=this.exprIsDynamic()),this.m_isDynamic}}],[{key:"isExpr",value:function(t){return t instanceof e}},{key:"parse",value:function(e){return new m.ExprParser(e).parse()}},{key:"fromJSON",value:function(e,t,n){return G(e,void 0!==t?{definitions:t,lockedNames:new Set,cache:null!==n&&void 0!==n?n:new Map}:void 0)}}]),e}();t.Expr=S;var b=function(e){o(n,e);var t=a(n);function n(e){var r;return u(this,n),(r=t.call(this)).name=e,r}return l(n,[{key:"accept",value:function(e,t){return e.visitVarExpr(this,t)}},{key:"exprIsDynamic",value:function(){return!1}}]),n}(S);t.VarExpr=b;var I=function(e){o(n,e);var t=a(n);function n(){return u(this,n),t.apply(this,arguments)}return l(n,[{key:"exprIsDynamic",value:function(){return!1}}],[{key:"fromValue",value:function(e){switch(typeof e){case"boolean":return new x(e);case"number":return new _(e);case"string":return new M(e);case"object":return null===e?N.instance:new w(e);default:throw new Error("failed to create a literal from '".concat(e,"'"))}}}]),n}(S);t.LiteralExpr=I;var N=function(e){o(n,e);var t=a(n);function n(){var e;return u(this,n),(e=t.call(this)).value=null,e}return l(n,[{key:"accept",value:function(e,t){return e.visitNullLiteralExpr(this,t)}},{key:"exprIsDynamic",value:function(){return!1}}]),n}(I);t.NullLiteralExpr=N,N.instance=new N;var x=function(e){o(n,e);var t=a(n);function n(e){var r;return u(this,n),(r=t.call(this)).value=e,r}return l(n,[{key:"accept",value:function(e,t){return e.visitBooleanLiteralExpr(this,t)}}]),n}(I);t.BooleanLiteralExpr=x;var _=function(e){o(n,e);var t=a(n);function n(e){var r;return u(this,n),(r=t.call(this)).value=e,r}return l(n,[{key:"accept",value:function(e,t){return e.visitNumberLiteralExpr(this,t)}}]),n}(I);t.NumberLiteralExpr=_;var M=function(e){o(n,e);var t=a(n);function n(e){var r;return u(this,n),(r=t.call(this)).value=e,r}return l(n,[{key:"promotedValue",get:function(){var e,t,n;return void 0===this.m_promotedValue&&(this.m_promotedValue=null!==(t=null!==(e=y.RGBA.parse(this.value))&&void 0!==e?e:g.Pixels.parse(this.value))&&void 0!==t?t:null),null!==(n=this.m_promotedValue)&&void 0!==n?n:void 0}},{key:"accept",value:function(e,t){return e.visitStringLiteralExpr(this,t)}}]),n}(I);t.StringLiteralExpr=M;var w=function(e){o(n,e);var t=a(n);function n(e){var r;return u(this,n),(r=t.call(this)).value=e,r}return l(n,[{key:"isArrayLiteral",get:function(){return Array.isArray(this.value)}},{key:"accept",value:function(e,t){return e.visitObjectLiteralExpr(this,t)}}]),n}(I);t.ObjectLiteralExpr=w;var C=function(e){o(n,e);var t=a(n);function n(e){var r;return u(this,n),(r=t.call(this)).name=e,r}return l(n,[{key:"accept",value:function(e,t){return e.visitHasAttributeExpr(this,t)}},{key:"exprIsDynamic",value:function(){return!1}}]),n}(S);t.HasAttributeExpr=C;var P=function(e){o(n,e);var t=a(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).op=e,i.args=r,i}return l(n,[{key:"children",get:function(){return this.args}},{key:"accept",value:function(e,t){return e.visitCallExpr(this,t)}},{key:"exprIsDynamic",value:function(){var e,t=null!==(e=this.descriptor)&&void 0!==e?e:h.ExprEvaluator.getOperator(this.op);return!!(t&&t.isDynamicOperator&&t.isDynamicOperator(this))||this.args.some((function(e){return e.isDynamic()}))}}]),n}(S);t.CallExpr=P;var D=function(e){o(n,e);var t=a(n);function n(e,r,i){var o;return u(this,n),(o=t.call(this)).value=e,o.branches=r,o.fallback=i,o}return l(n,[{key:"accept",value:function(e,t){return e.visitMatchExpr(this,t)}},{key:"exprIsDynamic",value:function(){return this.value.isDynamic()||this.branches.some((function(e){var t=s(e,2);t[0];return t[1].isDynamic()}))||this.fallback.isDynamic()}}],[{key:"isValidMatchLabel",value:function(e){switch(typeof e){case"number":case"string":return!0;case"object":if(!Array.isArray(e)||0===e.length)return!1;var t=typeof e[0];return("number"===t||"string"===t)&&e.every((function(e){return typeof e===t}));default:return!1}}}]),n}(S);t.MatchExpr=D;var k=function(e){o(n,e);var t=a(n);function n(e,r){var i;return u(this,n),(i=t.call(this)).branches=e,i.fallback=r,i}return l(n,[{key:"accept",value:function(e,t){return e.visitCaseExpr(this,t)}},{key:"exprIsDynamic",value:function(){return this.branches.some((function(e){var t=s(e,2),n=t[0],r=t[1];return n.isDynamic()||r.isDynamic()}))||this.fallback.isDynamic()}}]),n}(S);t.CaseExpr=k;var H=function(e){o(n,e);var t=a(n);function n(e,r,i){var o;return u(this,n),(o=t.call(this)).input=e,o.defaultValue=r,o.stops=i,o}return l(n,[{key:"accept",value:function(e,t){return e.visitStepExpr(this,t)}},{key:"exprIsDynamic",value:function(){return this.input.isDynamic()||this.defaultValue.isDynamic()||this.stops.some((function(e){var t=s(e,2);t[0];return t[1].isDynamic()}))}}]),n}(S);t.StepExpr=H;var U=function(e){o(n,e);var t=a(n);function n(e,r,i){var o;return u(this,n),(o=t.call(this)).mode=e,o.input=r,o.stops=i,o}return l(n,[{key:"accept",value:function(e,t){return e.visitInterpolateExpr(this,t)}},{key:"exprIsDynamic",value:function(){return this.input.isDynamic()||this.stops.some((function(e){var t=s(e,2);t[0];return t[1].isDynamic()}))}}]),n}(S);t.InterpolateExpr=U;var B=function(){function e(){u(this,e)}return l(e,[{key:"serialize",value:function(e){return e.accept(this,void 0)}},{key:"visitNullLiteralExpr",value:function(e,t){return null}},{key:"visitBooleanLiteralExpr",value:function(e,t){return e.value}},{key:"visitNumberLiteralExpr",value:function(e,t){return e.value}},{key:"visitStringLiteralExpr",value:function(e,t){return e.value}},{key:"visitObjectLiteralExpr",value:function(e,t){return e.value instanceof d.Vector2?["make-vector",e.value.x,e.value.y]:e.value instanceof d.Vector3?["make-vector",e.value.x,e.value.y,e.value.z]:e.value instanceof d.Vector4?["make-vector",e.value.x,e.value.y,e.value.z,e.value.w]:["literal",e.value]}},{key:"visitVarExpr",value:function(e,t){return["get",e.name]}},{key:"visitHasAttributeExpr",value:function(e,t){return["has",e.name]}},{key:"visitCallExpr",value:function(e,t){var n=this;return[e.op].concat(i(e.args.map((function(e){return n.serialize(e)}))))}},{key:"visitMatchExpr",value:function(e,t){var n,i=[],o=r(e.branches);try{for(o.s();!(n=o.n()).done;){var a=s(n.value,2),l=a[0],u=a[1];i.push(l,this.serialize(u))}}catch(c){o.e(c)}finally{o.f()}return["match",this.serialize(e.value)].concat(i,[this.serialize(e.fallback)])}},{key:"visitCaseExpr",value:function(e,t){var n,i=[],o=r(e.branches);try{for(o.s();!(n=o.n()).done;){var a=s(n.value,2),l=a[0],u=a[1];i.push(this.serialize(l),this.serialize(u))}}catch(c){o.e(c)}finally{o.f()}return["case"].concat(i,[this.serialize(e.fallback)])}},{key:"visitStepExpr",value:function(e,t){var n=this,r=["step"];return r.push(this.serialize(e.input)),r.push(this.serialize(e.defaultValue)),e.stops.forEach((function(e){var t=s(e,2),i=t[0],o=t[1];r.push(i),r.push(n.serialize(o))})),r}},{key:"visitInterpolateExpr",value:function(e,t){var n=this,r=["interpolate",e.mode];return r.push(this.serialize(e.input)),e.stops.forEach((function(e){var t=s(e,2),i=t[0],o=t[1];r.push(i),r.push(n.serialize(o))})),r}}]),e}();function G(e,t){if(Array.isArray(e))return W(e,t);if(null===e)return N.instance;if("boolean"===typeof e)return new x(e);if("number"===typeof e)return new _(e);if("string"===typeof e)return new M(e);throw new Error("failed to create expression from: ".concat(JSON.stringify(e)))}function W(e,t){var n=e[0];if("string"!==typeof n)throw new Error("expected a builtin function name");switch(n){case"!has":case"!in":return new P("!",[W([n.slice(1)].concat(i(e.slice(1))))]);case"ref":return function(e,t){if("string"!==typeof e[1])throw new Error("expected the name of an attribute");if(void 0===t)throw new Error("ref used with no definitions");var n=e[1];if(t.lockedNames.has(n))throw new Error("circular referene to '".concat(n,"'"));if(!(n in t.definitions))throw new Error("definition '".concat(n,"' not found"));var r=t.cache.get(n);if(void 0!==r)return r;var i,o=t.definitions[n];if(v.isInterpolatedPropertyDefinition(o.value))return S.fromJSON(v.interpolatedPropertyDefinitionToJsonExpr(o.value));if(!L(o.value))return S.fromJSON(o.value);o=o.value;if(!L(o))throw new Error("unsupported definition ".concat(n));t.lockedNames.add(n);try{i=G(o,t)}finally{t.lockedNames.delete(n)}return t.cache.set(n,i),i}(e,t);case"get":return function(e,t){if(void 0!==e[2])return F("get",e,t);var n=e[1];if("string"!==typeof n)throw new Error("expected the name of an attribute");return new b(n)}(e,t);case"has":return function(e,t){if(void 0!==e[2])return F("has",e,t);var n=e[1];if("string"!==typeof n)throw new Error("expected the name of an attribute");return new C(n)}(e,t);case"literal":return function(e){var t=e[1];if(null===t||"object"!==typeof t)throw new Error("expected an object or array literal");return new w(t)}(e);case"match":return function(e,t){if(e.length<4)throw new Error("not enough arguments");if(!(e.length%2))throw new Error("fallback is missing in 'match' expression");for(var n=G(e[1],t),r=[],i=2;i<e.length-1;i+=2){var o=e[i];if(!D.isValidMatchLabel(o))throw new Error("'".concat(JSON.stringify(o),"' is not a valid label for 'match'"));var a=G(e[i+1],t);r.push([o,a])}var s=G(e[e.length-1],t);return new D(n,r,s)}(e,t);case"case":return function(e,t){if(e.length<3)throw new Error("not enough arguments");if(e.length%2)throw new Error("fallback is missing in 'case' expression");for(var n=[],r=1;r<e.length-1;r+=2){var i=G(e[r],t),o=G(e[r+1],t);n.push([i,o])}var a=G(e[e.length-1],t);return new k(n,a)}(e,t);case"interpolate":return function(e,t){var n=e[1];if(!function(e){if(!Array.isArray(e))return!1;switch(e[0]){case"discrete":case"linear":case"cubic":case"exponential":return!0;default:return!1}}(n))throw new Error("expected an interpolation type");if("exponential"===n[0]&&"number"!==typeof n[1])throw new Error("expected the base of the exponential interpolation");var r=void 0!==e[2]?G(e[2],t):void 0;if(!S.isExpr(r))throw new Error("expected the input of the interpolation");if(3===e.length||!(e.length%2))throw new Error("invalid number of samples");for(var i=[],o=3;o<e.length-1;o+=2){var a=e[o],s=G(e[o+1],t);i.push([a,s])}return new U(n,r,i)}(e,t);case"step":return function(e,t){if(e.length<2)throw new Error("expected the input of the 'step' operator");if(e.length<3||!(e.length%2))throw new Error("not enough arguments");for(var n=G(e[1],t),r=G(e[2],t),i=[],o=3;o<e.length;o+=2){var a=e[o],s=G(e[o+1],t);i.push([a,s])}return new H(n,r,i)}(e,t);default:return F(n,e,t)}}function F(e,t,n){return new P(e,t.slice(1).map((function(e){return G(e,n)})))}},37087:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ExprEvaluator=t.ExprEvaluatorContext=void 0;var s=n(34585),l=n(22939),u=n(59944),c=n(99880),f=n(98502),d=n(25074),h=n(80303),p=n(28778),m=n(14982),v=n(70628),g=n(20120),y=n(80354),E=n(33668),A=n(43433),T=n(70081),O=n(79145),R=n(55471),L=new Map;function S(e,t){var n,r,i;if(t instanceof l.StringLiteralExpr)return null!==(n=t.promotedValue)&&void 0!==n?n:t.value;var o=e.evaluate(t);return"string"===typeof o&&null!==(i=null!==(r=R.RGBA.parse(o))&&void 0!==r?r:O.Pixels.parse(o))&&void 0!==i?i:o}var b=function(){function e(t,n,r,i){o(this,e),this.evaluator=t,this.env=n,this.scope=r,this.cache=i}return a(e,[{key:"evaluate",value:function(e){var t,n;if(void 0===e)throw new Error("Failed to evaluate expression");var r=null===(t=this.cache)||void 0===t?void 0:t.get(e);if(void 0!==r)return r;var i=e.accept(this.evaluator,this);return null===(n=this.cache)||void 0===n||n.set(e,i),i}},{key:"wrapValue",value:function(e){return l.Expr.isExpr(e)?e:l.LiteralExpr.fromValue(e)}}]),e}();t.ExprEvaluatorContext=b;var I=function(){function e(){o(this,e)}return a(e,[{key:"visitVarExpr",value:function(e,t){var n=t.env.lookup(e.name);return void 0!==n?n:null}},{key:"visitNullLiteralExpr",value:function(e,t){return null}},{key:"visitBooleanLiteralExpr",value:function(e,t){return e.value}},{key:"visitNumberLiteralExpr",value:function(e,t){return e.value}},{key:"visitStringLiteralExpr",value:function(e,t){return e.value}},{key:"visitObjectLiteralExpr",value:function(e,t){return e.value}},{key:"visitHasAttributeExpr",value:function(e,t){return void 0!==t.env.lookup(e.name)}},{key:"visitMatchExpr",value:function(e,t){var n,o=t.evaluate(e.value),a=i(e.branches);try{for(a.s();!(n=a.n()).done;){var s=r(n.value,2),l=s[0],u=s[1];if(Array.isArray(l)&&l.includes(o))return t.evaluate(u);if(l===o)return t.evaluate(u)}}catch(c){a.e(c)}finally{a.f()}return t.evaluate(e.fallback)}},{key:"visitCaseExpr",value:function(e,t){if(t.scope===l.ExprScope.Value){var n=e.branches.findIndex((function(e){var t=r(e,2),n=t[0];t[1];return n.isDynamic()}));if(-1!==n){for(var o,a=0;a<e.branches.length;++a){var s=r(e.branches[a],2),u=s[0],c=s[1],f=t.evaluate(u),d=t.evaluate(c);if(a<n&&Boolean(f))return d;if((l.Expr.isExpr(f)||Boolean(f))&&(void 0===o&&(o=[]),null===o||void 0===o||o.push([t.wrapValue(f),t.wrapValue(d)]),!l.Expr.isExpr(f)&&Boolean(f)))return new l.CaseExpr(o,l.LiteralExpr.fromValue(null))}var h=t.evaluate(e.fallback);return void 0===o?h:new l.CaseExpr(o,t.wrapValue(h))}}var p,m=i(e.branches);try{for(m.s();!(p=m.n()).done;){var v=r(p.value,2),g=v[0],y=v[1];if(t.evaluate(g))return t.evaluate(y)}}catch(E){m.e(E)}finally{m.f()}return t.evaluate(e.fallback)}},{key:"visitCallExpr",value:function(e,t){var n,r=null!==(n=e.descriptor)&&void 0!==n?n:L.get(e.op);if(r){var i;if(e.descriptor=r,t.scope===l.ExprScope.Value&&e.isDynamic()){if(e.descriptor.partialEvaluate)return e.descriptor.partialEvaluate(t,e);var o=e.args.map((function(e){return t.wrapValue(t.evaluate(e))}));if(o.every((function(t,n){return t===e.args[n]})))return e;i=new l.CallExpr(e.op,o)}else i=r.call(t,e);return i}throw new Error("undefined operator '".concat(e.op,"'"))}},{key:"visitStepExpr",value:function(e,t){if(t.scope===l.ExprScope.Value){var n=t.evaluate(e.input),i=t.evaluate(e.defaultValue);return new l.StepExpr(t.wrapValue(n),t.wrapValue(i),e.stops.map((function(e){var n=r(e,2),i=n[0],o=n[1],a=t.evaluate(o);return[i,t.wrapValue(a)]})))}var o=t.evaluate(e.input);if("number"!==typeof o)throw new Error("input '".concat(o,"' must be a number"));if(o<e.stops[0][0])return t.evaluate(e.defaultValue);var a=e.stops.findIndex((function(e){return e[0]>o}));return-1===a&&(a=e.stops.length),t.evaluate(e.stops[a-1][1])}},{key:"visitInterpolateExpr",value:function(e,t){if(t.scope===l.ExprScope.Value){var n=t.evaluate(e.input);return new l.InterpolateExpr(e.mode,t.wrapValue(n),e.stops.map((function(e){var n=r(e,2),i=n[0],o=n[1],a=t.evaluate(o);return[i,t.wrapValue(a)]})))}var i=t.evaluate(e.input);if("number"!==typeof i)throw new Error("input must be a number");if("cubic"===e.mode[0])return function(e,t,n){if(n<t.stops[0][0])return S(e,t.stops[0][1]);if(n>=t.stops[t.stops.length-1][0])return S(e,t.stops[t.stops.length-1][1]);var r=t.stops.findIndex((function(e){return e[0]>n})),i=Math.max(0,r-1),o=0===i?r:i-1,a=r<t.stops.length-1?r+1:r-1,l=t.stops[o][0],u=t.stops[i][0],c=t.stops[r][0],f=.5*(c-u),d=f/(u-l),h=f/(t.stops[a][0]-c),p=(n-u)/(c-u),m=p*p,v=m*p,g=-d*v+2*d*m-d*p,y=(1+d)*v+(-1.5-2*d)*m+(-.5+d)*p+1,E=(-1-h)*v+(1.5+h)*m+.5*p,A=h*v-h*m,T=S(e,t.stops[o][1]),L=S(e,t.stops[i][1]),b=S(e,t.stops[r][1]),I=S(e,t.stops[a][1]);if("number"===typeof T&&"number"===typeof L&&"number"===typeof b&&"number"===typeof I)return g*T+y*L+E*b+A*I;if(T instanceof R.RGBA&&L instanceof R.RGBA&&b instanceof R.RGBA&&I instanceof R.RGBA)return new R.RGBA(s.MathUtils.clamp(g*T.r+y*L.r+E*b.r+A*I.r,0,1),s.MathUtils.clamp(g*T.g+y*L.g+E*b.g+A*I.g,0,1),s.MathUtils.clamp(g*T.b+y*L.b+E*b.b+A*I.b,0,1),s.MathUtils.clamp(g*T.a+y*L.a+E*b.a+A*I.a,0,1));if(T instanceof O.Pixels&&L instanceof O.Pixels&&b instanceof O.Pixels&&I instanceof O.Pixels)return new O.Pixels(g*T.value+y*L.value+E*b.value+A*I.value);if(T instanceof s.Color&&L instanceof s.Color&&b instanceof s.Color&&I instanceof s.Color)return new s.Color(g*T.r+y*L.r+E*b.r+A*I.r,g*T.g+y*L.g+E*b.g+A*I.g,g*T.b+y*L.b+E*b.b+A*I.b);if(T instanceof s.Vector2&&L instanceof s.Vector2&&b instanceof s.Vector2&&I instanceof s.Vector2)return new s.Vector2(g*T.x+y*L.x+E*b.x+A*I.x,g*T.y+y*L.y+E*b.y+A*I.y);if(T instanceof s.Vector3&&L instanceof s.Vector3&&b instanceof s.Vector3&&I instanceof s.Vector3)return new s.Vector3(g*T.x+y*L.x+E*b.x+A*I.x,g*T.y+y*L.y+E*b.y+A*I.y,g*T.z+y*L.z+E*b.z+A*I.z);if(T instanceof s.Vector4&&L instanceof s.Vector4&&b instanceof s.Vector4&&I instanceof s.Vector4)return new s.Vector4(g*T.x+y*L.x+E*b.x+A*I.x,g*T.y+y*L.y+E*b.y+A*I.y,g*T.z+y*L.z+E*b.z+A*I.z,g*T.w+y*L.w+E*b.w+A*I.w);if(Array.isArray(T)&&Array.isArray(L)&&Array.isArray(b)&&Array.isArray(I)){for(var N=T.length,x=[],_=0;_<N;++_)x[_]=g*T[_]+y*L[_]+E*b[_]+A*I[_];return x}throw new Error("failed to interpolate values")}(t,e,i);var o=e.stops.findIndex((function(e){return e[0]>i}));if(-1===o)return t.evaluate(e.stops[e.stops.length-1][1]);if(0===o)return t.evaluate(e.stops[0][1]);var a=r(e.stops[o],2),u=a[0],c=a[1],f=r(e.stops[o-1],2),d=f[0],h=f[1],p=S(t,h),m=0;switch(e.mode[0]){case"discrete":return p;case"linear":m=(i-d)/(u-d);break;case"exponential":var v=e.mode[1];m=1===v?(i-d)/(u-d):(Math.pow(v,i-d)-1)/(Math.pow(v,u-d)-1);break;default:throw new Error("interpolation mode ".concat(JSON.stringify(e.mode)," is not supported"))}var g=S(t,c);if("number"===typeof p&&"number"===typeof g)return s.MathUtils.lerp(p,g,m);if(p instanceof R.RGBA&&g instanceof R.RGBA)return p.clone().lerp(g,m);if(p instanceof O.Pixels&&g instanceof O.Pixels)return new O.Pixels(s.MathUtils.lerp(p.value,g.value,m));if(p instanceof s.Color&&g instanceof s.Color)return p.clone().lerp(g,m);if(p instanceof s.Vector2&&g instanceof s.Vector2)return p.clone().lerp(g,m);if(p instanceof s.Vector3&&g instanceof s.Vector3)return p.clone().lerp(g,m);if(p instanceof s.Vector4&&g instanceof s.Vector4)return p.clone().lerp(g,m);if(Array.isArray(p)&&Array.isArray(g)&&p.length===g.length)return p.map((function(e,t){return s.MathUtils.lerp(e,g[t],m)}));throw new Error("todo: mix(".concat(JSON.stringify(p),", ").concat(JSON.stringify(g),", ").concat(m,")"))}}],[{key:"defineOperator",value:function(e,t){L.set(e,t)}},{key:"defineOperators",value:function(e){var t=this;Object.getOwnPropertyNames(e).forEach((function(n){t.defineOperator(n,e[n])}))}},{key:"getOperator",value:function(e){return L.get(e)}}]),e}();t.ExprEvaluator=I,I.defineOperators(c.CastOperators),I.defineOperators(d.ComparisonOperators),I.defineOperators(v.MathOperators),I.defineOperators(E.StringOperators),I.defineOperators(f.ColorOperators),I.defineOperators(A.TypeOperators),I.defineOperators(g.MiscOperators),I.defineOperators(p.FlowOperators),I.defineOperators(u.ArrayOperators),I.defineOperators(y.ObjectOperators),I.defineOperators(h.FeatureOperators),I.defineOperators(m.MapOperators),I.defineOperators(T.VectorOperators)},72037:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ExprInstantiator=void 0;var s=n(18284),l=n(22939),u=new s.Env,c=function(){function e(){o(this,e)}return a(e,[{key:"visitNullLiteralExpr",value:function(e,t){return e}},{key:"visitBooleanLiteralExpr",value:function(e,t){return e}},{key:"visitNumberLiteralExpr",value:function(e,t){return e}},{key:"visitStringLiteralExpr",value:function(e,t){return e}},{key:"visitObjectLiteralExpr",value:function(e,t){return e}},{key:"visitVarExpr",value:function(e,t){if(t.preserve&&t.preserve.has(e.name))return e;var n=t.env.lookup(e.name);return l.LiteralExpr.fromValue(void 0!==n?n:null)}},{key:"visitHasAttributeExpr",value:function(e,t){if(t.preserve&&t.preserve.has(e.name))return e;var n=void 0!==t.env.lookup(e.name);return l.LiteralExpr.fromValue(n)}},{key:"visitCallExpr",value:function(e,t){var n=this,r=e.args.map((function(e){return e.accept(n,t)}));return r.some((function(t,n){return t!==e.args[n]}))?new l.CallExpr(e.op,r):e}},{key:"visitMatchExpr",value:function(e,t){var n=this,o=e.value.accept(this,t);if(o instanceof l.LiteralExpr){var a,s=o.value,u=i(e.branches);try{for(u.s();!(a=u.n()).done;){var c=r(a.value,2),f=c[0],d=c[1];if(Array.isArray(f)&&f.includes(s))return d.accept(this,t);if(f===s)return d.accept(this,t)}}catch(v){u.e(v)}finally{u.f()}return e.fallback.accept(this,t)}var h=e.value!==o,p=e.branches.map((function(e){var i=r(e,2),o=i[0],a=i[1],s=a.accept(n,t);return s!==a&&(h=!0),[o,s]})),m=e.fallback.accept(this,t);return m!==e.fallback&&(h=!0),h?new l.MatchExpr(o,p,m):e}},{key:"visitCaseExpr",value:function(e,t){var n,o=this,a=[],s=!1,c=i(e.branches);try{for(c.s();!(n=c.n()).done;){var f=r(n.value,2),d=f[0],h=f[1],p=d.accept(this,t),m=p.dependencies();if(d.isDynamic()||0!==m.properties.size)p!==d&&(s=!0),a.push([p,h]);else if(Boolean(p.evaluate(u,l.ExprScope.Condition)))return h.accept(this,t)}}catch(g){c.e(g)}finally{c.f()}if(0===a.length)return e.fallback.accept(this,t);a.length!==e.branches.length&&(s=!0),a.forEach((function(e){var n=e[1].accept(o,t);n!==e[1]&&(s=!0),e[1]=n}));var v=e.fallback.accept(this,t);return v!==e.fallback&&(s=!0),s?new l.CaseExpr(a,v):e}},{key:"visitStepExpr",value:function(e,t){var n=this,i=e.input.accept(this,t),o=e.defaultValue.accept(this,t),a=e.stops.map((function(e){var i=r(e,2);return[i[0],i[1].accept(n,t)]}));return new l.StepExpr(i,o,a)}},{key:"visitInterpolateExpr",value:function(e,t){var n=this,i=e.input.accept(this,t),o=e.stops.map((function(e){var i=r(e,2);return[i[0],i[1].accept(n,t)]}));return new l.InterpolateExpr(e.mode,i,o)}}]),e}();t.ExprInstantiator=c},9375:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ExprParser=void 0;var o,a,s=n(22939);function l(e){switch(e){case o.Tab:case o.Lf:case o.Cr:case o.Space:return!0;default:return!1}}function u(e){return e>=o._0&&e<=o._9}function c(e){return e>=o.a&&e<=o.z||e>=o.A&&e<=o.Z}function f(e){return function(e){return c(e)||u(e)}(e)||e===o._||e===o.Dollar||e===o.Dot||e===o.LBracket||e===o.RBracket}function d(e){switch(e){case a.Eof:return"eof";case a.Error:return"error";case a.Identifier:return"identifier";case a.Number:return"number";case a.String:return"string";case a.Comma:return",";case a.LParen:return"(";case a.RParen:return")";case a.LBracket:return"[";case a.RBracket:return"]";case a.Exclaim:return"!";case a.TildeEqual:return"~=";case a.CaretEqual:return"^=";case a.DollarEqual:return"$=";case a.EqualEqual:return"==";case a.ExclaimEqual:return"!=";case a.Less:return"<";case a.Greater:return">";case a.LessEqual:return"<=";case a.GreaterEqual:return">=";case a.BarBar:return"||";case a.AmpAmp:return"&&";default:throw new Error("invalid token ".concat(e))}}!function(e){e[e.Tab=9]="Tab",e[e.Lf=10]="Lf",e[e.Cr=13]="Cr",e[e.Space=32]="Space",e[e.LParen=40]="LParen",e[e.RParen=41]="RParen",e[e.Comma=44]="Comma",e[e.Dot=46]="Dot",e[e.LBracket=91]="LBracket",e[e.Backslash=92]="Backslash",e[e.RBracket=93]="RBracket",e[e._0=48]="_0",e[e._9=57]="_9",e[e._=95]="_",e[e.A=64]="A",e[e.Z=90]="Z",e[e.a=97]="a",e[e.z=122]="z",e[e.DoubleQuote=34]="DoubleQuote",e[e.SingleQuote=39]="SingleQuote",e[e.Exclaim=33]="Exclaim",e[e.Equal=61]="Equal",e[e.Caret=94]="Caret",e[e.Tilde=126]="Tilde",e[e.Dollar=36]="Dollar",e[e.Less=60]="Less",e[e.Greater=62]="Greater",e[e.Bar=124]="Bar",e[e.Amp=38]="Amp"}(o||(o={})),function(e){e[e.Eof=0]="Eof",e[e.Error=1]="Error",e[e.Identifier=2]="Identifier",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Comma=5]="Comma",e[e.LParen=6]="LParen",e[e.RParen=7]="RParen",e[e.LBracket=8]="LBracket",e[e.RBracket=9]="RBracket",e[e.Exclaim=10]="Exclaim",e[e.TildeEqual=11]="TildeEqual",e[e.CaretEqual=12]="CaretEqual",e[e.DollarEqual=13]="DollarEqual",e[e.EqualEqual=14]="EqualEqual",e[e.ExclaimEqual=15]="ExclaimEqual",e[e.Less=16]="Less",e[e.Greater=17]="Greater",e[e.LessEqual=18]="LessEqual",e[e.GreaterEqual=19]="GreaterEqual",e[e.BarBar=20]="BarBar",e[e.AmpAmp=21]="AmpAmp"}(a||(a={}));var h=function(){function e(t){r(this,e),this.code=t,this.m_token=a.Error,this.m_index=0,this.m_char=o.Lf}return i(e,[{key:"token",value:function(){return this.m_token}},{key:"text",value:function(){var e;return null!==(e=this.m_text)&&void 0!==e?e:""}},{key:"next",value:function(){if(this.m_token=this.yylex(),this.m_token===a.Error)throw new Error("unexpected character ".concat(this.m_char));return this.m_token}},{key:"yyinp",value:function(){var e;this.m_char=null!==(e=this.code.codePointAt(this.m_index++))&&void 0!==e?e:0}},{key:"yylex",value:function(){for(this.m_text=void 0;l(this.m_char);)this.yyinp();if(0===this.m_char)return a.Eof;var e=this.m_char;switch(this.yyinp(),e){case o.LParen:return a.LParen;case o.RParen:return a.RParen;case o.LBracket:return a.LBracket;case o.RBracket:return a.RBracket;case o.Comma:return a.Comma;case o.SingleQuote:case o.DoubleQuote:for(var t=this.m_index-1;this.m_char&&this.m_char!==e;)this.yyinp();if(this.m_char!==e)throw new Error("Unfinished string literal");return this.yyinp(),this.m_text=this.code.substring(t,this.m_index-2),a.String;case o.Exclaim:return this.m_char===o.Equal?(this.yyinp(),a.ExclaimEqual):a.Exclaim;case o.Caret:return this.m_char===o.Equal?(this.yyinp(),a.CaretEqual):a.Error;case o.Tilde:return this.m_char===o.Equal?(this.yyinp(),a.TildeEqual):a.Error;case o.Equal:return this.m_char===o.Equal?(this.yyinp(),a.EqualEqual):a.Error;case o.Less:return this.m_char===o.Equal?(this.yyinp(),a.LessEqual):a.Less;case o.Greater:return this.m_char===o.Equal?(this.yyinp(),a.GreaterEqual):a.Greater;case o.Bar:return this.m_char===o.Bar?(this.yyinp(),a.BarBar):a.Error;case o.Amp:return this.m_char===o.Amp?(this.yyinp(),a.AmpAmp):a.Error;default:var n=this.m_index-2;if(c(e)||e===o._||e===o.Dollar&&f(this.m_char)){for(;f(this.m_char);)this.yyinp();return this.m_text=this.code.substring(n,this.m_index-1),a.Identifier}if(u(e)){for(;u(this.m_char);)this.yyinp();if(this.m_char===o.Dot)for(this.yyinp();u(this.m_char);)this.yyinp();return this.m_text=this.code.substring(n,this.m_index-1),a.Number}if(e===o.Dollar)return this.m_char===o.Equal?(this.yyinp(),a.DollarEqual):a.Error}return a.Error}}]),e}();function p(e){switch(e){case a.TildeEqual:return"~=";case a.CaretEqual:return"^=";case a.DollarEqual:return"$=";case a.EqualEqual:return"==";case a.ExclaimEqual:return"!=";default:return}}function m(e){switch(e){case a.Less:return"<";case a.Greater:return">";case a.LessEqual:return"<=";case a.GreaterEqual:return">=";default:return}}var v=function(){function e(t){r(this,e),this.lex=new h(t),this.lex.next()}return i(e,[{key:"parse",value:function(){return this.parseLogicalOr()}},{key:"yyexpect",value:function(e){if(this.lex.token()!==e)throw new Error("Syntax error: Expected token '".concat(d(e),"' but ")+"found '".concat(d(this.lex.token()),"'"));this.lex.next()}},{key:"parsePrimary",value:function(){switch(this.lex.token()){case a.Identifier:var e=this.lex.text();switch(e){case"has":this.lex.next(),this.yyexpect(a.LParen);var t=this.lex.text();return this.yyexpect(a.Identifier),this.yyexpect(a.RParen),new s.HasAttributeExpr(t);case"length":this.lex.next(),this.yyexpect(a.LParen);var n=this.parseLogicalOr();return this.yyexpect(a.RParen),new s.CallExpr("length",[n]);default:var r=new s.VarExpr(e);return this.lex.next(),r}case a.LParen:this.lex.next();var i=this.parseLogicalOr();return this.yyexpect(a.RParen),i;default:return this.parseLiteral()}}},{key:"parseLiteral",value:function(){switch(this.lex.token()){case a.Number:var e=new s.NumberLiteralExpr(parseFloat(this.lex.text()));return this.lex.next(),e;case a.String:var t=new s.StringLiteralExpr(this.lex.text());return this.lex.next(),t;default:throw new Error("Syntax error")}}},{key:"parseUnary",value:function(){return this.lex.token()===a.Exclaim?(this.lex.next(),new s.CallExpr("!",[this.parseUnary()])):this.parsePrimary()}},{key:"parseRelational",value:function(){for(var e=this.parseUnary();;)if(this.lex.token()===a.Identifier&&"in"===this.lex.text()){this.lex.next(),this.yyexpect(a.LBracket);for(var t=[this.parseLiteral()];this.lex.token()===a.Comma;)this.lex.next(),t.push(this.parseLiteral());this.yyexpect(a.RBracket),e=new s.CallExpr("in",[e,s.LiteralExpr.fromValue(t.map((function(e){return e.value})))])}else{var n=m(this.lex.token());if(void 0===n)break;this.lex.next();var r=this.parseUnary();e=new s.CallExpr(n,[e,r])}return e}},{key:"parseEquality",value:function(){for(var e=this.parseRelational();;){var t=p(this.lex.token());if(void 0===t)break;"~="===t&&(t="in"),this.lex.next();var n=this.parseRelational();e=new s.CallExpr(t,[e,n])}return e}},{key:"parseLogicalAnd",value:function(){var e=this.parseEquality();if(this.lex.token()!==a.AmpAmp)return e;var t=[e];do{this.lex.next(),t.push(this.parseEquality())}while(this.lex.token()===a.AmpAmp);return new s.CallExpr("all",t)}},{key:"parseLogicalOr",value:function(){var e=this.parseLogicalAnd();if(this.lex.token()!==a.BarBar)return e;var t=[e];do{this.lex.next(),t.push(this.parseLogicalAnd())}while(this.lex.token()===a.BarBar);return new s.CallExpr("any",t)}}]),e}();t.ExprParser=v},46704:function(e,t,n){"use strict";var r=n(43269).default,i=n(63038).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ExprPool=void 0;var s=n(22939),l=function(){function e(){o(this,e),this.m_booleanLiterals=new Map,this.m_numberLiterals=new Map,this.m_stringLiterals=new Map,this.m_objectLiterals=new Map,this.m_arrayLiterals=[],this.m_varExprs=new Map,this.m_hasAttributeExprs=new Map,this.m_matchExprs=[],this.m_caseExprs=[],this.m_interpolateExprs=[],this.m_stepExprs=[],this.m_callExprs=new Map}return a(e,[{key:"add",value:function(e){return e.accept(this,void 0)}},{key:"visitNullLiteralExpr",value:function(e,t){return s.NullLiteralExpr.instance}},{key:"visitBooleanLiteralExpr",value:function(e,t){var n=this.m_booleanLiterals.get(e.value);return n||(this.m_booleanLiterals.set(e.value,e),e)}},{key:"visitNumberLiteralExpr",value:function(e,t){var n=this.m_numberLiterals.get(e.value);return n||(this.m_numberLiterals.set(e.value,e),e)}},{key:"visitStringLiteralExpr",value:function(e,t){var n=this.m_stringLiterals.get(e.value);return n||(this.m_stringLiterals.set(e.value,e),e)}},{key:"visitObjectLiteralExpr",value:function(e,t){var n=this.m_objectLiterals.get(e.value);if(n)return n;if(Array.isArray(e.value)){var r=e.value,i=this.m_arrayLiterals.find((function(e){var t=e.value;return t.length===r.length&&r.every((function(e,n){return e===t[n]}))}));if(void 0!==i)return i;this.m_arrayLiterals.push(e)}return this.m_objectLiterals.set(e.value,e),e}},{key:"visitVarExpr",value:function(e,t){var n=this.m_varExprs.get(e.name);return n||(this.m_varExprs.set(e.name,e),e)}},{key:"visitHasAttributeExpr",value:function(e,t){var n=this.m_hasAttributeExprs.get(e.name);return n||(this.m_hasAttributeExprs.set(e.name,e),e)}},{key:"visitMatchExpr",value:function(e,t){var n,o=this,a=e.value.accept(this,t),l=e.branches.map((function(e){var n=i(e,2);return[n[0],n[1].accept(o,t)]})),u=e.fallback.accept(this,t),c=r(this.m_matchExprs);try{for(c.s();!(n=c.n()).done;){var f=n.value;if(f.value===a&&(f.fallback===u&&f.branches.length===l.length)){for(var d=!0,h=0;h<l.length;h++)if(l[h][0]!==f.branches[h][0]||l[h][1]!==f.branches[h][1]){d=!1;break}if(d)return f}}}catch(m){c.e(m)}finally{c.f()}var p=new s.MatchExpr(a,l,u);return this.m_matchExprs.push(p),p}},{key:"visitCaseExpr",value:function(e,t){var n,o=this,a=e.branches.map((function(e){var n=i(e,2),r=n[0],a=n[1];return[r.accept(o,t),a.accept(o,t)]})),l=e.fallback.accept(this,t),u=r(this.m_caseExprs);try{for(u.s();!(n=u.n()).done;){var c=n.value;if(c.fallback===l&&c.branches.length===a.length){for(var f=!0,d=0;d<a.length;d++)if(a[d][0]!==c.branches[d][0]||a[d][1]!==c.branches[d][1]){f=!1;break}if(f)return c}}}catch(p){u.e(p)}finally{u.f()}var h=new s.CaseExpr(a,l);return this.m_caseExprs.push(h),h}},{key:"visitCallExpr",value:function(e,t){var n=this,i=e.args.map((function(e){return e.accept(n,t)}));this.m_callExprs.has(e.op)||this.m_callExprs.set(e.op,[]);var o,a=this.m_callExprs.get(e.op),l=r(a);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(u.args.length===i.length){for(var c=0;c<u.args.length&&u.args[c]===i[c];++c);if(c===u.args.length)return u}}}catch(d){l.e(d)}finally{l.f()}var f=new s.CallExpr(e.op,i);return f.descriptor=e.descriptor,a.push(f),f}},{key:"visitStepExpr",value:function(e,t){var n=this;if(this.m_stepExprs.includes(e))return e;var o,a=e.input.accept(this,t),l=e.defaultValue.accept(this,t),u=e.stops.map((function(e){var r=e[0],i=e[1].accept(n,t);return i===e[1]?e:[r,i]})),c=r(this.m_stepExprs);try{var f=function(){var e=o.value;if(e.input===a&&e.defaultValue===l&&u.length===e.stops.length&&u.every((function(t,n){var r=i(t,2),o=r[0],a=r[1];return o===e.stops[n][0]&&a===e.stops[n][1]})))return{v:e}};for(c.s();!(o=c.n()).done;){var d=f();if("object"===typeof d)return d.v}}catch(p){c.e(p)}finally{c.f()}var h=new s.StepExpr(a,l,u);return this.m_stepExprs.push(h),h}},{key:"visitInterpolateExpr",value:function(e,t){var n=this;if(this.m_interpolateExprs.includes(e))return e;var o,a=e.input.accept(this,t),l=e.stops.map((function(e){var r=e[0],i=e[1].accept(n,t);return i===e[1]?e:[r,i]})),u=r(this.m_interpolateExprs);try{var c=function(){var t=o.value;if(t.input===a&&t.mode[0]===e.mode[0]&&t.mode[1]===e.mode[1]&&l.length===t.stops.length&&l.every((function(e,n){var r=i(e,2),o=r[0],a=r[1];return o===t.stops[n][0]&&a===t.stops[n][1]})))return{v:t}};for(u.s();!(o=u.n()).done;){var f=c();if("object"===typeof f)return f.v}}catch(h){u.e(h)}finally{u.f()}var d=new s.InterpolateExpr(e.mode,a,l);return this.m_interpolateExprs.push(d),d}}]),e}();t.ExprPool=l},47633:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFeatureGeometry=void 0,t.isFeatureGeometry=function(e){var t=e.type;return"Point"===t||"MultiPoint"===t||"LineString"===t||"MultiLineString"===t||"Polygon"===t||"MultiPolygon"===t}},63014:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},79829:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91173:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53693:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interpolatedPropertyDefinitionToJsonExpr=t.isInterpolatedPropertyDefinition=t.InterpolationMode=void 0,function(e){e[e.Discrete=0]="Discrete",e[e.Linear=1]="Linear",e[e.Cubic=2]="Cubic",e[e.Exponential=3]="Exponential"}(t.InterpolationMode||(t.InterpolationMode={})),t.isInterpolatedPropertyDefinition=function(e){return!!(e&&void 0===e.interpolationMode&&Array.isArray(e.values)&&e.values.length>0&&void 0!==e.values[0]&&Array.isArray(e.zoomLevels)&&e.zoomLevels.length>0&&void 0!==e.zoomLevels[0]&&e.values.length===e.zoomLevels.length)},t.interpolatedPropertyDefinitionToJsonExpr=function(e){if(void 0===e.interpolation||"Discrete"===e.interpolation){for(var t=["step",["zoom"],e.values[0]],n=1;n<e.zoomLevels.length;++n)t.push(e.zoomLevels[n],e.values[n]);return t}var r=["interpolate"];switch(e.interpolation){case"Linear":r.push(["linear"]);break;case"Cubic":r.push(["cubic"]);break;case"Exponential":r.push(["exponential",void 0!==e.exponent?e.exponent:2]);break;default:throw new Error("interpolation mode '".concat(e.interpolation,"' is not supported"))}r.push(["zoom"]);for(var i=0;i<e.zoomLevels.length;++i)r.push(e.zoomLevels[i],e.values[i]);return r}},71350:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPolygonEdges=void 0;var r=n(34585),i=new r.Vector2,o=new r.Vector2,a=new r.Vector2,s=new r.Vector2;t.addPolygonEdges=function(e,t,n,r,l,u,c,f){for(var d=0;d<l.length;++d)if(l[d])if(!0===u){var h=t+2*d,p=h+1,m=t+(d+1)%l.length*2,v=m+1;!0===c&&e.push(h,m),e.push(p,v);var g=(0===d?l.length:d)-1;if(l[g])if(void 0!==f){var y=r[d*n],E=r[d*n+1],A=r[(d+1)%l.length*n],T=r[(d+1)%l.length*n+1];i.set(y,E),o.set(A,T),a.set(r[g*n],r[g*n+1]),s.set(i.x,i.y),s.sub(a).normalize().dot(o.sub(i).normalize())<=f&&e.push(h,p)}else e.push(h,p)}else{var O=t+d,R=t+(d+1)%l.length;e.push(O,R)}}},79145:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Pixels=void 0;var o=/^((?=\.\d|\d)(?:\d+)?(?:\.?\d*))px$/,a=function(){function e(t){r(this,e),this.value=t}return i(e,[{key:"toJSON",value:function(){return"".concat(this.value,"px")}}],[{key:"parse",value:function(t){var n=o.exec(t);if(null!==n)return new e(Number(n[1]))}}]),e}();t.Pixels=a},73917:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPropertyValue=void 0;var r=n(15739),i=n(22939),o=n(79145),a=n(55471),s=n(84727),l=r.LoggerManager.instance.create("PropertyValue");t.getPropertyValue=function(e,t,n){var r,u,c;if(i.Expr.isExpr(e))try{var f=e.evaluate(t,i.ExprScope.Dynamic,n);return"string"===typeof f&&(f=null!==(u=null!==(r=a.RGBA.parse(f))&&void 0!==r?r:o.Pixels.parse(f))&&void 0!==u?u:f),f instanceof a.RGBA?f.getHex():f instanceof o.Pixels?f.value*(null!==(c=Number(t.lookup("$pixelToMeters")))&&void 0!==c?c:1):f}catch(p){return l.error("failed to evaluate expression",JSON.stringify(e),"error",String(p)),null}if(null===e||"undefined"===typeof e)return null;if("string"!==typeof e)return e;var d=t.lookup("$pixelToMeters")||1,h=s.parseStringEncodedNumeral(e,d);return void 0!==h?h:e}},55471:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RGBA=void 0;var o=n(34585),a=n(67538),s=n(84727),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e),this.r=t,this.g=n,this.b=i,this.a=o}return i(e,[{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.a)}},{key:"getHex",value:function(){return a.ColorUtils.getHexFromRgba(this.r,this.g,this.b,this.a)}},{key:"lerp",value:function(e,t){return this.r=o.MathUtils.lerp(this.r,e.r,t),this.g=o.MathUtils.lerp(this.g,e.g,t),this.b=o.MathUtils.lerp(this.b,e.b,t),this.a=o.MathUtils.lerp(this.a,e.a,t),this}},{key:"toJSON",value:function(){return"rgba(".concat(255*this.r<<0,", ").concat(255*this.g<<0,", ").concat(255*this.b<<0,", ").concat(this.a,")")}}],[{key:"parse",value:function(e){var t=s.parseStringEncodedColor(e);if(void 0!==t)return a.ColorUtils.getRgbaFromHex(t)}}]),e}();t.RGBA=l},84727:function(e,t,n){"use strict";var r=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.parseStringEncodedColor=t.parseStringEncodedNumeral=t.StringEncodedNumeralFormatMaxSize=t.StringEncodedNumeralFormats=t.StringEncodedColorFormats=t.StringEncodedMetricFormats=t.StringEncodedNumeralType=void 0;var i,o=n(15739),a=n(10173),s=n(67538);!function(e){e[e.Meters=0]="Meters",e[e.Pixels=1]="Pixels",e[e.Hex=2]="Hex"}(i=t.StringEncodedNumeralType||(t.StringEncodedNumeralType={}));var l={type:i.Meters,size:1,regExp:/^((?=\.\d|\d)(?:\d+)?(?:\.?\d*))m$/,decoder:function(e,t){var n=l.regExp.exec(e);return!!n&&void 0!==(t[0]=Number(n[1]))}},u={type:i.Pixels,size:1,mask:1,regExp:/^((?=\.\d|\d)(?:\d+)?(?:\.?\d*))px$/,decoder:function(e,t){var n=u.regExp.exec(e);return null!==n&&(t[0]=Number(n[1]),!0)}},c={type:i.Hex,size:4,regExp:/^\#((?:[0-9A-Fa-f][0-9A-Fa-f]){4}|[0-9A-Fa-f]{4})$/,decoder:function(e,t){var n=c.regExp.exec(e);if(null===n)return!1;var r=n[1],i=r.length;return o.assert(4===i||8===i,"Matched incorrect hex color format"),4===i?(t[0]=parseInt(r.charAt(0)+r.charAt(0),16)/255,t[1]=parseInt(r.charAt(1)+r.charAt(1),16)/255,t[2]=parseInt(r.charAt(2)+r.charAt(2),16)/255,t[3]=4===i?parseInt(r.charAt(3)+r.charAt(3),16)/255:1):8===i&&(t[0]=parseInt(r.charAt(0)+r.charAt(1),16)/255,t[1]=parseInt(r.charAt(2)+r.charAt(3),16)/255,t[2]=parseInt(r.charAt(4)+r.charAt(5),16)/255,t[3]=8===i?parseInt(r.charAt(6)+r.charAt(7),16)/255:1),!0}};t.StringEncodedMetricFormats=[l,u];var f=t.StringEncodedMetricFormats.reduce((function(e,t){return Math.max(e,t.size)}),0);t.StringEncodedColorFormats=[c];var d=t.StringEncodedColorFormats.reduce((function(e,t){return Math.max(e,t.size)}),0);t.StringEncodedNumeralFormats=[].concat(r(t.StringEncodedMetricFormats),r(t.StringEncodedColorFormats)),t.StringEncodedNumeralFormatMaxSize=Math.max(d,f);var h=new Array(t.StringEncodedNumeralFormatMaxSize);function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.find((function(t){return!!t.decoder(e,h)}));if(void 0===r){var o=a.parseCSSColor(e);return Array.isArray(o)&&!o.some((function(e){return isNaN(e)}))?s.ColorUtils.getHexFromRgba(o[0]/255,o[1]/255,o[2]/255,o[3]):void 0}switch(null===r||void 0===r?void 0:r.type){case i.Pixels:return h[0]*n;case i.Hex:return s.ColorUtils.getHexFromRgba(h[0],h[1],h[2],h[3]);default:return h[0]}}t.parseStringEncodedNumeral=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return p(e,t.StringEncodedNumeralFormats,n)},t.parseStringEncodedColor=function(e){return p(e,t.StringEncodedColorFormats)}},17668:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.makeDecodedTechnique=t.StyleSetEvaluator=void 0;var s=n(15739),l=n(22939),u=n(46704),c=n(53693),f=n(91753),d=n(38794),h=s.LoggerManager.instance.create("StyleSetEvaluator"),p=f.AttrScope.TechniqueGeometry;var m=function(){function e(){o(this,e)}return a(e,[{key:"classify",value:function(e){if(e._whenExpr){var t=this.switchStyle(e);e._whenExpr=e._whenExpr.accept(this,void 0),this._style=t}}},{key:"visitNullLiteralExpr",value:function(e,t){return e}},{key:"visitBooleanLiteralExpr",value:function(e,t){return e}},{key:"visitNumberLiteralExpr",value:function(e,t){return e}},{key:"visitStringLiteralExpr",value:function(e,t){return e}},{key:"visitObjectLiteralExpr",value:function(e,t){return e}},{key:"visitVarExpr",value:function(e,t){return e}},{key:"visitHasAttributeExpr",value:function(e,t){return e}},{key:"visitMatchExpr",value:function(e,t){return e}},{key:"visitCaseExpr",value:function(e,t){return e}},{key:"visitCallExpr",value:function(e,t){var n=this;if("all"===e.op){var r=e.args.map((function(t){return t.accept(n,e)})).filter((function(e){return void 0!==e}));return new l.CallExpr(e.op,r)}if(t){var i=this.matchVarStringComparison(e);if(i){if(void 0===this._style.layer&&"$layer"===i.name)return void(this._style.layer=i.value);if(void 0===this._style._geometryType&&"$geometryType"===i.name)return void(this._style._geometryType=i.value)}}return e}},{key:"visitStepExpr",value:function(e,t){return e}},{key:"visitInterpolateExpr",value:function(e,t){return e}},{key:"matchVarStringComparison",value:function(e){if("=="===e.op){var t=e.args[0],n=e.args[1];if(t instanceof l.VarExpr&&n instanceof l.StringLiteralExpr)return{name:t.name,value:n.value};if(n instanceof l.VarExpr&&t instanceof l.StringLiteralExpr)return{name:n.name,value:t.value}}}},{key:"switchStyle",value:function(e){var t=this._style;return this._style=e,t}}]),e}(),v=function(){function e(t,n){o(this,e),this.key="",this.set(t,n)}return a(e,[{key:"set",value:function(e,t,n){var r=!1;if(void 0===e){var i=void 0!==n?n.lookup("$layer"):void 0;e="string"===typeof i?i:void 0}if(this.layer!==e&&(this.layer=e,r=!0),void 0===t){var o=void 0!==n?n.lookup("$geometryType"):void 0;t="string"===typeof o?o:void 0}return this.geometryType!==t&&(this.geometryType=t,r=!0),r&&this.updateKey(),this}},{key:"updateKey",value:function(){void 0!==this.layer?void 0!==this.geometryType?this.key="".concat(this.layer,":").concat(this.geometryType):this.key="".concat(this.layer,":"):void 0!==this.geometryType?this.key=":".concat(this.geometryType):this.key="all",this.cachedStyleSet=void 0}}]),e}(),g=function(){function e(t){var n;o(this,e),this.m_options=t,this.m_techniques=[],this.m_exprPool=new u.ExprPool,this.m_cachedResults=new Map,this.m_styleConditionClassifier=new m,this.m_subStyleSetCache=new Map,this.m_definitionExprCache=new Map,this.m_tmpOptimizedSubSetKey=new v,this.m_emptyEnv=new l.Env,this.m_featureDependencies=[],this.m_nextArrayBufferId=0,this.m_definitions=this.m_options.definitions,this.styleSet=(n=this.m_options.styleSet,this.m_definitions,n.map((function(e){return function(e,t){return Object.assign({},e)}(e)}))),function(e){var t,n=0,r=0,o=i(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;a._styleSetIndex=r++,void 0!==a.technique&&void 0===a.renderOrder&&(a.renderOrder=n++)}}catch(s){o.e(s)}finally{o.f()}}(this.styleSet),this.compileStyleSet()}return a(e,[{key:"getMatchingTechniques",value:function(e,t,n){var r=this;if(this.m_previousResult&&this.m_previousEnv&&this.m_featureDependencies.every((function(t){var n;return(null===(n=r.m_previousEnv)||void 0===n?void 0:n.lookup(t))===e.lookup(t)})))return this.m_previousResult;var o=[];this.m_cachedResults.clear();var a=this.m_tmpOptimizedSubSetKey;a.set(t,n,e),this.m_layer=a.layer,this.m_geometryType=a.geometryType,this.m_zoomLevel=e.lookup("$zoom");var s,l=this.getOptimizedStyleSet(a),u=i(l);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(this.processStyle(e,c,o))break}}catch(f){u.e(f)}finally{u.f()}return this.m_previousResult=o,this.m_previousEnv=e,o}},{key:"wantsLayer",value:function(e){return this.getOptimizedStyleSet(this.m_tmpOptimizedSubSetKey.set(e,void 0)).length>0}},{key:"wantsFeature",value:function(e,t){return this.getOptimizedStyleSet(this.m_tmpOptimizedSubSetKey.set(e,t)).length>0}},{key:"expressionEvaluatorCache",get:function(){return this.m_cachedResults}},{key:"resetTechniques",value:function(){var e,t=i(this.m_techniques);try{for(t.s();!(e=t.n()).done;){e.value._index=void 0}}catch(n){t.e(n)}finally{t.f()}this.m_techniques.length=0,this.m_previousResult=void 0,this.m_previousEnv=void 0}},{key:"techniques",get:function(){return this.m_techniques}},{key:"decodedTechniques",get:function(){return this.m_techniques.map(y)}},{key:"getOptimizedStyleSet",value:function(e){if(void 0!==e.cachedStyleSet)return e.cachedStyleSet;var t=this.m_subStyleSetCache.get(e.key);return void 0!==t?(e.cachedStyleSet=t,t):(t=this.createPreFilteredStyleSet(e),this.m_subStyleSetCache.set(e.key,t),e.cachedStyleSet=t,t)}},{key:"createPreFilteredStyleSet",value:function(e){var t=e.layer,n=e.geometryType;return this.styleSet.filter((function(e){return(void 0===t||void 0===e.layer||e.layer===t)&&(void 0===n||void 0===e._geometryType||e._geometryType===n)}))}},{key:"compileStyleSet",value:function(){var e=this;this.m_featureDependencies=["$layer","$geometryType","$zoom"],this.styleSet.forEach((function(t){return e.compileStyle(t)})),this.styleSet.forEach((function(t){e.getOptimizedStyleSet(e.m_tmpOptimizedSubSetKey.set(t.layer,t._geometryType))}))}},{key:"compileStyle",value:function(e){var t=this;if(this.checkStyleDynamicAttributes(e),void 0!==e.when)try{e._whenExpr=Array.isArray(e.when)?l.Expr.fromJSON(e.when,this.m_definitions,this.m_definitionExprCache):l.Expr.parse(e.when),this.m_styleConditionClassifier.classify(e),void 0!==e._whenExpr&&(e._whenExpr=e._whenExpr.intern(this.m_exprPool));var n=e._whenExpr.dependencies();null===n||void 0===n||n.properties.forEach((function(e){t.m_featureDependencies.includes(e)||t.m_featureDependencies.push(e)})),l.isJsonExpr(e.minZoomLevel)&&(e._minZoomLevelExpr=l.Expr.fromJSON(e.minZoomLevel).intern(this.m_exprPool)),l.isJsonExpr(e.maxZoomLevel)&&(e._maxZoomLevelExpr=l.Expr.fromJSON(e.maxZoomLevel).intern(this.m_exprPool))}catch(r){h.log("failed to evaluate expression",JSON.stringify(e.when),"error",String(r))}}},{key:"processStyle",value:function(e,t,n){if(!this.checkZoomLevel(e,t))return!1;if(void 0!==this.m_layer&&void 0!==t.layer&&t.layer!==this.m_layer)return!1;if(void 0!==this.m_geometryType&&void 0!==t._geometryType&&t._geometryType!==this.m_geometryType)return!1;if(t._whenExpr)try{if(!t._whenExpr.evaluate(e,l.ExprScope.Condition,this.m_cachedResults))return!1}catch(r){return h.error("failed to evaluate expression '".concat(JSON.stringify(t.when),"': ").concat(r)),!1}return void 0!==t.technique&&("none"!==t.technique&&n.push(this.getTechniqueForStyleMatch(e,t)),!0===t.final)}},{key:"checkZoomLevel",value:function(e,t){var n,r;if(void 0===t.minZoomLevel&&void 0===t.maxZoomLevel)return!0;var i=this.m_zoomLevel;if(void 0===i)return!0;if(void 0!==t.minZoomLevel){var o=t.minZoomLevel;if(!1===(null===(n=t._minZoomLevelExpr)||void 0===n?void 0:n.isDynamic()))try{o=t._minZoomLevelExpr.evaluate(e,l.ExprScope.Condition,this.m_cachedResults)}catch(s){h.error("failed to evaluate expression '".concat(JSON.stringify(t._minZoomLevelExpr),"': ").concat(s))}if("number"===typeof o&&i<o)return!1}if(void 0!==t.maxZoomLevel){var a=t.maxZoomLevel;if(!1===(null===(r=t._maxZoomLevelExpr)||void 0===r?void 0:r.isDynamic()))try{a=t._maxZoomLevelExpr.evaluate(e,l.ExprScope.Condition,this.m_cachedResults)}catch(s){h.error("failed to evaluate expression '".concat(JSON.stringify(t._maxZoomLevelExpr),"': ").concat(s))}if("number"===typeof a&&i>=a)return!1}return!0}},{key:"getTechniqueForStyleMatch",value:function(e,t){var n;if(void 0!==t._dynamicTechniques){var r=this.evaluateTechniqueProperties(t,e),i=this.getDynamicTechniqueKey(t,r);void 0===(n=t._dynamicTechniques.get(i))&&(n=this.createTechnique(t,i,r),t._dynamicTechniques.set(i,n))}else void 0===(n=t._staticTechnique)&&(t._staticTechnique=n=this.createTechnique(t,"".concat(t._styleSetIndex),[]));return void 0===n._index&&(n._index=this.m_techniques.length,this.m_techniques.push(n)),n}},{key:"getDynamicTechniqueKey",value:function(e,t){var n=this,i=t.map((function(e){var t=r(e,2),i=(t[0],t[1]);return void 0===i?"U":"object"===typeof i?JSON.stringify(i,(function(e,t){if(t instanceof ArrayBuffer){var r=t.id;return void 0===r&&(r=t.id=n.m_nextArrayBufferId++),r}return t})):JSON.stringify(i)})).join(":");return"".concat(e._styleSetIndex,":").concat(i)}},{key:"checkStyleDynamicAttributes",value:function(e){var t,n=this;if(void 0===e._dynamicTechniqueAttributes&&"none"!==e.technique){e._dynamicTechniqueAttributes=[],e._dynamicFeatureAttributes=[],e._dynamicForwardedAttributes=[],e._staticAttributes=[];var r=e._dynamicFeatureAttributes,i=e._dynamicTechniqueAttributes,o=e._dynamicForwardedAttributes,a=e._staticAttributes,s=function(t,s){if(void 0!==s){if(l.isJsonExpr(s)?s=l.Expr.fromJSON(s,n.m_definitions,n.m_definitionExprCache).intern(n.m_exprPool):c.isInterpolatedPropertyDefinition(s)&&(s=l.Expr.fromJSON(c.interpolatedPropertyDefinitionToJsonExpr(s)).intern(n.m_exprPool)),l.Expr.isExpr(s)){var u=s.dependencies();u.featureState&&("enabled"!==t?h.log("feature-state is not supported in this context"):e._usesFeatureState=!0),0!==u.properties.size||s.isDynamic()||(s=s.evaluate(n.m_emptyEnv))}if(l.Expr.isExpr(s)){var d=function(e,t){var n,r;return"extruded-polygon"===e.technique&&"color"===t&&!1!==e.vertexColors?p:null!==(r=null===(n=f.getTechniqueAttributeDescriptor(e.technique,t))||void 0===n?void 0:n.scope)&&void 0!==r?r:p}(e,t),m=s.dependencies();switch(m.properties.forEach((function(e){n.m_featureDependencies.includes(e)||n.m_featureDependencies.push(e)})),d){case f.AttrScope.FeatureGeometry:r.push([t,s]);break;case f.AttrScope.TechniqueGeometry:i.push([t,s]);break;case f.AttrScope.TechniqueRendering:0===m.properties.size?o.push([t,s]):i.push([t,s])}}else void 0!==s&&null!==s&&a.push([t,s])}},u=new Map([["category","_category"],["secondaryCategory","_secondaryCategory"]]);for(var d in e){if(e.hasOwnProperty(d))if(!d.startsWith("_"))if(!["when","technique","layer","attr","description"].includes(d))s(null!==(t=u.get(d))&&void 0!==t?t:d,e[d])}if(void 0!==e.attr)for(var m in e.attr)e.attr.hasOwnProperty(m)&&s(m,e.attr[m]);i.length>0&&(e._dynamicTechniques=new Map)}}},{key:"evaluateTechniqueProperties",value:function(e,t){var n=this;return void 0===e._dynamicTechniqueAttributes?[]:e._dynamicTechniqueAttributes.map((function(e){var i=r(e,2),o=i[0],a=i[1];try{return[o,a.evaluate(t,l.ExprScope.Value,n.m_cachedResults)]}catch(s){return h.error("failed to evaluate expression '".concat(a.toJSON(),"': ").concat(s)),[o,null]}}))}},{key:"createTechnique",value:function(e,t,n){var o,a,s={};if(s.name=e.technique,void 0!==e._staticAttributes){var l,u=i(e._staticAttributes);try{for(u.s();!(l=u.n()).done;){var c=r(l.value,2),f=c[0],h=c[1];null!==h&&(s[f]=h)}}catch(x){u.e(x)}finally{u.f()}}var p,m=i(n);try{for(m.s();!(p=m.n()).done;){var v=r(p.value,2),g=v[0],y=v[1];null!==y&&(s[g]=y)}}catch(x){m.e(x)}finally{m.f()}if(void 0!==e._dynamicFeatureAttributes){var E,A=i(e._dynamicFeatureAttributes);try{for(A.s();!(E=A.n()).done;){var T=r(E.value,2),O=T[0],R=T[1];s[O]=R}}catch(x){A.e(x)}finally{A.f()}}if(void 0!==e._dynamicForwardedAttributes){var L,S=i(e._dynamicForwardedAttributes);try{for(S.s();!(L=S.n()).done;){var b=r(L.value,2),I=b[0],N=b[1];s[I]=N}}catch(x){S.e(x)}finally{S.f()}}return s._index=this.m_techniques.length,s._styleSetIndex=e._styleSetIndex,void 0!==e.styleSet&&(s._styleSet=e.styleSet),void 0!==e._usesFeatureState&&(s._usesFeatureState=e._usesFeatureState),d.setTechniqueRenderOrderOrPriority(s,null!==(o=this.m_options.priorities)&&void 0!==o?o:[],null!==(a=this.m_options.labelPriorities)&&void 0!==a?a:[]),this.m_techniques.push(s),s}}]),e}();function y(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"===typeof r&&(r.isVector2||r.isVector3||r.isVector4)&&(r=l.LiteralExpr.fromValue(r)),l.Expr.isExpr(r)&&(r=r.toJSON()),t[n]=r}return t}t.StyleSetEvaluator=g,t.makeDecodedTechnique=y},51638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateTechniqueAttr=void 0;var r=n(22939),i=n(71872);t.evaluateTechniqueAttr=function(e,t,n){if(void 0===t)return n;var o=r.Env.isEnv(e)?i.getPropertyValue(t,e):i.getPropertyValue(t,e.env,e.cachedExprResults);return null!==o&&void 0!==o?o:n}},91753:function(e,t){"use strict";var n;function r(){for(var e={attrDescriptors:{}},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];void 0!==a.attrTransparencyColor&&(e.attrTransparencyColor=a.attrTransparencyColor),void 0!==a.attrDescriptors&&(e.attrDescriptors=Object.assign(Object.assign({},e.attrDescriptors),a.attrDescriptors))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getTechniqueAutomaticAttrs=t.getTechniqueAttributeDescriptor=t.getTechniqueDescriptor=t.AttrScope=void 0,function(e){e[e.FeatureGeometry=0]="FeatureGeometry",e[e.TechniqueGeometry=1]="TechniqueGeometry",e[e.TechniqueRendering=2]="TechniqueRendering"}(n=t.AttrScope||(t.AttrScope={}));var i={attrTransparencyColor:"color",attrDescriptors:{constantHeight:n.FeatureGeometry,enabled:n.FeatureGeometry,fadeFar:n.TechniqueRendering,fadeNear:n.TechniqueRendering,transparent:{scope:n.TechniqueRendering,automatic:!0},side:{scope:n.TechniqueRendering,automatic:!0}}},o=r(i,{attrDescriptors:{color:{scope:n.TechniqueRendering,automatic:!0},size:{scope:n.TechniqueRendering,automatic:!0},opacity:{scope:n.TechniqueRendering,automatic:!0}}}),a=r(i,o),s=r(i,o),l=r(i,{attrDescriptors:{text:n.FeatureGeometry,label:n.FeatureGeometry,useAbbreviation:n.FeatureGeometry,useIsoCode:n.FeatureGeometry,poiName:n.FeatureGeometry,imageTexture:n.FeatureGeometry,iconColor:n.TechniqueRendering,iconBrightness:n.TechniqueRendering,backgroundColor:n.TechniqueRendering,backgroundSize:n.TechniqueRendering,backgroundOpacity:n.TechniqueRendering,color:n.TechniqueRendering,opacity:n.TechniqueRendering,size:n.TechniqueRendering}}),u={attrDescriptors:{polygonOffset:{scope:n.TechniqueRendering,automatic:!0},polygonOffsetFactor:{scope:n.TechniqueRendering,automatic:!0},polygonOffsetUnits:{scope:n.TechniqueRendering,automatic:!0},depthTest:{scope:n.TechniqueRendering,automatic:!0},transparent:{scope:n.TechniqueRendering,automatic:!0},opacity:{scope:n.TechniqueRendering,automatic:!0},color:{scope:n.TechniqueRendering,automatic:!0},lineColor:n.TechniqueRendering,lineFadeFar:n.TechniqueRendering,lineFadeNear:n.TechniqueRendering}},c=r(i,u,{attrDescriptors:{lineWidth:n.TechniqueRendering,secondaryWidth:n.TechniqueRendering,secondaryColor:n.TechniqueRendering,dashSize:n.TechniqueRendering,gapSize:n.TechniqueRendering,outlineColor:{scope:n.TechniqueRendering,automatic:!0},caps:{scope:n.TechniqueRendering,automatic:!0},drawRangeStart:{scope:n.TechniqueRendering,automatic:!0},drawRangeEnd:{scope:n.TechniqueRendering,automatic:!0},dashes:{scope:n.TechniqueRendering,automatic:!0},dashColor:{scope:n.TechniqueRendering,automatic:!0}}}),f=r(i,{attrDescriptors:{color:{scope:n.TechniqueRendering,automatic:!0},opacity:{scope:n.TechniqueRendering,automatic:!0},lineWidth:n.FeatureGeometry}}),d=r(i,u,{attrDescriptors:{wireframe:{scope:n.TechniqueRendering,automatic:!0},color:{scope:n.TechniqueRendering,automatic:!0},opacity:{scope:n.TechniqueRendering,automatic:!0},transparent:{scope:n.TechniqueRendering,automatic:!0},lineWidth:n.TechniqueRendering,map:{scope:n.TechniqueRendering,automatic:!0}}}),h=r(i,{attrDescriptors:{color:{scope:n.TechniqueRendering,automatic:!0},vertexColors:{scope:n.TechniqueRendering,automatic:!0},wireframe:{scope:n.TechniqueRendering,automatic:!0},roughness:{scope:n.TechniqueRendering,automatic:!0},metalness:{scope:n.TechniqueRendering,automatic:!0},alphaTest:{scope:n.TechniqueRendering,automatic:!0},depthTest:{scope:n.TechniqueRendering,automatic:!0},transparent:{scope:n.TechniqueRendering,automatic:!0},opacity:{scope:n.TechniqueRendering,automatic:!0},emissive:{scope:n.TechniqueRendering,automatic:!0},emissiveIntensity:{scope:n.TechniqueRendering,automatic:!0},refractionRatio:{scope:n.TechniqueRendering,automatic:!0},normalMapType:{scope:n.TechniqueRendering,automatic:!0},map:{scope:n.TechniqueRendering,automatic:!0},normalMap:{scope:n.TechniqueRendering,automatic:!0},displacementMap:{scope:n.TechniqueRendering,automatic:!0},roughnessMap:{scope:n.TechniqueRendering,automatic:!0},emissiveMap:{scope:n.TechniqueRendering,automatic:!0},bumpMap:{scope:n.TechniqueRendering,automatic:!0},metalnessMap:{scope:n.TechniqueRendering,automatic:!0},alphaMap:{scope:n.TechniqueRendering,automatic:!0}}}),p={"extruded-polygon":r(i,h,{attrDescriptors:{height:n.FeatureGeometry,floorHeight:n.FeatureGeometry,color:n.FeatureGeometry,defaultColor:n.FeatureGeometry,defaultHeight:n.FeatureGeometry,boundaryWalls:n.FeatureGeometry,footprint:n.FeatureGeometry,maxSlope:n.FeatureGeometry,animateExtrusion:n.TechniqueRendering,lineWidth:n.TechniqueRendering,lineFadeNear:n.TechniqueRendering,lineFadeFar:n.TechniqueRendering,lineColor:n.TechniqueRendering}}),"line-marker":l,"labeled-icon":l,"solid-line":c,"dashed-line":c,terrain:h,standard:h,squares:a,circles:s,line:f,segments:f,fill:d,text:r(i,{attrDescriptors:{text:n.FeatureGeometry,label:n.FeatureGeometry,useAbbreviation:n.FeatureGeometry,useIsoCode:n.FeatureGeometry,backgroundColor:n.TechniqueRendering,backgroundSize:n.TechniqueRendering,backgroundOpacity:n.TechniqueRendering,color:n.TechniqueRendering,opacity:n.TechniqueRendering,priority:n.TechniqueRendering,size:n.TechniqueRendering}}),shader:r(i,{attrDescriptors:{params:n.TechniqueRendering}})};function m(e){return"string"!==typeof e&&(e=e.name),p[e]}t.getTechniqueDescriptor=m,t.getTechniqueAttributeDescriptor=function(e,t){var n=m(e),r=null===n||void 0===n?void 0:n.attrDescriptors,i=null===r||void 0===r?void 0:r[t];if(void 0!==typeof i)return"object"===typeof i?i:{scope:i}};var v=new Map;t.getTechniqueAutomaticAttrs=function(e){var t;if("string"!==typeof e&&(e=e.name),v.has(e))return v.get(e);var n=[],r=null===(t=m(e))||void 0===t?void 0:t.attrDescriptors;if(void 0===r)return n;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];void 0!==o&&"number"!==typeof o&&!0===o.automatic&&n.push(i)}return v.set(e,n),n}},72885:function(e,t,n){"use strict";var r,i=n(43269).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,l=n(99842).default,u=n(65957).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isTextureBuffer=t.PlacementToken=t.transientToPickability=t.Pickability=t.PoiStackMode=t.TextureCoordinateType=t.GeometryKindSet=t.GeometryKind=t.StandardGeometryKind=void 0,function(e){e.All="_all_",e.Background="background",e.Terrain="terrain",e.Area="area",e.Line="line",e.Water="water",e.Border="border",e.Road="road",e.Building="building",e.Label="label",e.Detail="detail"}(r=t.StandardGeometryKind||(t.StandardGeometryKind={})),t.GeometryKind=r;var c,f=function(e){s(n,e);var t=l(n);function n(){return o(this,n),t.apply(this,arguments)}return a(n,[{key:"isSuperset",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.has(r))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}},{key:"hasIntersection",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.has(r))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"hasOrIntersects",value:function(e){return e instanceof Set?this.hasIntersection(e):this.has(e)}},{key:"hasOrIntersectsArray",value:function(e){var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.has(r))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}}]),n}(u(Set));t.GeometryKindSet=f,function(e){e.TileSpace="tile-space",e.EquirectangularSpace="equirectangular-space",e.FeatureSpace="feature-space"}(t.TextureCoordinateType||(t.TextureCoordinateType={})),function(e){e.Show="show-in-stack",e.Hide="hide-in-stack",e.ShowParent="show-parent"}(t.PoiStackMode||(t.PoiStackMode={})),function(e){e.onlyVisible="only-visible",e.transient="transient",e.all="all"}(c=t.Pickability||(t.Pickability={})),t.transientToPickability=function(e){var t=c.onlyVisible;return void 0!==e&&null!==e&&(t="string"===typeof e?e:!0===e?c.transient:c.onlyVisible),t},function(e){e.TopLeft="TL",e.Top="T",e.TopRight="TR",e.Right="R",e.BottomRight="BR",e.Bottom="B",e.BottomLeft="BL",e.Left="L",e.Center="C",e.NorthWest="NW",e.North="N",e.NorthEast="NE",e.East="E",e.SouthEast="SE",e.South="S",e.SouthWest="SW",e.West="W"}(t.PlacementToken||(t.PlacementToken={})),t.isTextureBuffer=function(e){return e&&e.buffer&&"string"===typeof e.type}},38794:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.setTechniqueRenderOrderOrPriority=t.composeTechniqueTextureName=t.addBuffersToTransferList=t.textureCoordinateType=t.supportsTextures=t.needsVertexNormals=t.isLabelRejectionLineTechnique=t.isShaderTechnique=t.isTextTechnique=t.isTerrainTechnique=t.isStandardTechnique=t.isExtrudedPolygonTechnique=t.isFillTechnique=t.isStandardExtrudedLineTechnique=t.isBasicExtrudedLineTechnique=t.isExtrudedLineTechnique=t.isSegmentsTechnique=t.isSpecialDashesLineTechnique=t.isSolidLineTechnique=t.isLineTechnique=t.isLineMarkerTechnique=t.isPoiTechnique=t.isSquaresTechnique=t.isCirclesTechnique=t.TRANSPARENCY_PROPERTY_KEYS=t.TEXTURE_PROPERTY_KEYS=void 0;var i=n(72885);function o(e){return"labeled-icon"===e.name}function a(e){return"line-marker"===e.name}function s(e){return"extruded-line"===e.name}function l(e){return s(e)&&"standard"===e.shading}function u(e){return"fill"===e.name}function c(e){return"extruded-polygon"===e.name}function f(e){return"standard"===e.name}function d(e){return"terrain"===e.name}function h(e){return"text"===e.name}function p(e){return"shader"===e.name}function m(e){return u(e)||f(e)||c(e)||d(e)}t.TEXTURE_PROPERTY_KEYS=["map","normalMap","displacementMap","roughnessMap","emissiveMap","alphaMap","metalnessMap","bumpMap"],t.TRANSPARENCY_PROPERTY_KEYS=["opacity","transparent"],t.isCirclesTechnique=function(e){return"circles"===e.name},t.isSquaresTechnique=function(e){return"squares"===e.name},t.isPoiTechnique=o,t.isLineMarkerTechnique=a,t.isLineTechnique=function(e){return"line"===e.name},t.isSolidLineTechnique=function(e){return"solid-line"===e.name||"dashed-line"===e.name},t.isSpecialDashesLineTechnique=function(e){return("solid-line"===e.name||"dashed-line"===e.name)&&void 0!==e.dashes&&"Square"!==e.dashes},t.isSegmentsTechnique=function(e){return"segments"===e.name},t.isExtrudedLineTechnique=s,t.isBasicExtrudedLineTechnique=function(e){return s(e)&&"basic"===e.shading},t.isStandardExtrudedLineTechnique=l,t.isFillTechnique=u,t.isExtrudedPolygonTechnique=c,t.isStandardTechnique=f,t.isTerrainTechnique=d,t.isTextTechnique=h,t.isShaderTechnique=p,t.isLabelRejectionLineTechnique=function(e){return"label-rejection-line"===e.name},t.needsVertexNormals=function(e){return c(e)||u(e)||f(e)||d(e)||l(e)},t.supportsTextures=m,t.textureCoordinateType=function(e){return m(e)||p(e)?e.textureCoordinateType:void 0},t.addBuffersToTransferList=function(e,n){if(f(e)||c(e)||d(e)){var o,a=r(t.TEXTURE_PROPERTY_KEYS);try{for(a.s();!(o=a.n()).done;){var s=e[o.value];i.isTextureBuffer(s)&&s.buffer instanceof ArrayBuffer&&n.push(s.buffer)}}catch(l){a.e(l)}finally{a.f()}}},t.composeTechniqueTextureName=function(e,t){var n=e;return"string"===typeof t.imageTexturePrefix&&(n=t.imageTexturePrefix+n),"string"===typeof t.imageTexturePostfix&&(n+=t.imageTexturePostfix),n},t.setTechniqueRenderOrderOrPriority=function(e,t,n){if(h(e)||o(e)||a(e)){if(n&&"string"===typeof e._category){var r=n.indexOf(e._category);-1!==r&&(e.priority=n.length-r)}}else if(t&&void 0!==e._styleSet){var i=function(n){var r=null===t||void 0===t?void 0:t.findIndex((function(t){return t.group===e._styleSet&&t.category===n}));return void 0!==r&&-1!==r?10*(r+1):void 0};if("string"===typeof e._category){var s=i(e._category);void 0!==s&&(e.renderOrder=s)}if("string"===typeof e._secondaryCategory){var l=i(e._secondaryCategory);void 0!==l&&(e.secondaryRenderOrder=l)}}}},6705:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isJsonExprReference=void 0,t.isJsonExprReference=function(e){return Array.isArray(e)&&2===e.length&&"ref"===e[0]&&"string"===typeof e[1]}},68374:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeVisitor=void 0;var a=n(22939),s=function(){function e(t){i(this,e),this.theme=t}return o(e,[{key:"visitStyles",value:function(e){var t=function(t){return!a.isJsonExpr(t)&&!!e(t)};if(void 0!==this.theme.styles)for(var n in this.theme.styles)if(void 0!==this.theme.styles[n]){var i,o=r(this.theme.styles[n]);try{for(o.s();!(i=o.n()).done;){if(t(i.value))return!0}}catch(s){o.e(s)}finally{o.f()}}return!1}}]),e}();t.ThemeVisitor=s},14650:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ThreeBufferUtils=void 0;var i=n(51566);!function(e){function t(e){if(e instanceof Int8Array)return"int8";if(e instanceof Uint8Array)return"uint8";if(e instanceof Int16Array)return"int16";if(e instanceof Uint16Array)return"uint16";if(e instanceof Int32Array)return"int32";if(e instanceof Uint32Array)return"uint32";if(e instanceof Float32Array)return"float";throw new Error("Unsupported buffer type ".concat(name))}function n(e){var n=e.array;return{name:e.name,buffer:n.buffer,type:t(n),itemCount:e.itemSize,normalized:e.normalized}}e.getBufferElementType=t,e.fromThreeBufferAttribute=n,e.fromThreeInterleavedBufferAttribute=function(e){throw new Error("Not implemented yet")},e.fromThreeBufferGeometry=function(e,t){var o,a=[],s=Object.getOwnPropertyNames(e.attributes),l=r(s);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=n(e.attributes[u]);c.name=u,a.push(c)}}catch(p){l.e(p)}finally{l.f()}var f=null!==e.index?n(e.index):void 0,d=0;if(void 0!==f)d=null===e.index?0:e.index.count;else{var h=e.attributes.position;if(void 0===h)throw new Error("Missing position attibute to deduce item count");d=h.count}return{type:i.GeometryType.Unspecified,vertexAttributes:a,index:f,groups:[{start:0,count:d,technique:t}]}}}(t.ThreeBufferUtils||(t.ThreeBufferUtils={}))},44987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},68891:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerDecoderProtocol=t.RequestController=void 0;var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new AbortController;r(this,e),this.priority=t,this.abortController=n}return i(e,[{key:"signal",get:function(){return this.abortController.signal}},{key:"abort",value:function(){this.abortController.abort()}}]),e}();t.RequestController=o,function(e){var t,n;!function(e){e.Configuration="configuration"}(t=e.DecoderMessageName||(e.DecoderMessageName={})),e.isConfigurationMessage=function(e){return e&&"string"===typeof e.service&&"string"===typeof e.type&&e.type===t.Configuration},function(e){e.DecodeTileRequest="decode-tile-request",e.TileInfoRequest="tile-info-request"}(n=e.Requests||(e.Requests={})),e.isDecodeTileRequest=function(e){return e&&"string"===typeof e.type&&e.type===n.DecodeTileRequest},e.isTileInfoRequest=function(e){return e&&"string"===typeof e.type&&e.type===n.TileInfoRequest}}(t.WorkerDecoderProtocol||(t.WorkerDecoderProtocol={}))},47468:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerServiceProtocol=void 0,function(e){var t;e.WORKER_SERVICE_MANAGER_SERVICE_ID="worker-service-manager",function(e){e.Initialized="initialized",e.Request="request",e.Response="response"}(t=e.ServiceMessageName||(e.ServiceMessageName={})),e.isInitializedMessage=function(e){return e&&"string"===typeof e.service&&"string"===typeof e.type&&e.type===t.Initialized},function(e){e.CreateService="create-service",e.DestroyService="destroy-service"}(e.Requests||(e.Requests={})),e.isUnknownServiceError=function(e){return e.message.includes("unknown targetServiceType requested: ")},e.isRequestMessage=function(e){return e&&"string"===typeof e.service&&"string"===typeof e.type&&e.type===t.Request},e.isResponseMessage=function(e){return e&&"string"===typeof e.service&&"string"===typeof e.type&&e.type===t.Response}}(t.WorkerServiceProtocol||(t.WorkerServiceProtocol={}))},23365:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerTilerProtocol=void 0,function(e){var t;!function(e){e.RegisterIndex="register-index",e.UpdateIndex="update-index",e.TileRequest="tile-request"}(t=e.Requests||(e.Requests={})),e.isRegisterIndexRequest=function(e){return e&&"string"===typeof e.type&&e.type===t.RegisterIndex},e.isUpdateIndexRequest=function(e){return e&&"string"===typeof e.type&&e.type===t.UpdateIndex},e.isTileRequest=function(e){return e&&"string"===typeof e.type&&e.type===t.TileRequest}}(t.WorkerTilerProtocol||(t.WorkerTilerProtocol={}))},59944:function(e,t,n){"use strict";var r=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayOperators=void 0;var i=n(22939),o=["boolean","number","string"];function a(e,t){if(!(e instanceof i.StringLiteralExpr)||!o.includes(e.value))throw new Error('expected "boolean", "number" or "string" instead of \''.concat(JSON.stringify(e),"'"));var n=e.value;t.forEach((function(e,t){if(typeof e!==n)throw new Error("expected array element at index ".concat(t," to have type '").concat(n,"'"))}))}function s(e,t){var n=e.evaluate(t);if(!Array.isArray(n))throw new Error("'".concat(n,"' is not an array"));return n}var l={array:{call:function(e,t){switch(t.args.length){case 0:throw new Error("not enough arguments");case 1:return s(e,t.args[0]);case 2:var n=s(e,t.args[1]);return a(t.args[0],n),n;case 3:var r=s(e,t.args[2]);return function(e,t){if(!(e instanceof i.NumberLiteralExpr))throw new Error("missing expected number of elements");var n=e.value;if(t.length!==n)throw new Error("the array must have ".concat(n," element(s)"))}(t.args[1],r),a(t.args[0],r),r;default:throw new Error("too many arguments")}}},"make-array":{call:function(e,t){if(0===t.args.length)throw new Error("not enough arguments");return r(t.args.map((function(t){return e.evaluate(t)})))}},at:{call:function(e,t){var n=t.args,r=e.evaluate(n[0]);if("number"!==typeof r)throw new Error("expected the index of the element to retrieve");var i=e.evaluate(n[1]);if(!Array.isArray(i))throw new Error("expected an array");return r>=0&&r<i.length?i[r]:null}},slice:{call:function(e,t){if(t.args.length<2)throw new Error("not enough arguments");var n=e.evaluate(t.args[0]);if("string"!==typeof n&&!Array.isArray(n))throw new Error("input must be a string or an array");var r,i=e.evaluate(t.args[1]);if("number"!==typeof i)throw new Error("expected an index");if(t.args.length>2&&"number"!==typeof(r=e.evaluate(t.args[2])))throw new Error("expected an index");return n.slice(i,r)}}};t.ArrayOperators=l},99880:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CastOperators=void 0;var i={"to-boolean":{call:function(e,t){return Boolean(e.evaluate(t.args[0]))}},"to-string":{call:function(e,t){return String(e.evaluate(t.args[0]))}},"to-number":{call:function(e,t){var n,i=r(t.args);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=Number(e.evaluate(o));if(!isNaN(a))return a}}catch(s){i.e(s)}finally{i.f()}throw new Error("cannot convert the value to a number")}}};t.CastOperators=i},98502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorOperators=void 0;var r=n(34585),i=n(67538),o=n(84727),a={alpha:{call:function(e,t){var n=e.evaluate(t.args[0]);return"string"===typeof n&&(n=o.parseStringEncodedColor(n)),"number"===typeof n?i.ColorUtils.getAlphaFromHex(n):1}},rgba:{call:function(e,t){var n=e.evaluate(t.args[0]),o=e.evaluate(t.args[1]),a=e.evaluate(t.args[2]),s=e.evaluate(t.args[3]);if("number"===typeof n&&"number"===typeof o&&"number"===typeof a&&"number"===typeof s&&n>=0&&o>=0&&a>=0&&s>=0&&s<=1)return function(e,t,n,o){return i.ColorUtils.getHexFromRgba(r.MathUtils.clamp(e,0,255)/255,r.MathUtils.clamp(t,0,255)/255,r.MathUtils.clamp(n,0,255)/255,r.MathUtils.clamp(o,0,1))}(n,o,a,s);throw new Error("unknown color 'rgba(".concat(n,",").concat(o,",").concat(a,",").concat(s,")'"))}},rgb:{call:function(e,t){var n=e.evaluate(t.args[0]),o=e.evaluate(t.args[1]),a=e.evaluate(t.args[2]);if("number"===typeof n&&"number"===typeof o&&"number"===typeof a&&n>=0&&o>=0&&a>=0)return function(e,t,n){return i.ColorUtils.getHexFromRgb(r.MathUtils.clamp(e,0,255)/255,r.MathUtils.clamp(t,0,255)/255,r.MathUtils.clamp(n,0,255)/255)}(n,o,a);throw new Error("unknown color 'rgb(".concat(n,",").concat(o,",").concat(a,")'"))}},hsl:{call:function(e,t){var n=e.evaluate(t.args[0]),o=e.evaluate(t.args[1]),a=e.evaluate(t.args[2]);if("number"===typeof n&&"number"===typeof o&&"number"===typeof a&&n>=0&&o>=0&&a>=0)return function(e,t,n){return i.ColorUtils.getHexFromHsl(r.MathUtils.euclideanModulo(e,360)/360,r.MathUtils.clamp(t,0,100)/100,r.MathUtils.clamp(n,0,100)/100)}(n,o,a);throw new Error("unknown color 'hsl(".concat(n,",").concat(o,"%,").concat(a,"%)'"))}}};t.ColorOperators=a},25074:function(e,t){"use strict";function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.evaluate(t.args[0]),i=e.evaluate(t.args[1]);if(!("number"===typeof r&&"number"===typeof i||"string"===typeof r&&"string"===typeof i)&&n)throw new Error("invalid operands '".concat(r,"' and '").concat(i,"' for operator '").concat(t.op,"'"));switch(t.op){case"<":return r<i;case">":return r>i;case"<=":return r<=i;case">=":return r>=i;default:throw new Error("invalid comparison operator '".concat(t.op,"'"))}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComparisonOperators=void 0;var r={"!":{call:function(e,t){return!e.evaluate(t.args[0])}},"==":{call:function(e,t){return e.evaluate(t.args[0])===e.evaluate(t.args[1])}},"!=":{call:function(e,t){return e.evaluate(t.args[0])!==e.evaluate(t.args[1])}},"<":{call:function(e,t){return n(e,t)}},">":{call:function(e,t){return n(e,t)}},"<=":{call:function(e,t){return n(e,t)}},">=":{call:function(e,t){return n(e,t)}}};t.ComparisonOperators=r},80303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureOperators=void 0;var r=n(18284),i=n(22939),o={"geometry-type":{call:function(e,t){switch(e.env.lookup("$geometryType")){case"point":return"Point";case"line":return"LineString";case"polygon":return"Polygon";default:return null}}},"feature-state":{isDynamicOperator:function(){return!0},call:function(e,t){var n,o;if(e.scope!==i.ExprScope.Dynamic)throw new Error("feature-state cannot be used in this context");var a=e.evaluate(t.args[0]);if("string"!==typeof a)throw new Error("expected the name of the property of the feature state");var s=e.env.lookup("$state");return r.Env.isEnv(s)?null!==(n=s.lookup(a))&&void 0!==n?n:null:s instanceof Map&&null!==(o=s.get(a))&&void 0!==o?o:null}},id:{call:function(e,t){var n;return null!==(n=e.env.lookup("$id"))&&void 0!==n?n:null}}};t.FeatureOperators=o},28778:function(e,t,n){"use strict";var r=n(43269).default;function i(e,t,n){switch(t){case"boolean":case"number":case"string":var i,o=r(n);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=e.evaluate(a);if(typeof s===t)return s}}catch(l){o.e(l)}finally{o.f()}throw new Error("expected a '".concat(t,"'"));default:throw new Error("invalid type '".concat(t,"'"))}}Object.defineProperty(t,"__esModule",{value:!0}),t.FlowOperators=void 0;var o={all:{call:function(e,t){var n,i=r(t.args);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(!e.evaluate(o))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}},any:{call:function(e,t){var n,i=r(t.args);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(e.evaluate(o))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}},none:{call:function(e,t){var n,i=r(t.args);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(e.evaluate(o))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}},boolean:{call:function(e,t){return i(e,"boolean",t.args)}},number:{call:function(e,t){return i(e,"number",t.args)}},string:{call:function(e,t){return i(e,"string",t.args)}}};t.FlowOperators=o},14982:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapOperators=void 0;var r=n(22939),i={"ppi-scale":{call:function(e,t){return e.evaluate(t.args[0])*(t.args[1]?e.evaluate(t.args[1]):1)}},"world-ppi-scale":{isDynamicOperator:function(){return!0},call:function(e,t){var n=e.evaluate(t.args[0]),r=t.args[1]?e.evaluate(t.args[1]):1,i=e.env.lookup("$zoom");return n*(Math.pow(2,17)/Math.pow(2,i))*r}},"world-discrete-ppi-scale":{isDynamicOperator:function(){return!0},call:function(e,t){var n=e.evaluate(t.args[0]),r=t.args[1]?e.evaluate(t.args[1]):1,i=e.env.lookup("$zoom");return n*(Math.pow(2,17)/Math.pow(2,Math.floor(i)))*r}},ppi:{call:function(e){var t=e.env.lookup("$ppi");return"number"===typeof t?t:72}},zoom:{isDynamicOperator:function(){return!0},call:function(e,t){var n;return e.scope===r.ExprScope.Value?t:null!==(n=e.env.lookup("$zoom"))&&void 0!==n?n:null}}};t.MapOperators=i},70628:function(e,t,n){"use strict";var r=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MathOperators=void 0;var i=n(34585),o={"^":{call:function(e,t){var n=e.evaluate(t.args[0]),r=e.evaluate(t.args[1]);if("number"!==typeof n||"number"!==typeof r)throw new Error("invalid operands '".concat(typeof n,"' and '").concat(typeof r,"' for operator '^'"));return Math.pow(n,r)}},"-":{call:function(e,t){if(1===t.args.length){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("\xecnvalid operand '".concat(typeof n," for operator '-'"));return-n}var r=e.evaluate(t.args[0]),i=e.evaluate(t.args[1]);if("number"!==typeof r||"number"!==typeof i)throw new Error("invalid operands '".concat(typeof r,"' and '").concat(typeof i,"' for operator '-'"));return r-i}},"/":{call:function(e,t){var n=e.evaluate(t.args[0]),r=e.evaluate(t.args[1]);if("number"!==typeof n||"number"!==typeof r)throw new Error("invalid operands '".concat(typeof n,"' and '").concat(typeof r,"' for operator '/'"));return n/r}},"%":{call:function(e,t){var n=e.evaluate(t.args[0]),r=e.evaluate(t.args[1]);if("number"!==typeof n||"number"!==typeof r)throw new Error("invalid operands '".concat(typeof n,"' and '").concat(typeof r,"' for operator '%'"));return n%r}},"+":{call:function(e,t){return t.args.reduce((function(t,n){return Number(t)+Number(e.evaluate(n))}),0)}},"*":{call:function(e,t){return t.args.reduce((function(t,n){return Number(t)*Number(e.evaluate(n))}),1)}},abs:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'abs'"));return Math.abs(n)}},acos:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'acos'"));return Math.acos(n)}},asin:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'asin'"));return Math.asin(n)}},atan:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'atan'"));return Math.atan(n)}},ceil:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'ceil'"));return Math.ceil(n)}},cos:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'cos'"));return Math.cos(n)}},e:{call:function(){return Math.E}},floor:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'floor'"));return Math.floor(n)}},ln:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'ln'"));return Math.log(n)}},ln2:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'ln2'"));return Math.log2(n)}},log10:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'log10'"));return Math.log10(n)}},max:{call:function(e,t){return Math.max.apply(Math,r(t.args.map((function(t){return Number(e.evaluate(t))}))))}},min:{call:function(e,t){return Math.min.apply(Math,r(t.args.map((function(t){return Number(e.evaluate(t))}))))}},clamp:{call:function(e,t){var n=e.evaluate(t.args[0]),r=e.evaluate(t.args[1]),o=e.evaluate(t.args[2]);if("number"!==typeof n||"number"!==typeof r||"number"!==typeof o)throw new Error("invalid operands '".concat(n,"', ").concat(r,", ").concat(o," for operator 'clamp'"));return i.MathUtils.clamp(n,r,o)}},pi:{call:function(){return Math.PI}},round:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'round'"));return Math.round(n)}},sin:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'sin'"));return Math.sin(n)}},sqrt:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'sqrt'"));return Math.sqrt(n)}},tan:{call:function(e,t){var n=e.evaluate(t.args[0]);if("number"!==typeof n)throw new Error("invalid operand '".concat(n,"' for operator 'tan'"));return Math.tan(n)}}};t.MathOperators=o},20120:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MiscOperators=void 0;var i={length:{call:function(e,t){var n=e.evaluate(t.args[0]);if(Array.isArray(n)||"string"===typeof n)return n.length;throw new Error("invalid operand '".concat(n,"' for operator 'length'"))}},coalesce:{call:function(e,t){var n,i=r(t.args);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e.evaluate(o);if(null!==a)return a}}catch(s){i.e(s)}finally{i.f()}return null}}};t.MiscOperators=i},80354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectOperators=void 0;var r,i=n(18284),o=n(22939),a=Object.prototype.hasOwnProperty;function s(e,t,n){var o,s=e.evaluate(t[0]);if("string"!==typeof s)throw new Error("expected the name of an attribute");var l=e.evaluate(t[1]);if(l&&"object"===typeof l){if(i.Env.isEnv(l)){var u=null!==(o=l.lookup(s))&&void 0!==o?o:null;return n===r.get?u:null!==u}if(a.call(l,s))return n!==r.get||l[s]}return n===r.get&&null}!function(e){e[e.get=0]="get",e[e.has=1]="has"}(r||(r={}));var l={in:{call:function(e,t){var n=e.evaluate(t.args[0]),r=e.evaluate(t.args[1]);return("string"===typeof n&&"string"===typeof r||!!Array.isArray(r))&&r.includes(n)}},get:{call:function(e,t){return s(e,t.args,r.get)}},has:{call:function(e,t){return s(e,t.args,r.has)}},"dynamic-properties":{isDynamicOperator:function(){return!0},call:function(e,t){return e.scope===o.ExprScope.Dynamic?e.env:t}}};t.ObjectOperators=l},33668:function(e,t,n){"use strict";var r=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.StringOperators=void 0;var i={concat:{call:function(e,t){var n;return(n="").concat.apply(n,r(t.args.map((function(t){return String(e.evaluate(t))}))))}},downcase:{call:function(e,t){return String(e.evaluate(t.args[0])).toLocaleLowerCase()}},upcase:{call:function(e,t){return String(e.evaluate(t.args[0])).toLocaleUpperCase()}},"~=":{call:function(e,t){var n=e.evaluate(t.args[0]),r=e.evaluate(t.args[1]);return"string"===typeof n&&"string"===typeof r&&n.includes(r)}},"^=":{call:function(e,t){var n=e.evaluate(t.args[0]),r=e.evaluate(t.args[1]);return"string"===typeof n&&"string"===typeof r&&n.startsWith(r)}},"$=":{call:function(e,t){var n=e.evaluate(t.args[0]),r=e.evaluate(t.args[1]);return"string"===typeof n&&"string"===typeof r&&n.endsWith(r)}}};t.StringOperators=i},43433:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeOperators=void 0;t.TypeOperators={typeof:{call:function(e,t){return typeof e.evaluate(t.args[0])}}}},70081:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VectorOperators=void 0;var i=n(34585),o=n(22939);function a(e,t,n){var o;switch(n){case"vector2":o=i.Vector2;break;case"vector3":o=i.Vector3;break;case"vector4":o=i.Vector4}var a,s=r(t.args);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=e.evaluate(l);if(u instanceof o)return u}}catch(c){s.e(c)}finally{s.f()}throw new Error('expected a "'.concat(n,'"'))}function s(e,t,n){var o,a;switch(n){case"vector2":o=i.Vector2,a=2;break;case"vector3":o=i.Vector3,a=3;break;case"vector4":o=i.Vector4,a=4}var s,l=r(t.args);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=e.evaluate(u);if(c instanceof o)return c;if(Array.isArray(c)&&c.length===a&&c.every((function(e){return"number"===typeof e})))return(new o).fromArray(c)}}catch(f){l.e(f)}finally{l.f()}throw new Error('expected a "'.concat(n,'"'))}var l={"make-vector":{call:function(e,t){if(void 0!==t._value)return t._value;if(t.args.length<2)throw new Error("not enough arguments");if(t.args.length>4)throw new Error("too many arguments");var n,r=t.args.map((function(t){return e.evaluate(t)}));switch(r.forEach((function(e,t){if("number"!==typeof e)throw new Error("expected vector component at index ".concat(t,' to have type "number"'))})),r.length){case 2:n=(new i.Vector2).fromArray(r);break;case 3:n=(new i.Vector3).fromArray(r);break;case 4:n=(new i.Vector4).fromArray(r);break;default:throw new Error("too many arguments")}return t.args.every((function(e){return e instanceof o.NumberLiteralExpr}))&&(t._value=n),n}},vector2:{call:function(e,t){return a(e,t,"vector2")}},vector3:{call:function(e,t){return a(e,t,"vector3")}},vector4:{call:function(e,t){return a(e,t,"vector4")}},"to-vector2":{call:function(e,t){return s(e,t,"vector2")}},"to-vector3":{call:function(e,t){return s(e,t,"vector3")}},"to-vector4":{call:function(e,t){return s(e,t,"vector4")}}};t.VectorOperators=l},89064:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},44317:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeLengthGeometrySubdivisionModifier=t.SubdivisionMode=void 0;var s,l=n(31201),u=n(15739),c=n(34585),f=n(70403),d=[new c.Vector3,new c.Vector3];!function(e){e[e.All=0]="All",e[e.NoDiagonals=1]="NoDiagonals"}(s=t.SubdivisionMode||(t.SubdivisionMode={}));var h=function(e){o(n,e);var t=a(n);function n(e,i){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.All,c=arguments.length>3?arguments[3]:void 0;r(this,n),(o=t.call(this)).subdivision=e,o.geoBox=i,o.subdivisionMode=a,o.projection=c,u.assert(c.type===l.ProjectionType.Planar,"EdgeLengthGeometrySubdivisionModifier only supports planar projections");var f=c.projectPoint(i.northEast,d[0]),h=c.projectPoint(i.southWest,d[1]);return o.m_projectedBox={min:{x:Math.min(f.x,h.x),y:Math.min(f.y,h.y),z:Math.min(f.z,h.z)},max:{x:Math.max(f.x,h.x),y:Math.max(f.y,h.y),z:Math.max(f.z,h.z)}},o.m_maxLengthX=(o.m_projectedBox.max.x-o.m_projectedBox.min.x)/e,o.m_maxLengthY=(o.m_projectedBox.max.y-o.m_projectedBox.min.y)/e,o.subdivisionMode===s.All&&(o.m_maxLengthX*=1.1,o.m_maxLengthY*=1.1),o.m_maxLength=Math.sqrt(o.m_maxLengthX*o.m_maxLengthX+o.m_maxLengthY*o.m_maxLengthY),o}return i(n,[{key:"maxLength",get:function(){return this.m_maxLength}},{key:"maxLengthX",get:function(){return this.m_maxLengthX}},{key:"maxLengthY",get:function(){return this.m_maxLengthY}},{key:"shouldSplitTriangle",value:function(e,t,n){var r=this.shouldSplitEdge(e,t),i=this.shouldSplitEdge(t,n),o=this.shouldSplitEdge(n,e);if(r||i||o){var a=e.distanceTo(t),s=t.distanceTo(n),l=n.distanceTo(e),u=Math.max(r?a:0,i?s:0,o?l:0);if(a===u)return 0;if(s===u)return 1;if(l===u)return 2;throw new Error("Could not split triangle.")}}},{key:"shouldSplitEdge",value:function(e,t){switch(this.subdivisionMode){case s.All:return e.y===t.y&&Math.abs(e.x-t.x)>this.m_maxLengthX||e.x===t.x&&Math.abs(e.y-t.y)>this.m_maxLengthY||e.distanceTo(t)>this.m_maxLength;case s.NoDiagonals:return e.y===t.y&&Math.abs(e.x-t.x)>this.m_maxLengthX||e.x===t.x&&Math.abs(e.y-t.y)>this.m_maxLengthY}}}]),n}(f.SubdivisionModifier);t.EdgeLengthGeometrySubdivisionModifier=h},80684:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SphericalGeometrySubdivisionModifier=void 0;var s=n(31201),l=n(34585),u=n(70403),c=[new l.Vector3,new l.Vector3,new l.Vector3],f=function(e){o(n,e);var t=a(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.sphereProjection;return r(this,n),(i=t.call(this)).angle=e,i.projection=o,i}return i(n,[{key:"shouldSplitTriangle",value:function(e,t,n){var r=s.sphereProjection.reprojectPoint(this.projection,e,c[0]),i=s.sphereProjection.reprojectPoint(this.projection,t,c[1]),o=s.sphereProjection.reprojectPoint(this.projection,n,c[2]),a=r.angleTo(i),l=i.angleTo(o),u=o.angleTo(r),f=Math.max(a,Math.max(l,u));if(!(f<this.angle)){if(f===a)return 0;if(f===l)return 1;if(f===u)return 2;throw new Error("failed to split triangle")}}}]),n}(u.SubdivisionModifier);t.SphericalGeometrySubdivisionModifier=f},70403:function(e,t,n){"use strict";var r=n(319).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SubdivisionModifier=void 0;var a=n(34585),s=new a.Vector3,l=new a.Vector3,u=new a.Vector3,c=function(){function e(){i(this,e)}return o(e,[{key:"modify",value:function(e){var t=e.getAttribute("position"),n=Array.from(t.array),i=e.getAttribute("uv"),o=void 0!==i?Array.from(i.array):void 0,a=e.getAttribute("edge"),c=void 0!==a?Array.from(a.array):void 0,f=e.getAttribute("wall"),d=void 0!==f?Array.from(f.array):void 0,h=e.getIndex(),p=Array.from(h.array),m=new Map;function v(e,t){var i="".concat(Math.min(e,t),"_").concat(Math.max(e,t)),a=m.get(i);if(void 0!==a)return a;s.set(n[3*e],n[3*e+1],n[3*e+2]),l.set(n[3*t],n[3*t+1],n[3*t+2]),u.lerpVectors(s,l,.5);var f=n.length/3;return n.push.apply(n,r(u.toArray())),m.set(i,f),void 0!==o&&(s.set(o[2*e],o[2*e+1],0),l.set(o[2*t],o[2*t+1],0),u.lerpVectors(s,l,.5),o.push(u.x,u.y)),void 0!==c&&(c[e]===t?(c.push(t),c[e]=f):c[t]===e?(c.push(e),c[t]=f):c.push(-1)),void 0!==d&&(d[e]===t?(d.push(t),d[e]=f):d[t]===e?(d.push(e),d[t]=f):d.push(-1)),f}for(var g=[];p.length>=3;){var y=p.shift(),E=p.shift(),A=p.shift();switch(s.set(n[3*y],n[3*y+1],n[3*y+2]),l.set(n[3*E],n[3*E+1],n[3*E+2]),u.set(n[3*A],n[3*A+1],n[3*A+2]),this.shouldSplitTriangle(s,l,u)){case 0:var T=v(y,E);p.push(y,T,A,T,E,A);break;case 1:var O=v(E,A);p.push(y,E,O,y,O,A);break;case 2:var R=v(A,y);p.push(y,E,R,R,E,A);break;case void 0:g.push(y,E,A);break;default:throw new Error("failed to subdivide the given geometry")}}return t.array=t.array instanceof Float32Array?new Float32Array(n):new Float64Array(n),t.count=n.length/t.itemSize,t.needsUpdate=!0,e.setIndex(g),void 0!==o&&(i.array=new Float32Array(o),i.count=o.length/i.itemSize,i.needsUpdate=!0),void 0!==c&&(a.array=new Float32Array(c),a.count=c.length/a.itemSize,a.needsUpdate=!0),e}}]),e}();t.SubdivisionModifier=c},31201:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5761),t),i(n(24632),t),i(n(93369),t),i(n(52022),t),i(n(88931),t),i(n(95166),t),i(n(53306),t),i(n(62713),t),i(n(19573),t),i(n(2187),t),i(n(35196),t),i(n(72129),t),i(n(99428),t),i(n(56030),t),i(n(89399),t),i(n(90458),t),i(n(40798),t),i(n(18291),t),i(n(1216),t),i(n(75294),t),i(n(59449),t),i(n(1511),t),i(n(10550),t),i(n(73751),t),i(n(48217),t),i(n(97194),t),i(n(34573),t),i(n(80045),t),i(n(98058),t),i(n(29307),t),i(n(22024),t),i(n(11247),t),i(n(63920),t),i(n(35946),t),i(n(35417),t),i(n(19616),t)},5761:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GeoBox=void 0;var o=n(34585),a=n(52022),s=function(){function e(t,n){r(this,e),this.southWest=t,this.northEast=n,this.west>this.east&&(this.northEast.longitude+=360)}return i(e,[{key:"minAltitude",get:function(){if(void 0!==this.southWest.altitude&&void 0!==this.northEast.altitude)return Math.min(this.southWest.altitude,this.northEast.altitude)}},{key:"maxAltitude",get:function(){if(void 0!==this.southWest.altitude&&void 0!==this.northEast.altitude)return Math.max(this.southWest.altitude,this.northEast.altitude)}},{key:"south",get:function(){return this.southWest.latitude}},{key:"north",get:function(){return this.northEast.latitude}},{key:"west",get:function(){return this.southWest.longitude}},{key:"east",get:function(){return this.northEast.longitude}},{key:"center",get:function(){var e,t=.5*(this.south+this.north),n=this.west,r=this.east,i=this.minAltitude,o=this.altitudeSpan;if(void 0!==i&&void 0!==o&&(e=i+.5*o),n<=r)return new a.GeoCoordinates(t,.5*(n+r),e);var s=.5*(360+r+n);return s>360&&(s-=360),new a.GeoCoordinates(t,s,e)}},{key:"latitudeSpanInRadians",get:function(){return o.MathUtils.degToRad(this.latitudeSpan)}},{key:"longitudeSpanInRadians",get:function(){return o.MathUtils.degToRad(this.longitudeSpan)}},{key:"latitudeSpan",get:function(){return this.north-this.south}},{key:"altitudeSpan",get:function(){if(void 0!==this.maxAltitude&&void 0!==this.minAltitude)return this.maxAltitude-this.minAltitude}},{key:"longitudeSpan",get:function(){var e=this.northEast.longitude-this.southWest.longitude;return e<0&&(e+=360),e}},{key:"latitudeSpanInDegrees",get:function(){return this.latitudeSpan}},{key:"longitudeSpanInDegrees",get:function(){return this.longitudeSpan}},{key:"contains",value:function(e){if(void 0===e.altitude||void 0===this.minAltitude||void 0===this.maxAltitude)return this.containsHelper(e);var t=this.minAltitude===this.maxAltitude,n=this.minAltitude===e.altitude,r=this.minAltitude<=e.altitude&&this.maxAltitude>e.altitude;return!!(t?n:r)&&this.containsHelper(e)}},{key:"clone",value:function(){return new e(this.southWest.clone(),this.northEast.clone())}},{key:"growToContain",value:function(e){this.southWest.latitude=Math.min(this.southWest.latitude,e.latitude),this.southWest.longitude=Math.min(this.southWest.longitude,e.longitude),this.southWest.altitude=void 0!==this.southWest.altitude&&void 0!==e.altitude?Math.min(this.southWest.altitude,e.altitude):void 0!==this.southWest.altitude?this.southWest.altitude:void 0!==e.altitude?e.altitude:void 0,this.northEast.latitude=Math.max(this.northEast.latitude,e.latitude),this.northEast.longitude=Math.max(this.northEast.longitude,e.longitude),this.northEast.altitude=void 0!==this.northEast.altitude&&void 0!==e.altitude?Math.max(this.northEast.altitude,e.altitude):void 0!==this.northEast.altitude?this.northEast.altitude:void 0!==e.altitude?e.altitude:void 0}},{key:"containsHelper",value:function(e){if(e.latitude<this.southWest.latitude||e.latitude>=this.northEast.latitude)return!1;var t=this.west,n=this.east,r=e.longitude;if(n>a.MAX_LONGITUDE)for(;r<t;)r+=360;if(r>n)for(;r>t+360;)r-=360;return r>=t&&r<n}}],[{key:"fromCoordinates",value:function(t,n){return new e(t,n)}},{key:"fromCenterAndExtents",value:function(t,n){return new e(new a.GeoCoordinates(t.latitude-n.latitudeSpan/2,t.longitude-n.longitudeSpan/2),new a.GeoCoordinates(t.latitude+n.latitudeSpan/2,t.longitude+n.longitudeSpan/2))}}]),e}();t.GeoBox=s},24632:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGeoBoxExtentLike=void 0,t.isGeoBoxExtentLike=function(e){return e&&"object"===typeof e&&"number"===typeof e.latitudeSpan&&"number"===typeof e.longitudeSpan}},44471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGeoCoordLike=t.geoCoordLikeToGeoPointLike=t.geoCoordLikeToGeoCoordinatesLike=void 0;var r=n(93369),i=n(88931),o=n(62713);t.geoCoordLikeToGeoCoordinatesLike=function(e){return r.isGeoCoordinatesLike(e)?e:o.isLatLngLike(e)?{latitude:e.lat,longitude:e.lng}:{latitude:e[1],longitude:e[0]}},t.geoCoordLikeToGeoPointLike=function(e){return i.isGeoPointLike(e)?e:o.isLatLngLike(e)?[e.lng,e.lat]:[e.longitude,e.latitude]},t.isGeoCoordLike=function(e){return r.isGeoCoordinatesLike(e)||o.isLatLngLike(e)||!i.isGeoPointLike(e)}},52022:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GeoCoordinates=t.MIN_LONGITUDE=t.MAX_LONGITUDE=t.MIN_LATITUDE=t.MAX_LATITUDE=void 0;var o=n(34585),a=n(93369),s=n(88931),l=n(62713);t.MAX_LATITUDE=90,t.MIN_LATITUDE=-90,t.MAX_LONGITUDE=180,t.MIN_LONGITUDE=-180;var u=new o.Vector3,c=new o.Vector3;var f=function(){function e(t,n,i){r(this,e),this.latitude=t,this.longitude=n,this.altitude=i}return i(e,[{key:"latitudeInRadians",get:function(){return o.MathUtils.degToRad(this.latitude)}},{key:"longitudeInRadians",get:function(){return o.MathUtils.degToRad(this.longitude)}},{key:"latitudeInDegrees",get:function(){return this.latitude}},{key:"longitudeInDegrees",get:function(){return this.longitude}},{key:"lat",get:function(){return this.latitude}},{key:"lng",get:function(){return this.longitude}},{key:"isValid",value:function(){return!isNaN(this.latitude)&&!isNaN(this.longitude)}},{key:"normalized",value:function(){var t=this.latitude,n=this.longitude;return isNaN(t)||isNaN(n)?this:((n<-180||n>180)&&(n=function(e,t){var n=e%t;return n<0===t<0?n:n+t}(n+180,360)-180),new e(t=o.MathUtils.clamp(t,-90,90),n,this.altitude))}},{key:"equals",value:function(e){return this.latitude===e.latitude&&this.longitude===e.longitude&&this.altitude===e.altitude}},{key:"copy",value:function(e){return this.latitude=e.latitude,this.longitude=e.longitude,this.altitude=e.altitude,this}},{key:"clone",value:function(){return new e(this.latitude,this.longitude,this.altitude)}},{key:"toLatLng",value:function(){return{lat:this.latitude,lng:this.longitude}}},{key:"toGeoPoint",value:function(){return void 0!==this.altitude?[this.longitude,this.latitude,this.altitude]:[this.longitude,this.latitude]}},{key:"minLongitudeSpanTo",value:function(e){var t=Math.min(this.longitude,e.longitude),n=Math.max(this.longitude,e.longitude);return Math.min(n-t,360+t-n)}}],[{key:"fromDegrees",value:function(t,n,r){return new e(t,n,r)}},{key:"fromRadians",value:function(t,n,r){return new e(o.MathUtils.radToDeg(t),o.MathUtils.radToDeg(n),r)}},{key:"fromLatLng",value:function(t){return new e(t.lat,t.lng)}},{key:"fromGeoPoint",value:function(t){return new e(t[1],t[0],t[2])}},{key:"fromObject",value:function(t){if(s.isGeoPointLike(t))return e.fromGeoPoint(t);if(a.isGeoCoordinatesLike(t))return e.fromDegrees(t.latitude,t.longitude,t.altitude);if(l.isLatLngLike(t))return e.fromDegrees(t.lat,t.lng);throw new Error("Invalid input coordinate format.")}},{key:"lerp",value:function(t,n,r){var i,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(a){if(t.lng<n.lng){var l=t.clone();return l.longitude+=360,this.lerp(n,l,1-r)}var f=n.clone();return f.longitude+=360,this.lerp(t,f,r)}var d=u.set(t.lat,t.lng,null!==(i=t.altitude)&&void 0!==i?i:0),h=c.set(n.lat,n.lng,null!==(o=n.altitude)&&void 0!==o?o:0);d.lerp(h,r);var p=new e(d.x,d.y,d.z);return s?p.normalized():p}}]),e}();t.GeoCoordinates=f},93369:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGeoCoordinatesLike=void 0,t.isGeoCoordinatesLike=function(e){return e&&"number"===typeof e.latitude&&"number"===typeof e.longitude&&("number"===typeof e.altitude||"undefined"===typeof e.altitude)}},88931:function(e,t,n){"use strict";var r=n(63038).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isGeoPointLike=void 0,t.isGeoPointLike=function(e){if(Array.isArray(e)){var t=r(e,3),n=t[0],i=t[1],o=t[2];return"number"===typeof n&&"number"===typeof i&&(void 0===o||"number"===typeof o)}return!1}},53306:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPolygon=t.isAntimeridianCrossing=void 0;var o=n(34585),a=n(5761),s=n(52022),l=n(44471);function u(e,t){return Math.max(e,t)-Math.min(e,t)}function c(e,t){return e>0&&t<0&&u(e,t)>180}t.isAntimeridianCrossing=function(e,t){return Math.sign(e)===-Math.sign(t)&&u(e,t)>180};var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r(this,e),this.m_coordinates=t.map((function(e){return l.geoCoordLikeToGeoCoordinatesLike(e)})),n&&this.sortCCW(),i&&this.wrapCoordinatesAround()}return i(e,[{key:"coordinates",get:function(){return this.m_coordinates}},{key:"getGeoBoundingBox",value:function(){var e=this.getCentroid();if(void 0===e)return a.GeoBox.fromCoordinates(this.coordinates[0],this.coordinates[0]);var t=this.getEastAndWest(e),n=t.east,r=t.west,i=this.getNorthAndSouth(),o=i.north,l=i.south;return a.GeoBox.fromCoordinates(new s.GeoCoordinates(l,r),new s.GeoCoordinates(o,n))}},{key:"getCentroid",value:function(){var e=this,t=this.getArea();if(0!==t){var n,r=0,i=0,o=this.m_coordinates.length-1;return this.m_coordinates.forEach((function(t,a){var s=e.m_coordinates[o];n=t.latitude*s.longitude-s.latitude*t.longitude,r+=(t.latitude+s.latitude)*n,i+=(t.longitude+s.longitude)*n,o=a})),n=6*t,new s.GeoCoordinates(r/n,t<0?i/n-180:i/n)}}},{key:"sortCCW",value:function(){var e=this.getPolyAverageCenter();e&&this.m_coordinates.sort((function(t,n){var r=new o.Vector2(t.latitude-e.latitude,t.longitude-e.longitude).normalize();return new o.Vector2(n.latitude-e.latitude,n.longitude-e.longitude).normalize().angle()-r.angle()}))}},{key:"wrapCoordinatesAround",value:function(){var e=this,t=this.m_coordinates.findIndex((function(t,n){var r=0===n?e.m_coordinates.length-1:n-1;return c(e.m_coordinates[r].longitude,t.longitude)}));if(!(t<0))for(var n=!0,r=0;r<this.m_coordinates.length;r++){var i=(t+r)%this.m_coordinates.length,o=this.m_coordinates[i].longitude,a=this.m_coordinates[(i+1)%this.m_coordinates.length].longitude;n&&(this.m_coordinates[i].longitude+=360),c(a,o)?n=!1:c(o,a)&&(n=!0)}}},{key:"getPolyAverageCenter",value:function(){var e=this.m_coordinates.reduce((function(e,t){return new s.GeoCoordinates(e.latitude+t.latitude,e.longitude+t.longitude)}));return new s.GeoCoordinates(e.latitude/this.m_coordinates.length,e.longitude/this.m_coordinates.length)}},{key:"getArea",value:function(){var e=this,t=0,n=this.m_coordinates.length-1;return this.m_coordinates.forEach((function(r,i){var o=e.m_coordinates[n];t+=r.latitude*o.longitude,t-=r.longitude*o.latitude,n=i})),t/=2}},{key:"getEastAndWest",value:function(e){var t=this,n=e.longitude,r=e.longitude,i=this.m_coordinates.length-1;return this.m_coordinates.forEach((function(a,s){var l=t.m_coordinates[i];i=s;var u=new o.Vector2(a.latitude-e.latitude,a.longitude-e.longitude).normalize(),c=new o.Vector2(l.latitude-e.latitude,l.longitude-e.longitude).normalize(),f=1===Math.sign(c.angle()-u.angle());c.y>=0&&u.y<0&&(f=!0);var d=a.longitude;d<e.longitude?f?n=Math.min(n,d):r=Math.min(r,d):f?r=Math.max(r,d):n=Math.max(n,d)})),{east:r,west:n}}},{key:"getNorthAndSouth",value:function(){var e=s.MIN_LATITUDE,t=s.MAX_LATITUDE;return this.m_coordinates.forEach((function(n,r){e=Math.max(e,n.latitude),t=Math.min(t,n.latitude)})),{north:e,south:t}}}]),e}();t.GeoPolygon=f},95166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGeoPolygonLike=void 0;var r=n(44471);t.isGeoPolygonLike=function(e){if(!e||!Array.isArray(e.coordinates)&&e.coordinates.length>2)return!1;var t=!0;return e.coordinates.forEach((function(n){r.isGeoCoordLike(e)||(t=!1)})),t}},62713:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLatLngLike=void 0,t.isLatLngLike=function(e){return e&&"number"===typeof e.lat&&"number"===typeof e.lng}},11247:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBox3Like=void 0,t.isBox3Like=function(e){var t=e;return void 0!==t.min&&void 0!==t.max}},35946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathUtils=void 0;var r=n(34585);!function(e){function t(e){return(e%=360)<0&&(e+=360),e}function n(e,n){var r=(e=t(e))-(n=t(n));return r>180?r-360:r<=-180?r+360:r}e.newEmptyBox3=function(){return{min:{x:1/0,y:1/0,z:1/0},max:{x:-1/0,y:-1/0,z:-1/0}}},e.newVector3=function(e,t,n,r){return void 0===r?{x:e,y:t,z:n}:(r.x=e,r.y=t,r.z=n,r)},e.copyVector3=function(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t},e.degToRad=r.MathUtils.degToRad,e.radToDeg=r.MathUtils.radToDeg,e.clamp=r.MathUtils.clamp,e.normalizeAngleDeg=t,e.normalizeLongitudeDeg=function(e){return(e=t(e))>180&&(e-=360),e},e.angleDistanceDeg=n,e.interpolateAnglesDeg=function(e,t,r){return(e+n(t,e)*r)%360}}(t.MathUtils||(t.MathUtils={}))},19616:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OrientedBox3=void 0;var a=n(34585);function s(e,t,n,r,i){var o=n.dot(t),a=n.dot(e);if(Math.abs(a)<1e-20)return Math.abs(o)<=r;var s=1/a,l=(o+r)*s,u=(o-r)*s;return l>u?(u>i.min&&(i.min=u),l<i.max&&(i.max=l)):(l>i.min&&(i.min=l),u<i.max&&(i.max=u)),i.min<=i.max&&i.max>=0}var l=new a.Vector3,u={min:-1/0,max:1/0},c=function(){function e(t,n,r){i(this,e),this.position=new a.Vector3,this.xAxis=new a.Vector3(1,0,0),this.yAxis=new a.Vector3(0,1,0),this.zAxis=new a.Vector3(0,0,1),this.extents=new a.Vector3,void 0!==t&&this.position.copy(t),void 0!==n&&n.extractBasis(this.xAxis,this.yAxis,this.zAxis),void 0!==r&&this.extents.copy(r)}return o(e,[{key:"clone",value:function(){var t=new e;return t.copy(this),t}},{key:"copy",value:function(e){this.position.copy(e.position),this.xAxis.copy(e.xAxis),this.yAxis.copy(e.yAxis),this.zAxis.copy(e.zAxis),this.extents.copy(e.extents)}},{key:"getCenter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.Vector3;return e.copy(this.position)}},{key:"getSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.Vector3;return e.copy(this.extents).multiplyScalar(2)}},{key:"getRotationMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.Matrix4;return e.makeBasis(this.xAxis,this.yAxis,this.zAxis)}},{key:"intersects",value:function(e){var t,n=Array.isArray(e)?e:e.planes,i=r(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=Math.abs(o.normal.dot(this.xAxis)*this.extents.x)+Math.abs(o.normal.dot(this.yAxis)*this.extents.y)+Math.abs(o.normal.dot(this.zAxis)*this.extents.z);if(o.distanceToPoint(this.position)+a<0)return!1}}catch(s){i.e(s)}finally{i.f()}return!0}},{key:"intersectsRay",value:function(e){if(u.min=-1/0,u.max=1/0,l.copy(this.position).sub(e.origin),s(e.direction,l,this.xAxis,this.extents.x,u)&&s(e.direction,l,this.yAxis,this.extents.y,u)&&s(e.direction,l,this.zAxis,this.extents.z,u))return u.min>0?u.min:u.max}},{key:"contains",value:function(e){var t=e.x-this.position.x,n=e.y-this.position.y,r=e.z-this.position.z,i=Math.abs(t*this.xAxis.x+n*this.xAxis.y+r*this.xAxis.z),o=Math.abs(t*this.yAxis.x+n*this.yAxis.y+r*this.yAxis.z),a=Math.abs(t*this.zAxis.x+n*this.zAxis.y+r*this.zAxis.z);return!(i>this.extents.x||o>this.extents.y||a>this.extents.z)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceToPointSquared(e))}},{key:"distanceToPointSquared",value:function(e){var t=new a.Vector3;t.subVectors(e,this.position);for(var n=[t.dot(this.xAxis),t.dot(this.yAxis),t.dot(this.zAxis)],r=0,i=0;i<3;++i){var o=n[i],s=this.extents.getComponent(i);if(o<-s){var l=s+o;r+=l*l}else if(o>s){var u=o-s;r+=u*u}}return r}}]),e}();t.OrientedBox3=c},63920:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isOrientedBox3Like=void 0,t.isOrientedBox3Like=function(e){var t=e;return void 0!==t.position&&void 0!==t.xAxis&&void 0!==t.yAxis&&void 0!==t.zAxis&&void 0!==t.extents}},35417:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTransformLike=void 0,t.isTransformLike=function(e){var t=e;return void 0!==t.position&&void 0!==t.xAxis&&void 0!==t.yAxis&&void 0!==t.zAxis}},29307:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVector2Like=void 0,t.isVector2Like=function(e){return e&&"number"===typeof e.x&&"number"===typeof e.y}},22024:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVector3Like=void 0,t.isVector3Like=function(e){return e&&"number"===typeof e.x&&"number"===typeof e.y&&"number"===typeof e.z}},19573:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EarthConstants=void 0;var o=r((function e(){i(this,e)}));t.EarthConstants=o,o.EQUATORIAL_CIRCUMFERENCE=40075016.68557849,o.EQUATORIAL_RADIUS=6378137,o.MIN_ELEVATION=-433,o.MAX_ELEVATION=8848,o.MAX_BUILDING_HEIGHT=828},2187:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.equirectangularProjection=t.normalizedEquirectangularProjection=void 0;var s=n(34585),l=n(5761),u=n(52022),c=n(11247),f=n(35946),d=n(63920),h=n(19573),p=n(72129),m=function(e){o(n,e);var t=a(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).type=p.ProjectionType.Planar,e}return i(n,[{key:"getScaleFactor",value:function(e){return 1}},{key:"worldExtent",value:function(e,t,n){return n||(n=new s.Box3),n.min.x=0,n.min.y=0,n.min.z=e,n.max.x=this.unitScale,n.max.y=this.unitScale/2,n.max.z=t,n}},{key:"projectPoint",value:function(e,t){var r;return void 0===t&&(t={x:0,y:0,z:0}),t.x=(s.MathUtils.degToRad(e.longitude)+Math.PI)*n.geoToWorldScale*this.unitScale,t.y=(s.MathUtils.degToRad(e.latitude)+.5*Math.PI)*n.geoToWorldScale*this.unitScale,t.z=null!==(r=e.altitude)&&void 0!==r?r:0,t}},{key:"unprojectPoint",value:function(e){return u.GeoCoordinates.fromRadians(e.y*n.worldToGeoScale/this.unitScale-.5*Math.PI,e.x*n.worldToGeoScale/this.unitScale-Math.PI,e.z)}},{key:"unprojectAltitude",value:function(e){return e.z}},{key:"projectBox",value:function(e,t){var r=this.projectPoint(new u.GeoCoordinates(e.center.latitude,e.center.longitude,0)),i=e.latitudeSpanInRadians,o=e.longitudeSpanInRadians,a=e.altitudeSpan,l=o*n.geoToWorldScale,h=i*n.geoToWorldScale;return t||(t=new s.Box3),c.isBox3Like(t)?(t.min.x=r.x-.5*l*this.unitScale,t.min.y=r.y-.5*h*this.unitScale,t.max.x=r.x+.5*l*this.unitScale,t.max.y=r.y+.5*h*this.unitScale,void 0!==a?(t.min.z=r.z-.5*a,t.max.z=r.z+.5*a):(t.min.z=0,t.max.z=0)):d.isOrientedBox3Like(t)&&(f.MathUtils.newVector3(1,0,0,t.xAxis),f.MathUtils.newVector3(0,1,0,t.yAxis),f.MathUtils.newVector3(0,0,1,t.zAxis),t.position.x=r.x,t.position.y=r.y,t.position.z=r.z,t.extents.x=.5*l*this.unitScale,t.extents.y=.5*h*this.unitScale,t.extents.z=Math.max(Number.EPSILON,.5*(null!==a&&void 0!==a?a:0))),t}},{key:"unprojectBox",value:function(e){var t=this.unprojectPoint(e.min),n=this.unprojectPoint(e.max);return l.GeoBox.fromCoordinates(t,n)}},{key:"groundDistance",value:function(e){return e.z}},{key:"scalePointToSurface",value:function(e){return e.z=0,e}},{key:"surfaceNormal",value:function(e,t){return void 0===t?t={x:0,y:0,z:1}:(t.x=0,t.y=0,t.z=1),t}}]),n}(p.Projection);m.geoToWorldScale=1/(2*Math.PI),m.worldToGeoScale=2*Math.PI/1,t.normalizedEquirectangularProjection=new m(1),t.equirectangularProjection=new m(h.EarthConstants.EQUATORIAL_CIRCUMFERENCE)},35196:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.identityProjection=void 0;var s=n(34585),l=n(5761),u=n(52022),c=n(11247),f=n(35946),d=n(63920),h=n(72129),p=function(e){o(n,e);var t=a(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).type=h.ProjectionType.Planar,e}return i(n,[{key:"getScaleFactor",value:function(e){return 1}},{key:"worldExtent",value:function(e,t,n){return n||(n=new s.Box3),n.min.x=-Math.PI,n.min.y=.5*-Math.PI,n.min.z=e,n.max.x=Math.PI,n.max.y=.5*Math.PI,n.max.z=t,n}},{key:"projectPoint",value:function(e,t){var n;return t||(t={x:0,y:0,z:0}),t.x=s.MathUtils.degToRad(e.longitude),t.y=s.MathUtils.degToRad(e.latitude),t.z=null!==(n=e.altitude)&&void 0!==n?n:0,t}},{key:"unprojectPoint",value:function(e){return u.GeoCoordinates.fromRadians(e.y,e.x,e.z)}},{key:"unprojectAltitude",value:function(e){return e.z}},{key:"projectBox",value:function(e,t){t||(t=new s.Box3);var n=this.projectPoint(new u.GeoCoordinates(e.south,e.west,e.minAltitude)),r=this.projectPoint(new u.GeoCoordinates(e.north,e.east,e.maxAltitude));return c.isBox3Like(t)?(t.min.x=n.x,t.min.y=n.y,t.min.z=n.z,t.max.x=r.x,t.max.y=r.y,t.max.z=r.z):d.isOrientedBox3Like(t)&&(f.MathUtils.newVector3(1,0,0,t.xAxis),f.MathUtils.newVector3(0,1,0,t.yAxis),f.MathUtils.newVector3(0,0,1,t.zAxis),t.position.x=.5*(n.x+r.x),t.position.y=.5*(n.y+r.y),t.position.z=.5*(n.z+r.z),t.extents.x=.5*(r.x-n.x),t.extents.y=.5*(r.y-n.y),t.extents.z=Math.max(Number.EPSILON,.5*(r.z-n.z))),t}},{key:"unprojectBox",value:function(e){var t=this.unprojectPoint(e.min),n=this.unprojectPoint(e.max);return l.GeoBox.fromCoordinates(t,n)}},{key:"groundDistance",value:function(e){return e.z}},{key:"scalePointToSurface",value:function(e){return e.z=0,e}},{key:"surfaceNormal",value:function(e,t){return void 0===t?t={x:0,y:0,z:1}:(t.x=0,t.y=0,t.z=1),t}}]),n}(h.Projection);t.identityProjection=new p(1)},99428:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(16525).default,a=n(29754).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.webMercatorProjection=t.mercatorProjection=t.MercatorConstants=void 0;var u=n(34585),c=n(5761),f=n(52022),d=n(93369),h=n(11247),p=n(35946),m=n(63920),v=n(19573),g=n(72129),y=function(e){s(d,e);var n=l(d);function d(){var e;return r(this,d),(e=n.apply(this,arguments)).type=g.ProjectionType.Planar,e}return i(d,[{key:"getScaleFactor",value:function(e){return Math.cosh(2*Math.PI*(e.y/this.unitScale-.5))}},{key:"worldExtent",value:function(e,t,n){return n||(n=new u.Box3),n.min.x=0,n.min.y=0,n.min.z=e,n.max.x=this.unitScale,n.max.y=this.unitScale,n.max.z=t,n}},{key:"projectPoint",value:function(e,t){var n,r;return r=e instanceof f.GeoCoordinates?e:new f.GeoCoordinates(e.latitude,e.longitude,e.altitude),t||(t={x:0,y:0,z:0}),t.x=(r.longitude+180)/360*this.unitScale,t.y=(.5*d.latitudeClampProject(r.latitudeInRadians)+.5)*this.unitScale,t.z=null!==(n=r.altitude)&&void 0!==n?n:0,t}},{key:"unprojectPoint",value:function(e){return f.GeoCoordinates.fromRadians(d.unprojectLatitude(2*(e.y/this.unitScale-.5)),e.x/this.unitScale*2*Math.PI-Math.PI,e.z)}},{key:"unprojectAltitude",value:function(e){return e.z}},{key:"projectBox",value:function(e,t){var n,r=this.projectPoint(e.center),i=(.5*d.latitudeClampProject(e.northEast.latitudeInRadians)+.5)*this.unitScale,o=(.5*d.latitudeClampProject(e.southWest.latitudeInRadians)+.5)*this.unitScale,a=.5*(i+o);r.y=a;var s=i-o,l=e.longitudeSpan/360*this.unitScale;if(t||(t=new u.Box3),h.isBox3Like(t)){t.min.x=r.x-.5*l,t.min.y=r.y-.5*s,t.max.x=r.x+.5*l,t.max.y=r.y+.5*s;var c=e.altitudeSpan;void 0!==c?(t.min.z=r.z-.5*c,t.max.z=r.z+.5*c):(t.min.z=0,t.max.z=0)}else{if(!m.isOrientedBox3Like(t))throw new Error("invalid bounding box");p.MathUtils.newVector3(1,0,0,t.xAxis),p.MathUtils.newVector3(0,1,0,t.yAxis),p.MathUtils.newVector3(0,0,1,t.zAxis),t.position.x=r.x,t.position.y=r.y,t.position.z=r.z,t.extents.x=.5*l,t.extents.y=.5*s,t.extents.z=Math.max(Number.EPSILON,.5*(null!==(n=e.altitudeSpan)&&void 0!==n?n:0))}return t}},{key:"unprojectBox",value:function(e){var t=this.unprojectPoint(e.min),n=this.unprojectPoint(e.max);return c.GeoBox.fromCoordinates(t,n)}},{key:"groundDistance",value:function(e){return e.z}},{key:"scalePointToSurface",value:function(e){return e.z=0,e}},{key:"surfaceNormal",value:function(e,t){return void 0===t?t={x:0,y:0,z:1}:(t.x=0,t.y=0,t.z=1),t}},{key:"reprojectPoint",value:function(e,n,r){return e===this||e!==t.webMercatorProjection&&e!==t.mercatorProjection?o(a(d.prototype),"reprojectPoint",this).call(this,e,n,r):(void 0===r&&(r={}),r.x=n.x,r.y=this.unitScale-n.y,r.z=n.z,r)}}],[{key:"clamp",value:function(e,t,n){return Math.min(Math.max(t,e),n)}},{key:"latitudeClamp",value:function(e){return d.clamp(e,-A.MAXIMUM_LATITUDE,A.MAXIMUM_LATITUDE)}},{key:"latitudeProject",value:function(e){return Math.log(Math.tan(.25*Math.PI+.5*e))/Math.PI}},{key:"latitudeClampProject",value:function(e){return d.latitudeProject(d.latitudeClamp(e))}},{key:"unprojectLatitude",value:function(e){return 2*Math.atan(Math.exp(Math.PI*e))-.5*Math.PI}}]),d}(g.Projection),E=function(e){s(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"projectPoint",value:function(e,t){var n,r;r=e instanceof f.GeoCoordinates?e:new f.GeoCoordinates(e.latitude,e.longitude,e.altitude),t||(t={x:0,y:0,z:0}),t.x=(r.longitude+180)/360*this.unitScale;var i=Math.sin(y.latitudeClamp(r.latitudeInRadians));return t.y=(.5-Math.log((1+i)/(1-i))/(4*Math.PI))*this.unitScale,t.z=null!==(n=r.altitude)&&void 0!==n?n:0,t}},{key:"unprojectPoint",value:function(e){var t=e.x/this.unitScale-.5,n=.5-e.y/this.unitScale,r=360*t,i=90-360*Math.atan(Math.exp(2*-n*Math.PI))/Math.PI;return new f.GeoCoordinates(i,r,e.z)}},{key:"projectBox",value:function(e,t){var r=o(a(n.prototype),"projectBox",this).call(this,e,t);if(h.isBox3Like(r)){var i=r.max.y;r.max.y=this.unitScale-r.min.y,r.min.y=this.unitScale-i}else m.isOrientedBox3Like(r)&&(p.MathUtils.newVector3(1,0,0,r.xAxis),p.MathUtils.newVector3(0,-1,0,r.yAxis),p.MathUtils.newVector3(0,0,-1,r.zAxis),r.position.y=this.unitScale-r.position.y);return r}},{key:"unprojectBox",value:function(e){var t=this.unprojectPoint(e.min),n=this.unprojectPoint(e.max);return new c.GeoBox(new f.GeoCoordinates(n.latitude,t.longitude,t.altitude),new f.GeoCoordinates(t.latitude,n.longitude,n.altitude))}},{key:"surfaceNormal",value:function(e,t){return void 0===t?t={x:0,y:0,z:-1}:(t.x=0,t.y=0,t.z=-1),t}},{key:"localTangentSpace",value:function(e,t){return d.isGeoCoordinatesLike(e)?this.projectPoint(e,t.position):p.MathUtils.copyVector3(e,t.position),p.MathUtils.newVector3(1,0,0,t.xAxis),p.MathUtils.newVector3(0,-1,0,t.yAxis),p.MathUtils.newVector3(0,0,-1,t.zAxis),t}}]),n}(y),A=i((function e(){r(this,e)}));t.MercatorConstants=A,A.MAXIMUM_LATITUDE=1.4844222297453322,t.mercatorProjection=new y(v.EarthConstants.EQUATORIAL_CIRCUMFERENCE),t.webMercatorProjection=new E(v.EarthConstants.EQUATORIAL_CIRCUMFERENCE)},72129:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Projection=t.ProjectionType=void 0;var o=n(93369),a=n(35946);!function(e){e[e.Planar=0]="Planar",e[e.Spherical=1]="Spherical"}(t.ProjectionType||(t.ProjectionType={}));var s=function(){function e(t){r(this,e),this.unitScale=t}return i(e,[{key:"localTangentSpace",value:function(e,t){return o.isGeoCoordinatesLike(e)?this.projectPoint(e,t.position):a.MathUtils.copyVector3(e,t.position),a.MathUtils.newVector3(1,0,0,t.xAxis),a.MathUtils.newVector3(0,1,0,t.yAxis),a.MathUtils.newVector3(0,0,1,t.zAxis),t}},{key:"reprojectPoint",value:function(e,t,n){return e===this?void 0===n?{x:t.x,y:t.y,z:t.z}:(n.x=t.x,n.y=t.y,n.z=t.z,n):this.projectPoint(e.unprojectPoint(t),n)}}]),e}();t.Projection=s},89399:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(16525).default,a=n(29754).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.sphereProjection=void 0;var u=n(34585),c=n(52022),f=n(93369),d=n(11247),h=n(35946),p=n(63920),m=n(19573),v=n(99428),g=n(72129);function y(e,t,n,r){var i=e.x*r.x+t.x*r.y+n.x*r.z,o=e.y*r.x+t.y*r.y+n.y*r.z,a=e.z*r.x+t.z*r.y+n.z*r.z;return r.x=i,r.y=o,r.z=a,r}function E(e){var t=1/Math.PI,n=Math.floor(2*(e*t+1));return u.MathUtils.clamp(n,0,4)}function A(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)}function T(e,t,n){for(var r,i=.5*(n+(null!==(r=e.maxAltitude)&&void 0!==r?r:0)),o=u.MathUtils.degToRad(e.west),a=u.MathUtils.degToRad(e.east),s=E(o),l=E(a),c=Math.cos(o),f=c,d=Math.sin(o),h=d,p=s+1;p<=l;p++){var m=(p+1&1)*((2&p)-1);c=Math.min(m,c),f=Math.max(m,f);var v=(1&p)*((2&p)-1);d=Math.min(v,d),h=Math.max(v,h)}var g=Math.cos(a);c=Math.min(g,c),f=Math.max(g,f);var y=Math.sin(a);d=Math.min(y,d);var A=(f+c)*i,T=(f-c)*i,O=((h=Math.max(y,h))+d)*i,R=(h-d)*i,L=u.MathUtils.degToRad(e.south),S=u.MathUtils.degToRad(e.north),b=Math.sin(S),I=Math.sin(L),N=(b+I)*i,x=(b-I)*i;return t.min.x=A-T,t.min.y=O-R,t.min.z=N-x,t.max.x=A+T,t.max.y=O+R,t.max.z=N+x,t}function O(e,t,n){var r,i=n+(null!==(r=e.altitude)&&void 0!==r?r:0),o=u.MathUtils.degToRad(e.latitude),a=u.MathUtils.degToRad(e.longitude),s=Math.cos(o);return t.x=i*s*Math.cos(a),t.y=i*s*Math.sin(a),t.z=i*Math.sin(o),t}var R=function(e){s(n,e);var t=l(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).type=g.ProjectionType.Spherical,e}return i(n,[{key:"worldExtent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new u.Box3,r=this.unitScale+t;return n.min.x=-r,n.min.y=-r,n.min.z=-r,n.max.x=r,n.max.y=r,n.max.z=r,n}},{key:"projectPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.MathUtils.newVector3(0,0,0);return O(e,t,this.unitScale)}},{key:"unprojectPoint",value:function(e){var t=e.x*e.x+e.y*e.y,n=Math.sqrt(t),r=e.z/n;if(isNaN(r))return c.GeoCoordinates.fromRadians(0,0,-this.unitScale);var i=Math.sqrt(t+e.z*e.z);return c.GeoCoordinates.fromRadians(Math.atan(r),Math.atan2(e.y,e.x),i-this.unitScale)}},{key:"unprojectAltitude",value:function(e){var t=e.x*e.x+e.y*e.y+e.z*e.z;return Math.sqrt(t)-m.EarthConstants.EQUATORIAL_RADIUS}},{key:"projectBox",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.Box3;if(d.isBox3Like(r))return T(e,r,this.unitScale);if(p.isOrientedBox3Like(r)){if(e.longitudeSpan>=90){var i=T(e,new u.Box3,this.unitScale);return h.MathUtils.newVector3(1,0,0,r.xAxis),h.MathUtils.newVector3(0,1,0,r.yAxis),h.MathUtils.newVector3(0,0,1,r.zAxis),r.position.x=.5*(i.max.x+i.min.x),r.position.y=.5*(i.max.y+i.min.y),r.position.z=.5*(i.max.z+i.min.z),r.extents.x=.5*(i.max.x-i.min.x),r.extents.y=.5*(i.max.y-i.min.y),r.extents.z=.5*(i.max.z-i.min.z),r}var o,a,s,l=e.south,c=e.west,f=e.north,m=e.east,v=e.center,g=v.longitude,E=v.latitude,A=Math.cos(u.MathUtils.degToRad(l)),O=Math.sin(u.MathUtils.degToRad(l)),R=Math.cos(u.MathUtils.degToRad(c)),L=Math.sin(u.MathUtils.degToRad(c)),S=Math.cos(u.MathUtils.degToRad(f)),b=Math.sin(u.MathUtils.degToRad(f)),I=Math.cos(u.MathUtils.degToRad(m)),N=Math.sin(u.MathUtils.degToRad(m)),x=Math.cos(u.MathUtils.degToRad(g)),_=Math.sin(u.MathUtils.degToRad(g)),M=Math.cos(u.MathUtils.degToRad(E)),w=Math.sin(u.MathUtils.degToRad(E));h.MathUtils.newVector3(x*M,_*M,w,r.zAxis),h.MathUtils.newVector3(-_,x,0,r.xAxis),h.MathUtils.newVector3(-x*w,-_*w,M,r.yAxis),l>=0?(o=Math.abs(A*(x*(L-N)+_*(I-R))),a=M*O-w*A,s=M*b-w*S*(x*I+_*N)):(f<=0?(o=Math.abs(S*(x*(L-N)+_*(I-R))),s=M*b-w*S):(o=Math.abs(x*(L-N)+_*(I-R)),s=M*b-w*S*(_*N+x*I)),a=M*O-w*A*(x*I+_*N));var C=.5*(this.unitScale+(null!==(t=e.maxAltitude)&&void 0!==t?t:0)),P=.5*(this.unitScale+(null!==(n=e.minAltitude)&&void 0!==n?n:0)),D=M*(x*I+_*N),k=Math.min(S*D+b*w,A*D+O*w);return h.MathUtils.newVector3(o*C,(s-a)*C,C-k*P,r.extents),h.MathUtils.newVector3(0,(a+s)*C,C+C,r.position),y(r.xAxis,r.yAxis,r.zAxis,r.position),r.position.x=r.position.x-r.zAxis.x*r.extents.z,r.position.y=r.position.y-r.zAxis.y*r.extents.z,r.position.z=r.position.z-r.zAxis.z*r.extents.z,r}throw new Error("Invalid bounding box")}},{key:"unprojectBox",value:function(e){throw new Error("Method not implemented.")}},{key:"getScaleFactor",value:function(e){return 1}},{key:"groundDistance",value:function(e){return A(e)-this.unitScale}},{key:"scalePointToSurface",value:function(e){var t=this.unitScale/(A(e)||1);return e.x*=t,e.y*=t,e.z*=t,e}},{key:"surfaceNormal",value:function(e,t){void 0===t&&(t={x:0,y:0,z:0});var n=1/(A(e)||1);return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t}},{key:"reprojectPoint",value:function(e,t,r){if(e===v.mercatorProjection||e===v.webMercatorProjection){var i=t.x,s=t.y,l=t.z,u=this.unitScale,c=i/u-Math.PI,f=s/u-Math.PI,d=Math.exp(f),h=d*d,p=2*d/(h+1),m=(h-1)/(h+1),g=u+l;return void 0===r&&(r={}),r.x=Math.cos(c)*p*g,r.y=Math.sin(c)*p*g,r.z=m*g,e===v.webMercatorProjection&&(r.z=-r.z),r}return o(a(n.prototype),"reprojectPoint",this).call(this,e,t,r)}},{key:"localTangentSpace",value:function(e,t){var n;f.isGeoCoordinatesLike(e)?(this.projectPoint(e,t.position),n=e):(h.MathUtils.copyVector3(e,t.position),n=this.unprojectPoint(e));var r=u.MathUtils.degToRad(n.latitude),i=u.MathUtils.degToRad(n.longitude),o=Math.cos(i),a=Math.sin(i),s=Math.cos(r),l=Math.sin(r);return h.MathUtils.newVector3(o*s,a*s,l,t.zAxis),h.MathUtils.newVector3(-a,o,0,t.xAxis),h.MathUtils.newVector3(-o*l,-a*l,s,t.yAxis),t}}]),n}(g.Projection);t.sphereProjection=new R(m.EarthConstants.EQUATORIAL_RADIUS)},56030:function(e,t,n){"use strict";var r=n(43269).default,i=n(319).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.transverseMercatorProjection=t.TransverseMercatorUtils=void 0;var u=n(34585),c=n(5761),f=n(52022),d=n(11247),h=n(35946),p=n(63920),m=n(19573),v=n(72129),g=function(e){s(n,e);var t=l(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).unitScale=e,r.type=v.ProjectionType.Planar,r.m_phi0=0,r.m_lambda0=0,r}return a(n,[{key:"getScaleFactor",value:function(e){return Math.cosh(2*(e.x/this.unitScale-.5)*Math.PI)}},{key:"worldExtent",value:function(e,t,n){return n||(n=new u.Box3),n.min.x=0,n.min.y=0,n.min.z=e,n.max.x=this.unitScale,n.max.y=this.unitScale,n.max.z=t,n}},{key:"projectPoint",value:function(e,t){var r;t||(t={x:0,y:0,z:0});var i=n.clampGeoPoint(e,this.unitScale),o=i.longitude/360+.5,a=1===o?0:Math.floor(o),s=u.MathUtils.degToRad(i.latitude),l=u.MathUtils.degToRad(i.longitude-360*a)-this.m_lambda0,c=Math.cos(s)*Math.sin(l);t.x=Math.atanh(c),t.y=Math.atan2(Math.tan(s),Math.cos(l))-this.m_phi0;var f=.5/Math.PI;return t.x=this.unitScale*(u.MathUtils.clamp(t.x*f+.5,0,1)+a),t.y=this.unitScale*u.MathUtils.clamp(t.y*f+.5,0,1),t.z=null!==(r=e.altitude)&&void 0!==r?r:0,t}},{key:"unprojectPoint",value:function(e){var t=2*Math.PI,n=e.x/this.unitScale,r=e.y/this.unitScale,i=1===n?0:Math.floor(n),o=t*(n-.5-i),a=t*(r-.5),s=e.z||0,l=a+this.m_phi0,u=Math.asin(Math.sin(l)/Math.cosh(o)),c=this.m_lambda0+Math.atan2(Math.sinh(o),Math.cos(l))+i*t;return f.GeoCoordinates.fromRadians(u,c,s)}},{key:"projectBox",value:function(e,t){var n=this,r=e.north,o=e.south,a=e.east,s=e.west,l=[e.center,e.northEast,e.southWest,new f.GeoCoordinates(o,a),new f.GeoCoordinates(r,s)],c=y.POLE_EDGE_DEG,m=s<90&&a>90,v=s<0&&a>0,g=s<c&&a>-c&&r>0&&o<0;s<-90&&a>-90&&(l.push(new f.GeoCoordinates(r,-90)),l.push(new f.GeoCoordinates(o,-90))),m&&(l.push(new f.GeoCoordinates(r,90)),l.push(new f.GeoCoordinates(o,90))),v&&(l.push(new f.GeoCoordinates(r,0)),l.push(new f.GeoCoordinates(o,0))),g&&(l.push(new f.GeoCoordinates(0,s)),l.push(new f.GeoCoordinates(0,a))),y.alignLatitude(l,l[0]);var E=l.map((function(e){return n.projectPoint(e)})),A=E.map((function(e){return e.x})),T=E.map((function(e){return e.y})),O=E.map((function(e){return e.z})),R=Math.min.apply(Math,i(A)),L=Math.min.apply(Math,i(T)),S=Math.min.apply(Math,i(O)),b=Math.max.apply(Math,i(A)),I=Math.max.apply(Math,i(T)),N=Math.max.apply(Math,i(O));if(t||(t=new u.Box3),d.isBox3Like(t))t.min.x=R,t.min.y=L,t.min.z=S,t.max.x=b,t.max.y=I,t.max.z=N;else{if(!p.isOrientedBox3Like(t))throw new Error("invalid bounding box");h.MathUtils.newVector3(1,0,0,t.xAxis),h.MathUtils.newVector3(0,1,0,t.yAxis),h.MathUtils.newVector3(0,0,1,t.zAxis),t.position.x=(R+b)/2,t.position.y=(L+I)/2,t.position.z=(S+N)/2,t.extents.x=(b-R)/2,t.extents.y=(I-L)/2,t.extents.z=(N-S)/2}return t}},{key:"unprojectBox",value:function(e){var t=this,n=this.unitScale,r=e.min,o=e.max,a=[{x:(r.x+o.x)/2,y:(r.y+o.y)/2,z:0},r,o,{x:r.x,y:o.y,z:0},{x:o.x,y:r.y,z:0}],s=.5*n,l=.25*n,u=.75*n,d=r.x<s&&o.x>s,h=r.y<s&&o.y>s,p=r.y<l&&o.y>l,m=r.y<u&&o.y>u;h&&(a.push({x:r.x,y:s,z:0}),a.push({x:o.x,y:s,z:0}),d&&a.push({x:s,y:s,z:0})),p&&(a.push({x:r.x,y:l,z:0}),a.push({x:o.x,y:l,z:0}),d&&a.push({x:s,y:l,z:0})),m&&(a.push({x:r.x,y:u,z:0}),a.push({x:o.x,y:u,z:0}),d&&a.push({x:s,y:u,z:0}));var v=a.map((function(e){return t.unprojectPoint(e)}));y.alignLongitude(v,v[0]);var g=v.map((function(e){return e.latitude})),E=v.filter((function(e){return Math.abs(e.latitude)<90})).map((function(e){return e.longitude})),A=v.map((function(e){var t;return null!==(t=e.altitude)&&void 0!==t?t:0})),T=new f.GeoCoordinates(Math.min.apply(Math,i(g)),Math.min.apply(Math,i(E)),Math.min.apply(Math,i(A))),O=new f.GeoCoordinates(Math.max.apply(Math,i(g)),Math.max.apply(Math,i(E)),Math.max.apply(Math,i(A)));return c.GeoBox.fromCoordinates(T,O)}},{key:"unprojectAltitude",value:function(e){return e.z}},{key:"groundDistance",value:function(e){return e.z}},{key:"scalePointToSurface",value:function(e){return e.z=0,e}},{key:"surfaceNormal",value:function(e,t){return void 0===t?t={x:0,y:0,z:-1}:(t.x=0,t.y=0,t.z=-1),t}}],[{key:"clampGeoPoint",value:function(e,t){var n=e.latitude,r=e.longitude,i=y.POLE_RADIUS,o=y.POLE_RADIUS_SQ,a=Math.round(r/90),s=90*a-r;if(a%2===0||Math.abs(s)>i)return e;var l=n-0,u=s*s+l*l;if(u<o){var c=Math.sqrt(u),d=(i-c)/c,h=0===s&&0===l?1*i:s;return new f.GeoCoordinates(n+l*d,r+h*d)}return e}}]),n}(v.Projection),y=function(){function e(){o(this,e)}return a(e,null,[{key:"alignLatitude",value:function(e,t){var n,i=r(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;0===o.latitude&&(o.latitude=1e-9*t.latitude)}}catch(a){i.e(a)}finally{i.f()}}},{key:"alignLongitude",value:function(e,t){var n,i=t.longitude<0?180:-180,o=t.longitude<0?-180:180,a=r(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.longitude===i&&(s.longitude=o)}}catch(l){a.e(l)}finally{a.f()}}}]),e}();t.TransverseMercatorUtils=y,y.POLE_EDGE=1.4844222297453322,y.POLE_EDGE_DEG=u.MathUtils.radToDeg(y.POLE_EDGE),y.POLE_RADIUS=90-y.POLE_EDGE_DEG,y.POLE_RADIUS_SQ=Math.pow(y.POLE_RADIUS,2),t.transverseMercatorProjection=new g(m.EarthConstants.EQUATORIAL_CIRCUMFERENCE)},90458:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FlatTileBoundingBoxGenerator=void 0;var o=n(34585),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,e),this.tilingScheme=t,this.minElevation=n,this.maxElevation=i,this.m_tilingScheme=t,this.m_worldBox=t.projection.worldExtent(n,i);var o=this.m_worldBox,a=o.min,s=o.max;this.m_worldDimensions={x:s.x-a.x,y:s.y-a.y,z:s.z-a.z}}return i(e,[{key:"projection",get:function(){return this.m_tilingScheme.projection}},{key:"subdivisionScheme",get:function(){return this.m_tilingScheme.subdivisionScheme}},{key:"getWorldBox",value:function(e,t){var n=e.level,r=this.subdivisionScheme.getLevelDimensionX(n),i=this.subdivisionScheme.getLevelDimensionY(n),a=this.m_worldDimensions.x/r,s=this.m_worldDimensions.y/i,l=this.m_worldBox.min.x+a*e.column,u=this.m_worldBox.min.y+s*e.row;return t||(t=new o.Box3),t.min.x=l,t.min.y=u,t.min.z=this.m_worldBox.min.z,t.max.x=l+a,t.max.y=u+s,t.max.z=this.m_worldBox.max.z,t}},{key:"getGeoBox",value:function(e){var t=this.getWorldBox(e);return this.projection.unprojectBox(t)}}]),e}();t.FlatTileBoundingBoxGenerator=a},40798:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.halfQuadTreeSubdivisionScheme=void 0;var o=function(){function e(){r(this,e)}return i(e,[{key:"getSubdivisionX",value:function(){return 2}},{key:"getSubdivisionY",value:function(e){return 0===e?1:2}},{key:"getLevelDimensionX",value:function(e){return 1<<e}},{key:"getLevelDimensionY",value:function(e){return 0!==e?1<<e-1:1}}]),e}();t.halfQuadTreeSubdivisionScheme=new o},97194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hereTilingScheme=void 0;var r=n(2187),i=n(40798),o=n(48217);t.hereTilingScheme=new o.TilingScheme(i.halfQuadTreeSubdivisionScheme,r.normalizedEquirectangularProjection)},80045:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mercatorTilingScheme=void 0;var r=n(99428),i=n(18291),o=n(48217);t.mercatorTilingScheme=new o.TilingScheme(i.quadTreeSubdivisionScheme,r.mercatorProjection)},98058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.polarTilingScheme=void 0;var r=n(56030),i=n(18291),o=n(48217);t.polarTilingScheme=new o.TilingScheme(i.quadTreeSubdivisionScheme,r.transverseMercatorProjection)},1216:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.QuadTree=void 0;var a=n(1511),s=function(){function e(t){i(this,e),this.tilingScheme=t}return o(e,[{key:"visit",value:function(e){this.visitTileKey(a.TileKey.fromRowColumnLevel(0,0,0),e)}},{key:"visitTileKey",value:function(e,t){if(t(e,this.tilingScheme.getGeoBox(e))){var n,i=r(this.tilingScheme.getSubTileKeys(e));try{for(i.s();!(n=i.n()).done;){var o=n.value;this.visitTileKey(o,t)}}catch(a){i.e(a)}finally{i.f()}}}}]),e}();t.QuadTree=s},18291:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.quadTreeSubdivisionScheme=void 0;var o=function(){function e(){r(this,e)}return i(e,[{key:"getSubdivisionX",value:function(){return 2}},{key:"getSubdivisionY",value:function(){return 2}},{key:"getLevelDimensionX",value:function(e){return 1<<e}},{key:"getLevelDimensionY",value:function(e){return 1<<e}}]),e}();t.quadTreeSubdivisionScheme=new o},75294:function(e,t,n){"use strict";var r=n(87757),i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SubTiles=void 0;var a=n(1511),s=function(e){function t(e,n,r){i(this,t),this.tileKey=e,this.sizeX=n,this.sizeY=r}return o(t,[{key:e,value:function(){return 2===this.sizeX&&2===this.sizeY?t.ZCurveIterator(this.tileKey):t.RowColumnIterator(this.tileKey,this.sizeX,this.sizeY)}}]),t}(Symbol.iterator);t.SubTiles=s,function(e){var t=r.mark(i),n=r.mark(o);function i(e,n,i){var o,s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=0;case 1:if(!(o<i)){t.next=12;break}s=0;case 3:if(!(s<n)){t.next=9;break}return t.next=6,a.TileKey.fromRowColumnLevel(e.row*i+o,e.column*n+s,e.level+1);case 6:s++,t.next=3;break;case 9:o++,t.next=1;break;case 12:case"end":return t.stop()}}),t)}function o(e){var t;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<4)){n.next=7;break}return n.next=4,a.TileKey.fromRowColumnLevel(e.row<<1|t>>1,e.column<<1|1&t,e.level+1);case 4:t++,n.next=1;break;case 7:case"end":return n.stop()}}),n)}e.RowColumnIterator=i,e.ZCurveIterator=o}(s=t.SubTiles||(t.SubTiles={}))},59449:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1511:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileKey=void 0;var o=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648,4294967296,8589934592,17179869184,34359738368,68719476736,137438953472,274877906944,549755813888,1099511627776,2199023255552,4398046511104,8796093022208,17592186044416,35184372088832,70368744177664,0x800000000000,281474976710656,562949953421312,0x4000000000000,0x8000000000000,4503599627370496],a=function(){function e(t,n,i){r(this,e),this.row=t,this.column=n,this.level=i}return i(e,[{key:"parent",value:function(){if(0===this.level)throw new Error("Cannot get the parent of the root tile key");return e.fromRowColumnLevel(this.row>>>1,this.column>>>1,this.level-1)}},{key:"changedLevelBy",value:function(t){var n=Math.max(0,this.level+t),r=this.row,i=this.column;return t>=0?(r<<=t,i<<=t):(r>>>=-t,i>>>=-t),e.fromRowColumnLevel(r,i,n)}},{key:"changedLevelTo",value:function(e){return this.changedLevelBy(e-this.level)}},{key:"mortonCode",value:function(){if(void 0===this.m_mortonCode){for(var e=this.column,t=this.row,n=o[this.level<<1],r=0;r<this.level;++r)1&e&&(n+=o[2*r]),1&t&&(n+=o[2*r+1]),e>>>=1,t>>>=1;this.m_mortonCode=n}return this.m_mortonCode}},{key:"toHereTile",value:function(){return void 0===this.m_hereTile&&(this.m_hereTile=this.mortonCode().toString()),this.m_hereTile}},{key:"toQuadKey",value:function(){for(var e="",t=this.level;t>0;--t){var n=1<<t-1,r=0!==(this.column&n),i=0!==(this.row&n);e+=r&&i?"3":i?"2":r?"1":"0"}return e}},{key:"equals",value:function(e){return this.row===e.row&&this.column===e.column&&this.level===e.level}},{key:"addedSubKey",value:function(t){var n=e.fromQuadKey(0===t.length?"-":t),r=this.changedLevelBy(n.level);return e.fromRowColumnLevel(r.row+n.row,r.column+n.column,r.level)}},{key:"addedSubHereTile",value:function(t){var n=e.fromHereTile(t),r=this.changedLevelBy(n.level);return e.fromRowColumnLevel(r.row+n.row,r.column+n.column,r.level)}},{key:"getSubHereTile",value:function(e){var t=1<<2*e;return(this.mortonCode()&t-1|t).toString()}},{key:"rowCount",value:function(){return e.rowsAtLevel(this.level)}},{key:"columnCount",value:function(){return e.columnsAtLevel(this.level)}}],[{key:"fromRowColumnLevel",value:function(t,n,r){return new e(t,n,r)}},{key:"fromQuadKey",value:function(t){for(var n=t.length,r=0,i=0,o=0;o<t.length;++o){var a=1<<o,s=parseInt(t.charAt(n-o-1),10);1&s&&(i|=a),2&s&&(r|=a)}return e.fromRowColumnLevel(r,i,n)}},{key:"fromMortonCode",value:function(t){for(var n=0,r=0,i=0,o=t;o>1;){var a=1<<n;1&o&&(i|=a),2&o&&(r|=a),n++,o=(o-(3&o))/4}var s=e.fromRowColumnLevel(r,i,n);return s.m_mortonCode=t,s}},{key:"fromHereTile",value:function(t){var n=e.fromMortonCode(parseInt(t,10));return n.m_hereTile=t,n}},{key:"columnsAtLevel",value:function(e){return Math.pow(2,e)}},{key:"rowsAtLevel",value:function(e){return Math.pow(2,e)}},{key:"atCoords",value:function(t,n,r,i,o){return e.fromRowColumnLevel(Math.floor(r/(o/e.rowsAtLevel(t))),Math.floor(n/(i/e.columnsAtLevel(t))),t)}},{key:"parentMortonCode",value:function(e){return Math.floor(e/4)}}]),e}();t.TileKey=a},10550:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TileKeyUtils=t.powerOfTwo=void 0;var r=n(52022),i=n(1511);t.powerOfTwo=function(){var e=.5;return new Array(53).fill(0).map((function(){return e*=2}))}(),function(e){function n(e,t,n){var r=e.projection,o=e.subdivisionScheme,a=o.getLevelDimensionX(n),s=o.getLevelDimensionY(n),l=r.worldExtent(0,0),u=l.min,c=l.max,f=c.x-u.x,d=c.y-u.y;if(t.x<u.x||t.x>c.x)return null;if(t.y<u.y||t.y>c.y)return null;var h=Math.min(a-1,Math.floor(a*(t.x-u.x)/f)),p=Math.min(s-1,Math.floor(s*(t.y-u.y)/d));return i.TileKey.fromRowColumnLevel(p,h,n)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=s(t,n);return e.mortonCode()+r}function a(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=0,i=e,o=0;o<n;o++){var a=t.powerOfTwo[52-o];i>=a&&(i-=a,r+=t.powerOfTwo[n-1-o])}return{offset:r-=t.powerOfTwo[n-1],mortonCode:i}}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=0,i=t.powerOfTwo[n];for(e+=i/2;e<0;)e+=i;for(;e>=i;)e-=i;for(var o=0;o<n&&e>0;o++)1&e&&(r+=t.powerOfTwo[53-n+o]),e>>>=1;return r}e.geoCoordinatesToTileKey=function(e,t,r){return n(e,e.projection.projectPoint(t),r)},e.worldCoordinatesToTileKey=n,e.geoRectangleToTileKeys=function(t,n,o){var a=function(e,t,n){return e<t?n-(t-e)%(n-t):t+(e-t)%(n-t)},s=function(e,t,n){return Math.min(Math.max(e,t),n)},l=a(n.southWest.longitudeInRadians,-Math.PI,Math.PI),u=s(n.southWest.latitudeInRadians,-.5*Math.PI,.5*Math.PI),c=a(n.northEast.longitudeInRadians,-Math.PI,Math.PI),f=s(n.northEast.latitudeInRadians,-.5*Math.PI,.5*Math.PI),d=e.geoCoordinatesToTileKey(t,r.GeoCoordinates.fromRadians(u,l),o),h=e.geoCoordinatesToTileKey(t,r.GeoCoordinates.fromRadians(f,c),o),p=t.subdivisionScheme.getLevelDimensionX(o);if(!d||!h)throw new Error("Invalid coordinates");var m=d.column,v=h.column;l>c&&(v+=v!==m?p:p-1);for(var g=Math.min(d.row,h.row),y=Math.max(d.row,h.row),E=new Array,A=g;A<=y;++A)for(var T=m;T<=v;++T)E.push(i.TileKey.fromRowColumnLevel(A,T%p,o));return E},e.getKeyForTileKeyAndOffset=o,e.extractOffsetAndMortonKeyFromKey=a,e.getParentKeyFromKey=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=a(e,t),r=n.offset,s=n.mortonCode,l=i.TileKey.fromMortonCode(i.TileKey.parentMortonCode(s));return o(l,r,t)}}(t.TileKeyUtils||(t.TileKeyUtils={}))},73751:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileTreeTraverse=void 0;var o=n(75294),a=function(){function e(t){r(this,e),this.m_subdivisionScheme=t}return i(e,[{key:"subTiles",value:function(e){var t=this.m_subdivisionScheme.getSubdivisionX(e.level),n=this.m_subdivisionScheme.getSubdivisionY(e.level);return new o.SubTiles(e,t,n)}}]),e}();t.TileTreeTraverse=a},48217:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TilingScheme=void 0;var o=n(90458),a=n(10550),s=n(73751),l=function(){function e(t,n){r(this,e),this.subdivisionScheme=t,this.projection=n,this.boundingBoxGenerator=new o.FlatTileBoundingBoxGenerator(this),this.tileTreeTraverse=new s.TileTreeTraverse(t)}return i(e,[{key:"getSubTileKeys",value:function(e){return this.tileTreeTraverse.subTiles(e)}},{key:"getTileKey",value:function(e,t){return a.TileKeyUtils.geoCoordinatesToTileKey(this,e,t)}},{key:"getTileKeys",value:function(e,t){return a.TileKeyUtils.geoRectangleToTileKeys(this,e,t)}},{key:"getGeoBox",value:function(e){return this.boundingBoxGenerator.getGeoBox(e)}},{key:"getWorldBox",value:function(e,t){return this.boundingBoxGenerator.getWorldBox(e,t)}}]),e}();t.TilingScheme=l},34573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webMercatorTilingScheme=void 0;var r=n(99428),i=n(18291),o=n(48217);t.webMercatorTilingScheme=new o.TilingScheme(i.quadTreeSubdivisionScheme,r.webMercatorProjection)},63266:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(74699),t),i(n(87776),t),i(n(56216),t),i(n(76800),t)},56216:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(16525).default,a=n(29754).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.HighPrecisionLine=t.HighPrecisionWireFrameLine=void 0;var u=n(34585),c=n(76800),f=function(e){s(n,e);var t=l(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,e,i)).matrixWorldInverse=new u.Matrix4,o&&a.setPositions(o),a}return i(n,[{key:"bufferGeometry",get:function(){return this.geometry}},{key:"shaderMaterial",get:function(){return this.material}},{key:"setPositions",value:function(e){c.HighPrecisionUtils.setPositions(this,e)}},{key:"setupForRendering",value:function(){var e=this;this.onBeforeRender=function(t,n,r,i,o,a){c.HighPrecisionUtils.updateHpUniforms(e,r,e.shaderMaterial)}}},{key:"updateMatrixWorld",value:function(e){var t=this.matrixWorldNeedsUpdate||e;o(a(n.prototype),"updateMatrixWorld",this).call(this,e),t&&this.matrixWorldInverse.copy(this.matrixWorld).invert()}}]),n}(u.Line);t.HighPrecisionWireFrameLine=f;var d=function(e){s(n,e);var t=l(n);function n(e,i,o){var a;return r(this,n),(a=t.call(this,e,i)).matrixWorldInverse=new u.Matrix4,o&&a.setPositions(o),a}return i(n,[{key:"bufferGeometry",get:function(){return this.geometry}},{key:"shaderMaterial",get:function(){return this.material}},{key:"setPositions",value:function(e){c.HighPrecisionUtils.setPositions(this,e)}},{key:"setupForRendering",value:function(){var e=this;this.onBeforeRender=function(t,n,r,i,o,a){c.HighPrecisionUtils.updateHpUniforms(e,r,e.shaderMaterial)}}},{key:"updateMatrixWorld",value:function(e){var t=this.matrixWorldNeedsUpdate||e;o(a(n.prototype),"updateMatrixWorld",this).call(this,e),t&&this.matrixWorldInverse.copy(this.matrixWorld).invert()}}]),n}(u.Mesh);t.HighPrecisionLine=d},32451:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(16525).default,a=n(29754).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.HighPrecisionPoints=void 0;var u=n(85164),c=n(34585),f=n(76800),d=function(e){s(n,e);var t=l(n);function n(e,i,o,a,s){var l;return r(this,n),void 0===i&&(i=new u.HighPrecisionPointMaterial({color:a||u.HighPrecisionPointMaterial.DEFAULT_COLOR,opacity:void 0!==s?s:1})),(l=t.call(this,void 0===e?new c.BufferGeometry:e,i)).matrixWorldInverse=new c.Matrix4,o&&l.setPositions(o),l}return i(n,[{key:"bufferGeometry",get:function(){return this.geometry}},{key:"clearGeometry",value:function(){return this.geometry=new c.BufferGeometry}},{key:"shaderMaterial",get:function(){return this.material}},{key:"setPositions",value:function(e){f.HighPrecisionUtils.setPositions(this,e)}},{key:"setupForRendering",value:function(){var e=this;this.material.isHighPrecisionPointsMaterial&&void 0!==this.dimensionality&&this.material.setDimensionality(this.dimensionality),this.onBeforeRender=function(t,n,r,i,o,a){f.HighPrecisionUtils.updateHpUniforms(e,r,e.shaderMaterial)}}},{key:"updateMatrixWorld",value:function(e){var t=this.matrixWorldNeedsUpdate||e;o(a(n.prototype),"updateMatrixWorld",this).call(this,e),t&&this.matrixWorldInverse.copy(this.matrixWorld).invert()}}]),n}(c.Points);t.HighPrecisionPoints=d},76800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HighPrecisionUtils=void 0;var r=n(85164),i=n(34585),o=n(56216),a=n(32451),s=n(87776);!function(e){function t(e){return new i.Vector3(Math.fround(e.x),Math.fround(e.y),Math.fround(e.z))}function n(e,n){var r=(new i.Matrix4).copy(e.projectionMatrix).multiply(e.matrixWorldInverse),o=new i.Vector3(0,0,0).applyMatrix4(n),a=t(o);return{viewProjection:r,eyePosHi:a,eyePosLo:t(o.sub(a))}}function l(e){if(e.length>0){var t=e[0];if(void 0===t||null===t)throw Error("Empty element in positions");var n=new Array,r=new Array,o=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var o=0,a=t;o<a.length;o++){var s=a[o],l=Math.fround(s);r.push(s-l),n.push(l)}};if(void 0!==t.z)e.forEach((function(e){!function(e){o(e.x,e.y,e.z)}(e)}));else{if(n.length%3!==0)throw Error("Positions must be 3D, not 2D");e.forEach((function(e){o(e)}))}return{positionHigh:new i.Float32BufferAttribute(n,3),positionLow:new i.Float32BufferAttribute(r,3)}}return{positionHigh:new i.Float32BufferAttribute([],3),positionLow:new i.Float32BufferAttribute([],3)}}function u(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new Array,i=e.length,o=0;o<i;o+=t){for(var a=0;a<n;a++)r.push(e[o+a]);var s=e[o+n],l=e[o+n+1],u=e[o+n+2],c=Math.fround(s),f=s-c,d=Math.fround(l),h=l-d,p=Math.fround(u),m=u-p;r.push(c,d,p,f,h,m);for(var v=n+3;v<t;v++)r.push(e[o+v])}return r}function c(e,t){var n=l(t);return e.bufferGeometry.setAttribute("position",n.positionHigh),e.bufferGeometry.setAttribute("positionLow",n.positionLow),n.positionHigh.itemSize}e.doubleToFloatVec=t,e.makeFloatVec=function(e){var t=Math.fround(e.x),n=Math.fround(e.y),r=Math.fround(e.z),o=new i.Vector3(e.x-t,e.y-n,e.z-r);return e.x=Math.fround(t),e.y=Math.fround(n),e.z=Math.fround(r),o},e.createHighPrecisionCameraPos=n,e.updateHpUniforms=function(e,t,r){var i=n(t,e.matrixWorldInverse),o=i.viewProjection;if(void 0===r||!r.isMaterial)throw Error("High pecision line has no high precision material");if(!(r.uniforms&&r.uniforms.u_mvp&&r.uniforms.u_eyepos&&r.uniforms.u_eyepos_lowpart))throw Error("High pecision material has missing uniforms");r.uniforms.u_mvp.value=new Float32Array(o.elements),r.uniforms.u_eyepos.value=new Float32Array(i.eyePosHi.toArray()),r.uniforms.u_eyepos_lowpart.value=new Float32Array(i.eyePosLo.toArray())},e.createAttributes=l,e.addInterleavedAttributes3=u,e.setPositions=c,e.convertPositions=function(e){if(e.length<=0)return{positions:[]};var t=e[0];if(void 0===t||null===t)throw Error("Empty element in positions");var n=t;if(void 0===n.y&&void 0===n.z)return{positions:e};var r=new Array;return e.forEach((function(e){r.push(e.x,e.y,e.z)})),{positions:r}},e.createLine=function(e,t){var n=void 0!==t.lineWidth?t.lineWidth:5,a=void 0!==t.addCircles&&t.addCircles,l=void 0!==t.wireFrame&&t.wireFrame,c=[],f=[];s.triangulateLine(e,n,c,f,a);var d=new i.BufferGeometry,h=u(c,3),p=new i.InterleavedBuffer(new Float32Array(h),6),m=new i.InterleavedBufferAttribute(p,3,0,!1),v=new i.InterleavedBufferAttribute(p,3,3,!1);d.setAttribute("position",m),d.setAttribute("positionLow",v),d.setIndex(new i.BufferAttribute(new Uint32Array(f),1));var g=new r.HighPrecisionLineMaterial(t),y=l?new o.HighPrecisionWireFrameLine(d,g):new o.HighPrecisionLine(d,g);return y.setupForRendering(),y},e.createPoints=function(e,t){for(var n=[],o=0;o<e.length;o++)n.push(n.length/3);var s=new i.BufferGeometry,l=r.isHighPrecisionPointMaterial(t)?t:new r.HighPrecisionPointMaterial(t),u=new a.HighPrecisionPoints(s,l);return c(u,e),u.setupForRendering(),u}}(t.HighPrecisionUtils||(t.HighPrecisionUtils={}))},74699:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LineGroup=t.createSimpleLineGeometry=t.createLineGeometry=t.LineGeometry=void 0;var a=n(15739),s=n(34585),l=new s.Vector3,u=new s.Vector3,c=new s.Vector3,f=new s.Vector3,d=new s.Vector3,h=.1,p={attributes:[{name:"extrusionCoord",itemSize:3,offset:0},{name:"position",itemSize:3,offset:3},{name:"tangent",itemSize:3,offset:6},{name:"bitangent",itemSize:4,offset:9}],stride:13},m={attributes:[{name:"uv",itemSize:2,offset:p.stride},{name:"normal",itemSize:3,offset:p.stride+2}],stride:5},v={attributes:[].concat(o(p.attributes),o(m.attributes)),stride:p.stride+m.stride},g={attributes:[{name:"extrusionCoord",itemSize:2,offset:0},{name:"position",itemSize:3,offset:2},{name:"positionLow",itemSize:3,offset:5},{name:"tangent",itemSize:3,offset:8},{name:"bitangent",itemSize:4,offset:11}],stride:15},y={attributes:[].concat(o(g.attributes),o(m.attributes)),stride:g.stride+m.stride},E=r((function e(){i(this,e),this.vertices=[],this.vertexColors=[],this.indices=[]}));function A(e,t){return t?e?y:g:e?v:p}function T(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new E,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(0===t.length)return s;var p=A(void 0!==i,l).stride,m=t.length/3,v=new Array(m),g=new Array(t.length-3),y=s.vertices.length/p,T=void 0!==r&&r.length>0,O=void 0!==i&&i.length>0,R=void 0!==o&&o.length&&t.length;a.assert(!T||r.length===m),a.assert(!O||i.length/2===m),a.assert(!R||o.length===t.length);var S=h;v[0]=S;for(var b=0;b<m-1;++b){for(var I=0,N=0;N<3;++N){var x=t[3*(b+1)+N]-t[3*b+N];g[3*b+N]=x,I+=x*x}var _=Math.sqrt(I);S+=_,v[b+1]=S}var M=T?Math.abs(r[r.length-1]-r[0]):1,w=v[v.length-1]/M;if(T)for(var C=0;C<m;++C)v[C]=r[C]*w+h;for(var P=!0,D=0;D<3;++D)P=P&&t[D]===t[t.length-3+D];for(var k=[],H=function(r,a,h,p,m){var v;k.length=0,s.vertices.push(p,-1*m,w),k.push(p,1*m,w);for(var y=0;y<3;++y){if(l){var E=Math.fround(t[3*r+y]),A=t[3*r+y]-E;s.vertices.push(E,A),k.push(E,A)}else s.vertices.push(t[3*r+y]),k.push(t[3*r+y]);u.setComponent(y,t[3*r+y])}for(var T=0;T<3;++T)c.setComponent(T,g[a+T]),f.setComponent(T,g[h+T]);c.normalize(),s.vertices.push(c.x,c.y,c.z),k.push(c.x,c.y,c.z),u.add(e),n.surfaceNormal(u,u);var S=L(u,c,f.normalize(),d);s.vertices.push(d.x,d.y,d.z,S),k.push(d.x,d.y,d.z,S),O&&(s.vertices.push(i[2*r],i[2*r+1]),k.push(i[2*r],i[2*r+1]),s.vertices.push(u.x,u.y,u.z),k.push(u.x,u.y,u.z)),(v=s.vertices).push.apply(v,k),R&&(s.vertexColors.push(o[3*r],o[3*r+1],o[3*r+2]),s.vertexColors.push(o[3*r],o[3*r+1],o[3*r+2]))},U=0;U<m;++U){var B=P&&0===U?g.length-3:3*Math.max(0,U-1),G=P&&U===m-1?0:Math.min(3*U,g.length-3);U>0&&H(U,B,G,v[U-1],v[U]),U+1<m&&H(U,B,G,-1*v[Math.min(U,v.length-1)],v[Math.min(U+1,v.length-1)])}for(var W=0;W<m-1;++W){var F=y+4*W;s.indices.push(F,F+1,F+2,F+2,F+1,F+3)}return s}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new E;if(0===e.length)return n;for(var r=e.length/3,i=n.vertices.length/3,o=void 0!==t&&t.length&&e.length,a=0;a<r;++a,i++){a>0&&n.indices.push(i),a<r-1&&n.indices.push(i);for(var s=0;s<3;++s)n.vertices.push(e[3*a+s]),o&&n.vertexColors.push(t[3*a+s])}return n}t.LineGeometry=E,t.createLineGeometry=T,t.createSimpleLineGeometry=O;var R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,e),this.hasNormalsAndUvs=t,this.highPrecision=n,this.isSimple=r,this.m_geometry=new E}return r(e,[{key:"clear",value:function(){this.m_geometry.vertices=[],this.m_geometry.vertexColors=[],this.m_geometry.indices=[]}},{key:"add",value:function(e,t,n,r,i,o){return this.isSimple?O(t,o,this.m_geometry):(a.assert(!this.hasNormalsAndUvs||void 0!==i),T(e,t,n,r,i,o,this.m_geometry,this.highPrecision)),this}},{key:"vertices",get:function(){return this.m_geometry.vertices}},{key:"vertexColors",get:function(){return this.m_geometry.vertexColors}},{key:"indices",get:function(){return this.m_geometry.indices}},{key:"vertexAttributes",get:function(){return A(this.hasNormalsAndUvs,this.highPrecision).attributes}},{key:"stride",get:function(){return A(this.hasNormalsAndUvs,this.highPrecision).stride}},{key:"createGeometry",value:function(t){return void 0===t&&(t=new s.BufferGeometry),e.createGeometry(this.m_geometry.vertices,this.m_geometry.vertexColors,this.m_geometry.indices,t,this.hasNormalsAndUvs,this.highPrecision)}}],[{key:"createGeometry",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(a)return r.setAttribute("position",new s.BufferAttribute(new Float32Array(e),3)),t.length===e.length&&r.setAttribute("color",new s.BufferAttribute(new Float32Array(t),3)),r.setIndex(new s.BufferAttribute(new Uint32Array(n),1)),r;var l=A(i,o),u=new s.InterleavedBuffer(new Float32Array(e),l.stride);return l.attributes.forEach((function(e){var t=new s.InterleavedBufferAttribute(u,e.itemSize,e.offset,!1);r.setAttribute(e.name,t)})),t.length===e.length&&r.setAttribute("color",new s.BufferAttribute(new Float32Array(t),3)),r.setIndex(new s.BufferAttribute(new Uint32Array(n),1)),r}}]),e}();function L(e,t,n,r){var i=0;return t.equals(n)||(i=Math.acos(t.dot(n))*Math.sign(e.dot(l.copy(t).cross(n))),Number.isNaN(i)&&(i=0)),r.copy(t).add(n).normalize().cross(e).normalize(),i}t.LineGroup=R},87776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructLineWidth=t.reconstructLine=t.triangulateLine=t.numCirclePoints=void 0;var r=n(34585),i=new r.Vector3(0,0,1),o=[0,1,2,1,3,2],a=[0,1,3,3,1,2,0,3,4,5,4,3],s=Math.PI/8;function l(e,t,n,r,i,o){var a=i.length/3;i.push(e,t,0);for(var l=0;l<9;++l){var u=s*l+Math.PI/2+n;i.push(e+r*Math.cos(u),t+r*Math.sin(u),0),o.push(a,a+l+1,a+(l+1)%9+1)}}t.numCirclePoints=function(e){return 9},t.triangulateLine=function(e,t,n,s){var u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:u;if(!(e.length<3)){var f=new r.Vector2;if(u){var d=3!==e.length?f.set(e[3]-e[0],e[4]-e[1]).angle():0;l(e[0],e[1],d,t,n,s)}for(var h=n.length/3,p=new r.Vector3,m=new r.Vector3,v=new r.Vector3,g=new r.Vector3,y=new r.Vector3,E=new r.Vector3,A=new r.Vector3,T=new r.Vector3,O=new r.Vector3,R=e.length/3,L=0,S=0;S<R;++S){var b=!1;if(m.set(e[3*S],e[3*S+1],e[3*S+2]),S+1<R){if(v.set(e[3*(S+1)],e[3*(S+1)+1],e[3*(S+1)+2]),g.copy(v).sub(m).normalize().cross(i),y.copy(g),S>0&&(y.add(p).multiplyScalar(1-.5*g.dot(p)),b=p.angleTo(g)>Math.PI/2)){var I=t/Math.cos(g.angleTo(p)/2);E.copy(g).add(p).normalize().multiplyScalar(-I).add(m),A.copy(p).multiplyScalar(t).add(m),T.copy(g).add(p).normalize().multiplyScalar(I).add(m),O.copy(g).multiplyScalar(t).add(m)}b?n.push(E.x,E.y,E.z,A.x,A.y,A.z,T.x,T.y,T.z,O.x,O.y,O.z):(E.copy(y).multiplyScalar(-t).add(m),A.copy(y).multiplyScalar(t).add(m),n.push(E.x,E.y,E.z,A.x,A.y,A.z)),p.copy(g)}else E.copy(p).multiplyScalar(-t).add(m),A.copy(p).multiplyScalar(t).add(m),n.push(E.x,E.y,E.z,A.x,A.y,A.z);S!==R-1&&((b?a:o).forEach((function(e){return s.push(h+L+e)})),L+=b?4:2)}if(c){var N=2!==e.length?f.set(e[3*(R-3)]-e[3*(R-2)],e[3*(R-3)+1]-e[3*(R-2)+1]).angle():Math.PI;l(e[3*(R-2)],e[3*(R-2)+1],N,t,n,s)}}},t.reconstructLine=function(e,t){for(var n=new Float32Array(e.length/2),r=3*t,i=2*r;r<n.length;r+=3,i+=6)n[r]=e[i]+.5*(e[i+3]-e[i]),n[r+1]=e[i+1]+.5*(e[i+3+1]-e[i+1]),n[r+2]=e[i+2]+.5*(e[i+3+2]-e[i+2]);return n},t.reconstructLineWidth=function(e,t){var n=e[2*t+3]-e[2*t],r=e[2*t+3+1]-e[2*t+1],i=e[2*t+3+2]-e[2*t+2];return.5*Math.sqrt(n*n+r*r+i*i)}},51106:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(28350),t)},28350:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.Entry=void 0;var o=n(15739),a=r((function e(t,n,r,o,a){i(this,e),this.key=t,this.value=n,this.size=r,this.newer=o,this.older=a}));t.Entry=a;var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 1};i(this,e),this.m_size=0,this.m_map=new Map,this.m_newest=null,this.m_oldest=null,this.m_capacity=t,this.m_sizeFunction=n}return r(e,[{key:"forEach",value:function(e,t){for(var n=this.m_newest;null!==n;){var r=n.older;e.call(t,n.value,n.key,this),n=r}}},{key:"size",get:function(){return this.m_size}},{key:"capacity",get:function(){return this.m_capacity}},{key:"map",get:function(){return this.m_map}},{key:"newest",get:function(){return this.m_newest}},{key:"oldest",get:function(){return this.m_oldest}},{key:"setCapacity",value:function(e){this.m_capacity=e,this.evict()}},{key:"setCapacityAndMeasure",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 1};this.m_capacity=e,this.m_sizeFunction=t,this.shrinkToCapacity()}},{key:"shrinkToCapacity",value:function(){for(var e=0,t=this.m_sizeFunction,n=this.m_newest;null!==n;){var r=t(n.value);n.size=r,e+=r,n=n.older}this.m_size=e,this.evict()}},{key:"set",value:function(e,t){var n=this.m_sizeFunction(t),r=this.m_map.get(e);if(void 0!==r)this.m_size=this.m_size-r.size+n,r.value=t,r.size=n,this.promoteEntry(r),this.evict();else{if(n>this.m_capacity)return;if(r=new a(e,t,n,null,null),0===this.m_map.size)this.m_newest=this.m_oldest=r;else{o.assert(null!==this.m_newest);var i=this.m_newest;r.older=this.m_newest,i.newer=r,this.m_newest=r}this.m_map.set(e,r),this.m_size+=n,this.evict()}}},{key:"get",value:function(e){var t=this.m_map.get(e);if(void 0!==t)return this.promoteEntry(t),t.value}},{key:"has",value:function(e){return this.m_map.has(e)}},{key:"clear",value:function(){this.m_newest=this.m_oldest=null,this.m_size=0,this.m_map.clear()}},{key:"evictAll",value:function(){var e=this.evictionCallback;void 0!==e&&this.forEach((function(t,n){return e(n,t)})),this.clear()}},{key:"evictSelected",value:function(e,t){for(var n=this.evictionCallback,r=this.m_newest;null!==r;){var i=r.older;e.call(t,r.value,r.key)&&(void 0!==n&&n(r.key,r.value),this.deleteEntry(r),this.m_map.delete(r.key)),r=i}}},{key:"delete",value:function(e){var t=this.m_map.get(e);return void 0!==t&&(this.deleteEntry(t),this.m_map.delete(e))}},{key:"evict",value:function(){for(;null!==this.m_oldest&&this.m_size>this.m_capacity;){if(void 0===this.evictOldest())return}}},{key:"evictOldest",value:function(){o.assert(null!==this.m_oldest);var e=this.m_oldest;o.assert(null===e.older);var t=e;if(void 0!==this.canEvict)for(;!this.canEvict(t.key,t.value);){if(null===t.newer)return;t=t.newer}if(t===e)this.m_oldest=t.newer,null!==t.newer&&(o.assert(t.newer.older===t),t.newer.older=null);else{if(null===t.newer)return;o.assert(t.newer.older===t),t.newer.older=t.older,null!==t.older&&(t.older.newer=t.newer)}var n=this.m_map.delete(t.key);return o.assert(!0===n),n&&void 0!==this.evictionCallback&&this.evictionCallback(t.key,t.value),this.m_size-=t.size,t}},{key:"deleteEntry",value:function(e){e===this.m_newest?this.m_newest=e.older:e.newer?e.newer.older=e.older:o.assert(!1),e===this.m_oldest?this.m_oldest=e.newer:e.older?e.older.newer=e.newer:o.assert(!1),this.m_size-=e.size}},{key:"promoteEntry",value:function(e){if(e!==this.m_newest){e.newer&&(o.assert(e.newer.older===e),e.newer.older=e.older),e.older&&(o.assert(e.older.newer===e),e.older.newer=e.newer),e===this.m_oldest&&(this.m_oldest=e.newer),e.newer=null,e.older=this.m_newest,o.assert(null!==this.m_newest);var t=this.m_newest;o.assert(null===t.newer),t.newer=e,this.m_newest=e}}}]),e}();t.LRUCache=s},48218:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(48971),t),i(n(73530),t),i(n(19007),t),i(n(53161),t),i(n(36814),t),i(n(99424),t),i(n(74034),t)},74034:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CameraAnimationBuilder=void 0;var a=n(31201),s=n(34585),l=n(99424),u=function(){function e(){i(this,e)}return o(e,null,[{key:"getLookAtFromView",value:function(e){return{target:e.target,heading:e.heading,tilt:e.tilt,distance:e.targetDistance}}},{key:"appendControlPoint",value:function(e,t,n){n=null!==n&&void 0!==n?n:10,e.controlPoints.length>0&&(void 0===t.timestamp||t.timestamp<=e.controlPoints[e.controlPoints.length-1].timestamp)&&(t.timestamp=e.controlPoints[e.controlPoints.length-1].timestamp+n),e.controlPoints.push(t)}},{key:"prependControlPoint",value:function(e,t,n){n=void 0!==n?n:10;var i,o=r(e.controlPoints);try{for(o.s();!(i=o.n()).done;){i.value.timestamp+=n}}catch(a){o.e(a)}finally{o.f()}t.timestamp=0,e.controlPoints.unshift(t)}},{key:"createBowFlyToOptions",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,o=[t],u=new s.Vector3;e.projection.projectPoint(t.target,u);var c=null!==r&&void 0!==r?r:2*u.distanceTo(e.projection.projectPoint(n.target));c=Math.max(t.distance+n.distance,c);var f=a.GeoCoordinates.lerp(t.target,n.target,.25),d=new l.ControlPoint({target:f,distance:c,timestamp:i/3,tilt:a.MathUtils.interpolateAnglesDeg(t.tilt,n.tilt,.25),heading:a.MathUtils.interpolateAnglesDeg(t.heading,n.heading,.25)});o.push(d);var h=a.GeoCoordinates.lerp(t.target,n.target,.75),p=new l.ControlPoint({target:h,distance:c,timestamp:i/3*2,tilt:a.MathUtils.interpolateAnglesDeg(t.tilt,n.tilt,.75),heading:a.MathUtils.interpolateAnglesDeg(t.heading,n.heading,.75)});return o.push(p),n.timestamp=i,o.push(n),{controlPoints:o}}},{key:"createOrbitOptions",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=4,r=[e],i=n-1,o=360/i,a=t/i,s=1;s<n;s++){var l=r[s-1];r.push(Object.assign(Object.assign({},l),{heading:l.heading-o,timestamp:l.timestamp+a}))}return{controlPoints:r}}}]),e}();t.CameraAnimationBuilder=u},99424:function(e,t,n){"use strict";var r=n(2205).default,i=n(99842).default,o=n(93913).default,a=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CameraKeyTrackAnimation=t.ControlPoint=void 0;var s=n(31201),l=n(48991),u=n(15739),c=n(34585),f=u.LoggerManager.instance.create("CameraKeyTrackAnimation"),d=o((function e(t){var n,r,i,o;a(this,e),this.timestamp=0,this.timestamp=t.timestamp,this.target=t.target?s.GeoCoordinates.fromObject(t.target):new s.GeoCoordinates(0,0),this.tilt=null!==(n=t.tilt)&&void 0!==n?n:0,this.heading=null!==(r=t.heading)&&void 0!==r?r:0,this.distance=null!==(i=t.distance)&&void 0!==i?i:0,this.name=null!==(o=t.name)&&void 0!==o?o:Date.now().toString()}));t.ControlPoint=d;var h=function(e){r(n,e);var t=i(n);function n(e){var r;return a(this,n),(r=t.call(this)).distance=0,r.name=e,r}return o(n)}(c.Object3D),p=function(){function e(t,n){var r,i,o,s,l=this;a(this,e),this.m_mapView=t,this.m_options=n,this.m_dummy=new h("dummy"),this.m_azimuthAxis=new c.Vector3(0,0,1),this.m_altitudeAxis=new c.Vector3(1,0,0),this.m_running=!1,this.m_lastFrameTime=0;var u=void 0!==this.m_options.interpolation?this.m_options.interpolation:c.InterpolateSmooth;this.m_options.loop=null!==(r=this.m_options.loop)&&void 0!==r?r:c.LoopOnce,this.m_options.repetitions=null!==(i=this.m_options.repetitions)&&void 0!==i?i:1,this.m_options.rotateOnlyClockwise=null===(o=this.m_options.rotateOnlyClockwise)||void 0===o||o,this.m_name=(null!==(s=this.m_options.name)&&void 0!==s?s:"CameraKeyTrackAnimation")+Date.now();var d=this.m_options.controlPoints.map((function(e){return e.timestamp})),p=[],m=[];this.m_options.controlPoints.map((function(e){var t=l.m_mapView.projection.projectPoint(e.target);p.push(t.x),p.push(t.y),p.push(t.z);var n=new c.Quaternion;n.setFromAxisAngle(l.m_azimuthAxis,c.MathUtils.degToRad(e.heading)),n.multiply((new c.Quaternion).setFromAxisAngle(l.m_altitudeAxis,c.MathUtils.degToRad(e.tilt))),m.push(n.x),m.push(n.y),m.push(n.z),m.push(n.w)}));var v=new c.VectorKeyframeTrack(".position",d,p,u),g=new c.QuaternionKeyframeTrack(".quaternion",d,m,u),y=new c.NumberKeyframeTrack(".distance",d,this.m_options.controlPoints.map((function(e){return e.distance})),u);this.m_animationClip=new c.AnimationClip("cameraflyoveranimation",-1,[v,g,y]),this.m_animationClip.validate()||f.error("Review the entered controlpoints for: ",this.m_name,", The Animation was provided with invalid track data"),this.m_animationClip.resetDuration(),this.m_animationClip.trim(),this.m_animationMixer=new c.AnimationMixer(this.m_dummy),this.m_animationAction=this.m_animationMixer.clipAction(this.m_animationClip),this.m_animationAction.setLoop(this.m_options.loop,this.m_options.repetitions),this.m_animationAction.clampWhenFinished=!0,this.m_animateCb=this.animate.bind(this),this.m_animationMixer.addEventListener("finished",this.stop.bind(this))}return o(e,[{key:"loop",set:function(e){this.m_options.loop=e,this.m_animationAction.setLoop(this.m_options.loop,this.m_options.repetitions)}},{key:"repetitions",set:function(e){this.m_options.repetitions=e,this.m_animationAction.setLoop(this.m_options.loop,this.m_options.repetitions)}},{key:"rotateOnlyClockwise",set:function(e){this.m_options.rotateOnlyClockwise=e}},{key:"start",value:function(e,t){this.m_running&&this.stop(),this.m_onFinished=t,this.m_animationAction.reset().play(),this.m_lastFrameTime=Date.now(),this.m_mapView.addEventListener(l.MapViewEventNames.Render,this.m_animateCb),this.m_mapView.beginAnimation(),this.m_running=!0}},{key:"stop",value:function(){this.m_mapView.removeEventListener(l.MapViewEventNames.Render,this.m_animateCb),this.m_mapView.endAnimation(),void 0!==this.m_onFinished&&window.setTimeout(this.m_onFinished,0),this.m_running=!1}},{key:"isRunning",value:function(){return this.m_running}},{key:"updateCameraFromDummy",value:function(){var e=c.MathUtils.radToDeg(this.m_azimuthAxis.clone().applyQuaternion(this.m_dummy.quaternion).angleTo(this.m_azimuthAxis));e=c.MathUtils.clamp(e,0,l.MapViewUtils.MAX_TILT_DEG);var t=this.m_altitudeAxis.clone().applyQuaternion(this.m_dummy.quaternion),n=t.angleTo(this.m_altitudeAxis);this.m_options.rotateOnlyClockwise&&(this.m_azimuthAxis.dot(t.normalize().cross(this.m_altitudeAxis))>=0&&(n=2*Math.PI-n));var r=c.MathUtils.radToDeg(n),i=this.m_mapView.projection.unprojectPoint(this.m_dummy.position),o=Math.max(0,this.m_dummy.distance);(isNaN(e)||isNaN(r)||isNaN(o)||!i.isValid())&&f.error("Cannot update due to invalid data",e,r,o,i),this.m_mapView.lookAt({target:i,distance:o,tilt:e,heading:r})}},{key:"animate",value:function(e){var t=(Date.now()-this.m_lastFrameTime)/1e3;this.m_animationMixer.update(t),this.m_lastFrameTime=Date.now(),this.updateCameraFromDummy()}}]),e}();t.CameraKeyTrackAnimation=p},19007:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LongPressHandler=void 0;var o=function(){function e(t,n,i){r(this,e),this.element=t,this.onLongPress=n,this.onTap=i,this.timeout=500,this.moveThreshold=5,this.buttonId=0,this.m_pressEvent=void 0,this.m_timerId=void 0,this.m_moveHandlerRegistered=!1,this.m_boundPointerMoveHandler=this.onPointerMove.bind(this),this.m_boundMouseDownHandler=this.onMouseDown.bind(this),this.m_boundTouchStartHandler=this.onTouchStart.bind(this),this.m_boundMouseUpHandler=this.onMouseUp.bind(this),this.m_boundTouchEndHandler=this.onTouchEnd.bind(this),this.element.addEventListener("mousedown",this.m_boundMouseDownHandler),this.element.addEventListener("touchstart",this.m_boundTouchStartHandler),this.element.addEventListener("mouseup",this.m_boundMouseUpHandler),this.element.addEventListener("touchend",this.m_boundTouchEndHandler)}return i(e,[{key:"dispose",value:function(){this.cancel(),this.element.removeEventListener("mousedown",this.m_boundMouseDownHandler),this.element.removeEventListener("touchstart",this.m_boundTouchStartHandler),this.element.removeEventListener("mouseup",this.m_boundMouseUpHandler),this.element.removeEventListener("touchend",this.m_boundTouchEndHandler)}},{key:"startPress",value:function(e){var t,n,r=this;this.cancelTimer(),this.m_pressEvent=null!==(n=null===(t=e.changedTouches)||void 0===t?void 0:t[0])&&void 0!==n?n:e,this.m_timerId=setTimeout((function(){return r.onTimeout()}),this.timeout),this.addPointerMoveHandler()}},{key:"onMouseDown",value:function(e){e.button===this.buttonId&&this.startPress(e)}},{key:"onTouchStart",value:function(e){this.m_pressEvent?this.cancel():1===e.changedTouches.length&&this.startPress(e)}},{key:"onMouseUp",value:function(e){var t;this.m_pressEvent&&e.button===this.buttonId&&(this.cancel(),null===(t=this.onTap)||void 0===t||t.call(this,e))}},{key:"onTouchEnd",value:function(e){var t;1===e.changedTouches.length&&e.changedTouches[0].identifier===this.m_pressEvent.identifier&&(this.cancel(),null===(t=this.onTap)||void 0===t||t.call(this,e.changedTouches[0]))}},{key:"onPointerMove",value:function(e){var t,n;if(void 0!==this.m_pressEvent){var r=null!==(n=null===(t=e.changedTouches)||void 0===t?void 0:t[0])&&void 0!==n?n:e,i=r.clientX,o=r.clientY;Math.abs(i-this.m_pressEvent.clientX)+Math.abs(o-this.m_pressEvent.clientY)>this.moveThreshold&&this.cancel()}}},{key:"cancel",value:function(){this.m_pressEvent=void 0,this.cancelTimer(),this.removePointerMoveHandler()}},{key:"cancelTimer",value:function(){void 0!==this.m_timerId&&(clearTimeout(this.m_timerId),this.m_timerId=void 0)}},{key:"addPointerMoveHandler",value:function(){this.m_moveHandlerRegistered||(this.element.addEventListener("mousemove",this.m_boundPointerMoveHandler),this.element.addEventListener("touchmove",this.m_boundPointerMoveHandler),this.m_moveHandlerRegistered=!0)}},{key:"removePointerMoveHandler",value:function(){this.m_moveHandlerRegistered&&(this.element.removeEventListener("mousemove",this.m_boundPointerMoveHandler),this.element.removeEventListener("touchmove",this.m_boundPointerMoveHandler),this.m_moveHandlerRegistered=!1)}},{key:"onTimeout",value:function(){var e=this.m_pressEvent;this.m_timerId=void 0,this.cancel(),void 0!==e&&this.onLongPress(e)}}]),e}();t.LongPressHandler=o},36814:function(e,t,n){"use strict";var r=n(43269).default,i=n(2205).default,o=n(99842).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CameraPanAnimation=t.CameraRotationAnimation=t.CameraAnimation=t.InterpolationFunction=t.EasingFunction=void 0;var l,u,c=n(31201),f=n(15739),d=n(88926),h=n(34585),p=n(48971);!function(e){e[e.Linear=0]="Linear",e[e.QuadraticIn=1]="QuadraticIn",e[e.QuadraticOut=2]="QuadraticOut",e[e.QuadraticInOut=3]="QuadraticInOut",e[e.CubicIn=4]="CubicIn",e[e.CubicOut=5]="CubicOut",e[e.CubicInOut=6]="CubicInOut",e[e.QuarticIn=7]="QuarticIn",e[e.QuarticOut=8]="QuarticOut",e[e.QuarticInOut=9]="QuarticInOut",e[e.QuinticIn=10]="QuinticIn",e[e.QuinticOut=11]="QuinticOut",e[e.QuinticInOut=12]="QuinticInOut",e[e.SinusoidalIn=13]="SinusoidalIn",e[e.SinusoidalOut=14]="SinusoidalOut",e[e.SinusoidalInOut=15]="SinusoidalInOut",e[e.ExponentialIn=16]="ExponentialIn",e[e.ExponentialOut=17]="ExponentialOut",e[e.ExponentialInOut=18]="ExponentialInOut",e[e.CircularIn=19]="CircularIn",e[e.CircularOut=20]="CircularOut",e[e.CircularInOut=21]="CircularInOut",e[e.ElasticIn=22]="ElasticIn",e[e.ElasticOut=23]="ElasticOut",e[e.ElasticInOut=24]="ElasticInOut",e[e.BackIn=25]="BackIn",e[e.BackOut=26]="BackOut",e[e.BackInOut=27]="BackInOut",e[e.BounceIn=28]="BounceIn",e[e.BounceOut=29]="BounceOut",e[e.BounceInOut=30]="BounceInOut"}(l=t.EasingFunction||(t.EasingFunction={})),function(e){e[e.Linear=0]="Linear",e[e.Bezier=1]="Bezier",e[e.CatmullRom=2]="CatmullRom"}(u=t.InterpolationFunction||(t.InterpolationFunction={}));var m=function(){function e(t,n){a(this,e),this.mapView=t,this.name=n,this.running=!1,this.stopped=!1,this.duration=1e4,this.repeat=0,this.easing=d.Easing.Linear.None,function(){if(void 0!==g)return;g=new Map,y=new Map,g.set(l.Linear,d.Easing.Linear.None),g.set(l.QuadraticIn,d.Easing.Quadratic.In),g.set(l.QuadraticOut,d.Easing.Quadratic.Out),g.set(l.QuadraticInOut,d.Easing.Quadratic.InOut),g.set(l.CubicIn,d.Easing.Cubic.In),g.set(l.CubicOut,d.Easing.Cubic.Out),g.set(l.CubicInOut,d.Easing.Cubic.InOut),g.set(l.QuarticIn,d.Easing.Quartic.In),g.set(l.QuarticOut,d.Easing.Quartic.Out),g.set(l.QuarticInOut,d.Easing.Quartic.InOut),g.set(l.QuinticIn,d.Easing.Quintic.In),g.set(l.QuinticOut,d.Easing.Quintic.Out),g.set(l.QuinticInOut,d.Easing.Quintic.InOut),g.set(l.SinusoidalIn,d.Easing.Sinusoidal.In),g.set(l.SinusoidalOut,d.Easing.Sinusoidal.Out),g.set(l.SinusoidalInOut,d.Easing.Sinusoidal.InOut),g.set(l.ExponentialIn,d.Easing.Exponential.In),g.set(l.ExponentialOut,d.Easing.Exponential.Out),g.set(l.ExponentialInOut,d.Easing.Exponential.InOut),g.set(l.CircularIn,d.Easing.Circular.In),g.set(l.CircularOut,d.Easing.Circular.Out),g.set(l.CircularOut,d.Easing.Circular.InOut),g.set(l.ElasticIn,d.Easing.Elastic.In),g.set(l.ElasticOut,d.Easing.Elastic.Out),g.set(l.ElasticInOut,d.Easing.Elastic.InOut),g.set(l.BackIn,d.Easing.Back.In),g.set(l.BackOut,d.Easing.Back.Out),g.set(l.BackInOut,d.Easing.Back.InOut),g.set(l.BounceIn,d.Easing.Bounce.In),g.set(l.BounceOut,d.Easing.Bounce.Out),g.set(l.BounceInOut,d.Easing.Bounce.InOut),y.set(u.Linear,d.Interpolation.Linear),y.set(u.Bezier,d.Interpolation.Bezier),y.set(u.CatmullRom,d.Interpolation.CatmullRom)}()}return s(e,[{key:"update",value:function(e){return!!this.tween&&this.tween.update(null!==e&&void 0!==e?e:f.PerformanceTimer.now())}},{key:"isRunning",get:function(){return this.running}}]),e}();t.CameraAnimation=m;var v=function(e){i(n,e);var t=o(n);function n(e,r,i,o){var s,l;return a(this,n),(s=t.call(this,e,o)).m_mapControls=r,s.startAngle=0,s.endAngle=360,s.m_axis=new h.Vector3(0,0,1),s.beginInteractionListener=function(){s.stopped||s.stopTween()},s.endInteractionListener=function(){s.stopped||s.startTween()},void 0!==i.axis&&(s.m_axis=i.axis),void 0!==i.startAngle&&(s.startAngle=i.startAngle),void 0!==i.endAngle&&(s.endAngle=i.endAngle),void 0!==i.duration&&(s.duration=i.duration),void 0!==i.repeat&&(s.repeat=i.repeat),void 0!==i.easing&&(s.easing="function"===typeof i.easing?i.easing:null!==(l=g.get(i.easing))&&void 0!==l?l:d.Easing.Linear.None),s.m_lastRotationValue=s.startAngle,s}return s(n,[{key:"start",value:function(e,t){if(this.running)throw new Error("Animation already running"+this.name!==void 0?this.name:0);this.running=!0,this.onFinished=t,this.stopped=!1,this.m_mapControls&&(this.m_mapControls.addEventListener(p.EventNames.BeginInteraction,this.beginInteractionListener),this.m_mapControls.addEventListener(p.EventNames.EndInteraction,this.endInteractionListener)),this.startTween(e),this.mapView.beginAnimation()}},{key:"stop",value:function(){if(!this.running)throw new Error("Animation not running"+this.name!==void 0?this.name:0);this.running=!1,this.stopped=!0,this.mapView.endAnimation(),this.tween&&this.tween.stop(),this.m_mapControls&&(this.m_mapControls.removeEventListener(p.EventNames.BeginInteraction,this.beginInteractionListener),this.m_mapControls.removeEventListener(p.EventNames.EndInteraction,this.endInteractionListener))}},{key:"startTween",value:function(e){var t=this,n=new h.Quaternion;this.m_userCamerRotation=new h.Quaternion,this.mapView.camera.getWorldQuaternion(this.m_userCamerRotation),this.tween=new d.Tween({rotation:0}).to({rotation:this.endAngle-this.m_lastRotationValue},this.duration).onComplete((function(){t.stop(),t.onFinished&&t.onFinished()})).onUpdate((function(e){var r=e.rotation;t.m_lastRotationValue=r,n.setFromEuler(new h.Euler(0,0,h.MathUtils.degToRad(r))),void 0!==t.m_userCamerRotation&&n.multiply(t.m_userCamerRotation),t.mapView.camera.quaternion.copy(n)})),this.tween.repeat(this.repeat),this.tween.easing(this.easing),this.tween.start(e)}},{key:"stopTween",value:function(){this.tween&&this.tween.stop()}}]),n}(m);t.CameraRotationAnimation=v;var g,y,E=function(e){i(n,e);var t=o(n);function n(e,r,i){var o,s,l;return a(this,n),(o=t.call(this,e,i)).name=i,o.interpolation=d.Interpolation.CatmullRom,void 0!==r.duration&&(o.duration=r.duration),void 0!==r.repeat&&(o.repeat=r.repeat),void 0!==r.easing&&(o.easing="function"===typeof r.easing?r.easing:null!==(s=g.get(r.easing))&&void 0!==s?s:d.Easing.Linear.None),void 0!==r.interpolation&&(o.interpolation="function"===typeof r.interpolation?r.interpolation:null!==(l=y.get(r.interpolation))&&void 0!==l?l:d.Interpolation.Linear),o.m_geoCoordinates=void 0!==r.geoCoordinates?r.geoCoordinates:[],o}return s(n,[{key:"addPosition",value:function(e){this.m_geoCoordinates.push(e)}},{key:"start",value:function(e,t){var n,i=this;if(this.running)throw new Error("Animation already running"+this.name!==void 0?this.name:0);this.onFinished=t,this.running=!0;var o,a=new c.GeoCoordinates(this.mapView.geoCenter.latitude,this.mapView.geoCenter.longitude,this.mapView.camera.position.z),s={latitude:new Array,longitude:new Array,altitude:new Array},l=r(this.m_geoCoordinates);try{for(l.s();!(o=l.n()).done;){var u=o.value;s.latitude.push(u.latitude),s.longitude.push(u.longitude),s.altitude.push(null!==(n=u.altitude)&&void 0!==n?n:this.mapView.camera.position.z)}}catch(f){l.e(f)}finally{l.f()}this.tween=new d.Tween(a).to(s,this.duration).onComplete((function(){i.stop(),i.onFinished&&i.onFinished()})).onUpdate((function(e){var t=e.latitude,n=e.longitude,r=e.altitude;i.mapView.geoCenter=new c.GeoCoordinates(t,n,r),i.mapView.camera.position.z=null!==r&&void 0!==r?r:0})),this.tween.repeat(this.repeat),this.tween.easing(this.easing),this.tween.interpolation(this.interpolation),this.tween.start(e),this.mapView.beginAnimation()}},{key:"stop",value:function(){if(!this.running)throw new Error("Animation not running"+this.name!==void 0?this.name:0);this.running=!1,this.mapView.endAnimation(),this.tween&&this.tween.stop()}},{key:"isRunning",get:function(){return this.running}}]),n}(m);t.CameraPanAnimation=E},48971:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(81506).default,a=n(2205).default,s=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapControls=t.EventNames=t.TiltState=void 0;var l,u,c,f=n(31201),d=n(48991),h=n(34585),p=n(53161);!function(e){e[e.NONE=0]="NONE",e[e.PAN=1]="PAN",e[e.ROTATE=2]="ROTATE",e[e.ORBIT=3]="ORBIT",e[e.TOUCH=4]="TOUCH"}(l||(l={})),function(e){e[e.Tilted=0]="Tilted",e[e.Down=1]="Down"}(u=t.TiltState||(t.TiltState={})),function(e){e.Update="update",e.BeginInteraction="begin-interaction",e.EndInteraction="end-interaction"}(c=t.EventNames||(t.EventNames={}));var m={type:c.Update},v={type:c.BeginInteraction},g={type:c.EndInteraction},y=h.MathUtils.degToRad(89),E=.01,A=function(e){a(n,e);var t=s(n);function n(e){var i,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r(this,n),(i=t.call(this)).mapView=e,i.rotationMouseDeltaFactor=.1,i.orbitingMouseDeltaFactor=.1*h.MathUtils.DEG2RAD,i.orbitingTouchDeltaFactor=.1*h.MathUtils.DEG2RAD,i.enabled=!0,i.zoomEnabled=!0,i.panEnabled=!0,i.tiltEnabled=!0,i.rotateEnabled=!0,i.inertiaEnabled=!0,i.zoomInertiaDampingDuration=.6,i.panInertiaDampingDuration=1,i.tiltToggleDuration=.5,i.tiltAngle=Math.PI/4,i.northResetAnimationDuration=1.5,i.zoomLevelDeltaOnControl=1,i.minZoomLevel=0,i.maxZoomLevel=20,i.minCameraHeight=3,i.zoomLevelDeltaOnDoubleClick=1,i.doubleTapTime=.3,i.m_currentViewDirection=new h.Vector3,i.m_lastMousePosition=new h.Vector2(0,0),i.m_initialMousePosition=new h.Vector2(0,0),i.m_mouseDelta=new h.Vector2(0,0),i.m_needsRenderLastFrame=!0,i.m_panIsAnimated=!1,i.m_panDistanceFrameDelta=new h.Vector3,i.m_panAnimationTime=0,i.m_panAnimationStartTime=0,i.m_lastAveragedPanDistanceOrAngle=0,i.m_currentInertialPanningSpeed=0,i.m_lastPanVector=new h.Vector3,i.m_rotateGlobeQuaternion=new h.Quaternion,i.m_lastRotateGlobeAxis=new h.Vector3,i.m_lastRotateGlobeAngle=0,i.m_lastRotateGlobeFromVector=new h.Vector3,i.m_recentPanDistancesOrAngles=[0,0,0,0,0],i.m_currentPanDistanceOrAngleIndex=0,i.m_zoomIsAnimated=!1,i.m_zoomDeltaRequested=0,i.m_zoomTargetNormalizedCoordinates=new h.Vector2,i.m_zoomAnimationTime=0,i.m_zoomAnimationStartTime=0,i.m_startZoom=0,i.m_tiltIsAnimated=!1,i.m_tiltRequested=void 0,i.m_tiltAnimationTime=0,i.m_tiltAnimationStartTime=0,i.m_startTilt=0,i.m_state=l.NONE,i.m_tmpVector2=new h.Vector2,i.m_tmpVector3=new h.Vector3,i.m_tapStartTime=0,i.m_lastSingleTapTime=0,i.m_fingerMoved=!1,i.m_isDoubleTap=!1,i.m_resetNorthStartTime=0,i.m_resetNorthIsAnimated=!1,i.m_resetNorthAnimationDuration=0,i.m_currentAzimuth=0,i.m_lastAzimuth=0,i.m_startAzimuth=0,i.m_maxTiltAngle=y,i.m_touchState={touches:[],currentRotation:0,initialRotation:0},i.dispose=function(){},i.camera=e.camera,i.domElement=e.renderer.domElement,i.maxZoomLevel=e.maxZoomLevel,i.minZoomLevel=e.minZoomLevel,i.minCameraHeight=e.minCameraHeight,i.bindInputEvents(i.domElement),i.handleZoom=i.handleZoom.bind(o(i)),i.handlePan=i.handlePan.bind(o(i)),i.tilt=i.tilt.bind(o(i)),i.resetNorth=i.resetNorth.bind(o(i)),i.assignZoomAfterTouchZoomRender=i.assignZoomAfterTouchZoomRender.bind(o(i)),a&&e.addEventListener(d.MapViewEventNames.Dispose,(function(){i.dispose()})),i}return i(n,[{key:"zoomLevelDeltaOnMouseWheel",get:function(){return void 0!==this.m_zoomLevelDeltaOnMouseWheel?this.m_zoomLevelDeltaOnMouseWheel:this.inertiaEnabled?.8:.2},set:function(e){this.m_zoomLevelDeltaOnMouseWheel=e}},{key:"attitude",get:function(){var e=d.MapViewUtils.extractAttitude(this.mapView,this.camera);return{yaw:h.MathUtils.radToDeg(e.yaw),pitch:h.MathUtils.radToDeg(e.pitch),roll:h.MathUtils.radToDeg(e.roll)}}},{key:"pointToNorth",value:function(){this.m_startAzimuth=Math.PI+d.MapViewUtils.extractSphericalCoordinatesFromLocation(this.mapView,this.camera,this.mapView.target).azimuth,this.m_startAzimuth=Math.atan2(Math.sin(this.m_startAzimuth),Math.cos(this.m_startAzimuth)),0!==this.m_startAzimuth&&(this.stopExistingAnimations(),this.m_resetNorthAnimationDuration=this.northResetAnimationDuration,this.m_currentAzimuth=this.m_startAzimuth,this.m_resetNorthStartTime=performance.now(),this.resetNorth())}},{key:"zoomOnTargetPosition",value:function(e,t,n){d.MapViewUtils.zoomOnTargetPosition(this.mapView,e,t,n,this.m_maxTiltAngle)}},{key:"setZoomLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};this.enabled&&this.zoomEnabled&&(this.dispatchEvent(v),this.m_startZoom=this.currentZoom,this.m_zoomDeltaRequested=e-this.zoomLevelTargeted,this.stopExistingAnimations(),this.m_zoomAnimationStartTime=performance.now(),this.m_zoomTargetNormalizedCoordinates.set(t.x,t.y),this.handleZoom(),this.dispatchEvent(g))}},{key:"toggleTilt",value:function(){if(this.enabled&&this.tiltEnabled){this.stopExistingAnimations(),this.m_startTilt=this.currentTilt;var e=this.m_startTilt<E;this.m_tiltRequested=e?this.tiltAngle:0,this.m_tiltState=e?u.Tilted:u.Down,this.m_tiltAnimationStartTime=performance.now(),this.tilt()}}},{key:"cameraHeight",get:function(){return this.mapView.camera.position.z},set:function(e){this.camera.position.setZ(e),this.camera.matrixWorldNeedsUpdate=!0}},{key:"maxTiltAngle",get:function(){return h.MathUtils.radToDeg(this.m_maxTiltAngle)},set:function(e){this.m_maxTiltAngle=Math.max(0,Math.min(y,h.MathUtils.degToRad(e)))}},{key:"zoomLevelTargeted",get:function(){return void 0===this.m_targetedZoom?this.currentZoom:this.m_targetedZoom}},{key:"tiltState",get:function(){return void 0===this.m_tiltState&&(this.m_tiltState=this.currentTilt<E||this.m_tiltState===u.Down?u.Tilted:u.Down),this.m_tiltState}},{key:"currentZoom",get:function(){return void 0!==this.m_currentZoom?this.m_currentZoom:this.mapView.zoomLevel},set:function(e){this.m_currentZoom=e}},{key:"currentTilt",get:function(){return h.MathUtils.degToRad(this.mapView.tilt)},set:function(e){this.m_currentTilt=e}},{key:"targetedTilt",get:function(){return void 0===this.m_targetedTilt?void 0===this.m_currentTilt?this.currentTilt:this.m_currentTilt:this.m_targetedTilt}},{key:"assignZoomAfterTouchZoomRender",value:function(){this.m_currentZoom=this.mapView.zoomLevel,this.m_targetedZoom=this.mapView.zoomLevel,this.mapView.removeEventListener(d.MapViewEventNames.AfterRender,this.assignZoomAfterTouchZoomRender)}},{key:"stopExistingAnimations",value:function(){this.stopResetNorth(),this.stopZoom(),this.stopPan(),this.stopTilt()}},{key:"resetNorth",value:function(){var e=(performance.now()-this.m_resetNorthStartTime)/1e3;this.inertiaEnabled&&(this.m_resetNorthIsAnimated||(this.m_resetNorthIsAnimated=!0,this.mapView.addEventListener(d.MapViewEventNames.AfterRender,this.resetNorth)),e>this.m_resetNorthAnimationDuration?this.m_needsRenderLastFrame&&(this.m_needsRenderLastFrame=!1,this.stopResetNorth()):this.m_needsRenderLastFrame=!0);this.m_lastAzimuth=this.m_currentAzimuth,this.m_currentAzimuth=this.inertiaEnabled?this.easeOutCubic(this.m_startAzimuth,0,Math.min(1,e/this.m_resetNorthAnimationDuration)):0;var t=this.m_currentAzimuth-this.m_lastAzimuth;d.MapViewUtils.orbitAroundScreenPoint(this.mapView,{deltaAzimuth:t,maxTiltAngle:this.m_maxTiltAngle}),this.updateMapView()}},{key:"stopResetNorth",value:function(){this.mapView.removeEventListener(d.MapViewEventNames.AfterRender,this.resetNorth),this.m_resetNorthIsAnimated=!1}},{key:"tilt",value:function(){void 0!==this.m_tiltRequested&&(this.m_targetedTilt=Math.max(Math.min(this.m_tiltRequested,this.maxTiltAngle),0),this.m_tiltRequested=void 0);var e=!1;if(this.inertiaEnabled){this.m_tiltIsAnimated||(this.m_tiltIsAnimated=!0,this.mapView.addEventListener(d.MapViewEventNames.AfterRender,this.tilt));var t=performance.now();this.m_tiltAnimationTime=(t-this.m_tiltAnimationStartTime)/1e3,this.m_tiltAnimationTime>=this.tiltToggleDuration?this.m_needsRenderLastFrame&&(this.m_needsRenderLastFrame=!1,this.m_tiltAnimationTime=this.tiltToggleDuration,e=!0):this.m_needsRenderLastFrame=!0}this.m_currentTilt=this.inertiaEnabled?this.easeOutCubic(this.m_startTilt,this.targetedTilt,Math.min(1,this.m_tiltAnimationTime/this.tiltToggleDuration)):this.targetedTilt;var n=this.currentTilt,r=this.m_currentTilt-n;d.MapViewUtils.orbitAroundScreenPoint(this.mapView,{deltaTilt:r,maxTiltAngle:this.m_maxTiltAngle}),this.updateMapView(),e&&this.stopTilt()}},{key:"stopTilt",value:function(){this.mapView.removeEventListener(d.MapViewEventNames.AfterRender,this.tilt),this.m_tiltIsAnimated=!1,this.m_targetedTilt=this.m_currentTilt=void 0}},{key:"easeOutCubic",value:function(e,t,n){return e+(t-e)*(1-Math.pow(1-n,3))}},{key:"easeOutCirc",value:function(e,t,n){return e+(t-e)*Math.sqrt(1-Math.pow(n-1,2))}},{key:"handleZoom",value:function(){var e=!1;if(0!==this.m_zoomDeltaRequested&&(this.m_targetedZoom=Math.max(Math.min(this.zoomLevelTargeted+this.m_zoomDeltaRequested,this.maxZoomLevel),this.minZoomLevel),this.m_zoomDeltaRequested=0),this.inertiaEnabled&&this.zoomInertiaDampingDuration>0){this.m_zoomIsAnimated||(this.m_zoomIsAnimated=!0,this.mapView.addEventListener(d.MapViewEventNames.AfterRender,this.handleZoom));var t=performance.now();this.m_zoomAnimationTime=(t-this.m_zoomAnimationStartTime)/1e3,this.m_zoomAnimationTime>this.zoomInertiaDampingDuration?this.m_needsRenderLastFrame&&(this.m_needsRenderLastFrame=!1,this.m_zoomAnimationTime=this.zoomInertiaDampingDuration,e=!0,this.stopZoom()):this.m_needsRenderLastFrame=!0}this.currentZoom=!this.inertiaEnabled||Math.abs(this.zoomLevelTargeted-this.m_startZoom)<E?this.zoomLevelTargeted:this.easeOutCirc(this.m_startZoom,this.zoomLevelTargeted,Math.min(1,this.m_zoomAnimationTime/this.zoomInertiaDampingDuration));var n=d.MapViewUtils.zoomOnTargetPosition(this.mapView,this.m_zoomTargetNormalizedCoordinates.x,this.m_zoomTargetNormalizedCoordinates.y,this.currentZoom,this.m_maxTiltAngle);!e&&n||(this.m_targetedZoom=void 0,this.m_currentZoom=void 0),this.updateMapView()}},{key:"stopZoom",value:function(){this.mapView.removeEventListener(d.MapViewEventNames.AfterRender,this.handleZoom),this.m_zoomIsAnimated=!1}},{key:"handlePan",value:function(){if(this.m_state!==l.NONE||0!==this.m_lastAveragedPanDistanceOrAngle){this.inertiaEnabled&&!this.m_panIsAnimated&&(this.m_panIsAnimated=!0,this.mapView.addEventListener(d.MapViewEventNames.AfterRender,this.handlePan));var e=this.inertiaEnabled&&this.panInertiaDampingDuration>0&&this.m_state===l.NONE&&this.m_lastAveragedPanDistanceOrAngle>0;if(e){var t=performance.now();this.m_panAnimationTime=(t-this.m_panAnimationStartTime)/1e3,this.m_panAnimationTime>this.panInertiaDampingDuration?this.m_needsRenderLastFrame&&(this.m_needsRenderLastFrame=!1,this.m_panAnimationTime=this.panInertiaDampingDuration,this.mapView.removeEventListener(d.MapViewEventNames.AfterRender,this.handlePan),this.m_panIsAnimated=!1):this.m_needsRenderLastFrame=!0;var n=this.m_panAnimationTime/this.panInertiaDampingDuration;this.m_currentInertialPanningSpeed=this.easeOutCubic(this.m_lastAveragedPanDistanceOrAngle,0,Math.min(1,n)),0===this.m_currentInertialPanningSpeed&&(this.m_lastAveragedPanDistanceOrAngle=0),this.mapView.projection.type===f.ProjectionType.Planar?this.m_panDistanceFrameDelta.copy(this.m_lastPanVector).setLength(this.m_currentInertialPanningSpeed):this.mapView.projection.type===f.ProjectionType.Spherical&&this.m_rotateGlobeQuaternion.setFromAxisAngle(this.m_lastRotateGlobeAxis,this.m_currentInertialPanningSpeed).normalize()}else{var r=0;this.mapView.projection.type===f.ProjectionType.Planar?r=this.m_lastPanVector.copy(this.m_panDistanceFrameDelta).length():this.mapView.projection.type===f.ProjectionType.Spherical&&(r=this.m_lastRotateGlobeAngle,this.m_rotateGlobeQuaternion.setFromAxisAngle(this.m_lastRotateGlobeAxis,this.m_lastRotateGlobeAngle),this.m_rotateGlobeQuaternion.normalize()),this.m_currentPanDistanceOrAngleIndex=(this.m_currentPanDistanceOrAngleIndex+1)%5,this.m_recentPanDistancesOrAngles[this.m_currentPanDistanceOrAngleIndex]=r,this.m_lastAveragedPanDistanceOrAngle=this.m_recentPanDistancesOrAngles.reduce((function(e,t){return e+t}))/5}this.mapView.projection.type===f.ProjectionType.Planar?d.MapViewUtils.panCameraAboveFlatMap(this.mapView,this.m_panDistanceFrameDelta.x,this.m_panDistanceFrameDelta.y):this.mapView.projection.type===f.ProjectionType.Spherical&&d.MapViewUtils.panCameraAroundGlobe(this.mapView,this.m_lastRotateGlobeFromVector,this.m_tmpVector3.copy(this.m_lastRotateGlobeFromVector).applyQuaternion(this.m_rotateGlobeQuaternion)),e||(this.m_panDistanceFrameDelta.set(0,0,0),this.m_lastRotateGlobeAngle=0),this.updateMapView()}}},{key:"stopPan",value:function(){this.m_panDistanceFrameDelta.set(0,0,0),this.m_lastAveragedPanDistanceOrAngle=0}},{key:"bindInputEvents",value:function(e){var t=this.contextMenu.bind(this),n=this.mouseDown.bind(this),r=this.mouseWheel.bind(this),i=this.touchStart.bind(this),o=this.touchEnd.bind(this),a=this.touchMove.bind(this),s=this.mouseDoubleClick.bind(this);e.addEventListener("dblclick",s,!1),e.addEventListener("contextmenu",t,!1),e.addEventListener("mousedown",n,!1),e.addEventListener("wheel",r,!1),e.addEventListener("touchstart",i,!1),e.addEventListener("touchend",o,!1),e.addEventListener("touchmove",a,!1),this.dispose=function(){e.removeEventListener("dblclick",s,!1),e.removeEventListener("contextmenu",t,!1),e.removeEventListener("mousedown",n,!1),e.removeEventListener("wheel",r,!1),e.removeEventListener("touchstart",i,!1),e.removeEventListener("touchend",o,!1),e.removeEventListener("touchmove",a,!1)}}},{key:"updateMapView",value:function(){this.dispatchEvent(m),this.mapView.update()}},{key:"mouseDoubleClick",value:function(e){if(this.enabled&&this.zoomEnabled){var t=this.getPointerPosition(e);this.zoomOnDoubleClickOrTap(t.x,t.y)}}},{key:"mouseDown",value:function(e){if(!1!==this.enabled&&!e.shiftKey&&(e.stopPropagation(),this.m_state===l.NONE)){if(0===e.button&&!e.ctrlKey&&this.panEnabled)this.m_state=l.PAN;else if(1===e.button)this.m_state=l.ROTATE;else{if(2!==e.button&&!e.ctrlKey||!this.tiltEnabled)return;this.m_state=l.ORBIT}this.dispatchEvent(v);var t=this.getPointerPosition(e);if(this.m_lastMousePosition.copy(t),!0===e.altKey){var n=p.getWidthAndHeightFromCanvas(this.domElement),r=n.width,i=n.height;this.m_initialMousePosition.copy(p.calculateNormalizedDeviceCoordinates(t.x,t.y,r,i))}else d.CameraUtils.getPrincipalPoint(this.mapView.camera,this.m_initialMousePosition);var o=this.mouseMove.bind(this),a=this.mouseUp.bind(this);window.addEventListener("mousemove",o,!1),window.addEventListener("mouseup",a,!1),this.m_cleanupMouseEventListeners=function(){window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",a)}}}},{key:"mouseMove",value:function(e){if(!1!==this.enabled){var t=this.getPointerPosition(e);if(this.m_mouseDelta.set(t.x-this.m_lastMousePosition.x,t.y-this.m_lastMousePosition.y),this.m_state===l.PAN){var n=this.getWorldPositionWithElevation(this.m_lastMousePosition.x,this.m_lastMousePosition.y,t.x,t.y);if(void 0===n)return;var r=n.fromWorld,i=n.toWorld;this.panFromTo(r,i)}else this.m_state===l.ROTATE?(this.stopExistingAnimations(),d.MapViewUtils.rotate(this.mapView,-this.rotationMouseDeltaFactor*this.m_mouseDelta.x,this.rotationMouseDeltaFactor*this.m_mouseDelta.y,this.m_maxTiltAngle)):this.m_state===l.ORBIT&&(this.stopExistingAnimations(),d.MapViewUtils.orbitAroundScreenPoint(this.mapView,{center:this.m_tmpVector2.set(this.m_initialMousePosition.x,this.m_initialMousePosition.y),deltaAzimuth:this.orbitingMouseDeltaFactor*this.m_mouseDelta.x,deltaTilt:-this.orbitingMouseDeltaFactor*this.m_mouseDelta.y,maxTiltAngle:this.m_maxTiltAngle}));this.m_lastMousePosition.set(t.x,t.y),this.m_zoomAnimationStartTime=performance.now(),this.updateMapView(),e.preventDefault(),e.stopPropagation()}}},{key:"mouseUp",value:function(e){!1!==this.enabled&&(this.updateMapView(),e.preventDefault(),e.stopPropagation(),this.m_state=l.NONE,this.m_cleanupMouseEventListeners&&this.m_cleanupMouseEventListeners(),this.dispatchEvent(g))}},{key:"mouseWheel",value:function(e){if(this.enabled&&this.zoomEnabled){var t=p.getWidthAndHeightFromCanvas(this.domElement),n=t.width,r=t.height,i=p.calculateNormalizedDeviceCoordinates(e.offsetX,e.offsetY,n,r);this.setZoomLevel(this.mapView.zoomLevel-this.zoomLevelDeltaOnMouseWheel*Math.sign(e.deltaY),i),e.preventDefault(),e.stopPropagation()}}},{key:"updateCurrentRotation",value:function(){if(!(this.m_touchState.touches.length<2||0===this.m_touchState.touches[1].currentWorldPosition.length()||0===this.m_touchState.touches[0].currentWorldPosition.length())){var e=0,t=0;this.mapView.projection.type===f.ProjectionType.Planar?(e=this.m_touchState.touches[1].currentWorldPosition.x-this.m_touchState.touches[0].currentWorldPosition.x,t=this.m_touchState.touches[1].currentWorldPosition.y-this.m_touchState.touches[0].currentWorldPosition.y):this.mapView.projection.type===f.ProjectionType.Spherical&&(e=this.m_touchState.touches[1].currentTouchPoint.x-this.m_touchState.touches[0].currentTouchPoint.x,t=this.m_touchState.touches[0].currentTouchPoint.y-this.m_touchState.touches[1].currentTouchPoint.y,this.m_touchState.initialRotation=this.m_touchState.currentRotation),this.m_touchState.currentRotation=Math.atan2(t,e)}}},{key:"calculatePinchDistanceInWorldSpace",value:function(){if(this.m_touchState.touches.length<2)return 0;var e=this.m_tmpVector3.subVectors(this.m_touchState.touches[0].initialWorldPosition,this.m_touchState.touches[1].initialWorldPosition).length();return this.m_tmpVector3.subVectors(this.m_touchState.touches[0].currentWorldPosition,this.m_touchState.touches[1].currentWorldPosition).length()-e}},{key:"convertTouchPoint",value:function(e,t){var n=this.getPointerPosition(e);if(void 0!==t){var r=t.currentTouchPoint,i=this.getWorldPositionWithElevation(r.x,r.y,n.x,n.y),o=void 0===i?new h.Vector3:i.toWorld;return 0!==o.length()||3===this.m_touchState.touches.length&&this.tiltEnabled?(this.m_state!==l.TOUCH&&this.dispatchEvent(v),this.m_state=l.TOUCH,{currentTouchPoint:n,lastTouchPoint:n,currentWorldPosition:o,initialWorldPosition:o}):(this.setTouchState([]),this.m_state=l.NONE,void this.dispatchEvent(g))}var a=p.getWidthAndHeightFromCanvas(this.domElement),s=a.width,u=a.height,c=p.calculateNormalizedDeviceCoordinates(n.x,n.y,s,u),f=d.MapViewUtils.rayCastWorldCoordinates(this.mapView,c.x,c.y),m=null===f?new h.Vector3:f;return 0!==m.length()||3===this.m_touchState.touches.length&&this.tiltEnabled?(this.m_state!==l.TOUCH&&this.dispatchEvent(v),this.m_state=l.TOUCH,{currentTouchPoint:n,lastTouchPoint:n,currentWorldPosition:m,initialWorldPosition:m}):(this.setTouchState([]),this.m_state=l.NONE,void this.dispatchEvent(g))}},{key:"setTouchState",value:function(e){this.m_touchState.touches=[];for(var t=0;t<e.length;++t){var n=this.convertTouchPoint(e[t]);void 0!==n&&this.m_touchState.touches.push(n)}0!==this.m_touchState.touches.length&&(this.updateCurrentRotation(),this.m_touchState.initialRotation=this.m_touchState.currentRotation)}},{key:"updateTouches",value:function(e){for(var t=Math.min(e.length,this.m_touchState.touches.length),n=0;n<t;++n){var r=this.m_touchState.touches[n],i=this.convertTouchPoint(e[n],r);void 0!==i&&void 0!==r&&(i.initialWorldPosition=r.initialWorldPosition,i.lastTouchPoint=r.currentTouchPoint,this.m_touchState.touches[n]=i)}}},{key:"zoomOnDoubleClickOrTap",value:function(e,t){if(0!==this.zoomLevelDeltaOnDoubleClick){var n=p.getWidthAndHeightFromCanvas(this.domElement),r=n.width,i=n.height,o=p.calculateNormalizedDeviceCoordinates(e,t,r,i);this.setZoomLevel(this.currentZoom+this.zoomLevelDeltaOnDoubleClick,o)}}},{key:"touchStart",value:function(e){!1!==this.enabled&&(this.m_tapStartTime=performance.now(),this.m_fingerMoved=!1,this.m_state=l.TOUCH,this.dispatchEvent(v),this.setTouchState(e.touches),this.updateTouches(e.touches),e.preventDefault(),e.stopPropagation())}},{key:"touchMove",value:function(e){if(!1!==this.enabled){if(this.m_fingerMoved=!0,this.updateTouches(e.touches),this.panEnabled&&this.m_touchState.touches.length<=2&&void 0!==this.m_touchState.touches[0]&&this.panFromTo(this.m_touchState.touches[0].initialWorldPosition,this.m_touchState.touches[0].currentWorldPosition),2===this.m_touchState.touches.length){var t=this.m_touchState.touches,n=new h.Vector2;if(!0===this.zoomEnabled||!0===this.rotateEnabled){var r=p.getWidthAndHeightFromCanvas(this.domElement),i=r.width,o=r.height;t.forEach((function(e){var t=p.calculateNormalizedDeviceCoordinates(e.currentTouchPoint.x,e.currentTouchPoint.y,i,o);n.add(t)})),n.divideScalar(t.length)}if(this.zoomEnabled){var a=this.calculatePinchDistanceInWorldSpace();if(Math.abs(a)<E)return;var s=d.MapViewUtils.calculateZoomLevelFromDistance(this.mapView,this.mapView.targetDistance-a);d.MapViewUtils.zoomOnTargetPosition(this.mapView,n.x,n.y,s,this.m_maxTiltAngle)}if(this.rotateEnabled){this.updateCurrentRotation();var l=this.m_touchState.currentRotation-this.m_touchState.initialRotation;this.stopExistingAnimations(),d.MapViewUtils.orbitAroundScreenPoint(this.mapView,{center:this.m_tmpVector2.set(n.x,n.y),deltaAzimuth:l,maxTiltAngle:this.m_maxTiltAngle})}}if(3===this.m_touchState.touches.length&&this.tiltEnabled){var u=this.m_touchState.touches[0],c=this.m_tmpVector2.subVectors(u.currentTouchPoint,u.lastTouchPoint);this.stopExistingAnimations(),d.MapViewUtils.orbitAroundScreenPoint(this.mapView,{deltaAzimuth:this.orbitingTouchDeltaFactor*c.x,deltaTilt:-this.orbitingTouchDeltaFactor*c.y,maxTiltAngle:this.m_maxTiltAngle})}this.m_zoomAnimationStartTime=performance.now(),this.updateMapView(),e.preventDefault(),e.stopPropagation()}}},{key:"touchEnd",value:function(e){!1!==this.enabled&&(this.m_state=l.NONE,this.handleDoubleTap(),this.setTouchState(e.touches),this.dispatchEvent(g),this.updateMapView(),e.preventDefault(),e.stopPropagation())}},{key:"handleDoubleTap",value:function(){if(!this.m_fingerMoved&&this.zoomEnabled){var e=performance.now();if(!(e-this.m_tapStartTime>120))return this.m_isDoubleTap?(e-this.m_lastSingleTapTime>1e3*this.doubleTapTime||this.zoomOnDoubleClickOrTap(this.m_touchState.touches[0].currentTouchPoint.x,this.m_touchState.touches[0].currentTouchPoint.y),void(this.m_isDoubleTap=!1)):(this.m_isDoubleTap=!0,void(this.m_lastSingleTapTime=e))}}},{key:"contextMenu",value:function(e){e.preventDefault()}},{key:"getWorldPositionWithElevation",value:function(e,t,n,r){var i,o,a,s=p.getWidthAndHeightFromCanvas(this.domElement),l=s.width,u=s.height,c=p.calculateNormalizedDeviceCoordinates(e,t,l,u),f=p.calculateNormalizedDeviceCoordinates(n,r,l,u);if(void 0!==this.mapView.elevationProvider&&(a=this.mapView.elevationProvider.rayCast(e,t)),void 0===a)o=d.MapViewUtils.rayCastWorldCoordinates(this.mapView,c.x,c.y),i=d.MapViewUtils.rayCastWorldCoordinates(this.mapView,f.x,f.y);else{o=a;var h=this.mapView.projection.unprojectAltitude(o);i=d.MapViewUtils.rayCastWorldCoordinates(this.mapView,f.x,f.y,h)}if(null!==o&&null!==i)return{fromWorld:o,toWorld:i}}},{key:"panFromTo",value:function(e,t){this.stopExistingAnimations(),this.m_panAnimationStartTime=performance.now(),this.mapView.projection.type===f.ProjectionType.Planar?this.m_panDistanceFrameDelta.subVectors(e,t):this.mapView.projection.type===f.ProjectionType.Spherical&&(this.m_lastRotateGlobeFromVector.copy(e),this.m_lastRotateGlobeAxis.crossVectors(e,t).normalize(),this.m_lastRotateGlobeAngle=e.angleTo(t),isNaN(this.m_lastRotateGlobeAngle)&&(this.m_lastRotateGlobeAngle=0)),this.handlePan()}},{key:"getPointerPosition",value:function(e){var t=p.getWidthAndHeightFromCanvas(this.domElement),n=this.domElement.getBoundingClientRect(),r=Math.round(n.width)/t.width,i=Math.round(n.height)/t.height;return new h.Vector2((e.clientX-Math.floor(n.left))*r,(e.clientY-Math.floor(n.top))*i)}}],[{key:"create",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new n(e,t)}}]),n}(d.EventDispatcher);t.MapControls=A},73530:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapControlsUI=void 0;var o=n(31201),a=n(48991),s=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.controls=t,this.domElement=document.createElement("div"),this.m_buttonsElement=document.createElement("div"),this.m_zoomLevelElement=null,this.m_projectionSwitchElement=null,this.m_onMapViewRenderEvent=function(){if(null!==n.m_zoomLevelElement){var e=n.controls.zoomLevelTargeted.toFixed(1);"INPUT"===n.m_zoomLevelElement.tagName?n.m_zoomLevelElement.value=e:n.m_zoomLevelElement.innerHTML=e}},this.m_onWindowClick=function(e){var t=n.m_zoomLevelElement;e&&e.target&&e.target.contains&&e.target!==t&&!e.target.contains(t)&&t.blur()};var s=document.createElement("span");s.className="harp-gl_v-align",this.domElement.appendChild(s),this.m_buttonsElement=document.createElement("div"),this.m_buttonsElement.className="harp-gl_v-aligned",this.domElement.appendChild(this.m_buttonsElement);var l=document.createElement("button");l.innerText="+",l.className="harp-gl_controls_button-top",l.classList.add("harp-gl_controls-button");var u=document.createElement("button");u.innerText="-",u.className="harp-gl_controls_button-bottom",u.classList.add("harp-gl_controls-button");var c=document.createElement("button");c.innerText="3D",c.id="harp-gl_controls_tilt-button-ui",c.title="Toggle tilt",c.classList.add("harp-gl_controls-button"),c.classList.add("harp-gl_controls_button-bottom");var f=document.createElement("button");f.id="harp-gl_controls-button_compass",f.title="Reset North",f.classList.add("harp-gl_controls-button"),f.classList.add("harp-gl_controls_button-top");var d=document.createElement("span");if(d.id="harp-gl_controls_compass",f.appendChild(d),"show"===i.zoomLevel)this.m_zoomLevelElement=document.createElement("div"),t.mapView.addEventListener(a.MapViewEventNames.Render,this.m_onMapViewRenderEvent);else if("input"===i.zoomLevel){var h=document.createElement("input");h.type="number",h.step="0.1",t.mapView.addEventListener(a.MapViewEventNames.Render,this.m_onMapViewRenderEvent);var p=function(e){t.setZoomLevel(parseFloat(h.value)),e.preventDefault()};h.addEventListener("blur",p),h.addEventListener("keypress",(function(e){"Enter"===e.key&&p(e)})),window.addEventListener("click",this.m_onWindowClick),this.m_zoomLevelElement=h}if(i.projectionSwitch){var m=document.createElement("button");m.id="harp-gl_controls_switch_projection",m.classList.add("harp-gl_controls-button");var v=function(){return"Switch to ".concat(n.controls.mapView.projection.type===o.ProjectionType.Spherical?"flat":"globe"," projection")};m.title=v();var g='\n    <svg style="margin-top:5px;" stroke-width="2" class="harp-gl_controls_switch_svg" width="50" height="50" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">\n        <ellipse ry="9.79855" rx="4.56139" id="svg_6" cy="11.99798" cx="11.99798" fill="none"/>\n        <line id="svg_8" y2="8.16866" x2="21.12086" y1="8.16866" x1="3.10044"/>\n        <line id="svg_9" y2="16.10887" x2="21.0645" y1="16.10887" x1="3.04409"/>\n        <ellipse id="svg_11" ry="9.79855" rx="9.82671" cy="11.94167" cx="12.02614" fill="none"/>\n    </svg>',y='\n    <svg style="margin-top:5px;" class="harp-gl_controls_switch_svg" width="25" height="25" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">\n        <rect id="svg_1" stroke-width="2" height="13.51524" width="18.35821" y="5.80349" x="3.21307" fill="none"/>\n        <path id="svg_14" d="m9.52018,7.71815l1.2357,-0.0032l-0.61945,1.18258l-0.61625,-1.17938z"/>\n        <path id="svg_15" d="m4.11409,7.32396l3.65718,-0.0032l0.28156,2.13991l-2.59042,1.57678l0.50682,1.80203l2.25254,0.8447l-0.90101,2.0836l0.28157,2.25254l-3.26619,-3.04093l0.67576,-2.02728l-0.61945,-1.97097l-1.01364,-3.15356l0.73528,-0.50362z"/>\n        <path id="svg_17" d="m13.23688,7.4929l2.02409,-0.0032l0.78839,1.29521l2.47779,-1.35152l2.75936,0.78839l0,1.57678l-0.73208,0.61945l-0.28157,1.97097c0,0 -0.67256,0.8479 -0.72888,0.90422c-0.05631,0.05631 0.28157,1.06996 0.33788,1.18258c0.05631,0.11263 -1.68941,-1.35152 -1.6926,-1.35472c-0.0032,-0.0032 -0.16574,1.29841 -0.16894,1.29521c-0.0032,-0.0032 -1.57358,-1.34832 -1.57678,-1.35152c-0.0032,-0.0032 -0.72888,0.67896 -0.73208,0.67576c-0.0032,-0.0032 -0.8415,-0.67256 -0.8447,-0.67576c-0.0032,-0.0032 0.73528,2.0868 0.79159,2.0868c0.05631,0 -0.50682,3.20987 -0.51002,3.20667c-0.0032,-0.0032 -1.2357,-0.16574 -1.34832,-0.16574c-0.11263,0 -0.95733,-1.52046 -0.90102,-1.57678c0.05631,-0.05631 0,-1.80203 -0.0032,-1.80523c-0.0032,-0.0032 -1.40464,-0.33468 -1.40784,-0.33788c-0.0032,-0.0032 -0.05311,-1.74252 -0.05631,-1.74572c-0.0032,-0.0032 1.18578,-0.8415 1.18258,-0.8447c-0.0032,-0.0032 1.69261,-0.16574 1.74892,-0.16574c0.05631,0 1.2389,-1.06996 1.2357,-1.07316c-0.0032,-0.0032 -1.91146,-0.10943 -1.91466,-0.11263c-0.0032,-0.0032 -1.96777,0.17214 -1.97097,0.16894c-0.0032,-0.0032 1.52366,-3.20667 1.52366,-3.20667z"/>\n    </svg>';m.innerHTML=this.controls.mapView.projection.type===o.ProjectionType.Spherical?y:g,m.addEventListener("click",(function(){n.controls.mapView.projection=n.controls.mapView.projection.type===o.ProjectionType.Spherical?o.mercatorProjection:o.sphereProjection,m.title=v(),m.innerHTML=n.controls.mapView.projection.type===o.ProjectionType.Spherical?y:g})),this.m_projectionSwitchElement=m}return this.m_buttonsElement.appendChild(l),null!==this.m_zoomLevelElement&&this.m_buttonsElement.appendChild(this.m_zoomLevelElement),this.m_buttonsElement.appendChild(u),this.m_buttonsElement.appendChild(f),this.m_buttonsElement.appendChild(c),null!==this.m_projectionSwitchElement&&this.m_buttonsElement.appendChild(this.m_projectionSwitchElement),l.addEventListener("click",(function(e){var n=t.zoomLevelTargeted+t.zoomLevelDeltaOnControl;t.setZoomLevel(n)})),l.addEventListener("dblclick",(function(e){e.stopPropagation()})),u.addEventListener("click",(function(e){var n=t.zoomLevelTargeted-t.zoomLevelDeltaOnControl;t.setZoomLevel(n)})),u.addEventListener("dblclick",(function(e){e.stopPropagation()})),c.addEventListener("click",(function(e){t.toggleTilt()})),f.addEventListener("click",(function(e){t.pointToNorth()})),t.mapView.addEventListener(a.MapViewEventNames.AfterRender,(function(){d.style.transform="rotate(".concat(t.mapView.heading,"deg)")})),this.domElement.className="harp-gl_controls",null!==this.m_zoomLevelElement&&this.m_zoomLevelElement.classList.add("harp-gl_controls_zoom-level"),!0!==i.disableDefaultStyle&&(this.initStyle(),this.domElement.style.cssText="\n                position: absolute;\n                right: 5px;\n                top: 0;\n                height: 100%; /* Vertical alignment is done dynamically, in the rest of the CSS. */\n                pointer-events: none; /* Allows to click the map even though height is 100%. */\n            "),this}return i(e,[{key:"projectionSwitchElement",get:function(){return this.m_projectionSwitchElement}},{key:"dispose",value:function(){null!==this.m_zoomLevelElement&&"INPUT"===this.m_zoomLevelElement.tagName&&window.removeEventListener("click",this.m_onWindowClick),this.controls.mapView.removeEventListener(a.MapViewEventNames.Render,this.m_onMapViewRenderEvent),this.domElement.remove()}},{key:"initStyle",value:function(){if(null===document.getElementById("here-harp-controls.map-controls-ui-styles")){var e=document.createElement("style");e.id="here-harp-controls.map-controls-ui-styles",e.appendChild(document.createTextNode('\n        /* CSS trick to align another div dynamically. */\n        .harp-gl_v-align{\n            height: 100%;\n            display: inline-block;\n            vertical-align: middle;\n        }\n        /* The target element to align vertically with vertical-align. */\n        .harp-gl_v-aligned{\n            pointer-events: all;\n            vertical-align: middle;\n            display: inline-block;\n        }\n        .harp-gl_controls-button {\n            display: block;\n            background-color: #272d37;\n            width: 40px;\n            height: 40px;\n            font-size: 22px;\n            font-weight: bold;\n            outline: none;\n            margin:0;\n            border: none;\n            color: rgba(255, 255, 255, 0.8);\n            cursor: pointer;\n            border-radius: 4px;\n            box-shadow: 0px 0px 5px 0 hsl(220, 4%, 40%);\n            transition: all 0.1s;\n            padding: 0 0 1px 1px;\n            user-select: none;\n            position:relative;\n        }\n        #harp-gl_controls_tilt-button-ui {\n            font-size: 16px;\n        }\n        .harp-gl_controls-button:active {\n            background-color: #37afaa;\n            color: #eee;\n        }\n        .harp-gl_controls-button:focus {\n            outline:none;\n        }\n        .harp-gl_controls_button-top{\n            margin-bottom:0;\n            border-bottom-right-radius:0;\n            border-bottom-left-radius:0;\n        }\n        .harp-gl_controls_button-bottom{\n            margin-top:1px;\n            border-top-right-radius:0;\n            border-top-left-radius:0;\n        }\n        .harp-gl_controls_zoom-level {\n            display: block;\n            background-color: #fff;\n            width: 40px;\n            height: 20px;\n            font-size: 12px;\n            font-weight: bold;\n            outline: none;\n            border: none;\n            color: #555;\n            opacity: 0.87;\n            box-shadow: 0px 0px 4px #aaa;\n            padding: 2px 0 0;\n            text-align: center;\n            user-select: text;\n        }\n        input.harp-gl_controls_zoom-level::-webkit-outer-spin-button,\n        input.harp-gl_controls_zoom-level::-webkit-inner-spin-button {\n            /* display: none; <- Crashes Chrome on hover */\n            -webkit-appearance: none;\n            margin: 0; /* <-- Apparently some margin are still there even though it\'s hidden */\n        }\n        input.harp-gl_controls_zoom-level[type=number] {\n            -moz-appearance:textfield; /* Firefox */\n        }\n        #harp-gl_controls-button_compass{\n            overflow: hidden;\n            margin: 5px 0 0 0;\n        }\n        #harp-gl_controls_compass{\n            pointer-events:none;\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            margin:0\n        }\n        #harp-gl_controls_compass::after{\n            content: " ";\n            position:absolute;\n            left:50%;\n            margin-left:-3px;\n            top:50%;\n            margin-top: -18px;\n            border:solid 3px rgba(0,0,0,0);\n            border-bottom:solid 15px #a34f2e;\n        }\n        #harp-gl_controls_compass::before{\n            content: " ";\n            position:absolute;\n            left:50%;\n            margin-left:-3px;\n            top:50%;\n            margin-top:0px;\n            border:solid 3px rgba(0,0,0,0);\n            border-top:solid 15px #eee;\n        }\n        #harp-gl_controls_switch_projection{\n            margin-top:5px;\n        }\n        .harp-gl_controls_switch_svg{\n            width: 25px;\n            height: 25px;\n            stroke: #d4d5d7;\n            fill: #d4d5d7;\n        }\n    ')),document.head.appendChild(e)}}}]),e}();t.MapControlsUI=s},53161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWidthAndHeightFromCanvas=t.safeParseDecimalInt=t.azimuthAltitudeToDirection=t.calculateNormalizedDeviceCoordinates=void 0;var r=n(34585);function i(e,t){if(null===e||void 0===e||""===e)return t;if(!e.match(o))return t;var n=Number.parseInt(e,10);return isNaN(n)?t:n}t.calculateNormalizedDeviceCoordinates=function(e,t,n,i){return new r.Vector2(e/n*2-1,-t/i*2+1)},t.azimuthAltitudeToDirection=function(e,t){e=e,t=t;var n=new r.Vector3,i=Math.cos(t);return n.setX(Math.sin(e)*i),n.setY(Math.cos(e)*i),n.setZ(Math.sin(t)),n},t.safeParseDecimalInt=i;var o=/^\d+$/;t.getWidthAndHeightFromCanvas=function(e){return{width:i(e.style.width,e.clientWidth),height:i(e.style.height,e.clientHeight)}}},36676:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(81315),t),i(n(44659),t),i(n(4917),t)},81315:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DataProvider=void 0,n(89064);var s=function(e){o(n,e);var t=a(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).m_clients=new Set,e}return i(n,[{key:"register",value:function(e){return 0===this.m_clients.size&&(this.m_connectPromise=this.connect()),this.m_clients.add(e),this.m_connectPromise}},{key:"unregister",value:function(e){this.m_clients.delete(e)&&0===this.m_clients.size&&this.dispose()}}]),n}(n(34585).EventDispatcher);t.DataProvider=s},44659:function(e,t,n){"use strict";var r=n(319).default,i=n(87757),o=n(48926).default,a=n(81506).default,s=n(2205).default,l=n(99842).default,u=n(34575).default,c=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileDataSource=t.TileFactory=void 0;var f=n(48991),d=n(30081),h=n(15739),p=n(4917),m=function(){function e(t){u(this,e),this.m_modelConstructor=t}return c(e,[{key:"create",value:function(e,t){var n=new this.m_modelConstructor(e,t);return n.tileLoader=new p.TileLoader(e,t,e.dataProvider(),e.decoder),n}}]),e}();t.TileFactory=m;var v=function(e){s(n,e);var t=l(n);function n(e,r){var i,o,s;if(u(this,n),(i=t.call(this,r)).m_tileFactory=e,i.m_options=r,i.logger=h.LoggerManager.instance.create("TileDataSource"),i.m_isReady=!1,r.decoder)i.m_decoder=r.decoder;else{if(!r.concurrentDecoderServiceName)throw new Error("TileDataSource[".concat(i.name,"]: unable to create, missing decoder or ")+"concurrentDecoderServiceName");i.m_decoder=f.ConcurrentDecoderFacade.getTileDecoder(r.concurrentDecoderServiceName,r.concurrentDecoderScriptUrl,r.concurrentDecoderWorkerCount,r.workerConnectionTimeout)}return i.useGeometryLoader=!0,i.cacheable=!0,i.m_unregisterClearTileCache=null===(s=(o=i.dataProvider()).onDidInvalidate)||void 0===s?void 0:s.call(o,(function(){return i.mapView.markTilesDirty(a(i))})),i}return c(n,[{key:"dispose",value:function(){var e;null===(e=this.m_unregisterClearTileCache)||void 0===e||e.call(this),this.decoder.dispose(),this.dataProvider().unregister(this)}},{key:"ready",value:function(){return this.m_isReady&&this.m_options.dataProvider.ready()}},{key:"decoder",get:function(){return this.m_decoder}},{key:"connect",value:function(){var e=o(i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.m_options.dataProvider.register(this),this.m_decoder.connect()]);case 2:this.m_isReady=!0,t={},void 0!==this.m_options.storageLevelOffset&&(t={storageLevelOffset:this.m_options.storageLevelOffset}),this.m_decoder.configure({languages:this.languages},t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLanguages",value:function(e){this.languages=e,this.m_decoder.configure({languages:this.languages}),this.mapView.clearTileCache(this.name)}},{key:"setTheme",value:function(){var e=o(i.mark((function e(t,n){var r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.ThemeLoader.load(t);case 2:t=e.sent,void 0!==this.styleSetName&&void 0!==t.styles&&(r=t.styles[this.styleSetName]),void 0!==n&&(this.languages=n),void 0!==r&&(this.m_decoder.configure({styleSet:r,definitions:t.definitions,priorities:t.priorities,labelPriorities:t.labelPriorities,languages:n}),this.mapView.clearTileCache(this.name));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"dataProvider",value:function(){return this.m_options.dataProvider}},{key:"getTilingScheme",value:function(){return this.m_options.tilingScheme}},{key:"getTile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.m_tileFactory.create(this,e);return i.copyrightInfo=this.m_options.copyrightInfo,void 0!==this.m_options.copyrightProvider&&this.m_options.copyrightProvider.getCopyrights(i.geoBox,e.level).then((function(e){i.copyrightInfo=void 0===i.copyrightInfo?e:[].concat(r(i.copyrightInfo),r(e)),t.requestUpdate()})),n||i.load(),i}},{key:"getTileInfo",value:function(e){var t=this;return new Promise((function(n,r){var i=new p.TileInfoLoader(t,e,t.m_options.dataProvider,t.decoder);i.loadAndDecode().then((function(e){e===f.TileLoaderState.Ready?n(i.tileInfo):r(new Error("TileDataSource#getInfoTile wrong final state: ".concat(e)))}))}))}}]),n}(f.DataSource);t.TileDataSource=v},4917:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileInfoLoader=t.TileLoader=void 0,n(89064);var s=n(26309),l=n(48991),u=n(44097),c=n(15739).LoggerManager.instance.create("TileLoader"),f=function(e){o(n,e);var t=a(n);function n(e,i,o,a){var s;return r(this,n),(s=t.call(this,e,i)).dataSource=e,s.tileKey=i,s.dataProvider=o,s.tileDecoder=a,s}return i(n,[{key:"priority",get:function(){return this.m_priority},set:function(e){this.m_priority=e,void 0!==this.requestController&&(this.requestController.priority=e)}},{key:"loadImpl",value:function(e,t,n){var r=this;this.dataProvider.getTile(this.tileKey,e).then((function(i){if(e.aborted){var o=new Error("Aborted");throw o.name="AbortError",o}r.onLoaded(i,t,n)})).catch((function(e){"AbortError"!==e.name&&"AbortError: Aborted"!==e.message&&n(e)}))}},{key:"cancelImpl",value:function(){this.state===u.TileLoaderState.Decoding&&this.requestController&&(this.requestController.abort(),this.requestController=void 0)}},{key:"startDecodeTile",value:function(e,t){var n=this,r=this.payload;if(void 0!==r){this.state=u.TileLoaderState.Decoding,this.payload=void 0;var i=new s.RequestController(this.priority);this.requestController=i;var o=this.dataSource;this.tileDecoder.decodeTile(r,this.tileKey,o.projection,i).then((function(t){i.signal.aborted||n.onDecoded(t,e)})).catch((function(e){"AbortError"!==e.name&&"AbortError: Aborted"!==e.message&&t(e)}))}else c.error("TileLoader#startDecodeTile: Cannot decode without payload")}},{key:"onLoaded",value:function(e,t,n){this.state=u.TileLoaderState.Loaded,this.payload=e,0===e.byteLength||e.constructor===Object&&0===Object.keys(e).length?this.onDecoded({geometries:[],techniques:[]},t):this.startDecodeTile(t,n)}},{key:"onDecoded",value:function(e,t){this.decodedTile=e,t(u.TileLoaderState.Ready)}}]),n}(l.BaseTileLoader);t.TileLoader=f;var d=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"startDecodeTile",value:function(e,t){var n=this,r=this.payload;if(void 0!==r){this.state=u.TileLoaderState.Decoding,this.payload=void 0;var i=new s.RequestController(this.priority);this.requestController=i;var o=this.dataSource;this.tileDecoder.getTileInfo(r,this.tileKey,o.projection,i).then((function(t){i.signal.aborted||(n.tileInfo=t,e(u.TileLoaderState.Ready))})).catch((function(e){"AbortError"!==e.name&&"AbortError: Aborted"!==e.message&&t(e)}))}else c.error("TileInfoLoader#startDecodeTile: Cannot decode without payload")}}]),n}(f);t.TileInfoLoader=d},48991:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(57721),t),i(n(31941),t),i(n(31221),t),i(n(20899),t),i(n(64172),t),i(n(45480),t),i(n(37119),t),i(n(86550),t),i(n(12324),t),i(n(58635),t),i(n(56951),t),i(n(52210),t),i(n(34495),t),i(n(8140),t),i(n(53509),t),i(n(87378),t),i(n(49046),t),i(n(26436),t),i(n(71690),t),i(n(13412),t),i(n(47857),t),i(n(17682),t),i(n(80821),t),i(n(41483),t),i(n(89644),t),i(n(44097),t),i(n(21317),t),i(n(89849),t),i(n(10018),t),i(n(29001),t),i(n(65312),t),i(n(64873),t),i(n(3457),t),i(n(12918),t),i(n(92980),t),i(n(61086),t),i(n(6549),t),i(n(91422),t),i(n(92301),t),i(n(40449),t),i(n(4509),t),i(n(24856),t),i(n(30081),t),i(n(67247),t),i(n(56300),t),i(n(27555),t),i(n(61563),t),i(n(3236),t),i(n(2391),t),i(n(56367),t),i(n(53687),t)},57721:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedExtrusionHandler=t.AnimatedExtrusionState=void 0;var a,s=n(26309),l=n(85164),u=n(15739);!function(e){e[e.None=0]="None",e[e.Started=1]="Started",e[e.Finished=2]="Finished"}(a=t.AnimatedExtrusionState||(t.AnimatedExtrusionState={}));var c=function(){function e(t){i(this,e),this.m_mapView=t,this.enabled=!0,this.duration=750,this.m_minZoomLevel=1,this.m_forceEnabled=!1,this.m_dataSourceMap=new Map,this.m_state=a.None,this.m_startTime=-1}return o(e,[{key:"forceEnabled",get:function(){return this.m_forceEnabled},set:function(e){this.m_forceEnabled=e,this.duration=750}},{key:"minZoomLevel",get:function(){return this.m_minZoomLevel}},{key:"setAnimationProperties",value:function(e,t){if(!s.isExtrudedPolygonTechnique(e))return!1;if(e.hasOwnProperty("minZoomLevel")&&(this.m_minZoomLevel=e.minZoomLevel),this.forceEnabled)return this.enabled;void 0!==e.animateExtrusionDuration&&(this.duration=e.animateExtrusionDuration);var n=s.getPropertyValue(e.animateExtrusion,t);return null===n?this.enabled:"boolean"===typeof n?n:"number"===typeof n&&0!==n}},{key:"update",value:function(e){var t=this.m_dataSourceMap.size>0&&e>=this.m_minZoomLevel;this.m_state===a.None&&t?this.m_state=a.Started:this.m_state===a.None||t||this.resetAnimation(!0),this.animateExtrusion()}},{key:"add",value:function(e,t){e.addDisposeCallback(this.removeTile.bind(this));var n=!1;this.m_state!==a.None&&((n=this.skipAnimation(e))?this.setTileExtrusionRatio(t,1):this.m_state===a.Finished&&this.resetAnimation(!1)),this.getOrCreateTileMap(e.dataSource).set(e.tileKey.mortonCode(),{materials:t,animated:n})}},{key:"isAnimating",get:function(){return this.m_state!==a.Finished&&this.m_state!==a.None}},{key:"getTileMap",value:function(e){return this.m_dataSourceMap.get(e)}},{key:"getOrCreateTileMap",value:function(e){var t=this.m_dataSourceMap.get(e);return t||(t=new Map,this.m_dataSourceMap.set(e,t)),t}},{key:"skipAnimation",value:function(e){return this.wasAnyAncestorAnimated(e)||this.wasAnyDescendantAnimated(e)}},{key:"wasAnyAncestorAnimated",value:function(e){var t,n,r=e.dataSource.getDataZoomLevel(this.m_minZoomLevel),i=Math.max(0,e.tileKey.level-r),o=Math.min(i,this.m_mapView.visibleTileSet.options.quadTreeSearchDistanceUp),a=this.getTileMap(e.dataSource);if(!a)return!1;for(var s=e.tileKey,l=1;l<=o;++l)if(s=s.parent(),null!==(n=null===(t=a.get(s.mortonCode()))||void 0===t?void 0:t.animated)&&void 0!==n&&n)return!0;return!1}},{key:"wasAnyDescendantAnimated",value:function(e){var t,n,i=e.dataSource.maxDataLevel-e.tileKey.level,o=Math.min(i,this.m_mapView.visibleTileSet.options.quadTreeSearchDistanceDown),a=this.getTileMap(e.dataSource);if(!a)return!1;for(var s=e.dataSource.getTilingScheme(),l=[e.tileKey],u=[],c=1;c<=o;++c){u.length=0;var f,d=r(l);try{for(d.s();!(f=d.n()).done;){var h,p=f.value,m=r(s.getSubTileKeys(p));try{for(m.s();!(h=m.n()).done;){var v=h.value;if(null!==(n=null===(t=a.get(v.mortonCode()))||void 0===t?void 0:t.animated)&&void 0!==n&&n)return!0;u.push(v)}}catch(y){m.e(y)}finally{m.f()}}}catch(y){d.e(y)}finally{d.f()}var g=[u,l];l=g[0],u=g[1]}return!1}},{key:"removeTile",value:function(e){var t=this.getTileMap(e.dataSource);t&&(t.delete(e.tileKey.mortonCode()),0===t.size&&this.m_dataSourceMap.delete(e.dataSource))}},{key:"animateExtrusion",value:function(){if(this.m_state===a.Started){var e=Date.now();this.m_startTime<0&&(this.m_startTime=e);var t=this.duration,n=Math.min(e-this.m_startTime,t),r=u.MathUtils.easeInOutCubic(l.ExtrusionFeatureDefs.DEFAULT_RATIO_MIN,l.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX,n/t);this.setExtrusionRatio(r),n>=t&&(this.m_state=a.Finished),this.m_mapView.update()}}},{key:"resetAnimation",value:function(e){this.m_state=a.None,this.m_startTime=-1,e&&this.m_dataSourceMap.forEach((function(e){e.forEach((function(e){e.animated=!1}))}))}},{key:"setExtrusionRatio",value:function(e){var t=this;this.m_dataSourceMap.forEach((function(n){n.forEach((function(n){n.animated||(t.setTileExtrusionRatio(n.materials,e),e>=1&&(n.animated=!0))}))}))}},{key:"setTileExtrusionRatio",value:function(e,t){e.forEach((function(e){e.extrusionRatio=t}))}}]),e}();t.AnimatedExtrusionHandler=c},49417:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundDataSource=void 0;var u=n(31201),c=n(87378),f=n(23350),d=n(67247),h=function(e){s(n,e);var t=l(n);function n(){var e;return o(this,n),(e=t.call(this,{name:"background"})).m_tilingScheme=n.DEFAULT_TILING_SCHEME,e.cacheable=!0,e.addGroundPlane=!0,e.enablePicking=!1,e}return a(n,[{key:"updateStorageLevelOffset",value:function(){var e,t=this;this.mapView.dataSources.forEach((function(n){n!==t&&(n.getTilingScheme()===t.m_tilingScheme&&(e=void 0===e?n.storageLevelOffset:Math.max(e,n.storageLevelOffset)))})),void 0===e&&(e=0),e!==this.storageLevelOffset&&(this.storageLevelOffset=e,this.mapView.clearTileCache(this.name))}},{key:"setTheme",value:function(){var e=i(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mapView.clearTileCache(this.name);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTilingScheme",value:function(e){var t=null!==e&&void 0!==e?e:n.DEFAULT_TILING_SCHEME;t!==this.m_tilingScheme&&(this.m_tilingScheme=t,this.updateStorageLevelOffset(),this.mapView.clearTileCache(this.name))}},{key:"getTilingScheme",value:function(){return this.m_tilingScheme}},{key:"getTile",value:function(e){var t=new d.Tile(this,e);return t.forceHasGeometry(!0),f.addGroundPlane(t,n.GROUND_RENDER_ORDER),t}}]),n}(c.DataSource);t.BackgroundDataSource=h,h.GROUND_RENDER_ORDER=Number.MIN_SAFE_INTEGER,h.DEFAULT_TILING_SCHEME=u.webMercatorTilingScheme},31941:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTileLoader=void 0;var o=n(15739),a=n(44097),s=o.LoggerManager.instance.create("BaseTileLoader"),l=function(){function e(t,n){r(this,e),this.dataSource=t,this.tileKey=n,this.state=a.TileLoaderState.Initialized,this.m_priority=0,this.loadAbortController=new AbortController}return i(e,[{key:"priority",get:function(){return this.m_priority},set:function(e){this.m_priority=e}},{key:"loadAndDecode",value:function(){switch(this.state){case a.TileLoaderState.Loading:case a.TileLoaderState.Loaded:case a.TileLoaderState.Decoding:return this.donePromise;case a.TileLoaderState.Ready:case a.TileLoaderState.Failed:case a.TileLoaderState.Initialized:case a.TileLoaderState.Canceled:return this.load(),this.donePromise}}},{key:"waitSettled",value:function(){return this.donePromise?this.donePromise:Promise.resolve(this.state)}},{key:"cancel",value:function(){this.state===a.TileLoaderState.Loading&&(this.loadAbortController.abort(),this.loadAbortController=new AbortController),this.cancelImpl(),this.onDone(a.TileLoaderState.Canceled)}},{key:"isFinished",get:function(){return this.state===a.TileLoaderState.Ready||this.state===a.TileLoaderState.Canceled||this.state===a.TileLoaderState.Failed}},{key:"cancelImpl",value:function(){}},{key:"load",value:function(){var e=this;this.loadImpl(this.loadAbortController.signal,this.onDone.bind(this),this.onError.bind(this)),void 0===this.donePromise&&(this.donePromise=new Promise((function(t,n){e.resolveDonePromise=t,e.rejectedDonePromise=n}))),this.state=a.TileLoaderState.Loading}},{key:"onDone",value:function(e){this.resolveDonePromise&&e===a.TileLoaderState.Ready?this.resolveDonePromise(e):this.rejectedDonePromise&&this.rejectedDonePromise(e),this.resolveDonePromise=void 0,this.rejectedDonePromise=void 0,this.donePromise=void 0,this.state=e}},{key:"onError",value:function(e){if(this.state!==a.TileLoaderState.Canceled){var t=this.dataSource;s.error("[".concat(t.name,"]: failed to load tile ").concat(this.tileKey.mortonCode()),e),this.error=e,this.onDone(a.TileLoaderState.Failed)}}}]),e}();t.BaseTileLoader=l},31221:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BoundsGenerator=void 0;var o=n(31201),a=n(80057),s=n(32344),l=function(){function e(t){r(this,e),this.m_view=t,this.createViewBounds()}return i(e,[{key:"generate",value:function(){return this.m_view.projection!==this.m_viewBounds.projection&&this.createViewBounds(),this.m_viewBounds.generate()}},{key:"createViewBounds",value:function(){this.m_viewBounds=this.m_view.projection.type===o.ProjectionType.Planar?new a.PlaneViewBounds(this.m_view.camera,this.m_view.projection,this.m_view):new s.SphereViewBounds(this.m_view.camera,this.m_view.projection)}}]),e}();t.BoundsGenerator=l},20899:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CameraMovementDetector=void 0;var o=n(34585),a=n(61563),s=function(){function e(t,n,i){var a=this;r(this,e),this.m_throttlingTimeout=t,this.m_movementStartedFunc=n,this.m_movementFinishedFunc=i,this.m_lastCameraPos=new o.Vector3,this.m_newCameraPos=new o.Vector3,this.m_throttlingTimerId=void 0,this.m_movementDetectorDeadline=0,this.onDeadlineTimer=function(){a.m_throttlingTimerId=void 0;var e=performance.now();e>=a.m_movementDetectorDeadline?a.movementFinished():a.startMovementFinishedTimer(e)},void 0===this.m_throttlingTimeout&&(this.m_throttlingTimeout=300)}return i(e,[{key:"checkCameraMoved",value:function(e,t){var n=a.MapViewUtils.extractAttitude(e,e.camera),r=e.camera.getWorldPosition(this.m_newCameraPos);if(void 0===this.m_lastAttitude)return this.m_lastCameraPos.copy(r),this.m_lastAttitude=n,!1;var i=!this.m_lastCameraPos.equals(r)||n.yaw!==this.m_lastAttitude.yaw||n.pitch!==this.m_lastAttitude.pitch||n.roll!==this.m_lastAttitude.roll;return i&&(this.m_lastCameraPos.copy(r),this.m_lastAttitude=n),i!==this.m_cameraMovedLastFrame&&(i&&this.movementStarted(),this.m_cameraMovedLastFrame=i),i&&(this.m_movementDetectorDeadline=t+this.m_throttlingTimeout,this.startMovementFinishedTimer(t)),this.m_cameraMovedLastFrame}},{key:"clear",value:function(e){var t=e.camera.getWorldPosition(this.m_newCameraPos);this.m_lastCameraPos.set(t.x,t.y,t.z);var n=a.MapViewUtils.extractAttitude(e,e.camera);this.m_lastAttitude=n}},{key:"forceMoved",value:function(){this.m_lastCameraPos.set(Number.NaN,Number.NaN,Number.NaN)}},{key:"cameraIsMoving",get:function(){return void 0!==this.m_throttlingTimerId}},{key:"dispose",value:function(){this.removeMovementFinishedTimer(),this.m_movementStartedFunc=void 0,this.m_movementFinishedFunc=void 0}},{key:"cameraMovedLastFrame",get:function(){return!0===this.m_cameraMovedLastFrame}},{key:"movementStarted",value:function(){void 0!==this.m_movementStartedFunc&&this.m_movementStartedFunc()}},{key:"movementFinished",value:function(){this.removeMovementFinishedTimer(),void 0!==this.m_movementFinishedFunc&&this.m_movementFinishedFunc()}},{key:"startMovementFinishedTimer",value:function(e){if(void 0===this.m_throttlingTimerId){var t=Math.max(0,this.m_movementDetectorDeadline-e);this.m_throttlingTimerId=setTimeout(this.onDeadlineTimer,t)}}},{key:"removeMovementFinishedTimer",value:function(){void 0!==this.m_throttlingTimerId&&(clearTimeout(this.m_throttlingTimerId),this.m_throttlingTimerId=void 0)}}]),e}();t.CameraMovementDetector=s},64172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraUtils=void 0;var r=n(15739),i=n(34585),o=n(71690);function a(e,t,n){return r.assert(e>0,"Focal length must be larger than 0"),Math.atan((1-t)*n*.5/e)}function s(e,t,n){return r.assert(e>0,"Focal length must be larger than 0"),0===t?2*Math.atan(.5*n/e):a(e,t,n)+a(e,-t,n)}function l(e){return e.userData.fovs}function u(e,t,n,r,l){var u,f=r*e.aspect,d=s(n,t.x,f);(d<o.MIN_FOV_RAD||d>o.MAX_FOV_RAD)&&(l=s(c(d=i.MathUtils.clamp(d,o.MIN_FOV_RAD,o.MAX_FOV_RAD),f,t.x),t.y,r));if(e.fov=i.MathUtils.radToDeg(l),0===(u=t).x&&0===u.y)delete e.userData.fovs;else{var h=r*e.aspect;e.userData.fovs={top:a(n,t.y,r),right:a(n,t.x,h),horizontal:d}}e.userData.focalLength=n}function c(e,t,n){var i=t/2;if(0===n)return i/Math.tan(e/2);var o=Math.pow(n,2);if(Math.abs(e-Math.PI/2)<1e-6)return i*Math.sqrt(1-o);var a=Math.tan(e),s=i*(1+Math.sign(a)*Math.sqrt(1+Math.pow(a,2)*(1-o)))/a;return r.assert(s>=0,"Focal length must be larger than 0"),s}!function(e){function t(e){var t;return null===(t=e.userData)||void 0===t?void 0:t.focalLength}function n(e){return i.MathUtils.degToRad(e.fov)}function r(e,t,r){t=i.MathUtils.clamp(t,o.MIN_FOV_RAD,o.MAX_FOV_RAD);var s=a(e);return u(e,s,c(t,r,s.y),r,t),n(e)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new i.Vector2;return t.x=-e.projectionMatrix.elements[8],t.y=-e.projectionMatrix.elements[9],t}function f(e){var t,n;return null!==(n=null===(t=l(e))||void 0===t?void 0:t.horizontal)&&void 0!==n?n:2*Math.atan(Math.tan(i.MathUtils.degToRad(e.fov)/2)*e.aspect)}function d(e){var t,n;return null!==(n=null===(t=l(e))||void 0===t?void 0:t.top)&&void 0!==n?n:i.MathUtils.degToRad(e.fov/2)}function h(e){var t,n;return null!==(n=null===(t=l(e))||void 0===t?void 0:t.right)&&void 0!==n?n:f(e)/2}e.getFocalLength=t,e.setFocalLength=function(e,n,i){var l=a(e),c=s(n,l.y,i);return c<o.MIN_FOV_RAD||c>o.MAX_FOV_RAD?r(e,c,i):u(e,l,n,i,c),t(e)},e.getVerticalFov=n,e.setVerticalFov=r,e.convertWorldToScreenSize=function(e,t,n){return e*n/t},e.convertScreenToWorldSize=function(e,t,n){return t*n/e},e.getPrincipalPoint=a,e.setPrincipalPoint=function(e,t){var n=e.aspect,r=.999999;e.setViewOffset(n,1,-i.MathUtils.clamp(t.x,-.999999,r)*n/2,1*i.MathUtils.clamp(t.y,-.999999,r)/2,n,1)},e.getHorizontalFov=f,e.getTopFov=d,e.getBottomFov=function(e){return i.MathUtils.degToRad(e.fov)-d(e)},e.getRightFov=h,e.getLeftFov=function(e){var t;return void 0!==(null===(t=l(e))||void 0===t?void 0:t.right)?f(e)-h(e):f(e)/2}}(t.CameraUtils||(t.CameraUtils={}))},45480:function(e,t,n){"use strict";var r=n(2205).default,i=n(99842).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultClipPlanesEvaluator=t.TiltViewClipPlanesEvaluator=t.TopViewClipPlanesEvaluator=t.ElevationBasedClipPlanesEvaluator=void 0;var s,l=n(31201),u=n(15739),c=n(34585),f=n(64172),d=n(61563),h=1e-6;!function(e){var t=[new c.Vector3,new c.Vector3],n=new c.Raycaster,r=new c.Sphere(new c.Vector3,l.EarthConstants.EQUATORIAL_RADIUS);function i(e,t){return e-t<h?0:Math.sqrt(e*e-t*t)}e.getFarDistanceFromElevatedHorizon=function(t,n,r,o){var a=i(n,r),s=i(o,r),l=Math.asin(r/n),u=Math.abs(l-e.getNormalToFwdAngle(t));return Math.cos(u)*(a+s)},e.getProjNearPlaneTanDistance=function(e,n,r){var i=e.getWorldDirection(t[0]),o=t[1].copy(i).multiplyScalar(-r).sub(e.position),a=o.dot(i);return a/o.length()>Math.cos(n)?a:void 0},e.getProjSphereIntersectionDistance=function(e,i,o){n.setFromCamera(i,e),r.radius=o;var a=n.ray.intersectSphere(r,t[0]);return null!==a?a.sub(e.position).dot(e.getWorldDirection(t[1])):void 0},e.getNormalToFwdAngle=function(e){var n=t[0].copy(e.position).negate().normalize().dot(e.getWorldDirection(t[1]));return Math.acos(c.MathUtils.clamp(n,-1,1))}}(s||(s={}));var p=function(){function e(t,n){o(this,e),u.assert(t>=n),this.m_minElevation=n,this.m_maxElevation=t}return a(e,[{key:"maxElevation",get:function(){return this.m_maxElevation},set:function(e){this.m_maxElevation=e,this.m_minElevation=Math.min(e,this.m_minElevation)}},{key:"minElevation",get:function(){return this.m_minElevation},set:function(e){this.m_minElevation=e,this.m_maxElevation=Math.max(e,this.m_maxElevation)}}]),e}();t.ElevationBasedClipPlanesEvaluator=p;var m=function(e){r(n,e);var t=i(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.EarthConstants.MAX_BUILDING_HEIGHT,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.05,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6;o(this,n),(e=t.call(this,r,i)).nearMin=a,e.nearFarMarginRatio=s,e.farMaxRatio=f,e.m_tmpVectors=[new c.Vector3,new c.Vector3,new c.Vector3],e.m_tmpQuaternion=new c.Quaternion,u.assert(a>0),u.assert(s>=0),u.assert(f>1);var d=s*a;return e.m_minimumViewRange={near:a,far:a+d,minimum:e.nearMin,maximum:Math.max(a*f,a+d)},e}return a(n,[{key:"evaluateClipPlanes",value:function(e,t,n){u.assert(e instanceof c.PerspectiveCamera,"Unsupported camera type.");var r=e;return t.type===l.ProjectionType.Spherical?this.evaluateDistanceSphericalProj(r,t,n):t.type===l.ProjectionType.Planar?this.evaluateDistancePlanarProj(r,t,n):(u.assert(!1,"Unsupported projection type"),Object.assign({},this.minimumViewRange))}},{key:"minimumViewRange",get:function(){return this.m_minimumViewRange}},{key:"evaluateDistancePlanarProj",value:function(e,t,n){u.assert(t.type!==l.ProjectionType.Spherical);var r=this.nearMin,i=this.nearMin*this.farMaxRatio,o=t.groundDistance(e.position),a=o*this.farMaxRatio;r=o-this.maxElevation,i=o-this.minElevation,r=Math.max(r,this.nearMin),i=Math.min(i,a);var s=this.nearFarMarginRatio*(r+i)/2;return{near:r=Math.max(r-s/2,this.nearMin),far:i=Math.max(i+s/2,r+s),minimum:this.nearMin,maximum:Math.max(a,i)}}},{key:"evaluateDistanceSphericalProj",value:function(e,t,n){u.assert(t.type===l.ProjectionType.Spherical);var r=t.groundDistance(e.position),i=r-this.maxElevation,o=l.EarthConstants.EQUATORIAL_RADIUS,a=Math.max(h,e.position.length()),f=Math.asin(o/a),p=c.MathUtils.degToRad(e.fov/2);e.aspect>1&&(p=d.MapViewUtils.calculateHorizontalFovByVerticalFov(2*p,e.aspect));var m=o+this.maxElevation,v=s.getFarDistanceFromElevatedHorizon(e,a,o,m),g=p>f?v:this.getFovBasedFarPlane(e,a,o,2*p,t),y=r-this.minElevation,E=r*this.farMaxRatio;i=Math.max(i,this.nearMin),g=Math.max(g,y);var A=this.nearFarMarginRatio*(i+g)/2;return{near:i=Math.max(i-A/2,this.nearMin),far:g=Math.max(g+A/2,i+A),minimum:this.nearMin,maximum:E}}},{key:"getFovBasedFarPlane",value:function(e,t,n,r,i){var o=e.position;e.matrixWorld.extractBasis(this.m_tmpVectors[0],this.m_tmpVectors[1],this.m_tmpVectors[2]),this.m_tmpQuaternion.setFromAxisAngle(this.m_tmpVectors[0],r/2);var a=this.m_tmpVectors[2],s=this.m_tmpVectors[1].copy(a).applyQuaternion(this.m_tmpQuaternion),l=o.dot(s);if(l<0)return i.groundDistance(e.position)*this.farMaxRatio;var c=o.dot(o)-l*l,f=n*n;return u.assert(c<=f,"Please use this evaluator only for top view camera poses."),l-Math.sqrt(f-c)}}]),n}(p);t.TopViewClipPlanesEvaluator=m;var v=function(e){r(n,e);var t=i(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).m_tmpV2=new c.Vector2,e}return a(n,[{key:"evaluateDistancePlanarProj",value:function(e,t,n){u.assert(t.type!==l.ProjectionType.Spherical);var r=Object.assign({},this.minimumViewRange),i=Math.PI/2-h,o=t.groundDistance(e.position),a=d.MapViewUtils.extractCameraTilt(e,t),s=f.CameraUtils.getTopFov(e),p=f.CameraUtils.getBottomFov(e),m=c.MathUtils.clamp(a+s,-i,i),v=c.MathUtils.clamp(a-p,-i,i),g=Math.max(0,(o-this.minElevation)/Math.cos(m)),y=Math.max(0,(o-this.maxElevation)/Math.cos(v));return r.near=y*Math.cos(p),r.far=g*Math.cos(s),this.applyViewRangeConstraints(r,e,t,n)}},{key:"evaluateDistanceSphericalProj",value:function(e,t,n){u.assert(t.type===l.ProjectionType.Spherical);var r=Object.assign({},this.minimumViewRange);return r.near=this.computeNearDistSphericalProj(e,t),r.far=this.computeFarDistSphericalProj(e,t),this.applyViewRangeConstraints(r,e,t,n)}},{key:"computeNearDistSphericalProj",value:function(e,t){u.assert(t.type===l.ProjectionType.Spherical);var n=t.groundDistance(e.position)-this.maxElevation;if(n<=0)return 0;var r=l.EarthConstants.EQUATORIAL_RADIUS+this.maxElevation,i=f.CameraUtils.getBottomFov(e),o=s.getProjNearPlaneTanDistance(e,i,r);if(void 0!==o)return o;f.CameraUtils.getPrincipalPoint(e,this.m_tmpV2);var a=this.m_tmpV2.y>0,c=s.getProjSphereIntersectionDistance(e,this.m_tmpV2.setComponent(1,-1),r),d=a?s.getProjSphereIntersectionDistance(e,this.m_tmpV2.setComponent(1,1),r):1/0,h=Math.min(null!==c&&void 0!==c?c:1/0,null!==d&&void 0!==d?d:1/0);return u.assert(h!==1/0,"No reference point for near distance found"),null!==h&&void 0!==h?h:n}},{key:"computeFarDistSphericalProj",value:function(e,t){u.assert(t.type===l.ProjectionType.Spherical);var n=l.EarthConstants.EQUATORIAL_RADIUS,r=n+this.minElevation,i=n+this.maxElevation,o=e.position.length();f.CameraUtils.getPrincipalPoint(e,this.m_tmpV2);var a=this.m_tmpV2.x<=0?1:-1,c=this.m_tmpV2.y>0,d=s.getProjSphereIntersectionDistance(e,this.m_tmpV2.set(a,1),r),h=c?s.getProjSphereIntersectionDistance(e,this.m_tmpV2.set(a,-1),r):0,p=Math.max(null!==d&&void 0!==d?d:1/0,null!==h&&void 0!==h?h:1/0);return p!==1/0?p:s.getFarDistanceFromElevatedHorizon(e,o,n,i)}},{key:"applyViewRangeConstraints",value:function(e,t,n,r){var i=d.MapViewUtils.getTargetAndDistance(n,t,r).distance,o=n.groundDistance(t.position)-this.minElevation,a=i*this.farMaxRatio;e.near=Math.max(e.near,this.nearMin),e.far=c.MathUtils.clamp(e.far,o,a);var s=this.nearFarMarginRatio*(e.near+e.far)/2;return e.near=Math.max(e.near-s/2,this.nearMin),e.far=Math.max(e.far+s/2,e.near+s),e.minimum=this.nearMin,e.maximum=a,e}}]),n}(m);t.TiltViewClipPlanesEvaluator=v;t.createDefaultClipPlanesEvaluator=function(){return new v}},37119:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ColorCache=void 0;var o=n(34585),a=function(){function e(){r(this,e),this.m_map=new Map}return i(e,[{key:"getColor",value:function(e){"number"===typeof e&&(e="#"+e.toString(16).padStart(6,"0"));var t=this.m_map.get(e);return void 0!==t||(t=new o.Color(e),this.m_map.set(e,t)),t}},{key:"size",get:function(){return this.m_map.size}},{key:"clear",value:function(){this.m_map.clear()}}],[{key:"instance",get:function(){return this.m_instance}}]),e}();t.ColorCache=a,a.m_instance=new a},12324:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConcurrentDecoderFacade=void 0;var o=n(17703),a=n(2391),s=function(){function e(){r(this,e)}return i(e,null,[{key:"getTileDecoder",value:function(e,t,n,r){var i=this.getWorkerSet(t,n,r);return new a.WorkerBasedDecoder(i,e)}},{key:"getWorkerSet",value:function(e,t,n){void 0===e&&(e=this.defaultScriptUrl);var r=this.workerSets[e];if(void 0===r){var i=void 0!==n?1e3*n:void 0;r=new o.ConcurrentWorkerSet({scriptUrl:e,workerCount:null!==t&&void 0!==t?t:this.defaultWorkerCount,workerConnectionTimeout:i}),this.workerSets[e]=r}return r}},{key:"destroyWorkerSet",value:function(e){var t=this.workerSets[e];void 0!==t&&(t.destroy(),delete this.workerSets[e])}},{key:"destroy",value:function(){var e=this;Object.keys(this.workerSets).forEach((function(t){e.workerSets[t].destroy()})),this.workerSets={}}},{key:"destroyIfTerminated",value:function(){var t=this,n=!0;Object.keys(this.workerSets).forEach((function(e){t.workerSets[e].terminated||(n=!1)})),n&&e.destroy()}}]),e}();t.ConcurrentDecoderFacade=s,s.defaultScriptUrl="./decoder.bundle.js",s.defaultWorkerCount=void 0,s.workerSets={}},58635:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConcurrentTilerFacade=void 0;var o=n(17703),a=n(56367),s=function(){function e(){r(this,e)}return i(e,null,[{key:"getTiler",value:function(e,t,n,r){var i=this.getWorkerSet(t,n,r);return new a.WorkerBasedTiler(i,e)}},{key:"getWorkerSet",value:function(e,t,n){void 0===e&&(e=this.defaultScriptUrl);var r=this.workerSets[e];if(void 0===r){var i=void 0!==n?1e3*n:void 0;r=new o.ConcurrentWorkerSet({scriptUrl:e,workerCount:null!==t&&void 0!==t?t:this.defaultWorkerCount,workerConnectionTimeout:i}),this.workerSets[e]=r}return r}},{key:"destroyWorkerSet",value:function(e){var t=this.workerSets[e];void 0!==t&&(t.destroy(),delete this.workerSets[e])}},{key:"destroy",value:function(){var e=this;Object.keys(this.workerSets).forEach((function(t){e.workerSets[t].destroy()})),this.workerSets={}}},{key:"destroyIfTerminated",value:function(){var t=this,n=!0;Object.keys(this.workerSets).forEach((function(e){t.workerSets[e].terminated||(n=!1)})),n&&e.destroy()}}]),e}();t.ConcurrentTilerFacade=s,s.defaultScriptUrl="./decoder.bundle.js",s.defaultWorkerCount=1,s.workerSets={}},17703:function(e,t,n){"use strict";var r=n(43269).default,i=n(87757),o=n(48926).default,a=n(319).default,s=n(34575).default,l=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConcurrentWorkerSet=t.DEFAULT_WORKER_INITIALIZATION_TIMEOUT=t.isLoggingMessage=void 0;var u=n(26309),c=n(15739),f=n(34585),d=n(53687),h=c.LoggerManager.instance.create("ConcurrentWorkerSet");function p(e){return e&&"number"===typeof e.level&&e.type===c.WORKERCHANNEL_MSG_TYPE}t.isLoggingMessage=p;t.DEFAULT_WORKER_INITIALIZATION_TIMEOUT=1e4;var m=function(){function e(t){var n=this;s(this,e),this.m_options=t,this.m_workerChannelLogger=c.LoggerManager.instance.create("WorkerChannel"),this.m_eventListeners=new Map,this.m_workers=new Array,this.m_availableWorkers=new Array,this.m_workerPromises=new Array,this.m_readyPromises=new Map,this.m_requests=new Map,this.m_workerRequestQueue=[],this.m_nextMessageId=0,this.m_stopped=!0,this.m_referenceCount=0,this.onWorkerMessage=function(e,t){var r,i,o,s,l,f;if(u.WorkerServiceProtocol.isResponseMessage(t.data)){var d=t.data;if(null===d.messageId)return void h.error("[".concat(n.m_options.scriptUrl,"]: Bad ResponseMessage: no messageId"));var m=n.m_requests.get(d.messageId);if(void 0===m)return void h.error("[".concat(n.m_options.scriptUrl,"]: Bad ResponseMessage: invalid messageId"));if(e>=0&&e<n.m_workers.length){var v=n.m_workers[e];n.m_availableWorkers.push(v),n.checkWorkerRequestQueue()}else h.error("[".concat(n.m_options.scriptUrl,"]: onWorkerMessage: invalid workerId"));if(void 0!==d.errorMessage){var g=new Error(d.errorMessage);void 0!==d.errorStack&&(g.stack=d.errorStack),m.resolver(g)}else m.resolver(void 0,d.response)}else if(u.WorkerServiceProtocol.isInitializedMessage(t.data)){var y=n.getReadyPromise(t.data.service);++y.count===n.m_workerPromises.length&&y.resolve()}else if(p(t.data))switch(t.data.level){case c.LogLevel.Trace:(r=n.m_workerChannelLogger).trace.apply(r,a(t.data.message));break;case c.LogLevel.Debug:(i=n.m_workerChannelLogger).debug.apply(i,a(t.data.message));break;case c.LogLevel.Log:(o=n.m_workerChannelLogger).log.apply(o,a(t.data.message));break;case c.LogLevel.Info:(s=n.m_workerChannelLogger).info.apply(s,a(t.data.message));break;case c.LogLevel.Warn:(l=n.m_workerChannelLogger).warn.apply(l,a(t.data.message));break;case c.LogLevel.Error:(f=n.m_workerChannelLogger).error.apply(f,a(t.data.message))}else n.eventHandler(t)},this.start()}return l(e,[{key:"addReference",value:function(){this.m_referenceCount+=1,1===this.m_referenceCount&&this.m_stopped&&this.start()}},{key:"removeReference",value:function(){this.m_referenceCount-=1,0===this.m_referenceCount&&this.destroy()}},{key:"start",value:function(e){var n=this;if(void 0!==e&&(this.m_options=e),!this.m_stopped)throw new Error("ConcurrentWorker set already started");this.m_workerCount=c.getOptionValue(this.m_options.workerCount,"undefined"!==typeof navigator&&void 0!==navigator.hardwareConcurrency?f.MathUtils.clamp(navigator.hardwareConcurrency-1,1,2):void 0,2);for(var r=c.getOptionValue(this.m_options.workerConnectionTimeout,t.DEFAULT_WORKER_INITIALIZATION_TIMEOUT),i=function(e){var t=d.WorkerLoader.startWorker(n.m_options.scriptUrl,r).then((function(t){var r=function(t){n.onWorkerMessage(e,t)};return t.addEventListener("message",r),n.m_workers.push(t),n.m_availableWorkers.push(t),{worker:t,listener:r}}));n.m_workerPromises.push(t)},o=0;o<this.m_workerCount;++o)i(o);this.m_stopped=!1}},{key:"workerCount",get:function(){return this.m_workerCount}},{key:"stop",value:function(){var e=o(i.mark((function e(){var t=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.m_stopped=!0,e.next=3,this.waitForAllResponses().then((function(){t.terminateWorkers()}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){this.m_stopped=!0,this.m_requests.forEach((function(e){e.resolver(new Error("worker destroyed"))})),this.m_requests.clear(),this.m_workerRequestQueue=[],this.terminateWorkers(),this.m_eventListeners.clear()}},{key:"terminated",get:function(){return 0===this.m_workers.length}},{key:"connect",value:function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureStarted(),e.next=3,Promise.all(this.m_workerPromises);case 3:return e.next=5,this.getReadyPromise(t).promise;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addEventListener",value:function(e,t){this.m_eventListeners.set(e,t)}},{key:"removeEventListener",value:function(e){this.m_eventListeners.delete(e)}},{key:"invokeRequest",value:function(e,t,n,r){var i=this;this.ensureStarted();var o,a=this.m_nextMessageId++,s=new Promise((function(e,t){o=function(n,r){i.m_requests.delete(a),void 0!==n?t(n):e(r)}}));this.m_requests.set(a,{promise:s,resolver:o});var l={service:e,type:u.WorkerServiceProtocol.ServiceMessageName.Request,messageId:a,request:t};return this.postRequestMessage(l,n,r),s}},{key:"broadcastRequest",value:function(e,t,n){var i,o=this,a=[],s=r(this.m_workers);try{var l=function(){var r=i.value,s=o.m_nextMessageId++,l=void 0,c=new Promise((function(e,t){l=function(n,r){o.m_requests.delete(s),void 0!==n?t(n):e(r)}}));a.push(c),o.m_requests.set(s,{promise:c,resolver:l});var f={service:e,type:u.WorkerServiceProtocol.ServiceMessageName.Request,messageId:s,request:t};void 0!==n?r.postMessage(f,n):r.postMessage(f)};for(s.s();!(i=s.n()).done;)l()}catch(c){s.e(c)}finally{s.f()}return Promise.all(a)}},{key:"broadcastMessage",value:function(e,t){this.ensureStarted(),void 0!==t?this.m_workers.forEach((function(n){return n.postMessage(e,t)})):this.m_workers.forEach((function(t){return t.postMessage(e)}))}},{key:"requestQueueSize",get:function(){return this.m_workerRequestQueue.length}},{key:"numWorkers",get:function(){return this.m_workers.length}},{key:"numIdleWorkers",get:function(){return this.m_availableWorkers.length}},{key:"eventHandler",value:function(e){"string"===typeof e.data.type&&this.dispatchEvent(e.data.type,e)}},{key:"postRequestMessage",value:function(e,t,n){if(this.ensureStarted(),0===this.m_workers.length)throw new Error("ConcurrentWorkerSet#postMessage: no workers started");if(void 0!==n&&n.signal.aborted){var r=this.m_requests.get(e.messageId);if(void 0===r)return void h.error("[".concat(this.m_options.scriptUrl,"]: Bad RequestMessage: invalid messageId"));var i=new Error("Aborted");return i.name="AbortError",void r.resolver(i,void 0)}if(this.m_availableWorkers.length>0){var o=this.m_availableWorkers.pop();void 0!==t?o.postMessage(e,t):o.postMessage(e)}else void 0===n&&(n=new u.RequestController(0)),0===n.priority&&(n.priority=-this.m_nextMessageId),this.m_workerRequestQueue.unshift({message:e,buffers:t,requestController:n})}},{key:"ensureStarted",value:function(){if(this.m_stopped)throw new Error("ConcurrentWorkerSet stopped")}},{key:"waitForAllResponses",value:function(){var e=o(i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Array,this.m_requests.forEach((function(e){t.push(e.promise)})),e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispatchEvent",value:function(e,t){var n=this.m_eventListeners.get(e);void 0!==n&&n(t)}},{key:"terminateWorkers",value:function(){this.m_workerPromises.forEach((function(e){e.then((function(e){void 0!==e&&(e.worker.removeEventListener("message",e.listener),e.worker.terminate())}))})),this.m_workers=[],this.m_workerPromises=[],this.m_availableWorkers=[],this.m_readyPromises.clear()}},{key:"getReadyPromise",value:function(e){var t=this,n=this.m_readyPromises.get(e);if(void 0!==n)return n;var r={count:0,promise:void 0,resolve:function(){},reject:function(e){r.error=e},error:void 0};return r.promise=new Promise((function(e,n){var i=r;void 0!==i.error?n(i.error):i.count===t.m_workerPromises.length&&e(),i.resolve=e,i.reject=n})),this.m_readyPromises.set(e,r),r}},{key:"checkWorkerRequestQueue",value:function(){if(0!==this.m_workerRequestQueue.length&&0!==this.m_availableWorkers.length)for(this.m_workerRequestQueue.sort((function(e,t){return e.requestController.priority-t.requestController.priority}));this.m_availableWorkers.length>0&&this.m_workerRequestQueue.length>0;){var e=this.m_workerRequestQueue.pop();this.postRequestMessage(e.message,e.buffers,e.requestController)}}}]),e}();t.ConcurrentWorkerSet=m},87378:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DataSource=void 0;var u=n(46704),c=n(15739),f=n(34585),d=c.LoggerManager.instance.create("DataSource"),h=function(e){s(n,e);var t=l(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,n),(e=t.call(this)).UPDATE_EVENT={type:"update"},e.enabled=!0,e.cacheable=!1,e.useGeometryLoader=!1,e.addGroundPlane=!1,e.minDataLevel=1,e.maxDataLevel=20,e.minDisplayLevel=1,e.maxDisplayLevel=20,e.allowOverlappingTiles=!0,e.enablePicking=!0,e.dataSourceOrder=0,e.exprPool=new u.ExprPool,e.m_maxGeometryHeight=0,e.m_minGeometryHeight=0,e.m_storageLevelOffset=0,e.m_featureStateMap=new Map;var i=r.name,a=r.styleSetName,s=r.languages,l=r.minZoomLevel,c=r.maxZoomLevel,f=r.minDataLevel,d=r.maxDataLevel,h=r.minDisplayLevel,p=r.maxDisplayLevel,m=r.storageLevelOffset,v=r.allowOverlappingTiles,g=r.enablePicking,y=r.minGeometryHeight,E=r.maxGeometryHeight,A=r.dataSourceOrder;return void 0!==i&&0!==i.length||(i="anonymous-datasource#".concat(++n.uniqueNameCounter)),e.name=i,e.styleSetName=a,void 0!==s&&(e.languages=s),void 0!==f&&(e.minDataLevel=f),void 0!==d&&(e.maxDataLevel=d),void 0!==l&&(e.minZoomLevel=l),void 0!==c&&(e.maxZoomLevel=c),void 0!==h&&(e.minDisplayLevel=h),void 0!==p&&(e.maxDisplayLevel=p),void 0!==m&&(e.m_storageLevelOffset=m),void 0!==v&&(e.allowOverlappingTiles=v),void 0!==g&&(e.enablePicking=g),void 0!==y&&(e.minGeometryHeight=y),void 0!==E&&(e.maxGeometryHeight=E),A&&(e.dataSourceOrder=A),e}return a(n,[{key:"getFeatureState",value:function(e){return this.m_featureStateMap.get(e)}},{key:"clearFeatureState",value:function(){this.m_featureStateMap.clear()}},{key:"setFeatureState",value:function(e,t){this.m_featureStateMap.set(e,t)}},{key:"removeFeatureState",value:function(e){this.m_featureStateMap.delete(e)}},{key:"styleSetName",get:function(){return this.m_styleSetName},set:function(e){e!==this.m_styleSetName&&(this.m_styleSetName=e,this.clearCache(),this.requestUpdate())}},{key:"dispose",value:function(){}},{key:"clearCache",value:function(){}},{key:"isFullyCovering",value:function(){return this.addGroundPlane}},{key:"ready",value:function(){return!0}},{key:"mapView",get:function(){if(void 0===this.m_mapView)throw new Error("This DataSource was not added to MapView");return this.m_mapView}},{key:"projection",get:function(){return this.mapView.projection}},{key:"connect",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"attach",value:function(e){this.m_mapView=e}},{key:"detach",value:function(e){c.assert(this.m_mapView===e),this.m_mapView=void 0}},{key:"isDetached",value:function(){return void 0===this.m_mapView}},{key:"setTheme",value:function(){var e=i(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setLanguages",value:function(e){this.languages=e}},{key:"setPoliticalView",value:function(e){}},{key:"updateTile",value:function(e){}},{key:"shouldPreloadTiles",value:function(){return!1}},{key:"minZoomLevel",get:function(){return d.warn("DataSource.minZoomLevel is deprecated. Use minDataLevel and maxDataLevel instead."),this.minDataLevel},set:function(e){d.warn("DataSource.minZoomLevel is deprecated. Use minDataLevel and minDisplayLevel instead."),this.minDataLevel=e}},{key:"maxZoomLevel",get:function(){return d.warn("DataSource.maxZoomLevel is deprecated. Use maxDataLevel and maxDisplayLevel instead."),this.maxDataLevel},set:function(e){d.warn("DataSource.maxZoomLevel is deprecated. Use maxDataLevel and maxDisplayLevel instead."),this.maxDataLevel=e}},{key:"maxGeometryHeight",get:function(){return this.m_maxGeometryHeight},set:function(e){this.m_maxGeometryHeight=e}},{key:"minGeometryHeight",get:function(){return this.m_minGeometryHeight},set:function(e){this.m_minGeometryHeight=e}},{key:"storageLevelOffset",get:function(){return this.m_storageLevelOffset},set:function(e){this.m_storageLevelOffset=e}},{key:"setEnableElevationOverlay",value:function(e){}},{key:"getDataZoomLevel",value:function(e){return f.MathUtils.clamp(e+this.m_storageLevelOffset,this.minDataLevel,this.maxDataLevel)}},{key:"isVisible",value:function(e){return e>=this.minDisplayLevel&&e<=this.maxDisplayLevel}},{key:"canGetTile",value:function(e,t){return t.level<=e}},{key:"shouldSubdivide",value:function(e,t){return t.level<=e}},{key:"shouldRenderText",value:function(e,t){return!0}},{key:"requestUpdate",value:function(){this.dispatchEvent(this.UPDATE_EVENT)}}]),n}(f.EventDispatcher);t.DataSource=h,h.uniqueNameCounter=0},60396:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.debugContext=t.DebugContext=void 0;var s=n(34585),l="undefined"===typeof window,u=function(e){o(n,e);var t=a(n);function n(e){var i;return r(this,n),(i=t.call(this)).value=e,i}return i(n,[{key:"set",value:function(e,t){this.value=e,this.dispatchEvent({type:n.SET_EVENT_TYPE,name:t,value:e})}}]),n}(s.EventDispatcher);u.SET_EVENT_TYPE="set";var c=function(){function e(){(r(this,e),this.m_optionsMap=new Map,!l&&"undefined"!==typeof window&&window)&&(window.__debugContext=this)}return i(e,[{key:"setValue",value:function(e,t){var n=this.m_optionsMap.get(e);n?n.set(t,e):(n=new u(t),this.m_optionsMap.set(e,n))}},{key:"getValue",value:function(e){var t=this.m_optionsMap.get(e);return t?t.value:void 0}},{key:"hasOption",value:function(e){return void 0!==this.m_optionsMap.get(e)}},{key:"addEventListener",value:function(e,t){var n=this.m_optionsMap.get(e);if(!n)throw Error("Unknown option: "+e);n.addEventListener(u.SET_EVENT_TYPE,t)}},{key:"hasEventListener",value:function(e,t){var n=this.m_optionsMap.get(e);if(n)return n.hasEventListener(u.SET_EVENT_TYPE,t);throw Error("Unknown option: "+e)}},{key:"removeEventListener",value:function(e,t){var n=this.m_optionsMap.get(e);if(!n)throw Error("Unknown option: "+e);n.removeEventListener(u.SET_EVENT_TYPE,t)}},{key:"options",get:function(){return this.m_optionsMap}},{key:"clear",value:function(){this.m_optionsMap.forEach((function(e){e.set(void 0,"")}))}}]),e}();t.DebugContext=c,t.debugContext=new c},47857:function(e,t,n){"use strict";var r=n(319).default;Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateColorProperty=t.applyBaseColorToMaterial=t.applySecondaryColorToMaterial=t.evaluateBaseColorProperty=t.buildMetricValueEvaluator=t.getMaterialConstructor=t.BASE_TECHNIQUE_NON_MATERIAL_PROPS=t.buildObject=t.usesObject3D=t.getBufferAttribute=t.createMaterial=void 0;var i=n(26309),o=n(91753),a=n(85164),s=n(15739),l=n(34585),u=n(73224),c=n(58598),f=n(46246),d=n(12918),h=n(4716),p=s.LoggerManager.instance.create("DecodedTileHelpers");function m(e,t,n,r){var i=(new l.TextureLoader).load(e,t,void 0,n);r&&i.addEventListener("dispose",(function(){URL.revokeObjectURL(e)}))}function v(e,t,n){var r=e.dataTextureProperties;if(r){var i=r.type?h.toTextureDataType(r.type):void 0,o=function(e,t){if(void 0===t)return new Uint8Array(e);switch(t){case l.UnsignedByteType:return new Uint8Array(e);case l.ByteType:return new Int8Array(e);case l.ShortType:return new Int16Array(e);case l.UnsignedShortType:return new Uint16Array(e);case l.IntType:return new Int32Array(e);case l.UnsignedIntType:return new Uint32Array(e);case l.FloatType:return new Float32Array(e);case l.HalfFloatType:return new Uint16Array(e)}throw new Error("Unsupported texture data type")}(e.buffer,i);t(new l.DataTexture(o,r.width,r.height,r.format?h.toPixelFormat(r.format):void 0,i))}else n("no data texture properties provided.")}function g(e,t,n){var r=n.technique,o=r[t];if(void 0!==o)return new Promise((function(a,s){var u=function(n){!function(e,t){t&&(void 0!==t.wrapS&&(e.wrapS=h.toWrappingMode(t.wrapS)),void 0!==t.wrapT&&(e.wrapT=h.toWrappingMode(t.wrapT)),void 0!==t.magFilter&&(e.magFilter=h.toTextureFilter(t.magFilter)),void 0!==t.minFilter&&(e.minFilter=h.toTextureFilter(t.minFilter)),void 0!==t.flipY&&(e.flipY=t.flipY),void 0!==t.repeatU&&(e.repeat.x=t.repeatU),void 0!==t.repeatV&&(e.repeat.y=t.repeatV))}(n,r[t+"Properties"]),e[t]=n,e.needsUpdate=!0,a(n)},c=function(e){p.error("#createMaterial: Failed to load texture: ",e),s(e)};if(!i.Expr.isExpr(o)||(o=i.getPropertyValue(o,n.env)))if("string"===typeof o)m(o,u,c,!1);else if(i.isTextureBuffer(o))if("image/raw"===o.type)v(o,u,c);else{var f=new Blob([o.buffer],{type:o.type});m(URL.createObjectURL(f),u,c,!0)}else"object"!==typeof o||"IMG"!==o.nodeName&&"CANVAS"!==o.nodeName||u(new l.CanvasTexture(o));else u(new l.Texture)}))}function y(e,t){if(void 0!==e.name)switch(e.name){case"extruded-line":if(!i.isExtrudedLineTechnique(e))throw new Error("Invalid extruded-line technique");return"standard"===e.shading?a.MapMeshStandardMaterial:a.MapMeshBasicMaterial;case"standard":case"terrain":case"extruded-polygon":return a.MapMeshStandardMaterial;case"dashed-line":case"solid-line":return a.SolidLineMaterial;case"fill":return t?a.MapMeshStandardMaterial:a.MapMeshBasicMaterial;case"squares":return l.PointsMaterial;case"circles":return a.CirclePointsMaterial;case"line":case"segments":return l.LineBasicMaterial;case"shader":return l.ShaderMaterial;case"text":case"labeled-icon":case"line-marker":case"label-rejection-line":return}}function E(e,t){return void 0===e||null===e?e:("string"===typeof e&&(e.endsWith("px")?(t="Pixel",e=Number.parseFloat(e)):e.endsWith("m")&&(e=Number.parseFloat(e))),"Pixel"===t?function(t){var n;return(null!==(n=t.env.lookup("$pixelToMeters"))&&void 0!==n?n:1)*i.getPropertyValue(e,t.env)}:e)}function A(e,t,n){var r=R(t,n);void 0!==r&&(i.ColorUtils.hasAlphaInHex(r)&&(p.warn("Used RGBA value for technique color without transparency support!"),r=i.ColorUtils.removeAlphaFromHex(r)),e.setHex(r))}function T(e,t,n,r,o){var s=R(r,o);if(void 0!==s){var u=i.ColorUtils.getRgbaFromHex(s),c=u.r,f=u.g,d=u.b,h=n,p=u.a;void 0!==h.opacity&&(p*=O(h.opacity,o)),p=l.MathUtils.clamp(p,0,1),e instanceof a.RawShaderMaterial?e.setOpacity(p):e.opacity=p,t.setRGB(c,f,d),p>=1?a.disableBlending(e):a.enableBlending(e)}}function O(e,t){return void 0!==t&&i.Expr.isExpr(e)&&(e=i.getPropertyValue(e,t)),e}function R(e,t){if(void 0!==(e=O(e,t))&&null!==e){if("number"===typeof e)return e;if("string"===typeof e){var n=i.parseStringEncodedColor(e);if(void 0!==n)return n}p.error("Unsupported color format: '".concat(e,"'"))}}function L(e){var t;return null===(t=o.getTechniqueDescriptor(e))||void 0===t?void 0:t.attrTransparencyColor}t.createMaterial=function(e,t,n){var u=t.technique,c=y(u,!0===t.shadowsEnabled),d={};if(void 0!==c){c.prototype instanceof a.RawShaderMaterial&&(d.rendererCapabilities=e,c!==a.HighPrecisionLineMaterial&&(d.fog=t.fog)),!0===t.shadowsEnabled&&"fill"===u.name&&(d.removeDiffuseLight=!0);var h=new c(d);return void 0!==u.id&&(h.name=u.id),i.isExtrudedPolygonTechnique(u)&&(h.flatShading=!0),h.depthTest=i.isExtrudedPolygonTechnique(u)&&!1!==u.depthTest,i.supportsTextures(u)&&i.TEXTURE_PROPERTY_KEYS.forEach((function(e){var r=g(h,e,t);r&&(null===n||void 0===n||n(r))})),i.isShaderTechnique(u)?function(e,t){e.transparent?a.enableBlending(t):a.disableBlending(t);var n=e.params,r=L(e),o=r&&r in e.params;if(Object.getOwnPropertyNames(n).filter((function(e){if(r===e||o&&i.TRANSPARENCY_PROPERTY_KEYS.includes(e)){return false}var t=e;if(t==="name"){return false}return true})).forEach((function(e){!function(e,t,n,r){var i=e;if(i[t]instanceof l.Color)A(e[t],n,r);else{var o=O(n,r);null!==o&&(i[t]=o)}}(t,e,n[e])})),o){var s=r;T(t,t[s],e,n[s])}}(u,h):f.MapMaterialAdapter.create(h,function(e){var t,n=o.getTechniqueAutomaticAttrs(e);switch(e.name){case"dashed-line":case"solid-line":var i=s.pick(e,n);return i.lineWidth=E(null!==(t=e.lineWidth)&&void 0!==t?t:0,e.metricUnit),i.outlineWidth=E(e.outlineWidth,e.metricUnit),i.dashSize=E(e.dashSize,e.metricUnit),i.gapSize=E(e.gapSize,e.metricUnit),i.offset=E(e.offset,e.metricUnit),i;case"fill":case"circles":case"squares":case"line":case"segments":return s.pick(e,n);case"standard":case"terrain":case"extruded-polygon":var a=s.pick(e,n);return!0!==e.vertexColors&&(a.color=e.color),a;case"extruded-line":return s.pick(e,["color","wireframe","transparent","opacity","polygonOffset","polygonOffsetFactor","polygonOffsetUnits"].concat(r(n)));default:return{}}}(u)),h}},t.getBufferAttribute=function(e){switch(e.type){case"float":return new l.BufferAttribute(new Float32Array(e.buffer),e.itemCount);case"uint8":return new l.BufferAttribute(new Uint8Array(e.buffer),e.itemCount,e.normalized);case"uint16":return new l.BufferAttribute(new Uint16Array(e.buffer),e.itemCount,e.normalized);case"uint32":return new l.BufferAttribute(new Uint32Array(e.buffer),e.itemCount,e.normalized);case"int8":return new l.BufferAttribute(new Int8Array(e.buffer),e.itemCount,e.normalized);case"int16":return new l.BufferAttribute(new Int16Array(e.buffer),e.itemCount,e.normalized);case"int32":return new l.BufferAttribute(new Int32Array(e.buffer),e.itemCount,e.normalized);default:throw new Error("unsupported buffer of type ".concat(e.type))}},t.usesObject3D=function(e){var t=e.name;return void 0!==t&&"text"!==t&&"labeled-icon"!==t&&"line-marker"!==t&&"label-rejection-line"!==t},t.buildObject=function(e,t,n,r,o){switch(s.assert(void 0!==e.name),e.name){case"extruded-line":case"standard":case"extruded-polygon":case"fill":return o?new u.DisplacedMesh(t,n,(function(){return{min:r.elevationRange.minElevation,max:r.elevationRange.maxElevation}})):new l.Mesh(t,n);case"terrain":return new l.Mesh(t,n);case"dashed-line":case"solid-line":return o?new u.DisplacedMesh(t,n,(function(){return{min:r.elevationRange.minElevation,max:r.elevationRange.maxElevation}}),c.SolidLineMesh.raycast):new c.SolidLineMesh(t,n);case"circles":return new d.Circles(t,n);case"squares":return new d.Squares(t,n);case"line":case"segments":return new l.LineSegments(t,n);case"shader":switch(s.assert(i.isShaderTechnique(e),"Invalid technique"),e.primitive){case"line":return new l.Line(t,n);case"segments":return new l.LineSegments(t,n);case"point":return new l.Points(t,n);case"mesh":return new l.Mesh(t,n)}}return s.assert(!1,"Invalid technique"),new l.Object3D},t.BASE_TECHNIQUE_NON_MATERIAL_PROPS=["name","id","renderOrder","transient"],t.getMaterialConstructor=y,t.buildMetricValueEvaluator=E,t.evaluateBaseColorProperty=function(e,t){var n=function(e){var t=L(e);if(void 0!==t){return i.isShaderTechnique(e)?e.params[t]:e[t]}return}(e);if(void 0!==n)return R(n,t)},t.applySecondaryColorToMaterial=A,t.applyBaseColorToMaterial=T,t.evaluateColorProperty=R},17682:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.setDepthPrePassStencil=t.createDepthPrePassMesh=t.isDepthPrePassMesh=t.createDepthPrePassMaterial=t.isRenderDepthPrePassEnabled=t.DEPTH_PRE_PASS_STENCIL_MASK=void 0;var i=n(67538),o=n(85164),a=n(34585),s=n(47857);t.DEPTH_PRE_PASS_STENCIL_MASK=1;function l(e){e.depthWrite=!1,e.depthFunc=a.EqualDepth,e.colorWrite=!0,o.enforceBlending(e);var t=e.clone();return t.isDepthPrepassMaterial=!0,t.depthWrite=!0,t.depthTest=!0,t.depthFunc=a.LessDepth,t.colorWrite=!1,t.opacity=1,t.blending=a.NoBlending,t}t.isRenderDepthPrePassEnabled=function(e,t){if(!1===e.enableDepthPrePass)return!1;var n=void 0!==e.opacity&&e.opacity>0&&e.opacity<1;if(!n){var r=s.evaluateBaseColorProperty(e,t);if(void 0!==r){var o=i.ColorUtils.getAlphaFromHex(r);n=o>0&&o<1}}return n},t.createDepthPrePassMaterial=l,t.isDepthPrePassMesh=function(e){if(!0!==e.isMesh)return!1;var t=e;return t.material instanceof Array?t.material.every((function(e){return!0===e.isDepthPrepassMaterial})):!0===t.material.isDepthPrepassMaterial},t.createDepthPrePassMesh=function(e){var t=e.geometry;if(!(t instanceof a.BufferGeometry))throw new Error("#createDepthPassMesh only BufferGeometry is supported");var n=t.getAttribute("position");if(!n)throw new Error("#createDepthPassMesh position attribute not found");var i=new a.BufferGeometry;i.setAttribute("position",n);var o=t.getAttribute("uv");o&&i.setAttribute("uv",o);var s=t.getAttribute("normal");s&&i.setAttribute("normal",s);var u=t.getAttribute("extrusionAxis");u&&i.setAttribute("extrusionAxis",u),t.index&&i.setIndex(t.index);var c,f=r(t.groups);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=d.start,p=d.count,m=d.materialIndex;i.addGroup(h,p,m)}}catch(y){f.e(y)}finally{f.f()}var v=e.material instanceof Array?e.material.map(l):l(e.material),g=new a.Mesh(i,v);return g.renderOrder=e.renderOrder-1e-6,g},t.setDepthPrePassStencil=function(e,n){function r(e){var n=e;n.stencilWrite=!0,n.stencilFail=a.KeepStencilOp,n.stencilZFail=a.KeepStencilOp,n.stencilZPass=a.ReplaceStencilOp,n.stencilFunc=a.AlwaysStencilFunc,n.stencilRef=255,n.stencilFuncMask=t.DEPTH_PRE_PASS_STENCIL_MASK}function i(e){var n=e;n.stencilWrite=!0,n.stencilFail=a.KeepStencilOp,n.stencilZFail=a.KeepStencilOp,n.stencilZPass=a.ZeroStencilOp,n.stencilFunc=a.EqualStencilFunc,n.stencilRef=255,n.stencilFuncMask=t.DEPTH_PRE_PASS_STENCIL_MASK}e.material instanceof Array?e.material.map(r):r(e.material),n.material instanceof Array?n.material.map(i):i(n.material)}},80821:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},41483:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},89644:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CalculationStatus=void 0,function(e){e[e.PendingApproximate=0]="PendingApproximate",e[e.FinalPrecise=1]="FinalPrecise"}(t.CalculationStatus||(t.CalculationStatus={}))},49046:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var o=function(){function e(){r(this,e),this.m_listeners=new Map}return i(e,[{key:"dispose",value:function(){this.removeAllEventListeners()}},{key:"hasEventListener",value:function(e,t){var n=this.m_listeners.get(e);return void 0!==n&&(void 0===t||n.includes(t))}},{key:"addEventListener",value:function(e,t){var n=this.m_listeners.get(e);void 0===n&&(n=[],this.m_listeners.set(e,n)),n.includes(t)||n.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this.m_listeners.get(e);if(void 0!==n)if(void 0===t)this.m_listeners.delete(e);else{var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&this.m_listeners.delete(e))}}},{key:"removeAllEventListeners",value:function(){for(var e=0,t=Array.from(this.m_listeners.keys());e<t.length;e++){var n=t[e];this.removeEventListener(n)}}},{key:"eventTypes",get:function(){return Array.from(this.m_listeners.keys())}},{key:"listeners",value:function(e){return this.m_listeners.get(e)}},{key:"dispatchEvent",value:function(e){var t=this.m_listeners.get(e.type);if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}]),e}();t.EventDispatcher=o},26436:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FixedClipPlanesEvaluator=void 0;var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;r(this,e),this.minNear=t,this.minFarOffset=n,this.minFar=t+n,this.m_nearPlane=t,this.m_farPlane=this.minFar}return i(e,[{key:"nearPlane",get:function(){return this.m_nearPlane},set:function(e){this.invalidatePlanes(e,this.m_farPlane)}},{key:"farPlane",get:function(){return this.m_farPlane},set:function(e){this.invalidatePlanes(this.m_nearPlane,e)}},{key:"minElevation",get:function(){return 0},set:function(e){}},{key:"maxElevation",get:function(){return 0},set:function(e){}},{key:"evaluateClipPlanes",value:function(e,t,n){return{near:this.m_nearPlane,far:this.m_farPlane,minimum:this.minNear,maximum:this.m_farPlane}}},{key:"invalidatePlanes",value:function(e,t){var n=Math.max(this.minNear,e),r=Math.max(this.minFar,t,n+this.minFarOffset);this.m_nearPlane=n,this.m_farPlane=r}}]),e}();t.FixedClipPlanesEvaluator=o},71690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_FOV_RAD=t.MIN_FOV_RAD=t.MAX_FOV_DEG=t.MIN_FOV_DEG=t.DEFAULT_FOV_CALCULATION=void 0;var r=n(34585);t.DEFAULT_FOV_CALCULATION={type:"dynamic",fov:40},t.MIN_FOV_DEG=10,t.MAX_FOV_DEG=140,t.MIN_FOV_RAD=r.MathUtils.degToRad(t.MIN_FOV_DEG),t.MAX_FOV_RAD=r.MathUtils.degToRad(t.MAX_FOV_DEG)},95596:function(e,t,n){"use strict";var r=n(319).default,i=n(43269).default,o=n(93913).default,a=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FrustumIntersection=t.TileKeyEntry=void 0;var s=n(31201),l=n(15739),u=n(34585),c=n(89644),f=n(24943),d=n(61563),h=[new u.Vector3,new u.Vector3],p=new u.Vector4,m=o((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;a(this,e),this.tileKey=t,this.area=n,this.offset=r,this.elevationRange=i,this.distance=o}));t.TileKeyEntry=m;var v=function(){function e(t,n,r,i,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:256;a(this,e),this.m_camera=t,this.mapView=n,this.m_extendedFrustumCulling=r,this.m_tileWrappingEnabled=i,this.m_enableMixedLod=o,this.m_tilePixelSize=s,this.m_frustum=new u.Frustum,this.m_viewProjectionMatrix=new u.Matrix4,this.m_rootTileKeys=[],this.m_tileKeyEntries=new Map,this.m_mapTileCuller=new f.MapTileCuller(t)}return o(e,[{key:"camera",get:function(){return this.m_camera}},{key:"projection",get:function(){return this.mapView.projection}},{key:"updateFrustum",value:function(e){this.m_viewProjectionMatrix.multiplyMatrices(void 0!==e?e:this.m_camera.projectionMatrix,this.m_camera.matrixWorldInverse),this.m_frustum.setFromProjectionMatrix(this.m_viewProjectionMatrix),this.m_extendedFrustumCulling&&this.m_mapTileCuller.setup(),this.computeRequiredInitialRootTileKeys(this.m_camera.position)}},{key:"compute",value:function(e,t,n,o){var a=this;this.m_tileKeyEntries.clear(),l.assert(0!==this.mapView.viewportHeight);var c=Math.pow(this.m_tilePixelSize/this.mapView.viewportHeight,2),f=void 0!==t&&t.getTilingScheme()===e,d=this.mapView.projection.type===s.ProjectionType.Spherical||f,h=new Set(n),p=0,m=0;o.forEach((function(e){p=Math.min(p,e.minGeometryHeight),m=Math.max(m,e.maxGeometryHeight)}));var v,g={calculationFinal:!0,tileBounds:d?new s.OrientedBox3:new u.Box3},y=i(h);try{for(y.s();!(v=y.n()).done;){var E=v.value;this.m_tileKeyEntries.set(E,new Map)}}catch(w){y.e(w)}finally{y.f()}var A,T=i(this.m_rootTileKeys);try{for(T.s();!(A=T.n()).done;){var O=A.value,R=O.tileKey,L=O.offset,S=this.getTileKeyEntry(R,L,e,g,p,m,f?t:void 0);if(void 0!==S){var b,I=i(h);try{for(I.s();!(b=I.n()).done;){var N=b.value;this.m_tileKeyEntries.get(N).set(s.TileKeyUtils.getKeyForTileKeyAndOffset(R,L),S)}}catch(w){I.e(w)}finally{I.f()}}}}catch(w){T.e(w)}finally{T.f()}for(var x=r(this.m_rootTileKeys.values()),_=function(){var r=x.pop();if(void 0===r)return"break";var l=r.tileKey,u=r.offset;if(!o.some((function(e,t){return e.shouldSubdivide(n[t],l)})))return"continue";if(a.m_enableMixedLod&&r.area<c)return"continue";var d,v=s.TileKeyUtils.getKeyForTileKeyAndOffset(l,u),y=i(h);try{for(y.s();!(d=y.n()).done;){var E=d.value;if(!(l.level>=E))a.m_tileKeyEntries.get(E).delete(v)}}catch(w){y.e(w)}finally{y.f()}var A,T=i(e.getSubTileKeys(l));try{for(T.s();!(A=T.n()).done;){var O=A.value,R=a.getTileKeyEntry(O,u,e,g,p,m,f?t:void 0);if(void 0!==R){var L,S=i(h);try{for(S.s();!(L=S.n()).done;){var b=L.value;if(!(R.tileKey.level>b)){var I=s.TileKeyUtils.getKeyForTileKeyAndOffset(O,u);a.m_tileKeyEntries.get(b).set(I,R)}}}catch(w){S.e(w)}finally{S.f()}x.push(R)}}}catch(w){T.e(w)}finally{T.f()}};x.length>0;){var M=_();if("break"===M)break}return{tileKeyEntries:this.m_tileKeyEntries,calculationFinal:g.calculationFinal}}},{key:"getTileKeyEntry",value:function(e,t,n,r,i,o,a){var s,l,u=function(e,t,n){var r=e.getGeoBox(t),i=360*n;return r.northEast.longitude+=i,r.southWest.longitude+=i,r}(n,e,t);if(void 0!==a){var f=a.getElevationRange(e);u.southWest.altitude=f.minElevation,u.northEast.altitude=f.maxElevation,r.calculationFinal=r.calculationFinal&&f.calculationStatus===c.CalculationStatus.FinalPrecise}u.southWest.altitude=(null!==(s=u.southWest.altitude)&&void 0!==s?s:0)+i,u.northEast.altitude=(null!==(l=u.northEast.altitude)&&void 0!==l?l:0)+o,this.mapView.projection.projectBox(u,r.tileBounds);var d=this.computeTileAreaAndDistance(r.tileBounds),h=d.area,p=d.distance;if(h>0)return new m(e,h,t,{minElevation:u.southWest.altitude,maxElevation:u.northEast.altitude},p)}},{key:"computeTileAreaAndDistance",value:function(e){if(e instanceof u.Box3){if(this.m_extendedFrustumCulling&&!this.m_mapTileCuller.frustumIntersectsTileBox(e)||!this.m_frustum.intersectsBox(e))return{area:0,distance:1/0}}else if(!e.intersects(this.m_frustum))return{area:0,distance:1/0};var t=e.getCenter(h[0]),n=p.set(t.x,t.y,t.z,1).applyMatrix4(this.m_viewProjectionMatrix),r=.5*e.getSize(h[1]).length()/n.w;return{area:r*r,distance:n.z<=-n.w?-1:n.z>=n.w?1:n.z/n.w}}},{key:"computeRequiredInitialRootTileKeys",value:function(e){this.m_rootTileKeys=[];var t=s.TileKey.fromRowColumnLevel(0,0,0);if(this.mapView.projection.type===s.ProjectionType.Planar&&this.m_tileWrappingEnabled)for(var n=this.mapView.projection.unprojectPoint(e),r=Math.round(n.longitude/360),i=this.m_camera,o=d.MapViewUtils.extractAttitude(this.mapView,i).pitch,a=i.aspect>1?i.aspect:1/i.aspect,l=u.MathUtils.degToRad(i.fov*a/2)+o,c=Math.tan(l)*i.position.z-Math.tan(o)*i.position.z,f=new u.Vector3(e.x-c,e.y,e.z),h=this.mapView.projection.unprojectPoint(f),p=u.MathUtils.clamp(Math.ceil(Math.abs((n.longitude-h.longitude)/360)*Math.SQRT2),0,7),v=-p+r;v<=p+r;v++)this.m_rootTileKeys.push(new m(t,1/0,v));else this.m_rootTileKeys.push(new m(t,1/0,0))}}]),e}();t.FrustumIntersection=v},44097:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TileLoaderState=void 0,function(e){e[e.Initialized=0]="Initialized",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Decoding=3]="Decoding",e[e.Ready=4]="Ready",e[e.Canceled=5]="Canceled",e[e.Failed=6]="Failed"}(t.TileLoaderState||(t.TileLoaderState={}))},29001:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapAnchors=void 0;var o=n(31201),a=n(34585),s=function(){function e(){r(this,e),this.m_anchors=[],this.m_priorities=[]}return i(e,[{key:"children",get:function(){return this.m_anchors}},{key:"add",value:function(e){this.m_anchors.push(e)}},{key:"remove",value:function(e){var t=this.m_anchors.findIndex((function(t){return t===e}));t>-1&&this.m_anchors.splice(t,1)}},{key:"clear",value:function(){this.m_anchors.length=0}},{key:"setPriorities",value:function(e){this.m_priorities=e}},{key:"update",value:function(e,t,n,r){var i=this,s=new a.Vector3;this.m_anchors.forEach((function(a){var l;if(void 0!==a.styleSet){var u=null===(l=i.m_priorities)||void 0===l?void 0:l.findIndex((function(e){return e.group===a.styleSet&&e.category===a.category}));void 0!==u&&-1!==u&&(a.renderOrder=10*(u+1))}var c=void 0!==a.geoPosition?a.geoPosition:a.anchor;void 0!==c&&(o.isVector3Like(c)?s.set(c.x,c.y,c.z):o.isGeoCoordinatesLike(c)&&e.projectPoint(c,s),a.position.copy(s).sub(t)),!0===a.overlay?r.add(a):n.add(a)}))}}]),e}();t.MapAnchors=s},46246:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapMaterialAdapter=void 0;var s=n(26309),l=n(85164),u=n(34585),c=n(47857);function f(e){return s.TEXTURE_PROPERTY_KEYS.includes(e)}var d=function(){function e(t,n){for(var r in o(this,e),this.m_lastUpdateFrameNumber=-1,this.tmpColor=new u.Color,this.material=t,this.styledProperties=n,this.currentStyledProperties={},this.m_dynamicProperties=[],n)if(n.hasOwnProperty(r)){var i=n[r];s.Expr.isExpr(i)||"function"===typeof i?this.m_dynamicProperties.push([r,i]):this.currentStyledProperties[r]=i}this.setupStaticProperties()}return a(e,[{key:"toJSON",value:function(){return{styledProperties:this.styledProperties}}},{key:"ensureUpdated",value:function(e){return this.m_lastUpdateFrameNumber!==e.frameNumber&&(this.m_lastUpdateFrameNumber=e.frameNumber,this.updateDynamicProperties(e))}},{key:"setupStaticProperties",value:function(){var e,t,n=!1;for(var r in this.styledProperties)if(this.styledProperties.hasOwnProperty(r)){var i=this.currentStyledProperties[r];void 0!==i&&null!==i&&("color"===r||"opacity"===r?n=!0:f(r)||this.applyMaterialGenericProp(r,i))}if(n){var o=null!==(e=this.currentStyledProperties.color)&&void 0!==e?e:16711680,a=null!==(t=this.currentStyledProperties.opacity)&&void 0!==t?t:1;this.applyMaterialBaseColor(o,a)}}},{key:"updateDynamicProperties",value:function(e){var t,n,o=!1;if(this.m_dynamicProperties.length>0){var a,l=!1,u=i(this.m_dynamicProperties);try{for(u.s();!(a=u.n()).done;){var c=r(a.value,2),d=c[0],h=c[1],p=s.Expr.isExpr(h)?s.getPropertyValue(h,e.env):h(e);p!==this.currentStyledProperties[d]&&(this.currentStyledProperties[d]=p,"color"===d||"opacity"===d?l=!0:f(d)?(this.applyMaterialTextureProp(d,p),o=!0):(this.applyMaterialGenericProp(d,p),o=!0))}}catch(g){u.e(g)}finally{u.f()}if(l){var m=null!==(t=this.currentStyledProperties.color)&&void 0!==t?t:16711680,v=null!==(n=this.currentStyledProperties.opacity)&&void 0!==n?n:1;this.applyMaterialBaseColor(m,v),o=!0}}return o}},{key:"applyMaterialTextureProp",value:function(e,t){var n=this.material;if(n[e]&&null!==t){var r,i=n[e];if("string"===typeof t)r=(new u.TextureLoader).load(t,(function(t){n[e]=t}));else if("object"===typeof t){var o=t,a="IMG"===o.nodeName,s="CANVAS"===o.nodeName;if(a||s)if(r=new u.CanvasTexture(o),a&&!o.complete){o.addEventListener("load",(function t(){n[e]=r,o.removeEventListener("load",t)}))}else n[e]=r}r&&(r.wrapS=i.wrapS,r.wrapT=i.wrapT,r.magFilter=i.magFilter,r.minFilter=i.minFilter,r.flipY=i.flipY,r.repeat=i.repeat)}}},{key:"applyMaterialGenericProp",value:function(e,t){var n=this.material;if(n[e]instanceof u.Color){var r=t;if("number"!==typeof r){var i=c.evaluateColorProperty(r);if(void 0===i)return;r=i}var o=s.ColorUtils.removeAlphaFromHex(r);this.tmpColor.set(o),t=this.tmpColor}n[e]=t}},{key:"applyMaterialBaseColor",value:function(e,t){if("number"!==typeof e){var n=c.evaluateColorProperty(e);if(void 0===n)return;e=n}var r=s.ColorUtils.getRgbaFromHex(null!==e&&void 0!==e?e:16711680),i=r.r,o=r.g,a=r.b,f=r.a*u.MathUtils.clamp(null!==t&&void 0!==t?t:1,0,1);this.material instanceof l.RawShaderMaterial?this.material.setOpacity(f):this.material.opacity=f,this.material.color.setRGB(i,o,a),f>=1?l.disableBlending(this.material):l.enableBlending(this.material)}}],[{key:"get",value:function(t){var n,r=null===(n=t.userData)||void 0===n?void 0:n.mapAdapter;return r instanceof e?r:void 0}},{key:"install",value:function(e){return e.material.userData||(e.material.userData={}),e.material.userData.mapAdapter=e}},{key:"create",value:function(t,n){return e.install(new e(t,n))}},{key:"ensureUpdated",value:function(t,n){var r,i;return null!==(i=null===(r=e.get(t))||void 0===r?void 0:r.ensureUpdated(n))&&void 0!==i&&i}}]),e}();t.MapMaterialAdapter=d},87213:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapObjectAdapter=void 0;var a=n(26309),s=n(46246),l=function(){function e(t,n){var r;i(this,e),this.m_lastUpdateFrameNumber=-1,this.m_notCompletlyTransparent=!0,this.object=t,this.technique=n.technique,this.kind=n.kind,this.dataSource=n.dataSource,this.m_pickability=null!==(r=n.pickability)&&void 0!==r?r:a.Pickability.onlyVisible,this.m_notCompletlyTransparent=this.getObjectMaterials().some((function(e){return e.opacity>0})),this.level=n.level}return o(e,[{key:"toJSON",value:function(){return{kind:this.kind,technique:this.technique}}},{key:"ensureUpdated",value:function(e){return this.m_lastUpdateFrameNumber!==e.frameNumber&&(this.m_lastUpdateFrameNumber=e.frameNumber,this.updateMaterials(e))}},{key:"isVisible",value:function(){return this.object.visible&&this.m_notCompletlyTransparent}},{key:"isPickable",value:function(){return this.pickability===a.Pickability.onlyVisible&&this.isVisible()||this.m_pickability===a.Pickability.all}},{key:"pickability",get:function(){return this.m_pickability}},{key:"updateMaterials",value:function(e){var t,n=!1,i=this.getObjectMaterials(),o=r(i);try{for(o.s();!(t=o.n()).done;){var a=t.value,l=s.MapMaterialAdapter.ensureUpdated(a,e);n=n||l}}catch(u){o.e(u)}finally{o.f()}return n&&(this.m_notCompletlyTransparent=i.some((function(e){return e.opacity>0}))),n}},{key:"getObjectMaterials",value:function(){var e=this.object;return Array.isArray(e.material)?e.material:void 0!==e.material?[e.material]:[]}}],[{key:"get",value:function(t){var n;return(null===(n=t.userData)||void 0===n?void 0:n.mapAdapter)instanceof e?t.userData.mapAdapter:void 0}},{key:"install",value:function(e){return e.object.userData||(e.object.userData={}),e.object.userData.mapAdapter=e}},{key:"create",value:function(t,n){return e.install(new e(t,n))}},{key:"ensureUpdated",value:function(t,n){var r,i;return null!==(i=null===(r=e.get(t))||void 0===r?void 0:r.ensureUpdated(n))&&void 0!==i&&i}}]),e}();t.MapObjectAdapter=l},24943:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapTileCuller=void 0;var a=n(34585),s=function(){function e(t){i(this,e),this.m_camera=t,this.m_globalFrustumMin=new a.Vector3,this.m_globalFrustumMax=new a.Vector3,this.m_frustumCorners=[new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3]}return o(e,[{key:"setup",value:function(){var e=this.getFrustumCorners(),t=this.m_camera.matrixWorld;this.m_globalFrustumMin.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.m_globalFrustumMax.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);var n,i=r(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.applyMatrix4(t),this.m_globalFrustumMin.x=Math.min(this.m_globalFrustumMin.x,o.x),this.m_globalFrustumMin.y=Math.min(this.m_globalFrustumMin.y,o.y),this.m_globalFrustumMin.z=Math.min(this.m_globalFrustumMin.z,o.z),this.m_globalFrustumMax.x=Math.max(this.m_globalFrustumMax.x,o.x),this.m_globalFrustumMax.y=Math.max(this.m_globalFrustumMax.y,o.y),this.m_globalFrustumMax.z=Math.max(this.m_globalFrustumMax.z,o.z)}}catch(a){i.e(a)}finally{i.f()}}},{key:"frustumIntersectsTileBox",value:function(e){var t=this.m_globalFrustumMin,n=this.m_globalFrustumMax;return!(n.x<e.min.x||n.y<e.min.y||n.z<e.min.z||t.x>e.max.x||t.y>e.max.y||t.z>e.max.z)}},{key:"getFrustumCorners",value:function(){var e=this.m_frustumCorners,t=this.m_camera.projectionMatrixInverse,n=0;function r(r,i,o){e[n++].set(r,i,o).applyMatrix4(t)}return r(-1,-1,-1),r(1,-1,-1),r(-1,1,-1),r(1,1,-1),r(-1,-1,1),r(1,-1,1),r(-1,1,1),r(1,1,1),e}}]),e}();t.MapTileCuller=s},65312:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(43269).default,a=n(34575).default,s=n(93913).default,l=n(81506).default,u=n(16525).default,c=n(29754).default,f=n(2205).default,d=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapView=t.MapViewPowerPreference=t.MapViewEventNames=t.TileTaskGroups=void 0;var h,p=n(26309),m=n(31201),v=n(15739),g=n(34585),y=n(57721),E=n(49417),A=n(20899),T=n(64172),O=n(45480),R=n(86550),L=n(12324),S=n(58635),b=n(52210),I=n(49046),N=n(71690),x=n(95596),_=n(91649),M=n(47021),w=n(10018),C=n(29001),P=n(31011),D=n(8379),k=n(8246),H=n(92980),U=n(61086),B=n(6549),G=n(13412),W=n(56396),F=n(91422),K=n(91088),V=n(40449),z=n(63402),j=n(61563),Z=n(3236);v.LoggerManager.instance.setLogLevelForAll(v.LogLevel.Error),function(e){e.FETCH_AND_DECODE="fetch",e.CREATE="create"}(t.TileTaskGroups||(t.TileTaskGroups={})),function(e){e.Update="update",e.Resize="resize",e.Render="render",e.AfterRender="didrender",e.FirstFrame="first-render",e.FrameComplete="frame-complete",e.ThemeLoaded="theme-loaded",e.AnimationStarted="animation-started",e.AnimationFinished="animation-finished",e.MovementStarted="movement-started",e.MovementFinished="movement-finished",e.DataSourceConnect="datasource-connect",e.CopyrightChanged="copyright-changed",e.ContextLost="webglcontext-lost",e.ContextRestored="webglcontext-restored",e.CameraPositionChanged="camera-changed",e.Dispose="dispose"}(h=t.MapViewEventNames||(t.MapViewEventNames={}));var Y,q=v.LoggerManager.instance.create("MapView"),X=4e6,Q={vector2:[new g.Vector2],vector3:[new g.Vector3,new g.Vector3,new g.Vector3],rayCaster:new g.Raycaster,groundPlane:new g.Plane,groundSphere:new g.Sphere(void 0,m.EarthConstants.EQUATORIAL_RADIUS),matrix4:[new g.Matrix4,new g.Matrix4],transform:[{position:new g.Vector3,xAxis:new g.Vector3,yAxis:new g.Vector3,zAxis:new g.Vector3}],color:new g.Color};!function(e){e.Default="default",e.LowPower="low-power",e.HighPerformance="high-performance"}(Y=t.MapViewPowerPreference||(t.MapViewPowerPreference={}));var J={projection:m.mercatorProjection,addBackgroundDatasource:!0,maxVisibleDataSourceTiles:100,extendedFrustumCulling:!0,tileCacheSize:200,resourceComputationType:Z.ResourceComputationType.EstimationInMb,quadTreeSearchDistanceUp:3,quadTreeSearchDistanceDown:2,pixelRatio:"undefined"!==typeof window&&void 0!==window.devicePixelRatio?window.devicePixelRatio:1,target:new m.GeoCoordinates(25,0),zoomLevel:5,tilt:0,heading:0,theme:{},maxTilesPerFrame:0},$=function(e){f(n,e);var t=d(n);function n(e){var r,i,o;a(this,n),(r=t.call(this)).UPDATE_EVENT={type:h.Update},r.RENDER_EVENT={type:h.Render},r.DID_RENDER_EVENT={type:h.AfterRender},r.FIRST_FRAME_EVENT={type:h.FirstFrame},r.FRAME_COMPLETE_EVENT={type:h.FrameComplete},r.THEME_LOADED_EVENT={type:h.ThemeLoaded},r.ANIMATION_STARTED_EVENT={type:h.AnimationStarted},r.ANIMATION_FINISHED_EVENT={type:h.AnimationFinished},r.MOVEMENT_STARTED_EVENT={type:h.MovementStarted},r.MOVEMENT_FINISHED_EVENT={type:h.MovementFinished},r.CONTEXT_LOST_EVENT={type:h.ContextLost},r.CONTEXT_RESTORED_EVENT={type:h.ContextRestored},r.COPYRIGHT_CHANGED_EVENT={type:h.CopyrightChanged},r.DISPOSE_EVENT={type:h.Dispose},r.m_renderLabels=!0,r.m_visibleTileSetLock=!1,r.m_tileWrappingEnabled=!0,r.m_zoomLevel=1,r.m_minZoomLevel=1,r.m_maxZoomLevel=20,r.m_minCameraHeight=20,r.m_rteCamera=new g.PerspectiveCamera,r.m_yaw=0,r.m_pitch=0,r.m_roll=0,r.m_targetDistance=0,r.m_targetGeoPos=m.GeoCoordinates.fromObject(J.target),r.m_targetWorldPos=new g.Vector3,r.m_viewRanges={near:.1,far:X,minimum:.1,maximum:X},r.m_scene=new g.Scene,r.m_overlayScene=new g.Scene,r.m_sceneRoot=new g.Object3D,r.m_overlaySceneRoot=new g.Object3D,r.m_mapAnchors=new C.MapAnchors,r.m_animationCount=0,r.m_drawing=!1,r.m_updatePending=!1,r.m_frameNumber=0,r.m_forceCameraAspect=void 0,r.m_taskSchedulerTimeout=void 0,r.m_tileDataSources=[],r.m_connectedDataSources=new Set,r.m_failedDataSources=new Set,r.m_enablePolarDataSource=!0,r.m_raycaster=new g.Raycaster,r.m_plane=new g.Plane(new g.Vector3(0,0,1)),r.m_sphere=new g.Sphere(void 0,m.EarthConstants.EQUATORIAL_RADIUS),r.m_firstFrameRendered=!1,r.m_firstFrameComplete=!1,r.m_initialTextPlacementDone=!1,r.m_userImageCache=new w.MapViewImageCache,r.m_env=new p.MapEnv({}),r.m_poiManager=new U.PoiManager(l(r)),r.m_poiTableManager=new B.PoiTableManager(l(r)),r.m_lastTileIds="",r.m_copyrightInfo=[],r.m_disposed=!1,r.onWebGLContextLost=function(e){r.dispatchEvent(r.CONTEXT_LOST_EVENT),q.warn("WebGL context lost",e)},r.onWebGLContextRestored=function(e){r.dispatchEvent(r.CONTEXT_RESTORED_EVENT),void 0!==r.m_renderer&&(r.textElementsRenderer.restoreRenderers(r.m_renderer),r.getTheme().then((function(e){r.m_sceneEnvironment.updateClearColor(e.clearColor,e.clearAlpha),r.update()}))),q.warn("WebGL context restored",e)},r.m_options=Object.assign({},e),r.m_uriResolver=r.m_options.uriResolver,void 0!==r.m_options.minZoomLevel&&(r.m_minZoomLevel=r.m_options.minZoomLevel),void 0!==r.m_options.maxZoomLevel&&(r.m_maxZoomLevel=r.m_options.maxZoomLevel),void 0!==r.m_options.minCameraHeight&&(r.m_minCameraHeight=r.m_options.minCameraHeight),void 0!==r.m_options.maxBounds&&(r.m_geoMaxBounds=r.m_options.maxBounds),void 0!==r.m_options.decoderUrl&&(L.ConcurrentDecoderFacade.defaultScriptUrl=r.m_uriResolver?r.m_uriResolver.resolveUri(r.m_options.decoderUrl):r.m_options.decoderUrl),void 0!==r.m_options.decoderCount&&(L.ConcurrentDecoderFacade.defaultWorkerCount=r.m_options.decoderCount),r.m_visibleTileSetOptions=Object.assign(Object.assign({},J),{clipPlanesEvaluator:void 0!==e.clipPlanesEvaluator?e.clipPlanesEvaluator:O.createDefaultClipPlanesEvaluator()}),void 0!==e.projection&&(r.m_visibleTileSetOptions.projection=e.projection),void 0!==e.extendedFrustumCulling&&(r.m_visibleTileSetOptions.extendedFrustumCulling=e.extendedFrustumCulling),void 0!==e.maxVisibleDataSourceTiles&&(r.m_visibleTileSetOptions.maxVisibleDataSourceTiles=e.maxVisibleDataSourceTiles),void 0!==e.tileCacheSize&&(r.m_visibleTileSetOptions.tileCacheSize=e.tileCacheSize),void 0!==e.resourceComputationType&&(r.m_visibleTileSetOptions.resourceComputationType=e.resourceComputationType),void 0!==e.quadTreeSearchDistanceUp&&(r.m_visibleTileSetOptions.quadTreeSearchDistanceUp=e.quadTreeSearchDistanceUp),void 0!==e.quadTreeSearchDistanceDown&&(r.m_visibleTileSetOptions.quadTreeSearchDistanceDown=e.quadTreeSearchDistanceDown),void 0!==e.enablePolarDataSource&&(r.m_enablePolarDataSource=e.enablePolarDataSource),r.m_pixelRatio=e.pixelRatio,r.m_options.maxFps=null!==(i=r.m_options.maxFps)&&void 0!==i?i:0,r.m_options.enableStatistics=!0===r.m_options.enableStatistics,r.m_languages=r.m_options.languages,r.m_politicalView=r.m_options.politicalView,r.handleRequestAnimationFrame=r.renderLoop.bind(l(r)),void 0!==r.m_options.tileWrappingEnabled&&(r.m_tileWrappingEnabled=r.m_options.tileWrappingEnabled),r.setupStats(r.m_options.enableStatistics),r.canvas.addEventListener("webglcontextlost",r.onWebGLContextLost),r.canvas.addEventListener("webglcontextrestored",r.onWebGLContextRestored),r.m_renderer=new(null!==(o=g.WebGL1Renderer)&&void 0!==o?o:g.WebGLRenderer)({canvas:r.canvas,context:r.m_options.context,antialias:r.nativeWebglAntialiasEnabled,alpha:r.m_options.alpha,preserveDrawingBuffer:!0===r.m_options.preserveDrawingBuffer,powerPreference:void 0===r.m_options.powerPreference?Y.Default:r.m_options.powerPreference}),r.m_renderer.autoClear=!1,r.m_renderer.debug.checkShaderErrors=!1,r.m_renderer.info.autoReset=!1,r.m_tileObjectRenderer=new z.TileObjectRenderer(r.m_env,r.m_renderer),r.setupRenderer(r.m_tileObjectRenderer),r.m_options.fovCalculation=void 0===r.m_options.fovCalculation?N.DEFAULT_FOV_CALCULATION:r.m_options.fovCalculation,r.m_options.fovCalculation.fov=g.MathUtils.clamp(r.m_options.fovCalculation.fov,N.MIN_FOV_DEG,N.MAX_FOV_DEG);var s=r.getCanvasClientSize(),u=s.width,c=s.height,f=u/c;r.m_camera=new g.PerspectiveCamera(r.m_options.fovCalculation.fov,f,.1,X),r.m_camera.up.set(0,0,1),r.setFovOnCamera(r.m_options.fovCalculation,c),r.projection.projectPoint(r.m_targetGeoPos,r.m_targetWorldPos),r.m_scene.add(r.m_camera),r.m_screenProjector=new W.ScreenProjector(r.m_camera),r.m_taskScheduler=new D.MapViewTaskScheduler(r.maxFps),r.m_tileGeometryManager=new M.TileGeometryManager(l(r)),void 0!==e.enableMixedLod&&(r.m_enableMixedLod=e.enableMixedLod),void 0!==e.lodMinTilePixelSize&&(r.m_lodMinTilePixelSize=e.lodMinTilePixelSize),r.m_visibleTiles=r.createVisibleTileSet(),r.m_sceneEnvironment=new P.MapViewEnvironment(l(r),e),r.setupCamera(),r.m_pickHandler=new H.PickHandler(l(r),r.m_rteCamera,!0===r.m_options.enablePickTechnique),r.m_movementDetector=new A.CameraMovementDetector(r.m_options.movementThrottleTimeout,(function(){return r.movementStarted()}),(function(){return r.movementFinished()}));var d=r.m_options.customAntialiasSettings;if(r.mapRenderingManager=new R.MapRenderingManager(u,c,r.m_options.dynamicPixelRatio,d),r.m_animatedExtrusionHandler=new y.AnimatedExtrusionHandler(l(r)),r.m_enablePolarDataSource){var E=void 0!==e.polarStyleSetName?e.polarStyleSetName:"polar";r.m_polarDataSource=new G.PolarTileDataSource({styleSetName:E,geometryLevelOffset:e.polarGeometryLevelOffset}),r.updatePolarDataSource()}return r.m_taskScheduler.addEventListener(h.Update,(function(){r.update()})),void 0!==e.throttlingEnabled&&(r.m_taskScheduler.throttlingEnabled=e.throttlingEnabled),r.m_themeManager=new k.MapViewThemeManager(l(r),r.m_uriResolver),r.m_textElementsRenderer=r.createTextRenderer(),r.setTheme(v.getOptionValue(r.m_options.theme,J.theme)),r.update(),r}return s(n,[{key:"lights",get:function(){return this.m_sceneEnvironment.lights}},{key:"taskQueue",get:function(){return this.m_taskScheduler.taskQueue}},{key:"renderLabels",get:function(){return this.m_renderLabels},set:function(e){this.m_renderLabels=e}},{key:"delayLabelsUntilMovementFinished",get:function(){return this.textElementsRenderer.delayLabelsUntilMovementFinished},set:function(e){this.textElementsRenderer.delayLabelsUntilMovementFinished=e}},{key:"textElementsRenderer",get:function(){return this.m_textElementsRenderer}},{key:"cameraMovementDetector",get:function(){return this.m_movementDetector}},{key:"animatedExtrusionHandler",get:function(){return this.m_animatedExtrusionHandler}},{key:"tileGeometryManager",get:function(){return this.m_tileGeometryManager}},{key:"enableMixedLod",get:function(){return this.m_enableMixedLod},set:function(e){this.m_enableMixedLod!==e&&(this.m_enableMixedLod=e,this.createVisibleTileSet(),this.update())}},{key:"tileWrappingEnabled",get:function(){return this.m_tileWrappingEnabled},set:function(e){this.projection.type!==m.ProjectionType.Spherical?(e!==this.m_tileWrappingEnabled&&(this.m_tileWrappingEnabled=e,this.createVisibleTileSet()),this.update()):q.warn("Setting this with spherical projection has no affect. Was this intended?")}},{key:"dispose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.DISPOSE_EVENT.time=Date.now(),this.dispatchEvent(this.DISPOSE_EVENT),this.m_disposed=!0,this.m_movementFinishedUpdateTimerId&&(clearTimeout(this.m_movementFinishedUpdateTimerId),this.m_movementFinishedUpdateTimerId=void 0),void 0!==this.m_animationFrameHandle&&(cancelAnimationFrame(this.m_animationFrameHandle),this.m_animationFrameHandle=void 0),this.canvas.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas.removeEventListener("webglcontextrestored",this.onWebGLContextRestored);var t,r=o(this.m_tileDataSources);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.dispose()}}catch(a){r.e(a)}finally{r.f()}this.m_visibleTiles.clearTileCache(),this.m_textElementsRenderer.clearRenderStates(),this.m_renderer.dispose(),e&&this.m_renderer.forceContextLoss(),this.m_themeManager.dispose(),this.m_tileGeometryManager.clear(),this.m_movementDetector.dispose(),L.ConcurrentDecoderFacade.destroyIfTerminated(),S.ConcurrentTilerFacade.destroyIfTerminated(),this.m_taskScheduler.clearQueuedTasks(),u(c(n.prototype),"dispose",this).call(this)}},{key:"disposed",get:function(){return this.m_disposed}},{key:"resourceComputationType",get:function(){return this.m_visibleTiles.resourceComputationType},set:function(e){this.m_visibleTiles.resourceComputationType=e}},{key:"getCacheSize",value:function(){return this.m_visibleTiles.getDataSourceCacheSize()}},{key:"setCacheSize",value:function(e,t){this.m_visibleTiles.setDataSourceCacheSize(e),t=void 0!==t?t:e/2,this.m_visibleTiles.setNumberOfVisibleTiles(Math.floor(t)),this.m_themeManager.updateCache(),this.m_textElementsRenderer.invalidateCache(),this.update()}},{key:"extendedFrustumCulling",get:function(){return void 0===this.m_options.extendedFrustumCulling||this.m_visibleTileSetOptions.extendedFrustumCulling},set:function(e){this.m_visibleTileSetOptions.extendedFrustumCulling=e}},{key:"lockVisibleTileSet",get:function(){return this.m_visibleTileSetLock},set:function(e){this.m_visibleTileSetLock=e}},{key:"pointOfView",get:function(){return this.m_pointOfView},set:function(e){this.m_pointOfView=e,this.update()}},{key:"loadPostEffects",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){t.m_postEffects=e,t.setPostEffects()}))}},{key:"postEffects",get:function(){return this.m_postEffects},set:function(e){this.m_postEffects=e,this.setPostEffects()}},{key:"theme",get:function(){return this.m_themeManager.theme},set:function(e){this.setTheme(e)}},{key:"setTheme",value:function(){var e=i(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.m_themeManager.setTheme(t);case 2:return n=e.sent,this.THEME_LOADED_EVENT.time=Date.now(),this.dispatchEvent(this.THEME_LOADED_EVENT),this.update(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTheme",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.m_themeManager.getTheme();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uriResolver",get:function(){return this.m_uriResolver}},{key:"forceCameraAspect",get:function(){return this.m_forceCameraAspect},set:function(e){this.m_forceCameraAspect=e}},{key:"languages",get:function(){return this.m_languages},set:function(e){var t=this;this.m_languages=e,this.m_tileDataSources.forEach((function(e){e.setLanguages(t.m_languages)})),this.update()}},{key:"politicalView",get:function(){return this.m_politicalView},set:function(e){this.m_politicalView!==e&&(this.m_politicalView=e,this.m_tileDataSources.forEach((function(t){t.setPoliticalView(e)})))}},{key:"copyrightInfo",get:function(){return this.m_copyrightInfo}},{key:"disableFading",get:function(){return this.m_textElementsRenderer.disableFading},set:function(e){this.m_textElementsRenderer.disableFading=e}},{key:"frameNumber",get:function(){return this.m_frameNumber}},{key:"resetFrameNumber",value:function(){this.m_frameNumber=0,this.m_previousFrameTimeStamp=void 0}},{key:"addEventListener",value:function(e,t){u(c(n.prototype),"addEventListener",this).call(this,e,t)}},{key:"removeEventListener",value:function(e,t){u(c(n.prototype),"removeEventListener",this).call(this,e,t)}},{key:"canvas",get:function(){return this.m_options.canvas}},{key:"collisionDebugCanvas",get:function(){return this.m_collisionDebugCanvas}},{key:"scene",get:function(){return this.m_scene}},{key:"overlayScene",get:function(){return this.m_overlayScene}},{key:"sceneEnvironment",get:function(){return this.m_sceneEnvironment}},{key:"camera",get:function(){return this.m_camera}},{key:"renderer",get:function(){return this.m_renderer}},{key:"clearColor",get:function(){var e=this.m_renderer.getClearColor(Q.color);return void 0!==e?e.getHex():0},set:function(e){this.m_renderer.setClearColor(e)}},{key:"clearAlpha",get:function(){var e=this.m_renderer.getClearAlpha();return void 0!==e?e:0},set:function(e){this.m_renderer.setClearAlpha(e)}},{key:"projection",get:function(){return this.m_visibleTileSetOptions.projection},set:function(e){var t=this.tilt,n=this.heading;this.m_visibleTileSetOptions.projection=e,this.updatePolarDataSource(),this.clearTileCache(),this.textElementsRenderer.clearRenderStates(),this.m_visibleTiles=this.createVisibleTileSet(),this.geoMaxBounds=this.geoMaxBounds,this.lookAtImpl({tilt:t,heading:n})}},{key:"clipPlanesEvaluator",get:function(){return this.m_visibleTileSetOptions.clipPlanesEvaluator},set:function(e){this.m_visibleTileSetOptions.clipPlanesEvaluator=e}},{key:"focalLength",get:function(){var e;return null!==(e=T.CameraUtils.getFocalLength(this.m_camera))&&void 0!==e?e:0}},{key:"target",get:function(){return this.m_targetGeoPos}},{key:"worldTarget",get:function(){return this.m_targetWorldPos}},{key:"targetDistance",get:function(){return this.m_targetDistance}},{key:"viewRanges",get:function(){return this.m_viewRanges}},{key:"geoCenter",get:function(){return this.projection.unprojectPoint(this.m_camera.position).normalized()},set:function(e){if(void 0!==e.altitude)this.projection.projectPoint(e,this.m_camera.position);else{var t=this.geoCenter.altitude;this.projection.projectPoint(new m.GeoCoordinates(e.latitude,e.longitude,t),this.m_camera.position)}this.update()}},{key:"mapAnchors",get:function(){return this.m_mapAnchors}},{key:"worldCenter",get:function(){return this.m_camera.position}},{key:"pickHandler",get:function(){return this.m_pickHandler}},{key:"imageCache",get:function(){return this.m_themeManager.imageCache}},{key:"userImageCache",get:function(){return this.m_userImageCache}},{key:"poiManager",get:function(){return this.m_poiManager}},{key:"poiTableManager",get:function(){return this.m_poiTableManager}},{key:"minCameraHeight",get:function(){return this.m_minCameraHeight}},{key:"minZoomLevel",get:function(){return this.m_minZoomLevel},set:function(e){this.m_minZoomLevel=e,this.update()}},{key:"maxZoomLevel",get:function(){return this.m_maxZoomLevel},set:function(e){this.m_maxZoomLevel=e,this.update()}},{key:"geoMaxBounds",get:function(){return this.m_geoMaxBounds},set:function(e){this.m_geoMaxBounds=e,this.m_worldMaxBounds=this.m_geoMaxBounds?this.projection.projectBox(this.m_geoMaxBounds,this.projection.type===m.ProjectionType.Planar?new g.Box3:new m.OrientedBox3):void 0}},{key:"worldMaxBounds",get:function(){return this.m_worldMaxBounds}},{key:"zoomLevel",get:function(){return this.m_zoomLevel},set:function(e){this.lookAtImpl({zoomLevel:e})}},{key:"tilt",get:function(){return g.MathUtils.radToDeg(this.m_pitch)},set:function(e){this.lookAtImpl({tilt:e})}},{key:"heading",get:function(){return-g.MathUtils.radToDeg(this.m_yaw)},set:function(e){this.lookAtImpl({heading:e})}},{key:"env",get:function(){return this.m_env}},{key:"storageLevel",get:function(){return g.MathUtils.clamp(Math.floor(this.m_zoomLevel),this.m_minZoomLevel,this.m_maxZoomLevel)}},{key:"viewportHeight",get:function(){return this.canvas.height}},{key:"nativeWebglAntialiasEnabled",get:function(){return void 0===this.m_options.enableNativeWebglAntialias?this.pixelRatio<2:this.m_options.enableNativeWebglAntialias}},{key:"dataSources",get:function(){return this.m_tileDataSources}},{key:"setFovCalculation",value:function(e){this.m_options.fovCalculation=e,this.updateCameras()}},{key:"getDataSourceByName",value:function(e){return this.m_tileDataSources.find((function(t){return t.name===e}))}},{key:"getDataSourcesByStyleSetName",value:function(e){return this.m_tileDataSources.filter((function(t){return t.styleSetName===e}))}},{key:"isDataSourceEnabled",value:function(e){return e.enabled&&e.ready()&&this.m_connectedDataSources.has(e.name)&&e.isVisible(this.zoomLevel)}},{key:"addDataSource",value:function(){var e=i(r.mark((function e(t){var n,i,o,a,s=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.getDataSourceByName(t.name)){e.next=3;break}throw new Error('A DataSource with the name "'.concat(t.name,'" already exists in this MapView.'));case 3:return t.attach(this),t.setEnableElevationOverlay(void 0!==this.m_elevationProvider),o=this.m_tileDataSources.find((function(e){return!0===e.addGroundPlane&&!(e instanceof E.BackgroundDataSource)})),!0===t.addGroundPlane&&void 0!==o&&console.warn("The DataSources ".concat(t.name," and ").concat(o.name," both have a ground plane added, this will cause problems with the fallback logic, see HARP-14728 & HARP-15488.")),this.m_tileDataSources.push(t),null===(n=this.m_sceneEnvironment)||void 0===n||n.updateBackgroundDataSource(),e.prev=9,e.next=12,t.connect();case 12:if(!!this.m_tileDataSources.includes(t)){e.next=15;break}return e.abrupt("return");case 15:return t.addEventListener(h.Update,(function(){s.update()})),e.next=18,this.getTheme();case 18:if(a=e.sent,t.setLanguages(this.m_languages),void 0===a||void 0===a.styles){e.next=23;break}return e.next=23,t.setTheme(a);case 23:this.m_connectedDataSources.add(t.name),this.dispatchEvent({type:h.DataSourceConnect,dataSourceName:t.name}),this.update(),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(9),q.error("Failed to connect to datasource ".concat(t.name,": ").concat(null!==(i=e.t0.message)&&void 0!==i?i:e.t0)),this.m_failedDataSources.add(t.name),this.dispatchEvent({type:h.DataSourceConnect,dataSourceName:t.name,error:e.t0});case 33:case"end":return e.stop()}}),e,this,[[9,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeDataSource",value:function(e){var t=this.m_tileDataSources.indexOf(e);-1!==t&&(e.detach(this),this.m_visibleTiles.removeDataSource(e),this.m_tileDataSources.splice(t,1),this.m_connectedDataSources.delete(e.name),this.m_failedDataSources.delete(e.name),this.m_sceneEnvironment.updateBackgroundDataSource(),this.update())}},{key:"visibleTileSet",get:function(){return this.m_visibleTiles}},{key:"addOverlayText",value:function(e){this.m_textElementsRenderer.addOverlayText(e),this.update()}},{key:"clearOverlayText",value:function(){this.m_textElementsRenderer.clearOverlayText()}},{key:"lookAt",value:function(e,t,n,r){if(m.isGeoCoordinatesLike(e)){var i={target:e,zoomLevel:void 0!==t?j.MapViewUtils.calculateZoomLevelFromDistance(this,t):void 0,tilt:n,heading:r};this.lookAtImpl(i)}else"object"===typeof e&&this.lookAtImpl(e)}},{key:"setCameraGeolocationAndZoom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.geoCenter=e;var i=Math.min(j.MapViewUtils.MAX_TILT_DEG,r);if(this.projection.type===m.ProjectionType.Spherical){var o=Math.asin(m.EarthConstants.EQUATORIAL_RADIUS/(j.MapViewUtils.calculateDistanceToGroundFromZoomLevel(this,t)+m.EarthConstants.EQUATORIAL_RADIUS)),a=g.MathUtils.radToDeg(o);i=Math.min(i,a)}j.MapViewUtils.zoomOnTargetPosition(this,0,0,t),j.MapViewUtils.setRotation(this,n,i),this.update()}},{key:"setDynamicProperty",value:function(e,t){if(e.startsWith("$"))throw new Error("failed to update the value of the dynamic property '".concat(e,"'"));this.m_env.entries[e]=t,this.update()}},{key:"removeDynamicProperty",value:function(e){if(e.startsWith("$"))throw new Error("failed to remove the dynamic property '".concat(e,"'"));delete this.m_env.entries[e],this.update()}},{key:"animating",get:function(){return this.m_animationCount>0}},{key:"beginAnimation",value:function(){0===this.m_animationCount++&&(this.update(),this.ANIMATION_STARTED_EVENT.time=Date.now(),this.dispatchEvent(this.ANIMATION_STARTED_EVENT))}},{key:"endAnimation",value:function(){this.m_animationCount>0&&--this.m_animationCount,0===this.m_animationCount&&(this.ANIMATION_FINISHED_EVENT.time=Date.now(),this.dispatchEvent(this.ANIMATION_FINISHED_EVENT))}},{key:"cameraIsMoving",get:function(){return this.m_movementDetector.cameraIsMoving}},{key:"isDynamicFrame",get:function(){return this.cameraIsMoving||this.animating||this.m_updatePending||this.m_animatedExtrusionHandler.isAnimating}},{key:"pixelToWorld",get:function(){if(void 0===this.m_pixelToWorld){v.assert(void 0!==this.m_options.fovCalculation);var e=this.m_targetDistance,t=T.CameraUtils.getFocalLength(this.m_camera);v.assert(void 0!==t),this.m_pixelToWorld=T.CameraUtils.convertScreenToWorldSize(t,e,1)}return this.m_pixelToWorld}},{key:"worldToPixel",get:function(){return 1/this.pixelToWorld}},{key:"pixelRatio",get:function(){return void 0!==this.m_pixelRatio?this.m_pixelRatio:"undefined"!==typeof window&&void 0!==window.devicePixelRatio?window.devicePixelRatio:1},set:function(e){this.m_pixelRatio=e,this.renderer.getPixelRatio()!==this.pixelRatio&&this.renderer.setPixelRatio(this.pixelRatio)}},{key:"maxFps",get:function(){return this.m_options.maxFps},set:function(e){this.m_options.maxFps=e,this.m_taskScheduler.maxFps=e}},{key:"dynamicPixelRatio",get:function(){return this.mapRenderingManager.lowResPixelRatio},set:function(e){this.mapRenderingManager.lowResPixelRatio=e}},{key:"getScreenPosition",value:function(e){m.isVector3Like(e)?Q.vector3[0].copy(e):this.projection.projectPoint(m.GeoCoordinates.fromObject(e),Q.vector3[0]);var t=this.m_screenProjector.project(Q.vector3[0]);if(void 0!==t){var n=this.getCanvasClientSize(),r=n.width,i=n.height;t.x=t.x+r/2,t.y=i-(t.y+i/2)}return t}},{key:"getWorldPositionAt",value:function(e,t,n){this.m_raycaster.setFromCamera(this.getNormalizedScreenCoordinates(e,t),this.m_camera);var r=this.projection.type===m.ProjectionType.Spherical?this.m_raycaster.ray.intersectSphere(this.m_sphere,Q.vector3[0]):this.m_raycaster.ray.intersectPlane(this.m_plane,Q.vector3[0]);if(null===r&&!0===n){var i=this.m_camera.getWorldDirection(Q.vector3[0]).dot(this.m_raycaster.ray.direction);return Q.vector3[0].copy(this.m_raycaster.ray.direction).multiplyScalar(this.m_camera.far/i).add(this.m_camera.position)}return r}},{key:"getGeoCoordinatesAt",value:function(e,t,n){var r=this.getWorldPositionAt(e,t,n);if(!r)return null;var i=this.projection.unprojectPoint(r);return this.tileWrappingEnabled||this.projection.type!==m.ProjectionType.Planar||(i.longitude=g.MathUtils.clamp(i.longitude,-180,180)),i}},{key:"getNormalizedScreenCoordinates",value:function(e,t){var n=this.getCanvasClientSize(),r=n.width,i=n.height;return new g.Vector3(e/r*2-1,-t/i*2+1,0)}},{key:"intersectMapObjects",value:function(e,t,n){return this.m_pickHandler.intersectMapObjects(e,t,n)}},{key:"resize",value:function(e,t){this.m_renderer.setSize(e,t,!1),this.m_renderer.getPixelRatio()!==this.pixelRatio&&this.m_renderer.setPixelRatio(this.pixelRatio),void 0!==this.mapRenderingManager&&this.mapRenderingManager.setSize(e,t),void 0!==this.collisionDebugCanvas&&(this.collisionDebugCanvas.width=e,this.collisionDebugCanvas.height=t),this.updateCameras(),this.update(),this.dispatchEvent({type:h.Resize,size:{width:e,height:t}})}},{key:"renderSync",value:function(e){void 0===e&&(e=v.PerformanceTimer.now()),this.render(e)}},{key:"update",value:function(){this.disposed?q.warn("update(): MapView has been disposed of."):(this.dispatchEvent(this.UPDATE_EVENT),this.m_updatePending||(this.m_updatePending=!0,this.startRenderLoop()))}},{key:"updatePending",get:function(){return this.m_updatePending}},{key:"requestUpdateIfNeeded",value:function(){this.update()}},{key:"clearTileCache",value:function(e,t){if(void 0!==this.m_visibleTiles){if(void 0!==e){var n=this.getDataSourceByName(e);n&&(this.m_visibleTiles.clearTileCache(n,t),n.clearCache())}else this.m_visibleTiles.clearTileCache(void 0,t),this.m_tileDataSources.forEach((function(e){return e.clearCache()}));void 0!==this.m_elevationProvider&&this.m_elevationProvider.clearCache()}}},{key:"forEachVisibleTile",value:function(e){this.m_visibleTiles.forEachVisibleTile(e)}},{key:"forEachCachedTile",value:function(e){this.m_visibleTiles.forEachCachedTile(e)}},{key:"markTilesDirty",value:function(e,t){this.m_visibleTiles.markTilesDirty(e,t),this.update()}},{key:"setElevationSource",value:function(){var e=i(r.mark((function e(t,n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.m_elevationSource&&this.m_elevationSource!==t&&this.removeDataSource(this.m_elevationSource),this.m_tileDataSources.includes(t)){e.next=5;break}return e.next=5,this.addDataSource(t);case 5:if(this.m_elevationSource=t,this.m_elevationRangeSource=n,this.m_elevationRangeSource.ready()){e.next=10;break}return e.next=10,this.m_elevationRangeSource.connect();case 10:this.m_elevationProvider=i,this.dataSources.forEach((function(e){e.setEnableElevationOverlay(!0)})),this.m_tileGeometryManager.setTileUpdateCallback((function(e){_.overlayOnElevation(e)})),this.clearTileCache();case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"clearElevationSource",value:function(e){this.removeDataSource(e),this.m_elevationSource=void 0,this.m_elevationRangeSource=void 0,this.m_elevationProvider=void 0,this.dataSources.forEach((function(e){e.setEnableElevationOverlay(!1)})),this.m_tileGeometryManager.setTileUpdateCallback(void 0),this.clearTileCache()}},{key:"fog",get:function(){return this.m_sceneEnvironment.fog}},{key:"setPostEffects",value:function(){this.mapRenderingManager.bloom.enabled=!1,this.mapRenderingManager.outline.enabled=!1,this.mapRenderingManager.vignette.enabled=!1,this.mapRenderingManager.sepia.enabled=!1,void 0!==this.m_postEffects&&(void 0!==this.m_postEffects.bloom&&(this.mapRenderingManager.bloom=this.m_postEffects.bloom),void 0!==this.m_postEffects.outline&&(this.mapRenderingManager.outline.enabled=this.m_postEffects.outline.enabled,this.mapRenderingManager.updateOutline(this.m_postEffects.outline)),void 0!==this.m_postEffects.vignette&&(this.mapRenderingManager.vignette=this.m_postEffects.vignette),void 0!==this.m_postEffects.sepia&&(this.mapRenderingManager.sepia=this.m_postEffects.sepia))}},{key:"elevationProvider",get:function(){return this.m_elevationProvider}},{key:"throttlingEnabled",get:function(){return!0===this.m_taskScheduler.throttlingEnabled},set:function(e){this.m_taskScheduler.throttlingEnabled=e}},{key:"shadowsEnabled",get:function(){return!0===this.m_options.enableShadows},set:function(e){void 0!==this.m_renderer.shadowMap&&e!==this.m_renderer.shadowMap.enabled&&(this.m_options.enableShadows=e,this.m_renderer.shadowMap.enabled=e,this.m_renderer.shadowMap.type=g.PCFSoftShadowMap,this.clearTileCache())}},{key:"extractAttitude",value:function(){var e=this.m_camera,t=this.projection,n=Q.vector3[1],r=Q.transform[0],i=Q.matrix4[1];n.setFromMatrixPosition(e.matrixWorld),t.localTangentSpace(this.m_targetGeoPos,r),i.makeBasis(r.xAxis,r.yAxis,r.zAxis),Q.matrix4[0].copy(i).invert().multiply(e.matrixWorld),r.xAxis.setFromMatrixColumn(Q.matrix4[0],0),r.yAxis.setFromMatrixColumn(Q.matrix4[0],1),r.zAxis.setFromMatrixColumn(Q.matrix4[0],2);var o=0,a=0,s=0,l=r.zAxis.dot(n.set(0,0,1));return l<1-1e-10?l>1e-10-1?(o=Math.atan2(r.zAxis.x,-r.zAxis.y),a=Math.acos(r.zAxis.z),s=Math.atan2(r.xAxis.x,r.yAxis.z)):(o=-Math.atan2(-r.yAxis.x,r.xAxis.x),a=180,s=0):(o=Math.atan2(-r.yAxis.x,r.xAxis.x),a=0,s=0),{yaw:o,pitch:a,roll:s}}},{key:"lookAtImpl",value:function(e){var t,n=this,r=Math.min(v.getOptionValue(e.tilt,this.tilt),j.MapViewUtils.MAX_TILT_DEG),i=v.getOptionValue(e.heading,this.heading),o=void 0!==e.zoomLevel?j.MapViewUtils.calculateDistanceFromZoomLevel(this,g.MathUtils.clamp(e.zoomLevel,this.m_minZoomLevel,this.m_maxZoomLevel)):void 0!==e.distance?e.distance:this.m_targetDistance;if(void 0!==e.bounds){var a;if(e.bounds instanceof m.GeoBox)t=e.target?m.GeoCoordinates.fromObject(e.target):e.bounds.center,a=j.MapViewUtils.geoBoxToGeoPoints(e.bounds);else if(e.bounds instanceof m.GeoPolygon)t=e.bounds.getCentroid(),a=e.bounds.coordinates;else if(m.isGeoBoxExtentLike(e.bounds)){t=e.target?m.GeoCoordinates.fromObject(e.target):this.target;var s=m.GeoBox.fromCenterAndExtents(t,e.bounds);a=j.MapViewUtils.geoBoxToGeoPoints(s)}else{if(!Array.isArray(e.bounds))throw Error("#lookAt: Invalid 'bounds' value");a=e.bounds,void 0!==e.target&&(t=m.GeoCoordinates.fromObject(e.target))}e.bounds instanceof m.GeoBox||e.bounds instanceof m.GeoPolygon||!this.m_tileWrappingEnabled||this.projection.type!==m.ProjectionType.Planar||(a=j.MapViewUtils.wrapGeoPointsToScreen(a,t));var l=a.map((function(e){return n.projection.projectPoint(m.GeoCoordinates.fromObject(e),new g.Vector3)})),u=new g.Vector3;if(void 0===t)(new g.Box3).setFromPoints(l).getCenter(u),this.projection.scalePointToSurface(u),t=this.projection.unprojectPoint(u);else this.projection.projectPoint(t,u);return void 0!==e.zoomLevel||void 0!==e.distance?this.lookAtImpl({tilt:r,heading:i,distance:o,target:t}):this.lookAtImpl(j.MapViewUtils.getFitBoundsLookAtParams(t,u,l,{tilt:r,heading:i,minDistance:j.MapViewUtils.calculateDistanceFromZoomLevel(this,this.maxZoomLevel),projection:this.projection,camera:this.camera}))}t=void 0!==e.target?m.GeoCoordinates.fromObject(e.target):this.target,j.MapViewUtils.getCameraRotationAtTarget(this.projection,t,-i,r,this.camera.quaternion),j.MapViewUtils.getCameraPositionFromTargetCoordinates(t,o,-i,r,this.projection,this.camera.position),this.camera.updateMatrixWorld(!0),this.updateLookAtSettings(),this.update()}},{key:"updatePolarDataSource",value:function(){var e=this.m_polarDataSource;if(!0===this.m_enablePolarDataSource&&void 0!==e){var t=this.getDataSourceByName(e.name);this.projection.type===m.ProjectionType.Spherical?void 0===t&&this.addDataSource(e):void 0!==t&&this.removeDataSource(e)}}},{key:"updateCameras",value:function(e){var t;this.m_camera.updateMatrixWorld(!1),this.updateLookAtSettings();var n=this.m_renderer.getSize(Q.vector2[0]),r=n.width,i=n.height;this.m_camera.aspect=void 0!==this.m_forceCameraAspect?this.m_forceCameraAspect:r/i,this.setFovOnCamera(this.m_options.fovCalculation,i);var o=this.projection.getScaleFactor(this.camera.position),a=o*this.m_tileDataSources.reduce((function(e,t){return Math.max(e,t.maxGeometryHeight)}),0),s=o*this.m_tileDataSources.reduce((function(e,t){return Math.min(e,t.minGeometryHeight)}),0);Object.assign(this.m_viewRanges,void 0===e?this.m_visibleTiles.updateClipPlanes(a,s):e),this.m_camera.near=this.m_viewRanges.near,this.m_camera.far=this.m_viewRanges.far,this.m_camera.updateProjectionMatrix(),this.m_rteCamera.copy(this.m_camera),this.m_rteCamera.position.setScalar(0),this.m_rteCamera.updateMatrixWorld(!0),null===(t=this.m_textElementsRenderer)||void 0===t||t.updateCamera(),this.m_screenProjector.update(this.camera,r,i),this.m_pixelToWorld=void 0,this.m_sceneEnvironment.update()}},{key:"updateLookAtSettings",value:function(){var e=j.MapViewUtils.getTargetAndDistance(this.projection,this.camera,this.elevationProvider),t=e.target,n=e.distance;if(e.final||this.update(),this.geoMaxBounds){var r=j.MapViewUtils.constrainTargetAndDistanceToViewBounds(t,n,this);t=r.target,n=r.distance}this.m_targetWorldPos.copy(t),this.m_targetGeoPos=this.projection.unprojectPoint(this.m_targetWorldPos),this.m_targetDistance=n,this.m_zoomLevel=j.MapViewUtils.calculateZoomLevelFromDistance(this,this.m_targetDistance);var i=this.extractAttitude(),o=i.yaw,a=i.pitch,s=i.roll;this.m_yaw=o,this.m_pitch=a,this.m_roll=s}},{key:"updateEnv",value:function(){this.m_env.entries.$zoom=this.m_zoomLevel,this.m_env.entries.$pixelToMeters=this.pixelToWorld,this.m_env.entries.$frameNumber=this.m_frameNumber}},{key:"ndcToView",value:function(e,t){return t.set(e.x,e.y,e.z).applyMatrix4(this.camera.projectionMatrixInverse).applyMatrix4(this.m_rteCamera.matrixWorld),t}},{key:"renderLoop",value:function(e){if(!0!==this.m_options.synchronousRendering&&!this.disposed){if(0===this.maxFps)this.render(e);else{var t=1e3/this.maxFps;e>=(void 0===this.m_previousFrameTimeStamp?0:this.m_previousFrameTimeStamp)+t-3&&this.render(e)}this.m_updatePending||this.animating?this.m_animationFrameHandle=requestAnimationFrame(this.handleRequestAnimationFrame):this.m_animationFrameHandle=void 0}}},{key:"startRenderLoop",value:function(){void 0!==this.m_animationFrameHandle||this.m_options.synchronousRendering||(this.m_animationFrameHandle=requestAnimationFrame(this.handleRequestAnimationFrame))}},{key:"getEnabledTileDataSources",value:function(){var e,t=[],n=o(this.m_tileDataSources);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.isDataSourceEnabled(r)&&t.push(r)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"render",value:function(e){var t=this;if(!this.m_drawing)if(this.disposed)q.warn("render(): MapView has been disposed of.");else{var n;this.RENDER_EVENT.time=e,this.dispatchEvent(this.RENDER_EVENT),this.m_tileObjectRenderer.prepareRender(),++this.m_frameNumber;var r,i,o,a,s,l,u=F.PerformanceStatistics.instance,c=u.enabled;if(c){if(n=u.currentFrame,void 0!==this.m_previousFrameTimeStamp){var f=e-this.m_previousFrameTimeStamp;n.setValue("render.fps",1e3/f)}u.storeAndClearFrameInfo(),(n=n).setValue("renderCount.frameNumber",this.m_frameNumber)}if(this.m_previousFrameTimeStamp=e,this.m_renderer.info.reset(),this.m_updatePending=!1,this.m_thisFrameTilesChanged=void 0,this.m_drawing=!0,this.m_renderer.getPixelRatio()!==this.pixelRatio&&this.m_renderer.setPixelRatio(this.pixelRatio),this.updateCameras(),this.updateEnv(),this.m_renderer.clear(),this.m_sceneRoot.children.length=0,this.m_overlaySceneRoot.children.length=0,c&&(r=v.PerformanceTimer.now()),!this.lockVisibleTileSet){var d=this.m_visibleTiles.updateRenderList(this.storageLevel,Math.floor(this.zoomLevel),this.getEnabledTileDataSources(),this.m_frameNumber,this.m_elevationRangeSource);d.viewRangesChanged&&this.updateCameras(d.viewRanges)}c&&(i=v.PerformanceTimer.now());var p=this.m_visibleTiles.dataSourceTileList;if(p.forEach((function(e){var n=e.zoomLevel;e.renderedTiles.forEach((function(e){t.m_tileObjectRenderer.render(e,n,t.zoomLevel,t.m_camera.position,t.m_sceneRoot),e.frameNumLastVisible=t.m_frameNumber}))})),this.m_initialTextPlacementDone||this.m_firstFrameComplete||this.isDynamicFrame||this.m_themeManager.isUpdating()||!this.m_poiTableManager.finishedLoading||!this.m_visibleTiles.allVisibleTilesLoaded||this.m_connectedDataSources.size+this.m_failedDataSources.size!==this.m_tileDataSources.length||this.m_textElementsRenderer.loading||(this.m_initialTextPlacementDone=!0),this.m_mapAnchors.update(this.projection,this.camera.position,this.m_sceneRoot,this.m_overlaySceneRoot),this.m_animatedExtrusionHandler.update(this.zoomLevel),void 0!==n&&(n.addValue("renderCount.numTilesRendered",0),n.addValue("renderCount.numTilesVisible",0),n.addValue("renderCount.numTilesLoading",0),p.forEach((function(e){e.zoomLevel;var t=e.renderedTiles,r=e.visibleTiles,i=e.numTilesLoading;n.addValue("renderCount.numTilesRendered",t.size),n.addValue("renderCount.numTilesVisible",r.length),n.addValue("renderCount.numTilesLoading",i)}))),this.m_movementDetector.checkCameraMoved(this,e)){var m=this.geoCenter,g=m.latitude,y=m.longitude,E=m.altitude;this.dispatchEvent({type:h.CameraPositionChanged,latitude:g,longitude:y,altitude:E,yaw:this.m_yaw,pitch:this.m_pitch,roll:this.m_roll,tilt:this.tilt,heading:this.heading,zoom:this.zoomLevel})}var A=void 0!==this.m_pointOfView?this.m_pointOfView:this.m_rteCamera;if(this.renderLabels&&!this.m_pointOfView&&this.m_textElementsRenderer.placeText(p,e),c&&(o=v.PerformanceTimer.now()),this.mapRenderingManager.render(this.m_renderer,this.m_scene,A,!this.isDynamicFrame),c&&(a=v.PerformanceTimer.now()),this.renderLabels&&!this.m_pointOfView&&this.m_textElementsRenderer.renderText(this.m_viewRanges.maximum),this.m_overlaySceneRoot.children.length>0&&this.m_renderer.render(this.m_overlayScene,A),c&&(s=v.PerformanceTimer.now()),this.m_firstFrameRendered||(this.m_firstFrameRendered=!0,c&&u.appResults.set("firstFrame",e),this.FIRST_FRAME_EVENT.time=e,this.dispatchEvent(this.FIRST_FRAME_EVENT)),this.m_visibleTiles.disposePendingTiles(),this.m_drawing=!1,this.checkCopyrightUpdates(),void 0!==this.m_taskSchedulerTimeout&&clearTimeout(this.m_taskSchedulerTimeout),this.m_taskSchedulerTimeout=setTimeout((function(){t.m_taskSchedulerTimeout=void 0,t.m_taskScheduler.processPending(e)}),0),void 0!==n){var T=(l=v.PerformanceTimer.now())-e;n.setValue("render.setupTime",r-e),n.setValue("render.cullTime",i-r),n.setValue("render.textPlacementTime",o-i),n.setValue("render.drawTime",a-o),n.setValue("render.textDrawTime",s-a),n.setValue("render.cleanupTime",l-s),n.setValue("render.frameRenderTime",T),n.setValue("render.fullFrameTime",T),n.setValue("render.geometryCreationTime",0),u.addWebGLInfo(this.m_renderer.info),u.addMemoryInfo()}this.DID_RENDER_EVENT.time=e,this.dispatchEvent(this.DID_RENDER_EVENT),!this.textElementsRenderer.loading&&this.m_visibleTiles.allVisibleTilesLoaded&&this.m_initialTextPlacementDone&&!this.m_animatedExtrusionHandler.isAnimating&&(!1===this.m_firstFrameComplete&&(this.m_firstFrameComplete=!0,c&&u.appResults.set("firstFrameComplete",e)),this.FRAME_COMPLETE_EVENT.time=e,this.dispatchEvent(this.FRAME_COMPLETE_EVENT))}}},{key:"setupCamera",value:function(){v.assert(void 0!==this.m_visibleTiles),this.m_options.target=m.GeoCoordinates.fromObject(v.getOptionValue(this.m_options.target,J.target)),this.m_options.target.altitude=0,this.m_options.tilt=v.getOptionValue(this.m_options.tilt,J.tilt),this.m_options.heading=v.getOptionValue(this.m_options.heading,J.heading),this.m_options.zoomLevel=v.getOptionValue(this.m_options.zoomLevel,J.zoomLevel),this.lookAtImpl(this.m_options);var e=this.getCanvasClientSize(),t=e.width,n=e.height;this.resize(t,n)}},{key:"createVisibleTileSet",value:function(){v.assert(void 0!==this.m_tileGeometryManager),this.m_visibleTiles&&(this.m_visibleTiles.clearTileCache(),this.m_visibleTiles.disposePendingTiles());var e=void 0===this.m_enableMixedLod?this.projection.type===m.ProjectionType.Spherical:this.m_enableMixedLod;return this.m_visibleTiles=new Z.VisibleTileSet(new x.FrustumIntersection(this.m_camera,this,this.m_visibleTileSetOptions.extendedFrustumCulling,this.m_tileWrappingEnabled,e,this.m_lodMinTilePixelSize),this.m_tileGeometryManager,this.m_visibleTileSetOptions,this.taskQueue),this.m_visibleTiles}},{key:"movementStarted",value:function(){this.m_textElementsRenderer.movementStarted(),this.MOVEMENT_STARTED_EVENT.time=Date.now(),this.dispatchEvent(this.MOVEMENT_STARTED_EVENT)}},{key:"movementFinished",value:function(){var e=this;this.m_textElementsRenderer.movementFinished(),this.MOVEMENT_FINISHED_EVENT.time=Date.now(),this.dispatchEvent(this.MOVEMENT_FINISHED_EVENT),this.animating||(void 0!==this.m_movementFinishedUpdateTimerId&&clearTimeout(this.m_movementFinishedUpdateTimerId),this.m_movementFinishedUpdateTimerId=setTimeout((function(){e.m_movementFinishedUpdateTimerId=void 0,e.update()}),0))}},{key:"checkIfTilesChanged",value:function(){if(void 0!==this.m_thisFrameTilesChanged)return this.m_thisFrameTilesChanged;var e=this.m_visibleTiles.dataSourceTileList,t=[];t.length=0,e.forEach((function(e){var n=e.dataSource;e.renderedTiles.forEach((function(e){t.push(n.name+"-"+e.tileKey.mortonCode())}))})),t.sort();var n=t.join("#");return n!==this.m_lastTileIds?(this.m_lastTileIds=n,this.m_thisFrameTilesChanged=!0):this.m_thisFrameTilesChanged=!1,this.m_thisFrameTilesChanged}},{key:"checkCopyrightUpdates",value:function(){if(this.checkIfTilesChanged()){var e=this.getRenderedTilesCopyrightInfo();if(e!==this.m_copyrightInfo){if(e.length===this.m_copyrightInfo.length){for(var t=!0,n=0;n<e.length;n++){var r=e[n],i=this.m_copyrightInfo[n];if(r.label!==i.label){t=!1;break}}if(t)return}this.m_copyrightInfo=e,this.dispatchEvent(this.COPYRIGHT_CHANGED_EVENT)}}}},{key:"getRenderedTilesCopyrightInfo",value:function(){var e,t=[],n=o(this.m_visibleTiles.dataSourceTileList);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,a=o(i.renderedTiles.values());try{for(a.s();!(r=a.n()).done;){var s=r.value.copyrightInfo;void 0!==s&&0!==s.length&&(t=b.CopyrightInfo.mergeArrays(t,s))}}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}return t}},{key:"setupStats",value:function(e){new F.PerformanceStatistics(e,1e3)}},{key:"setupRenderer",value:function(e){var t;this.m_scene.add(this.m_sceneRoot),this.m_overlayScene.add(this.m_overlaySceneRoot),this.shadowsEnabled=null!==(t=this.m_options.enableShadows)&&void 0!==t&&t,e.setupRenderer()}},{key:"createTextRenderer",value:function(){var e=this;return new V.TextElementsRenderer(new K.MapViewState(this,this.checkIfTilesChanged.bind(this)),(function(){e.update()}),this.m_screenProjector,this.m_poiManager,this.m_renderer,[this.imageCache,this.userImageCache],this.m_options)}},{key:"resetTextRenderer",value:function(){var e=i(r.mark((function e(t,n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.m_textElementsRenderer.updateFontCatalogs(t);case 2:return e.next=4,this.m_textElementsRenderer.updateTextStyles(n,i);case 4:this.update();case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setFovOnCamera",value:function(e,t){var n=g.MathUtils.degToRad(e.fov);if("fixed"!==e.type){var r=T.CameraUtils.getFocalLength(this.m_camera);void 0===r&&(T.CameraUtils.setVerticalFov(this.m_camera,n,t),r=T.CameraUtils.getFocalLength(this.m_camera)),T.CameraUtils.setFocalLength(this.m_camera,r,t)}else T.CameraUtils.setVerticalFov(this.m_camera,n,t)}},{key:"getCanvasClientSize",value:function(){var e=this.canvas,t=e.clientWidth,n=e.clientHeight;if(0===t||0===n||"number"!==typeof t||"number"!==typeof n){var r=this.m_renderer.getPixelRatio();return{width:Math.round(this.canvas.width/r),height:Math.round(this.canvas.height/r)}}return{width:t,height:n}}}]),n}(I.EventDispatcher);t.MapView=$},64873:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapViewAtmosphere=t.AtmosphereLightMode=void 0;var a,s,l,u=n(31201),c=n(85164),f=n(15739),d=n(34585),h=n(45480);!function(e){e[e.Ground=1]="Ground",e[e.Sky=2]="Sky",e[e.SkyAndGround=3]="SkyAndGround"}(a||(a={})),function(e){e[e.ScatteringShader=0]="ScatteringShader",e[e.SimpleColor=1]="SimpleColor",e[e.Wireframe=2]="Wireframe"}(s||(s={})),function(e){e[e.LightOverhead=0]="LightOverhead",e[e.LightDynamic=1]="LightDynamic"}(l=t.AtmosphereLightMode||(t.AtmosphereLightMode={}));var p=.025,m={clipPlanes:{near:0,far:0}},v=function(){function e(t,n,r,o,l){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.SkyAndGround,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s.ScatteringShader;i(this,e),this.m_mapAnchors=t,this.m_sceneCamera=n,this.m_projection=r,this.m_rendererCapabilities=o,this.m_updateCallback=l,this.m_atmosphereVariant=c,this.m_materialVariant=f,this.m_enabled=!0,this.m_clipPlanesEvaluator=new h.TiltViewClipPlanesEvaluator(u.EarthConstants.EQUATORIAL_RADIUS*p,0,1,.05,1e7),this.m_lightDirection=new d.Vector3(0,1,0),this.m_atmosphereVariant&a.Sky&&this.createSkyGeometry(),this.m_atmosphereVariant&a.Ground&&this.createGroundGeometry(),this.addToMapAnchors(this.m_mapAnchors)}return o(e,[{key:"skyMesh",get:function(){return this.m_skyMesh}},{key:"groundMesh",get:function(){return this.m_groundMesh}},{key:"enabled",get:function(){return this.m_enabled},set:function(t){if(!this.disposed&&this.m_enabled!==t){this.m_enabled=t;var n=e.isPresent(this.m_mapAnchors);t&&!n?this.addToMapAnchors(this.m_mapAnchors):!t&&n&&this.removeFromMapAnchors(this.m_mapAnchors)}}},{key:"lightMode",set:function(e){if(this.m_materialVariant===s.ScatteringShader){var t=e===l.LightDynamic;if(void 0!==this.m_groundMaterial)this.m_groundMaterial.setDynamicLighting(t);if(void 0!==this.m_skyMaterial)this.m_skyMaterial.setDynamicLighting(t)}}},{key:"dispose",value:function(){var e,t,n,r;this.enabled&&(this.enabled=!1),null===(e=this.m_skyMaterial)||void 0===e||e.dispose(),null===(t=this.m_groundMaterial)||void 0===t||t.dispose(),null===(n=this.m_skyGeometry)||void 0===n||n.dispose(),null===(r=this.m_groundGeometry)||void 0===r||r.dispose(),this.m_skyGeometry=void 0,this.m_groundGeometry=void 0,this.m_skyMaterial=void 0,this.m_groundMaterial=void 0,this.m_skyMesh=void 0,this.m_groundMesh=void 0}},{key:"reset",value:function(e){}},{key:"disposed",get:function(){return void 0===this.m_skyMesh&&void 0===this.m_groundMesh}},{key:"addToMapAnchors",value:function(t){f.assert(!e.isPresent(t),"Atmosphere already added"),void 0!==this.m_skyMesh&&t.add(g(this.m_skyMesh,Number.MIN_SAFE_INTEGER)),void 0!==this.m_groundMesh&&t.add(g(this.m_groundMesh,Number.MAX_SAFE_INTEGER)),this.m_updateCallback&&this.m_updateCallback()}},{key:"removeFromMapAnchors",value:function(t){if(e.isPresent(t)){var n=!1;void 0!==this.m_skyMesh&&(t.remove(this.m_skyMesh),n=!0),void 0!==this.m_groundMesh&&(t.remove(this.m_groundMesh),n=!0),n&&this.m_updateCallback&&this.m_updateCallback()}}},{key:"createSkyGeometry",value:function(){if(this.m_projection.type===u.ProjectionType.Spherical)this.m_skyGeometry=new d.SphereGeometry(1.025*u.EarthConstants.EQUATORIAL_RADIUS,256,256);else this.m_skyGeometry=new d.PlaneGeometry(200,200);this.m_skyGeometry.translate(0,0,0),this.m_materialVariant===s.ScatteringShader?this.m_skyMaterial=new c.SkyAtmosphereMaterial({rendererCapabilities:this.m_rendererCapabilities}):this.m_materialVariant===s.SimpleColor?this.m_skyMaterial=new d.MeshBasicMaterial({color:new d.Color(12908781),opacity:.4,transparent:!1,depthTest:!0,depthWrite:!1,side:d.BackSide,blending:d.NormalBlending,fog:!1}):this.m_skyMaterial=new d.MeshStandardMaterial({color:8388607,depthTest:!1,depthWrite:!1,normalScale:new d.Vector2(-1,-1),side:d.BackSide,wireframe:!0}),this.m_skyMesh=new d.Mesh(this.m_skyGeometry,this.m_skyMaterial),this.m_skyMesh.name=e.SkyAtmosphereUserName,this.setupSkyForRendering()}},{key:"createGroundGeometry",value:function(){if(this.m_projection.type===u.ProjectionType.Spherical)this.m_groundGeometry=new d.SphereGeometry(1.0001*u.EarthConstants.EQUATORIAL_RADIUS,256,256);else this.m_groundGeometry=new d.PlaneGeometry(200,200);this.m_groundGeometry.translate(0,0,0),this.m_materialVariant===s.ScatteringShader?this.m_groundMaterial=new c.GroundAtmosphereMaterial({rendererCapabilities:this.m_rendererCapabilities}):this.m_materialVariant===s.SimpleColor?this.m_groundMaterial=new d.MeshBasicMaterial({color:new d.Color(50687),opacity:.4,transparent:!0,depthTest:!1,depthWrite:!1,side:d.FrontSide,blending:d.NormalBlending,fog:!1}):this.m_groundMaterial=new d.MeshStandardMaterial({color:1149338,depthTest:!0,depthWrite:!1,side:d.FrontSide,wireframe:!0}),this.m_groundMesh=new d.Mesh(this.m_groundGeometry,this.m_groundMaterial),this.m_groundMesh.name=e.GroundAtmosphereUserName,this.setupGroundForRendering()}},{key:"setupSkyForRendering",value:function(){var e,t=this;void 0!==this.m_skyMesh&&(e=this.m_materialVariant!==s.ScatteringShader?function(e,n){t.overrideClipPlanes(e)}:function(e,n){t.overrideClipPlanes(e),f.assert(n instanceof c.SkyAtmosphereMaterial);var r=t.m_skyMaterial;r.updateUniforms(r,t.m_skyMesh,e,t.m_lightDirection)},f.assert(void 0!==this.m_skyMaterial),this.m_skyMesh.onBeforeRender=function(t,n,r,i,o,a){e(r,o)},this.m_skyMesh.onAfterRender=function(e,n,r,i,o,a){t.revertClipPlanes(r)})}},{key:"setupGroundForRendering",value:function(){var e=this;void 0!==this.m_groundMesh&&this.m_materialVariant===s.ScatteringShader&&(f.assert(void 0!==this.m_groundMaterial),this.m_groundMesh.onBeforeRender=function(t,n,r,i,o,a){f.assert(o instanceof c.GroundAtmosphereMaterial);var s=e.m_groundMaterial;s.updateUniforms(s,e.m_groundMesh,r,e.m_lightDirection)})}},{key:"overrideClipPlanes",value:function(e){var t=this.m_sceneCamera;m.clipPlanes.near=t.near,m.clipPlanes.far=t.far;var n=this.m_clipPlanesEvaluator.evaluateClipPlanes(this.m_sceneCamera,this.m_projection);f.assert(e instanceof d.PerspectiveCamera);var r=e;r.near=n.near,r.far=n.far+.1*u.EarthConstants.EQUATORIAL_RADIUS,r.updateProjectionMatrix()}},{key:"revertClipPlanes",value:function(e){f.assert(e instanceof d.PerspectiveCamera);var t=e;t.near=m.clipPlanes.near,t.far=m.clipPlanes.far,t.updateProjectionMatrix()}}],[{key:"isPresent",value:function(t){var n,i=r(t.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.name===e.SkyAtmosphereUserName||o.name===e.GroundAtmosphereUserName)return!0}}catch(a){i.e(a)}finally{i.f()}return!1}}]),e}();function g(e,t){var n=e;return n.renderOrder=t,n.pickable=!1,n.anchor=new d.Vector3(0,0,0),n}t.MapViewAtmosphere=v,v.SkyAtmosphereUserName="SkyAtmosphere",v.GroundAtmosphereUserName="GroundAtmosphere"},31011:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapViewEnvironment=t.DEFAULT_CLEAR_COLOR=void 0;var o=n(31201),a=n(15739),s=n(34585),l=n(49417),u=n(3457),c=n(97229),f=n(4716),d=a.LoggerManager.instance.create("MapViewEnvironment");t.DEFAULT_CLEAR_COLOR=16777215;var h={vector3:[new s.Vector3,new s.Vector3,new s.Vector3],frustumPoints:[new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3]},p=function(){function e(t,n){r(this,e),this.m_mapView=t,this.m_fog=new u.MapViewFog(this.m_mapView.scene),!1!==n.addBackgroundDatasource&&(this.m_backgroundDataSource=new l.BackgroundDataSource,this.m_mapView.addDataSource(this.m_backgroundDataSource)),void 0!==n.backgroundTilingScheme&&void 0!==this.m_backgroundDataSource&&this.m_backgroundDataSource.setTilingScheme(n.backgroundTilingScheme),this.updateClearColor()}return i(e,[{key:"lights",get:function(){var e;return null!==(e=this.m_createdLights)&&void 0!==e?e:[]}},{key:"fog",get:function(){return this.m_fog}},{key:"updateBackgroundDataSource",value:function(){this.m_backgroundDataSource&&this.m_backgroundDataSource.updateStorageLevelOffset()}},{key:"clearBackgroundDataSource",value:function(){void 0!==this.m_backgroundDataSource&&this.m_mapView.clearTileCache(this.m_backgroundDataSource.name)}},{key:"update",value:function(){this.m_fog.update(this.m_mapView,this.m_mapView.viewRanges.maximum),void 0!==this.m_skyBackground&&this.m_mapView.projection.type===o.ProjectionType.Planar&&this.m_skyBackground.updateCamera(this.m_mapView.camera),this.updateLights()}},{key:"updateClearColor",value:function(e,n){void 0!==e?this.m_mapView.renderer.setClearColor(new s.Color(e),n):this.m_mapView.renderer.setClearColor(t.DEFAULT_CLEAR_COLOR,n)}},{key:"updateSkyBackground",value:function(e,t){if(this.m_skyBackground instanceof c.SkyBackground&&void 0!==e)this.updateSkyBackgroundColors(e,t);else{if(void 0===this.m_skyBackground&&void 0!==e)return void this.addNewSkyBackground(e,t);this.m_skyBackground instanceof c.SkyBackground&&void 0===e&&this.removeSkyBackGround()}}},{key:"updateLighting",value:function(e){var t,n=this;this.m_createdLights&&this.m_createdLights.forEach((function(e){n.m_mapView.scene.remove(e)})),null===(t=this.m_overlayCreatedLights)||void 0===t||t.forEach((function(e){n.m_mapView.overlayScene.remove(e),e instanceof s.DirectionalLight&&n.m_mapView.overlayScene.remove(e.target)})),void 0!==e&&(this.m_createdLights=[],this.m_overlayCreatedLights=[],e.forEach((function(e){var t=f.createLight(e);if(t){if(n.m_mapView.scene.add(t),t.isDirectionalLight){var r=t;n.m_mapView.scene.add(r.target)}n.m_createdLights.push(t);var i=t.clone();n.m_mapView.overlayScene.add(i),i instanceof s.DirectionalLight&&n.m_mapView.overlayScene.add(i.target.clone())}else d.warn("MapView: failed to create light ".concat(e.name," of type ").concat(e.type))})))}},{key:"updateLights",value:function(){var e=this;if(this.m_mapView.shadowsEnabled&&this.m_mapView.projection.type!==o.ProjectionType.Spherical&&void 0!==this.m_createdLights&&0!==this.m_createdLights.length){var t=[{x:-1,y:-1,z:-1},{x:1,y:-1,z:-1},{x:-1,y:1,z:-1},{x:1,y:1,z:-1},{x:-1,y:-1,z:1},{x:1,y:-1,z:1},{x:-1,y:1,z:1},{x:1,y:1,z:1}].map((function(t,n){return e.m_mapView.ndcToView(t,h.frustumPoints[n])}));this.m_createdLights.forEach((function(n){var r=n;if(!0===r.isDirectionalLight){var i=h.vector3[0];i.copy(r.target.position),i.sub(r.position),i.normalize();var a=h.vector3[1];e.m_mapView.projection.type===o.ProjectionType.Planar&&a.set(0,0,-1);var l=e.m_mapView.tilt,u=e.m_mapView.targetDistance*Math.cos(s.MathUtils.degToRad(l))/a.dot(i);r.target.position.copy(e.m_mapView.worldTarget).sub(e.m_mapView.camera.position),r.position.copy(e.m_mapView.worldTarget),r.position.addScaledVector(i,-u),r.position.sub(e.m_mapView.camera.position),r.updateMatrixWorld(),r.shadow.updateMatrices(r);var c=r.shadow.camera,f=t.map((function(t){return e.viewToLightSpace(t.clone(),c)})),d=new s.Box3;f.forEach((function(e){d.expandByPoint(e)})),c.left=d.min.x,c.right=d.max.x,c.top=d.max.y,c.bottom=d.min.y,c.near=.95*-d.max.z,c.far=-d.min.z,c.updateProjectionMatrix()}}))}}},{key:"addNewSkyBackground",value:function(e,t){"gradient"===e.type&&void 0===e.groundColor&&(e.groundColor=a.getOptionValue(t,"#000000")),this.m_skyBackground=new c.SkyBackground(e,this.m_mapView.projection.type,this.m_mapView.camera),this.m_mapView.scene.background=this.m_skyBackground.texture}},{key:"removeSkyBackGround",value:function(){this.m_mapView.scene.background=null,void 0!==this.m_skyBackground&&(this.m_skyBackground.dispose(),this.m_skyBackground=void 0)}},{key:"updateSkyBackgroundColors",value:function(e,t){var n;"gradient"===e.type&&void 0===e.groundColor&&(e.groundColor=a.getOptionValue(t,"#000000")),void 0!==this.m_skyBackground&&(this.m_skyBackground.updateTexture(e,this.m_mapView.projection.type),this.m_mapView.scene.background=null===(n=this.m_skyBackground)||void 0===n?void 0:n.texture)}},{key:"viewToLightSpace",value:function(e,t){return e.applyMatrix4(t.matrixWorldInverse)}}]),e}();t.MapViewEnvironment=p},3457:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapViewFog=void 0;var o=n(85164),a=n(50470),s=n(15739),l=n(34585),u=function(){function e(t){r(this,e),this.m_scene=t,this.m_enabled=!0,this.m_fog=new l.Fog(0),this.m_fogIsDefined=!1}return i(e,[{key:"enabled",get:function(){return this.m_enabled},set:function(e){this.m_enabled=e,e&&this.m_fogIsDefined&&null===this.m_scene.fog?this.add():e||null===this.m_scene.fog||this.remove()}},{key:"reset",value:function(e){this.m_cachedFog=e,void 0!==e&&void 0!==e.color&&void 0!==e.startRatio?(this.m_fogIsDefined=!0,this.m_fog.color.set(e.color),this.m_enabled&&null===this.m_scene.fog&&this.add()):(this.m_fogIsDefined=!1,null!==this.m_scene.fog&&this.remove())}},{key:"update",value:function(e,t){if(null!==this.m_scene.fog&&void 0!==this.m_cachedFog&&this.m_cachedFog&&void 0!==this.m_cachedFog.startRatio&&(void 0!==e.camera.far||void 0!==t)){var n=void 0!==t?t:e.camera.far,r=this.m_cachedFog.startRatio;s.assert(r<=1);var i=Math.abs(Math.cos(e.tilt)),o=s.MathUtils.smoothStep(1,0,i);this.m_fog.near=l.MathUtils.lerp(n*r,n,1-o),this.m_fog.far=l.MathUtils.lerp(1*n,n,o),this.m_fog.near=Math.min(this.m_fog.near,e.camera.far),this.m_fog.far=Math.min(this.m_fog.far,e.camera.far)}}},{key:"add",value:function(){this.m_scene.fog=this.m_fog,this.setFogInRawShaderMaterials(!0)}},{key:"remove",value:function(){this.m_scene.fog=null,this.setFogInRawShaderMaterials(!1)}},{key:"setFogInRawShaderMaterials",value:function(e){this.m_scene.traverse((function(t){if(t instanceof l.Mesh){var n=t.material;n instanceof l.Material&&!(n instanceof o.HighPrecisionLineMaterial)&&n.fog!==e&&(n.fog=e,n instanceof a.RawShaderMaterial&&n.invalidateFog())}}))}}]),e}();t.MapViewFog=u},12918:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Squares=t.Circles=t.MapViewPoints=void 0;var s=n(34585),l=function(e){o(n,e);var t=a(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).enableRayTesting=!0,e}return i(n,[{key:"raycast",value:function(e,t){var n=this;if(this.enableRayTesting){var r=this.geometry,i=this.matrixWorld,o=u(e.ray.origin.clone().add(e.ray.direction).project(e.camera),e),a=function(r,a){var s=function(e,t,n){var r=e.clone().applyMatrix4(t),i=r.distanceTo(n.ray.origin),o=r.project(n.camera),a=o.x<1&&o.x>-1&&o.y<1&&o.y>-1;if(a){return{absoluteScreenPosition:u(o,n),pointIsOnScreen:a,distance:i}}return{pointIsOnScreen:a}}(r,i,e);s.pointIsOnScreen&&n.testPoint(r,s.absoluteScreenPosition,o,a,s.distance,t)},l=new s.Vector3,c=r.index,f=r.attributes.position.array;if(null!==c)for(var d=c.array,h=0,p=d.length;h<p;h++)a(l.fromArray(f,3*d[h]),h);else for(var m=0,v=f.length/3;m<v;m++)a(l.fromArray(f,3*m),m)}}}]),n}(s.Points);function u(e,t){return new s.Vector2(e.x+1,1-e.y).divideScalar(2).multiply(t.canvasSize).ceil()}t.MapViewPoints=l;var c=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"testPoint",value:function(e,t,n,r,i,o){var a=t.x-n.x,s=t.y-n.y;Math.sqrt(a*a+s*s)<=this.material.size/2&&o.push({point:e,distance:i,index:r,object:this})}}]),n}(l);t.Circles=c;var f=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"testPoint",value:function(e,t,n,r,i,o){var a=t.x-n.x,s=t.y-n.y,l=this.material.size/2;Math.abs(a)<=l&&Math.abs(s)<=l&&o.push({point:e,distance:i,index:r,object:this})}}]),n}(l);t.Squares=f},8379:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapViewTaskScheduler=void 0;var s=n(15739),l=n(34585),u=n(65312),c=n(91422),f={type:"update"},d=function(e){o(n,e);var t=a(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;return r(this,n),(e=t.call(this)).m_maxFps=i,e.m_throttlingEnabled=!1,e.m_taskQueue=new s.TaskQueue({groups:[u.TileTaskGroups.FETCH_AND_DECODE,u.TileTaskGroups.CREATE],prioSortFn:function(e,t){return e.getPriority()-t.getPriority()}}),e.maxFps=i,e}return i(n,[{key:"maxFps",get:function(){return this.m_maxFps},set:function(e){this.m_maxFps=e<=0?60:e}},{key:"taskQueue",get:function(){return this.m_taskQueue}},{key:"throttlingEnabled",get:function(){return!0===this.m_throttlingEnabled},set:function(e){this.m_throttlingEnabled=e}},{key:"requestUpdate",value:function(){this.dispatchEvent(f)}},{key:"processPending",value:function(e){var t,n=this,r=c.PerformanceStatistics.instance,i=r.enabled?r.currentFrame:void 0;r.enabled&&(t=s.PerformanceTimer.now()),this.m_taskQueue.update();var o=this.taskQueue.numItemsLeft();null===i||void 0===i||i.setValue("TaskScheduler.numPendingTasks",o),this.throttlingEnabled?function(){var t=n.spaceInFrame(e);t=t>2?t-2:t,null===i||void 0===i||i.setValue("TaskScheduler.estimatedAvailableTime",t);for(var r=0,a=function(){function e(e){var n,i;return(t-=null!==(i=null===(n=e.estimatedProcessTime)||void 0===n?void 0:n.call(e))&&void 0!==i?i:2)>0||1===r}r++,[u.TileTaskGroups.CREATE,u.TileTaskGroups.FETCH_AND_DECODE].forEach((function(t){n.m_taskQueue.numItemsLeft(t)&&n.m_taskQueue.processNext(t,e)})),o=n.m_taskQueue.numItemsLeft()};t>0&&o>0;)a();(o=n.m_taskQueue.numItemsLeft())>0&&(null===i||void 0===i||i.setValue("TaskScheduler.pendingTasksNotYetProcessed",o),n.requestUpdate())}():(this.m_taskQueue.processNext(u.TileTaskGroups.CREATE,void 0,this.m_taskQueue.numItemsLeft(u.TileTaskGroups.CREATE)),this.m_taskQueue.processNext(u.TileTaskGroups.FETCH_AND_DECODE,void 0,this.m_taskQueue.numItemsLeft(u.TileTaskGroups.FETCH_AND_DECODE))),r.enabled&&(null===i||void 0===i||i.setValue("TaskScheduler.pendingTasksTime",s.PerformanceTimer.now()-t))}},{key:"clearQueuedTasks",value:function(){this.m_taskQueue.clear()}},{key:"spaceInFrame",value:function(e){var t=(performance||Date).now()-e;return Math.max(1e3/this.m_maxFps-t,0)}}]),n}(l.EventDispatcher);t.MapViewTaskScheduler=d},8246:function(e,t,n){"use strict";var r=n(43269).default,i=n(87757),o=n(48926).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapViewThemeManager=void 0;var l=n(15739),u=n(10018),c=n(30081),f=l.LoggerManager.instance.create("MapViewThemeManager"),d=function(){function e(t,n){a(this,e),this.m_mapView=t,this.m_uriResolver=n,this.m_abortControllers=[],this.m_theme={},this.m_imageCache=new u.MapViewImageCache}return s(e,[{key:"setTheme",value:function(){var e=o(i.mark((function e(t){var n=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUpdating()&&(f.warn("Formerly set Theme is still updating, update will be canceled"),this.cancelThemeUpdate()),this.m_updatePromise=this.loadTheme(t).then(function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.updateTheme(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,this.m_updatePromise;case 4:return this.m_updatePromise=void 0,e.abrupt("return",this.m_theme);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTheme",value:function(){var e=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isUpdating()){e.next=3;break}return e.next=3,this.m_updatePromise;case 3:return e.abrupt("return",this.m_theme);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isUpdating",value:function(){return void 0!==this.m_updatePromise}},{key:"theme",get:function(){return this.isUpdating()?{}:this.m_theme}},{key:"loadTheme",value:function(){var e=o(i.mark((function e(t){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},"string"!==typeof t&&c.ThemeLoader.isThemeLoaded(t)){e.next=13;break}return e.prev=2,e.next=5,c.ThemeLoader.load(t,{uriResolver:this.m_uriResolver,signal:this.createAbortController().signal});case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),"AbortError"===e.t0.name?f.warn("theme loading was aborted due to: ".concat(e.t0)):f.error("failed to load theme: ".concat(e.t0));case 11:e.next=14;break;case 13:n=t;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTheme",value:function(){var e=o(i.mark((function e(t){var n,o,a,s,l,u;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.m_mapView.sceneEnvironment,this.m_theme.fog=t.fog,this.m_theme.sky=t.sky,a.updateSkyBackground(t.sky),a.fog.reset(t.fog),this.m_theme.lights=t.lights,a.updateLighting(t.lights),this.m_theme.clearColor=t.clearColor,this.m_theme.clearAlpha=t.clearAlpha,a.updateClearColor(t.clearColor,t.clearAlpha),this.m_theme.images=t.images,this.m_theme.imageTextures=t.imageTextures,e.next=14,this.updateImages(t.images,t.imageTextures);case 14:return this.m_theme.poiTables=t.poiTables,e.next=17,this.loadPoiTables(t.poiTables);case 17:return this.m_theme.textStyles=t.textStyles,this.m_theme.defaultTextStyle=t.defaultTextStyle,this.m_theme.fontCatalogs=t.fontCatalogs,e.next=22,this.m_mapView.resetTextRenderer(t.fontCatalogs,t.textStyles,t.defaultTextStyle);case 22:Array.isArray(t.priorities)&&(this.m_theme.priorities=t.priorities),this.m_mapView.mapAnchors.setPriorities(null!==(n=t.priorities)&&void 0!==n?n:[]),Array.isArray(t.labelPriorities)&&(this.m_theme.labelPriorities=t.labelPriorities),void 0===this.m_theme.styles&&(this.m_theme.styles={}),this.m_theme.styles=null!==(o=t.styles)&&void 0!==o?o:{},this.m_theme.definitions=t.definitions,a.clearBackgroundDataSource(),s=r(this.m_mapView.dataSources),e.prev=30,s.s();case 32:if((l=s.n()).done){e.next=38;break}return u=l.value,e.next=36,u.setTheme(this.m_theme);case 36:e.next=32;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(30),s.e(e.t0);case 43:return e.prev=43,s.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,this,[[30,40,43,46]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCache",value:function(){this.updateImages(this.m_theme.images,this.m_theme.imageTextures),this.m_mapView.sceneEnvironment.updateLighting(this.m_theme.lights),this.m_mapView.sceneEnvironment.updateSkyBackground(this.m_theme.sky,this.m_theme.clearColor)}},{key:"imageCache",get:function(){return this.m_imageCache}},{key:"dispose",value:function(){this.m_imageCache.clear()}},{key:"loadPoiTables",value:function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.m_mapView.poiTableManager.clear(),e.next=3,this.m_mapView.poiTableManager.loadPoiTables(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelThemeUpdate",value:function(){for(var e=0;e<this.m_abortControllers.length;e++)this.m_abortControllers[e].abort();this.m_abortControllers=[],this.m_imageCache.clear(),this.m_mapView.poiManager.clear(),this.m_mapView.poiTableManager.clear()}},{key:"createAbortController",value:function(){return this.m_abortControllers.push(new AbortController),this.m_abortControllers[this.m_abortControllers.length-1]}},{key:"updateImages",value:function(){var e=o(i.mark((function e(t,n){var r,o,a,s,l=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.m_imageCache.clear(),this.m_mapView.poiManager.clear(),void 0===t){e.next=14;break}r=0,o=Object.keys(t);case 4:if(!(r<o.length)){e.next=14;break}if(a=o[r],s=t[a],this.m_imageCache.addImage(a,s.url,!0===s.preload),"string"!==typeof s.atlas){e.next=11;break}return e.next=11,this.m_mapView.poiManager.addTextureAtlas(a,s.atlas,this.createAbortController().signal);case 11:r++,e.next=4;break;case 14:void 0!==n&&n.forEach((function(e){l.m_mapView.poiManager.addImageTexture(e)}));case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.MapViewThemeManager=d},60179:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PathBlockingElement=void 0;var o=n(34585),a=r((function e(t){i(this,e),this.points=t,this.screenSpaceLines=new Array(t.length>=2?t.length-1:0);for(var n=0;n<this.screenSpaceLines.length;n++)this.screenSpaceLines[n]=new o.Line3(new o.Vector3,new o.Vector3)}));t.PathBlockingElement=a},92980:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PickHandler=t.PickObjectType=void 0;var a,s=n(26309),l=n(31201),u=n(34585),c=n(12918),f=n(34436),d=n(77569),h=n(61563);!function(e){e[e.Unspecified=0]="Unspecified",e[e.Point=1]="Point",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.Text=4]="Text",e[e.Icon=5]="Icon",e[e.Object3D=6]="Object3D"}(a=t.PickObjectType||(t.PickObjectType={}));var p=new u.Vector3,m=new l.OrientedBox3;function v(e,t,n,r,i){var a,s=o(e.dependencies);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.mortonCode();if(!r.has(u)){r.add(u);var c=i.visibleTileSet.getCachedTile(e.dataSource,l,e.offset,i.frameNumber);void 0!==c&&n.intersectObjects(c.objects,!0,t)}}}catch(f){s.e(f)}finally{s.f()}}var g=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r(this,e),this.mapView=t,this.camera=n,this.enablePickTechnique=i,this.m_pickingRaycaster=new f.PickingRaycaster(t.renderer.getSize(new u.Vector2))}return i(e,[{key:"intersectMapObjects",value:function(e,t,n){var r=this.mapView.getNormalizedScreenCoordinates(e,t),i=this.setupRaycaster(e,t),a=new d.PickListener(n);if(void 0!==this.mapView.textElementsRenderer){var s=this.mapView.canvas,l=s.clientWidth,c=s.clientHeight,f=r.x*l*.5,h=r.y*c*.5,p=new u.Vector2(f,h);this.mapView.textElementsRenderer.pickTextElements(p,a)}var m,g=[],y=this.getIntersectedTiles(i),E=new Set,A=o(y);try{for(A.s();!(m=A.n()).done;){var T=m.value,O=T.tile,R=T.distance;if(a.done&&a.furthestResult.distance<R)break;g.length=0,i.intersectObjects(O.objects,!0,g),v(O,g,i,E,this.mapView);var L,S=o(g);try{for(S.s();!(L=S.n()).done;){var b=L.value;a.addResult(this.createResult(b,O))}}catch(C){S.e(C)}finally{S.f()}}}catch(C){A.e(C)}finally{A.f()}g.length=0;var I,N=o(this.mapView.mapAnchors.children);try{for(N.s();!(I=N.n()).done;){var x=I.value;i.intersectObject(x,!0,g);var _,M=o(g);try{for(M.s();!(_=M.n()).done;){var w=_.value;a.addResult(this.createResult(w))}}catch(C){M.e(C)}finally{M.f()}}}catch(C){N.e(C)}finally{N.f()}return a.finish(),a.results}},{key:"raycasterFromScreenPoint",value:function(e,t){return this.m_pickingRaycaster.setFromCamera(this.mapView.getNormalizedScreenCoordinates(e,t),this.camera),this.mapView.renderer.getSize(this.m_pickingRaycaster.canvasSize),this.m_pickingRaycaster}},{key:"createResult",value:function(e,t){var n,r,i,o={type:a.Unspecified,point:e.point,distance:e.distance,dataSourceName:null===(n=e.object.userData)||void 0===n?void 0:n.dataSource,dataSourceOrder:null===(r=null===t||void 0===t?void 0:t.dataSource)||void 0===r?void 0:r.dataSourceOrder,intersection:e,tileKey:null===t||void 0===t?void 0:t.tileKey};if(void 0===e.object.userData||void 0===e.object.userData.feature)return o;this.enablePickTechnique&&(o.technique=e.object.userData.technique),o.renderOrder=null===(i=e.object)||void 0===i?void 0:i.renderOrder;var l,u=e.object.userData.feature;if(this.addObjInfo(u,e,o),o.userData){var c=s.getFeatureId(o.userData);o.featureId=0===c?void 0:c}switch(u.geometryType){case s.GeometryType.Point:case s.GeometryType.Text:l=a.Point;break;case s.GeometryType.Line:case s.GeometryType.ExtrudedLine:case s.GeometryType.SolidLine:case s.GeometryType.TextPath:l=a.Line;break;case s.GeometryType.Polygon:case s.GeometryType.ExtrudedPolygon:l=a.Area;break;case s.GeometryType.Object3D:l=a.Object3D;break;default:l=a.Unspecified}return o.type=l,o}},{key:"getIntersectedTiles",value:function(e){var t=this,n=new Array;return this.mapView.visibleTileSet.dataSourceTileList.forEach((function(r){r.dataSource.enablePicking&&r.renderedTiles.forEach((function(r){m.copy(r.boundingBox),m.position.sub(t.mapView.worldCenter);var i=r.computeWorldOffsetX();m.position.x+=i;var o=m.intersectsRay(e.ray);void 0!==o&&n.push({tile:r,distance:o})}))})),n.sort((function(e,t){return e.distance-t.distance})),n}},{key:"addObjInfo",value:function(e,t,n){if(void 0!==e.objInfos)if(n.intersection.object instanceof c.MapViewPoints)n.userData=e.objInfos[t.index];else if(void 0===e.starts||0===e.starts.length||"number"!==typeof t.faceIndex&&void 0===t.index)1===e.objInfos.length&&(n.userData=e.objInfos[0]);else if(1!==e.starts.length){var r,i="number"===typeof t.faceIndex?3*t.faceIndex:t.index,a=0,s=o(e.starts);try{for(s.s();!(r=s.n()).done;){if(r.value>i)break;a++}}catch(l){s.e(l)}finally{s.f()}n.userData=e.objInfos[a-1]}else n.userData=e.objInfos[0]}},{key:"setupRaycaster",value:function(e,t){var n=this.mapView.camera,r=this.raycasterFromScreenPoint(e,t),i=this.mapView.getWorldPositionAt(e,t,!0),o=n.position.distanceTo(i)/this.mapView.camera.getWorldDirection(p).dot(r.ray.direction);return r.params.Line.threshold=h.MapViewUtils.calculateWorldSizeByFocalLength(this.mapView.focalLength,o,1),r}}]),e}();t.PickHandler=g},77569:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PickListener=void 0;var o=n(15739);function a(e,t){var n,r,i=null!==(n=e.dataSourceOrder)&&void 0!==n?n:0,o=null!==(r=t.dataSourceOrder)&&void 0!==r?r:0;if(i!==o)return o-i;var a=e.distance-t.distance,s=void 0!==e.renderOrder&&void 0!==t.renderOrder;return Math.abs(a)>1e-4||!s?a:t.renderOrder-e.renderOrder}var s=function(){function e(t){r(this,e),this.m_parameters=t,this.m_results=[],this.m_sorted=!0,this.m_finished=!0}return i(e,[{key:"addResult",value:function(e){var t=this.m_results.findIndex((function(t){var n,r,i,o,a=t.type===e.type,s=null===(r=null===(n=e.intersection)||void 0===n?void 0:n.object.userData)||void 0===r?void 0:r.dataSource,l=s&&(null===(o=null===(i=t.intersection)||void 0===i?void 0:i.object.userData)||void 0===o?void 0:o.dataSource)===s,u=void 0!==e.featureId&&t.featureId===e.featureId,c=void 0===e.featureId&&void 0===t.featureId,f=e.userData&&t.userData===e.userData;return a&&l&&(u||c&&f)}));if(t<0)return this.m_sorted=!1,this.m_finished=!1,void this.m_results.push(e);var n=this.m_results[t];a(e,n)<0&&(this.m_results[t]=e,this.m_sorted=!1,this.m_finished=!1)}},{key:"done",get:function(){return!!this.maxResults&&this.m_results.length>=this.maxResults}},{key:"finish",value:function(){this.sortResults(),this.maxResults&&this.m_results.length>this.maxResults&&(this.m_results.length=this.maxResults),this.m_finished=!0}},{key:"results",get:function(){return o.assert(this.m_finished,"finish() was not called before getting the results"),this.m_results}},{key:"closestResult",get:function(){return this.sortResults(),this.m_results.length>0?this.m_results[0]:void 0}},{key:"furthestResult",get:function(){return this.sortResults(),this.m_results.length>0?this.m_results[this.m_results.length-1]:void 0}},{key:"maxResults",get:function(){var e,t,n=null!==(t=null===(e=this.m_parameters)||void 0===e?void 0:e.maxResultCount)&&void 0!==t?t:0;return n>0?n:void 0}},{key:"sortResults",value:function(){if(!this.m_sorted){var e=[],t=[];this.m_results.sort(a).forEach((function(n){return(0===n.distance?e:t).push(n)})),this.m_results=e.concat(t),this.m_sorted=!0}}}]),e}();t.PickListener=s},34436:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default,s=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PickingRaycaster=void 0;var l=n(34585),u=n(87213);function c(e,t,n,r){if(e.layers.test(t.layers)&&e.visible){var i=u.MapObjectAdapter.get(e);i&&!i.isPickable()||e.raycast(t,n)}if(!0===r){var o,a=s(e.children);try{for(a.s();!(o=a.n()).done;){c(o.value,t,n,!0)}}catch(l){a.e(l)}finally{a.f()}}}var f=function(e){o(n,e);var t=a(n);function n(e){var i;return r(this,n),(i=t.call(this)).canvasSize=e,i}return i(n,[{key:"intersectObject",value:function(e,t,n){var r=null!==n&&void 0!==n?n:[];return c(e,this,r,t),r}},{key:"intersectObjects",value:function(e,t,n){var r,i=null!==n&&void 0!==n?n:[],o=s(e);try{for(o.s();!(r=o.n()).done;){c(r.value,this,i,t)}}catch(a){o.e(a)}finally{o.f()}return i}}]),n}(l.Raycaster);t.PickingRaycaster=f},80057:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PlaneViewBounds=void 0;var o=n(31201),a=n(15739),s=n(34585),l=n(61563),u=function(){function e(t,n,i){r(this,e),this.camera=t,this.projection=n,this.m_options=i,this.m_groundPlaneNormal=new s.Vector3(0,0,1),this.m_groundPlane=new s.Plane(this.m_groundPlaneNormal.clone()),a.assert(n.type===o.ProjectionType.Planar)}return i(e,[{key:"generate",value:function(){var e=this,t=[];if(this.addCanvasCornerIntersection(t),4===t.length)return this.createPolygon(t);this.addHorizonIntersection(t);var n=(new s.Frustum).setFromProjectionMatrix((new s.Matrix4).multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse)),r=this.getWorldConers(this.projection);if(this.m_options.tileWrappingEnabled||[r.ne,r.nw,r.se,r.sw].forEach((function(r){e.addPointInFrustum(r,n,t)})),this.m_options.tileWrappingEnabled){var i=(new s.Vector3).subVectors(r.sw,r.se).normalize(),o=(new s.Vector3).subVectors(r.se,r.sw).normalize();[new s.Ray(r.se,i),new s.Ray(r.se,o),new s.Ray(r.ne,i),new s.Ray(r.ne,o)].forEach((function(r){e.addFrustumIntersection(r,n,t)}))}else[new s.Line3(r.sw,r.se),new s.Line3(r.ne,r.nw),new s.Line3(r.se,r.ne),new s.Line3(r.nw,r.sw)].forEach((function(r){e.addFrustumIntersection(r,n,t)}));return this.createPolygon(t)}},{key:"createPolygon",value:function(e){if(e.length>2)return new o.GeoPolygon(e,!0)}},{key:"getWorldConers",value:function(e){var t=e.worldExtent(0,0);return{sw:t.min,se:new s.Vector3(t.max.x,t.min.y,0),nw:new s.Vector3(t.min.x,t.max.y,0),ne:t.max}}},{key:"addNDCRayIntersection",value:function(e,t){var n=this;e.forEach((function(e){var r=l.MapViewUtils.rayCastWorldCoordinates({camera:n.camera,projection:n.projection},e[0],e[1]);r&&n.validateAndAddToGeoPolygon(r,t)}))}},{key:"addHorizonIntersection",value:function(e){var t=this.getVerticalHorizonPositionInNDC();t&&this.addNDCRayIntersection([[-1,t],[1,t]],e)}},{key:"addCanvasCornerIntersection",value:function(e){this.addNDCRayIntersection([[-1,-1],[1,-1],[1,1],[-1,1]],e)}},{key:"validateAndAddToGeoPolygon",value:function(e,t){this.isInVisibleMap(e)&&t.push(this.projection.unprojectPoint(e))}},{key:"isInVisibleMap",value:function(e){return!(e.y<0||e.y>o.EarthConstants.EQUATORIAL_CIRCUMFERENCE)&&!(!this.m_options.tileWrappingEnabled&&(e.x<0||e.x>o.EarthConstants.EQUATORIAL_CIRCUMFERENCE))}},{key:"addPointInFrustum",value:function(e,t,n){if(t.containsPoint(e)){var r=this.projection.unprojectPoint(e);r.altitude=0,n.push(r)}}},{key:"addFrustumIntersection",value:function(e,t,n){var r=this;t.planes.forEach((function(t){var i=null,o=new s.Vector3;if(e instanceof s.Ray&&e.intersectsPlane(t)?i=e.intersectPlane(t,o):e instanceof s.Line3&&t.intersectsLine(e)&&(i=t.intersectLine(e,o)),i&&l.MapViewUtils.closeToFrustum(i,r.camera)){var a=r.projection.unprojectPoint(i);a.altitude=0,n.push(a)}}))}},{key:"getVerticalHorizonPositionInNDC",value:function(){var e=new s.Vector3(-1,-1,1).unproject(this.camera).add(new s.Vector3(1,-1,1).unproject(this.camera)).multiplyScalar(.5),t=new s.Vector3(-1,1,1).unproject(this.camera).add(new s.Vector3(1,1,1).unproject(this.camera)).multiplyScalar(.5),n=new s.Line3(e,t),r=new s.Vector3;if(this.m_groundPlane.intersectLine(n,r))return r.project(this.camera).y}}]),e}();t.PlaneViewBounds=u},13412:function(e,t,n){"use strict";var r=n(319).default,i=n(87757),o=n(48926).default,a=n(34575).default,s=n(93913).default,l=n(2205).default,u=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PolarTileDataSource=void 0;var c=n(26309),f=n(97489),d=n(31201),h=n(34585),p=n(87378),m=n(47857),v=n(87213),g=n(30081),y=n(67247),E=function(e){l(n,e);var t=u(n);function n(e){var r,i=e.name,o=void 0===i?"polar":i,s=e.styleSetName,l=void 0===s?"polar":s,u=e.minDataLevel,c=e.maxDataLevel,f=e.minDisplayLevel,p=e.maxDisplayLevel,m=e.storageLevelOffset,v=void 0===m?-2:m,g=e.geometryLevelOffset,y=void 0===g?1:g,E=e.debugTiles,A=void 0!==E&&E;return a(this,n),(r=t.call(this,{name:o,styleSetName:l,minDataLevel:u,maxDataLevel:c,minDisplayLevel:f,maxDisplayLevel:p,storageLevelOffset:v})).m_tilingScheme=d.polarTilingScheme,r.m_maxLatitude=h.MathUtils.radToDeg(d.MercatorConstants.MAXIMUM_LATITUDE),r.m_geometryLevelOffset=y,r.m_debugTiles=A,r.cacheable=!1,r.enablePicking=!1,r}return s(n,[{key:"dispose",value:function(){this.m_northPoleEntry&&(this.m_northPoleEntry.material.dispose(),delete this.m_northPoleEntry),this.m_southPoleEntry&&(this.m_southPoleEntry.material.dispose(),delete this.m_southPoleEntry),this.m_styleSetEvaluator&&delete this.m_styleSetEvaluator}},{key:"createTechiqueEntry",value:function(e){if(this.m_styleSetEvaluator){var t=new f.MapEnv({$geometryType:"polygon",$layer:"earth",kind:e}),n=this.m_styleSetEvaluator.getMatchingTechniques(t);if(0!==n.length){var r=n[0],i=m.createMaterial(this.mapView.renderer.capabilities,{technique:r,env:this.mapView.env});if(i)return{material:i,technique:r}}}}},{key:"setTheme",value:function(){var e=o(i.mark((function e(t){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.ThemeLoader.load(t);case 2:t=e.sent,void 0!==this.styleSetName&&void 0!==t.styles&&(n=t.styles[this.styleSetName]),this.m_styleSetEvaluator=new f.StyleSetEvaluator({styleSet:null!==n&&void 0!==n?n:[],definitions:t.definitions,priorities:t.priorities,labelPriorities:t.labelPriorities}),this.m_northPoleEntry=this.createTechiqueEntry("north_pole"),this.m_southPoleEntry=this.createTechiqueEntry("south_pole"),this.mapView.markTilesDirty(this);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canGetTile",value:function(e,t){if(e!==t.level||t.level<1)return!1;var n=this.m_tilingScheme.getGeoBox(t),r=n.north,i=n.south;return r>this.m_maxLatitude||i<-this.m_maxLatitude}},{key:"shouldSubdivide",value:function(e,t){if(e<=t.level)return!1;var n=this.m_tilingScheme.getGeoBox(t),r=n.north,i=n.south;return r>this.m_maxLatitude||i<-this.m_maxLatitude}},{key:"getTilingScheme",value:function(){return this.m_tilingScheme}},{key:"getTile",value:function(e){var t=new y.Tile(this,e);return this.createTileGeometry(t),t}},{key:"geometryLevelOffset",get:function(){return this.m_geometryLevelOffset},set:function(e){this.m_geometryLevelOffset=e}},{key:"intersectEdge",value:function(e,t,n){var r=t.latitude,i=n.latitude,o=t.longitude,a=n.longitude;90===Math.abs(r)&&(o=a),90===Math.abs(i)&&(a=o);var s=a-o,l=(e-r)/(i-r);return new d.GeoCoordinates(e,o+s*l,0)}},{key:"createTileGeometry",value:function(e){var t=e.geoBox,n=t.north,i=t.south,o=n>0&&i>=0,a=o?this.m_northPoleEntry:this.m_southPoleEntry;if(void 0!==a){var s,l=this.m_tilingScheme.projection,u=this.projection,f=this.m_maxLatitude,p=o?f:-f,m=this.m_tilingScheme.boundingBoxGenerator.getWorldBox(e.tileKey),g=l.unprojectPoint(new h.Vector3(m.min.x,m.min.y,0)),y=l.unprojectPoint(new h.Vector3(m.max.x,m.min.y,0)),E=l.unprojectPoint(new h.Vector3(m.max.x,m.max.y,0)),A=l.unprojectPoint(new h.Vector3(m.min.x,m.max.y,0)),T=!1;if(1===e.tileKey.level){var O=0===m.min.x,R=O?m.max.x:m.min.x,L=(m.max.y+m.min.y)/2,S=l.unprojectPoint(new h.Vector3(R,L,0)),b=O?g:y;s=o?O?[S,E,b,y]:[S,g,b,A]:O?[S,y,b,E]:[S,A,b,g],T=!0}else{var I=(s=o?[g,y,E,A]:[g,A,E,y]).map((function(e){return e.latitude})),N=Math.max.apply(Math,r(I)),x=Math.min.apply(Math,r(I));if(o?N<p:x>p)return;if(T=o?x<p:N>p){var _=I.indexOf(o?N:x);if(0!==_)for(var M=0;M<_;M++)s.push(s.shift())}}if(T){var w=(m.min.x+m.max.x)/2,C=(m.min.y+m.max.y)/2,P=l.unprojectPoint(new h.Vector3(w,C,0));d.TransverseMercatorUtils.alignLongitude(s,P);var D=s[0],k=s[1],H=s[2],U=s[3],B=Math.abs(k.latitude)>=f,G=Math.abs(U.latitude)>=f,W=B?this.intersectEdge(p,k,H):this.intersectEdge(p,D,k),F=G?this.intersectEdge(p,U,H):this.intersectEdge(p,D,U);s.splice(B?2:1,4,W);for(var K=e.tileKey.level-this.storageLevelOffset+this.m_geometryLevelOffset,V=360/(1<<Math.max(0,K)),z=Math.floor((W.longitude+180)/V),j=Math.ceil((F.longitude+180)/V),Z=z+1;Z<j;Z++)s.push(new d.GeoCoordinates(p,Z*V-180,0));s.push(F),G&&s.push(U)}var Y=new h.BufferGeometry,q=s.map((function(t){var n=u.projectPoint(t,new h.Vector3);return n.sub(e.center),n}));Y.setFromPoints(q);for(var X=[],Q=1;Q<q.length-1;Q++)o?X.push(0,Q,Q+1):X.push(0,Q+1,Q);Y.setIndex(X);var J=new h.Mesh(Y,a.material);if(J.userData={dataSource:this.name,tileKey:e.tileKey},this.m_debugTiles){var $=Math.round(16777215*Math.abs(Math.sin(11*e.tileKey.mortonCode())));J.material=new h.MeshBasicMaterial({color:$,transparent:!0,opacity:.5}),e.objects.push(new h.Mesh(Y,new h.MeshBasicMaterial({color:$,wireframe:!0})))}v.MapObjectAdapter.create(J,{dataSource:this,technique:a.technique,kind:[o?c.StandardGeometryKind.Water:c.StandardGeometryKind.Background]}),e.objects.push(J)}else e.forceHasGeometry(!0)}}]),n}(p.DataSource);t.PolarTileDataSource=E},59456:function(e,t,n){"use strict";var r=n(16525).default,i=n(29754).default,o=n(43269).default,a=n(34575).default,s=n(93913).default,l=n(2205).default,u=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenCollisionsDebug=t.ScreenCollisions=t.isLineWithBound=t.DetailedCollisionBox=t.CollisionBox=void 0;var c=n(15739),f=n(34585),d=n(60396),h=n(15950),p=c.LoggerManager.instance.create("ScreenCollissions"),m=function(e){l(n,e);var t=u(n);function n(e){var r;return a(this,n),r=t.call(this),void 0!==e&&r.copy(e),r}return s(n,[{key:"copy",value:function(e){return e instanceof c.Math2D.Box?this.set(e.x,e.y,e.w,e.h):e instanceof f.Box2?this.set(e.min.x,e.min.y,e.max.x-e.min.x,e.max.y-e.min.y):this.set(e.minX,e.minY,e.maxX-e.minX,e.maxY-e.minY),this}},{key:"minX",get:function(){return this.x},set:function(e){this.x=e}},{key:"maxX",get:function(){return this.x+this.w},set:function(e){this.w=e-this.x}},{key:"minY",get:function(){return this.y},set:function(e){this.y=e}},{key:"maxY",get:function(){return this.y+this.h},set:function(e){this.h=e-this.y}}]),n}(c.Math2D.Box);t.CollisionBox=m;var v=function(e){l(n,e);var t=u(n);function n(e,r){var i;return a(this,n),(i=t.call(this,e)).detailBoxes=r,i}return s(n)}(m);function g(e){return void 0!==e.line}t.DetailedCollisionBox=v,t.isLineWithBound=g;var y=new m,E=function(){function e(){a(this,e),this.screenBounds=new c.Math2D.Box,this.rtree=new h}return s(e,[{key:"reset",value:function(){this.rtree.clear()}},{key:"update",value:function(e,t){this.screenBounds.set(e/-2,t/-2,e,t),this.reset()}},{key:"allocate",value:function(e){var t=e instanceof m?e:new m(e);this.rtree.insert(t)}},{key:"allocateIBoxes",value:function(e){this.rtree.load(e)}},{key:"search",value:function(e){return this.rtree.search(e)}},{key:"isAllocated",value:function(e){var t=e instanceof m?e:y.copy(e),n=this.search(t);return this.intersectsDetails(t,n)}},{key:"isVisible",value:function(e){return this.screenBounds.intersects(e)}},{key:"isFullyVisible",value:function(e){return this.screenBounds.containsBox(e)}},{key:"intersectsDetails",value:function(e,t){var n,r=o(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i instanceof v){var a,s=o(i.detailBoxes);try{for(s.s();!(a=s.n()).done;){if(a.value.intersects(e))return!0}}catch(u){s.e(u)}finally{s.f()}}else{if(!g(i))return!0;var l=i;if(this.intersectsLine(e,l))return!0}}}catch(u){r.e(u)}finally{r.f()}return!1}},{key:"intersectsLine",value:function(e,t){var n,r,i,o,a=t.line,s=a.end.x-a.start.x;if(0!==s){var l=a.end.y-a.start.y,u=l,c=-s,f=a.start.y-l/s*a.start.x;n=Math.sign(e.minX*u+(e.minY-f)*c),r=Math.sign(e.maxX*u+(e.minY-f)*c),i=Math.sign(e.minX*u+(e.maxY-f)*c),o=Math.sign(e.maxX*u+(e.maxY-f)*c)}else n=Math.sign(e.minX-a.start.x),r=Math.sign(e.maxX-a.start.x),i=Math.sign(e.minX-a.start.x),o=Math.sign(e.maxX-a.start.x);return n!==r||n!==i||n!==o}}]),e}();t.ScreenCollisions=E;var A=function(e){l(n,e);var t=u(n);function n(e){var r;return a(this,n),(r=t.call(this)).m_renderContext=null,r.m_renderingEnabled=!1,r.m_numAllocations=0,r.m_numSuccessfulTests=0,r.m_numFailedTests=0,r.m_numSuccessfulVisibilityTests=0,r.m_numFailedVisibilityTests=0,void 0!==e&&null!==e&&(r.m_renderContext=e.getContext("2d")),r}return s(n,[{key:"reset",value:function(){r(i(n.prototype),"reset",this).call(this),this.m_numAllocations=0,this.m_numSuccessfulTests=0,this.m_numFailedTests=0,this.m_numSuccessfulVisibilityTests=0,this.m_numFailedVisibilityTests=0}},{key:"update",value:function(e,t){this.m_renderingEnabled&&p.log("Allocations: ".concat(this.m_numAllocations," Successful Tests: ").concat(this.m_numSuccessfulTests," Failed Tests: ").concat(this.m_numFailedTests,"  Successful Visibility Tests: ").concat(this.m_numSuccessfulVisibilityTests,"  Failed Visibility Tests: ").concat(this.m_numFailedVisibilityTests," ")),r(i(n.prototype),"update",this).call(this,e,t),null!==this.m_renderContext&&(this.m_renderContext.canvas.width=e,this.m_renderContext.canvas.height=t),this.m_renderingEnabled=d.debugContext.getValue("DEBUG_SCREEN_COLLISIONS")}},{key:"allocate",value:function(e){r(i(n.prototype),"allocate",this).call(this,e),this.m_numAllocations++,this.m_renderingEnabled&&null!==this.m_renderContext&&(this.m_renderContext.strokeStyle="#6666ff",this.m_renderContext.strokeRect(e.x-this.screenBounds.x,this.screenBounds.y+this.screenBounds.h-e.y,e.w,-e.h))}},{key:"allocateIBoxes",value:function(e){var t,a=o(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;this.m_numAllocations++,this.m_renderingEnabled&&null!==this.m_renderContext&&(this.m_renderContext.strokeStyle="#aa2222",this.m_renderContext.strokeRect(s.minX-this.screenBounds.x,this.screenBounds.y+this.screenBounds.h-s.minY,s.maxX-s.minX,-(s.maxY-s.minY)))}}catch(l){a.e(l)}finally{a.f()}r(i(n.prototype),"allocateIBoxes",this).call(this,e)}},{key:"intersectsDetails",value:function(e,t){var o=r(i(n.prototype),"intersectsDetails",this).call(this,e,t);if(this.m_renderingEnabled&&null!==this.m_renderContext){var a=o?2:1;this.m_renderContext.strokeStyle=o?"#FF0000":"#00ff00",this.m_renderContext.strokeRect(e.x-this.screenBounds.x-a,this.screenBounds.y+this.screenBounds.h-e.y+a,e.w+2*a,-e.h-2*a)}return o?this.m_numFailedTests++:this.m_numSuccessfulTests++,o}},{key:"isVisible",value:function(e){var t=r(i(n.prototype),"isVisible",this).call(this,e);return t?this.m_numSuccessfulVisibilityTests++:this.m_numFailedVisibilityTests++,t}}]),n}(E);t.ScreenCollisionsDebug=A},56396:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenProjector=void 0;var o=n(34585);function a(e){return e.z>-1&&e.z<1}var s=function(){function e(t){r(this,e),this.m_camera=t,this.m_width=0,this.m_height=0}return i(e,[{key:"width",get:function(){return this.m_width}},{key:"height",get:function(){return this.m_height}},{key:"project",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.Vector2,r=this.projectVector(t,e.tempV3);return this.ndcToScreen(r,n)}},{key:"projectToScreen",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.Vector2,r=this.projectVector(t,e.tempV3);if(a(r))return this.ndcToScreen(r,n)}},{key:"projectAreaToScreen",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new o.Vector2;n*=2,r*=2;var s=this.projectVector(t,e.tempV3);if(a(s)&&s.x+n>=-1&&s.x-n<=1&&s.y+r>=-1&&s.y-r<=1)return this.ndcToScreen(s,i)}},{key:"project3",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.Vector3,r=this.projectVector(t,e.tempV3);if(r.z>-1&&r.z<1)return n.set(r.x*this.m_width/2,r.y*this.m_height/2,r.z),n}},{key:"projectVector",value:function(e,t){return t.set(e.x,e.y,e.z).project(this.m_camera),t}},{key:"onScreen",value:function(t){var n,r=this.projectVector(t,e.tempV3);return(n=r).z>-1&&n.z<1&&n.x>=-1&&n.x<=1&&n.y>=-1&&n.y<=1}},{key:"update",value:function(e,t,n){this.m_camera=e,this.m_width=t,this.m_height=n}},{key:"ndcToScreen",value:function(e,t){return t.set(e.x*this.m_width/2,e.y*this.m_height/2)}}]),e}();t.ScreenProjector=s,s.tempV2=new o.Vector2,s.tempV3=new o.Vector3},97229:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkyBackground=void 0;var o=n(37958),a=n(65819),s=function(){function e(t,n,i){switch(r(this,e),this.m_sky=t,this.m_projectionType=n,this.m_sky.type){case"gradient":this.m_skyTexture=new a.SkyGradientTexture(this.m_sky,this.m_projectionType),this.updateCamera(i);break;case"cubemap":this.m_skyTexture=new o.SkyCubemapTexture(this.m_sky)}}return i(e,[{key:"dispose",value:function(){this.m_skyTexture.dispose()}},{key:"texture",get:function(){return this.m_skyTexture.texture}},{key:"updateCamera",value:function(e){"gradient"===this.m_sky.type&&this.m_skyTexture.update(e)}},{key:"updateTexture",value:function(e,t){var n=this.m_sky.type===e.type&&this.m_projectionType===t;switch(e.type){case"gradient":n?this.m_skyTexture.updateTexture(e):this.m_skyTexture=new a.SkyGradientTexture(e,t);break;case"cubemap":n?this.m_skyTexture.updateTexture(e):this.m_skyTexture=new o.SkyCubemapTexture(e)}this.m_projectionType=t,this.m_sky=e}}]),e}();t.SkyBackground=s},37958:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkyCubemapTexture=t.SkyCubemapFaceId=t.SKY_CUBEMAP_FACE_COUNT=void 0;var o,a=n(15739),s=n(34585),l=a.LoggerManager.instance.create("SkyCubemapTexture");t.SKY_CUBEMAP_FACE_COUNT=6,function(e){e[e.positiveX=0]="positiveX",e[e.negativeX=1]="negativeX",e[e.positiveY=2]="positiveY",e[e.negativeY=3]="negativeY",e[e.positiveZ=4]="positiveZ",e[e.negativeZ=5]="negativeZ"}(o=t.SkyCubemapFaceId||(t.SkyCubemapFaceId={}));var u=function(){function e(t){r(this,e);var n=this.createCubemapFaceArray(t);this.m_skybox=void 0!==n?(new s.CubeTextureLoader).load(n):new s.CubeTexture}return i(e,[{key:"dispose",value:function(){this.m_skybox.dispose()}},{key:"texture",get:function(){return this.m_skybox}},{key:"updateTexture",value:function(e){var t=this.createCubemapFaceArray(e);void 0!==t&&(this.m_skybox=(new s.CubeTextureLoader).load(t))}},{key:"createCubemapFaceArray",value:function(e){for(var n=[void 0,void 0,void 0,void 0,void 0,void 0],r=0;r<t.SKY_CUBEMAP_FACE_COUNT;++r){var i=e[o[r]];if(void 0===i)return void l.error('Face "'.concat(o[r],'" was not defined.'));n[r]=i}return n}}]),e}();t.SkyCubemapTexture=u},65819:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkyGradientTexture=t.DEFAULT_MONOMIAL_POWER=t.DEFAULT_TEXTURE_SIZE=void 0;var o=n(31201),a=n(15739),s=n(34585);t.DEFAULT_TEXTURE_SIZE=512,t.DEFAULT_MONOMIAL_POWER=1;var l=[new s.Vector3(1,0,0),new s.Vector3(-1,0,0),new s.Vector3(0,-1,0),new s.Vector3(0,1,0),new s.Vector3(0,0,1),new s.Vector3(0,0,-1)],u=[new s.Vector3(0,0,-1),new s.Vector3(0,0,1),new s.Vector3(1,0,0),new s.Vector3(1,0,0),new s.Vector3(1,0,0),new s.Vector3(-1,0,0)],c=[new s.Vector3(0,1,0),new s.Vector3(0,1,0),new s.Vector3(0,0,1),new s.Vector3(0,0,-1),new s.Vector3(0,1,0),new s.Vector3(0,1,0)],f=function(){function e(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_TEXTURE_SIZE;r(this,e),this.m_projectionType=i,this.m_height=a;var l=new s.Color(n.topColor),u=new s.Color(n.bottomColor),c=new s.Color(n.groundColor);this.m_width=this.m_projectionType===o.ProjectionType.Planar?1:this.m_height,this.m_faceCount=this.m_projectionType===o.ProjectionType.Planar?1:6,this.m_faces=[];for(var f=0;f<this.m_faceCount;++f){var d=new Uint8Array(3*this.m_width*this.m_height);this.fillTextureData(d,f,l,u,c,n.monomialPower);var h=new s.DataTexture(d,this.m_width,this.m_height,s.RGBFormat);h.needsUpdate=!0,h.unpackAlignment=1,this.m_faces.push(h)}this.m_projectionType===o.ProjectionType.Spherical?(this.m_skybox=new s.CubeTexture(this.m_faces),this.m_skybox.needsUpdate=!0):(this.m_farClipPlaneDividedVertically=new s.Line3,this.m_groundPlane=new s.Plane(new s.Vector3(0,0,1)),this.m_bottomMidFarPoint=new s.Vector3,this.m_topMidFarPoint=new s.Vector3,this.m_horizonPosition=new s.Vector3,this.m_farClipPlaneCorners=[new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3])}return i(e,[{key:"dispose",value:function(){for(var e=0;e<this.m_faceCount;++e)this.m_faces[e].dispose();this.m_projectionType===o.ProjectionType.Spherical&&this.m_skybox.dispose()}},{key:"texture",get:function(){return this.m_projectionType===o.ProjectionType.Planar?this.m_faces[0]:this.m_skybox}},{key:"update",value:function(e){this.m_projectionType===o.ProjectionType.Planar&&(this.setHorizonPosition(e),this.updateTexturePosition())}},{key:"updateTexture",value:function(e){for(var t=0;t<this.m_faceCount;++t)this.fillTextureData(this.m_faces[t].image.data,t,new s.Color(e.topColor),new s.Color(e.bottomColor),new s.Color(e.groundColor),e.monomialPower),this.m_faces[t].needsUpdate=!0;this.m_projectionType===o.ProjectionType.Spherical&&(this.m_skybox.needsUpdate=!0)}},{key:"fillTextureData",value:function(e,n,r,i,f,d){for(var h=new s.Color,p=new s.Vector3,m=new s.Vector3,v=new s.Vector3,g=new s.Vector3(0,0,1),y=0;y<this.m_height;++y)for(var E=0;E<this.m_width;++E){if(this.m_projectionType===o.ProjectionType.Spherical){var A=m.copy(u[n]).multiplyScalar((E+.5)/this.m_width*2-1),T=v.copy(c[n]).multiplyScalar((y+.5)/this.m_height*2-1);p.copy(l[n]).add(A).add(T).normalize();var O=Math.max(g.dot(p),0);h.copy(f).lerp(i,Math.min(100*O,1)).lerp(r,Math.pow(O,a.getOptionValue(d,t.DEFAULT_MONOMIAL_POWER))).multiplyScalar(255)}else{var R=y/this.m_height;0===y?h.copy(f).multiplyScalar(255):h.copy(i).lerp(r,Math.pow(R,a.getOptionValue(d,t.DEFAULT_MONOMIAL_POWER))).multiplyScalar(255)}e[y*this.m_width*3+3*E]=h.r,e[y*this.m_width*3+3*E+1]=h.g,e[y*this.m_width*3+3*E+2]=h.b}}},{key:"setHorizonPosition",value:function(e){this.m_farClipPlaneCorners[0].set(-1,-1,1).unproject(e),this.m_farClipPlaneCorners[1].set(1,-1,1).unproject(e),this.m_farClipPlaneCorners[2].set(-1,1,1).unproject(e),this.m_farClipPlaneCorners[3].set(1,1,1).unproject(e),this.m_bottomMidFarPoint.copy(this.m_farClipPlaneCorners[0]).add(this.m_farClipPlaneCorners[1]).multiplyScalar(.5),this.m_topMidFarPoint.copy(this.m_farClipPlaneCorners[2]).add(this.m_farClipPlaneCorners[3]).multiplyScalar(.5),this.m_farClipPlaneDividedVertically.set(this.m_bottomMidFarPoint,this.m_topMidFarPoint),this.m_groundPlane.intersectLine(this.m_farClipPlaneDividedVertically,this.m_horizonPosition)||this.m_horizonPosition.set(0,0,0)}},{key:"updateTexturePosition",value:function(){var e=this.m_bottomMidFarPoint.distanceTo(this.m_horizonPosition)/this.m_farClipPlaneDividedVertically.distance(),t=0===this.m_horizonPosition.length()?1:e-2/this.m_height;this.m_faces[0].offset.set(0,this.m_bottomMidFarPoint.z<=0?-t:e)}}]),e}();t.SkyGradientTexture=f},13508:function(e,t,n){"use strict";var r=n(63038).default,i=n(319).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SphereHorizon=t.previousCanvasSide=t.nextCanvasSide=t.CanvasSide=void 0;var s,l=n(31201),u=n(15739),c=n(34585),f=n(64172),d=n(61563),h=2*Math.PI;function p(e){return(e+1)%4}!function(e){e[e.Bottom=0]="Bottom",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Left=3]="Left"}(s=t.CanvasSide||(t.CanvasSide={})),t.nextCanvasSide=p,t.previousCanvasSide=function(e){return(e+3)%4};var m=function(){function e(t,n){o(this,e),this.m_camera=t,this.m_cornerIntersects=n,this.m_intersections=[],this.m_isFullyVisible=!0;var r=l.EarthConstants.EQUATORIAL_RADIUS*l.EarthConstants.EQUATORIAL_RADIUS,i=(new c.Vector3).setFromMatrixColumn(t.matrixWorld,0).normalize(),a=t.position.clone().normalize(),s=(new c.Vector3).crossVectors(a,i),u=t.position.length();this.m_normalToTangentAngle=Math.asin(l.EarthConstants.EQUATORIAL_RADIUS/u);var f=Math.sqrt(u*u-r);this.m_distanceToHorizonCenter=f*Math.cos(this.m_normalToTangentAngle);var h=u-this.m_distanceToHorizonCenter;this.m_radius=Math.sqrt(r-h*h),this.m_cameraPitch=d.MapViewUtils.extractAttitude({projection:l.sphereProjection},this.m_camera).pitch;var p=(new c.Vector3).copy(a).setLength(h);this.m_matrix=(new c.Matrix4).makeBasis(i,s,a).setPosition(p),this.computeIntersections()}return a(e,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new c.Vector3,i=t*h,o=n>=t?n*h:(n+1)*h,a=o-i,s=i+e*a;return r.set(this.m_radius*Math.cos(s),this.m_radius*Math.sin(s),0),r.applyMatrix4(this.m_matrix),r}},{key:"getDivisionPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=Math.max(Math.ceil(((n<t?1+n:n)-t)*r),1),o=0;o<i;o++)e(this.getPoint(o/i,t,n))}},{key:"isFullyVisible",get:function(){return this.m_isFullyVisible}},{key:"getSideIntersections",value:function(e){return this.m_intersections[e]}},{key:"isTangentVisible",value:function(e){switch(e){case s.Top:var t=this.m_normalToTangentAngle-this.m_cameraPitch;return f.CameraUtils.getTopFov(this.m_camera)>=Math.abs(t);case s.Bottom:var n=this.m_normalToTangentAngle+this.m_cameraPitch;return f.CameraUtils.getBottomFov(this.m_camera)>=Math.abs(n);case s.Left:var r=this.m_normalToTangentAngle;return f.CameraUtils.getLeftFov(this.m_camera)>=Math.abs(r)&&this.m_cameraPitch<=f.CameraUtils.getBottomFov(this.m_camera);case s.Right:var i=this.m_normalToTangentAngle;return f.CameraUtils.getRightFov(this.m_camera)>=Math.abs(i)&&this.m_cameraPitch<=f.CameraUtils.getBottomFov(this.m_camera)}}},{key:"getTangentOnSide",value:function(e){switch(e){case s.Bottom:return.75;case s.Right:return 0;case s.Top:return.25;case s.Left:return.5}}},{key:"computeIntersections",value:function(){for(var e,t,n=this,o=this.m_distanceToHorizonCenter*Math.tan(this.m_cameraPitch-f.CameraUtils.getBottomFov(this.m_camera)),a=function(a){if(n.isTangentVisible(a))return n.m_intersections.push([n.getTangentOnSide(a)]),"continue";var l=new Array;switch(n.m_isFullyVisible=!1,a){case s.Bottom:l.push.apply(l,i(n.computeTBIntersections(o)));break;case s.Right:var u=f.CameraUtils.getRightFov(n.m_camera),c=n.computeLRIntersections(o,u);if(c){var d=r(c,2);e=d[0],t=d[1],l.push(void 0!==t?1+t:void 0,e)}break;case s.Top:var h=n.m_distanceToHorizonCenter*Math.tan(n.m_cameraPitch+f.CameraUtils.getTopFov(n.m_camera));l.push.apply(l,i(n.computeTBIntersections(h).reverse()));break;case s.Left:var m=f.CameraUtils.getLeftFov(n.m_camera);if(m===f.CameraUtils.getRightFov(n.m_camera))l.push(void 0!==e?.5-e:void 0,void 0!==t?.5-t:void 0);else{var v=n.computeLRIntersections(o,m);v&&l.push(.5-v[0],void 0!==v[1]?.5-v[1]:void 0)}}var g=[n.m_cornerIntersects[a],n.m_cornerIntersects[p(a)]];n.m_intersections.push(l.filter((function(e,t){return void 0!==e&&!g[t]})))},l=s.Bottom;l<4;l++)a(l)}},{key:"computeTBIntersections",value:function(e){var t=this.m_radius*this.m_radius,n=Math.sqrt(t-e*e),r=Math.atan2(e,n)/h;return[.5-r,r>0?r:1+r]}},{key:"computeLRIntersections",value:function(e,t){var n=this.m_distanceToHorizonCenter/Math.cos(this.m_cameraPitch),r=this.m_distanceToHorizonCenter*Math.tan(this.m_cameraPitch),i=n*Math.tan(t),o=f.CameraUtils.getBottomFov(this.m_camera),a=i*(this.m_distanceToHorizonCenter*Math.cos(o)/Math.cos(this.m_cameraPitch-o))/n,s=u.Math2D.intersectLineAndCircle(a,e,i,r,this.m_radius);if(s){var l=s.y1;return[Math.atan2(l,s.x1)/h,-l>=e&&void 0!==s.x2?Math.atan2(s.y2,s.x2)/h:void 0]}}}]),e}();t.SphereHorizon=m},32344:function(e,t,n){"use strict";var r=n(63038).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SphereViewBounds=t.computeEdgeDivisions=void 0;var a=n(31201),s=n(15739),l=n(34585),u=n(13508),c=n(61563);function f(e,t){var n=Math.abs(t.latitude-e.latitude),r=e.minLongitudeSpanTo(t);return Math.ceil(Math.max(n/20,r/5))}t.computeEdgeDivisions=f;var d=[{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],h=function(){function e(t,n){i(this,e),this.camera=t,this.projection=n,s.assert(n.type===a.ProjectionType.Spherical)}return o(e,[{key:"generate",value:function(){var e=this.findBoundsIntersections();return this.wrapAroundPoles(e),e.length>2?new a.GeoPolygon(e,!1,!0):void 0}},{key:"addSideSegmentSubdivisions",value:function(e,t,n,r,i){e.push(r);var o=f(r,i);if(!(o<=1))for(var a=new l.Vector2(n.x-t.x,n.y-t.y).multiplyScalar(1/o),s=new l.Vector2(t.x,t.y),u=0;u<o-1;u++){s.add(a);var d=c.MapViewUtils.rayCastWorldCoordinates({camera:this.camera,projection:this.projection},s.x,s.y);d&&e.push(this.projection.unprojectPoint(d))}}},{key:"addSideIntersections",value:function(e,t,n,r,i){var o=this,a=d[t],l=d[u.nextCanvasSide(t)];if(n&&r)this.addSideSegmentSubdivisions(e,a,l,n,r);else if(i){var c=i.getSideIntersections(t);if(0!==c.length){if(n){var f=i.getPoint(c[c.length-1]),h=this.projection.unprojectPoint(f);this.addSideSegmentSubdivisions(e,a,f.project(this.camera),n,h)}else{var p=u.previousCanvasSide(t),m=i.getSideIntersections(p);0===m.length&&(m=i.getSideIntersections(u.previousCanvasSide(p))),s.assert(m.length>0),i.getDivisionPoints((function(t){e.push(o.projection.unprojectPoint(t))}),m[m.length-1],c[0])}if(c.length>1){var v=i.getPoint(c[0]),g=i.getPoint(c[1]),y=this.projection.unprojectPoint(v),E=this.projection.unprojectPoint(g);this.addSideSegmentSubdivisions(e,v.project(this.camera),g.project(this.camera),y,E)}if(r){var A=i.getPoint(c[0]),T=this.projection.unprojectPoint(A);this.addSideSegmentSubdivisions(e,A.project(this.camera),l,T,r)}}}}},{key:"findBoundsIntersections",value:function(){var e=this,t=[],n=this.addCanvasCornerIntersection(),i=r(n,2),o=i[0],a=i[1],s=a<4?new u.SphereHorizon(this.camera,o.map((function(e){return void 0!==e}))):void 0;if(0===a&&s.isFullyVisible)return s.getDivisionPoints((function(n){t.push(e.projection.unprojectPoint(n))})),t;for(var l=u.CanvasSide.Bottom;l<4;l++){var c=o[l],f=o[u.nextCanvasSide(l)];this.addSideIntersections(t,l,c,f,s)}return t}},{key:"wrapAroundPoles",value:function(e){var t=new l.Vector3(0,0,a.EarthConstants.EQUATORIAL_RADIUS),n=new l.Vector3(0,0,-a.EarthConstants.EQUATORIAL_RADIUS),r=c.MapViewUtils.closeToFrustum(t,this.camera),i=c.MapViewUtils.closeToFrustum(n,this.camera);if(r||i){var o=this.projection.unprojectPoint(this.camera.position).lng,s=r?90:-90,u=r?o+180:o-180,f=new a.GeoCoordinates(s,u),d=f.normalized(),h=d.lng,p=e[e.length-1].lng,m=!1,v=e.findIndex((function(e){var t=a.isAntimeridianCrossing(p,e.lng);return Math.sign(h-e.lng)===Math.sign(h-p)===t?(m=t,!0):(p=e.lng,!1)}));if(!(v<0)){var g=r?90:-90,y=r?1e-5:-1e-5,E=new a.GeoCoordinates(s,o+g).normalized(),A=new a.GeoCoordinates(s,o).normalized(),T=new a.GeoCoordinates(s,o-g).normalized(),O=new a.GeoCoordinates(s,u+y).normalized(),R=e[(v+e.length-1)%e.length],L=e[v],S=a.GeoCoordinates.lerp(R,L,.01,m);m&&r?S.longitude-=360:S=S.normalized(),e.splice(v,0,u<-180?f:d,E,A,T,O,S)}}}},{key:"addCanvasCornerIntersection",value:function(){var e=this,t=new Array,n=0;return d.forEach((function(r){var i=c.MapViewUtils.rayCastWorldCoordinates({camera:e.camera,projection:e.projection},r.x,r.y);i?(t.push(e.projection.unprojectPoint(i)),++n):t.push(void 0)})),[t,n]}}]),e}();t.SphereViewBounds=h},91422:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(16525).default,a=n(29754).default,s=n(2205).default,l=n(99842).default,u=n(34575).default,c=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceStatistics=t.FrameStatsArray=t.FrameStats=t.Statistics=t.MultiStageTimer=t.computeArrayAverage=t.computeArrayStats=t.SampledTimer=t.SimpleTimer=t.RingBuffer=void 0;var f=n(15739),d=f.LoggerManager.instance.create("Statistics"),h=function(){function e(t){u(this,e),this.capacity=t,this.buffer=new Array(t),this.capacity=t,this.head=this.tail=this.size=0}return c(e,[{key:"clear",value:function(){this.head=this.tail=this.size=0}},{key:"enqOne",value:function(e){var t=this.head+1;t>=this.capacity&&(t=0),this.size<this.capacity&&this.size++,this.buffer[this.head]=e,this.head=t,this.size===this.capacity&&(this.tail=this.head)}},{key:"enq",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];this.enqOne(o)}}},{key:"deq",value:function(){if(0===this.size)throw new Error("Ringbuffer underrun");var e=this.buffer[this.tail],t=this.tail+1;return t>=this.capacity&&(t=0),this.size>0&&this.size--,this.tail=t,e}},{key:"top",get:function(){if(0===this.size)throw new Error("Ringbuffer underrun");return this.buffer[this.tail]}},{key:"bottom",get:function(){if(0===this.size)throw new Error("Ringbuffer underrun");var e=this.head-1;return e<0&&(e=this.capacity-1),this.buffer[e]}},{key:"iterator",value:function(){return new e.Iterator(this)}},{key:"asArray",value:function(){for(var e=new Array,t=0;t<this.size;t++)e.push(this.buffer[(this.tail+t)%this.capacity]);return e}}]),e}();t.RingBuffer=h,function(e){var t=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.m_buffer=t,this.m_index=n}return c(e,[{key:"value",get:function(){return this.m_buffer.buffer[(this.m_buffer.tail+this.m_index)%this.m_buffer.capacity]}},{key:"next",value:function(){return this.m_index++,this.m_index<this.m_buffer.size}}]),e}();e.Iterator=t}(h=t.RingBuffer||(t.RingBuffer={}));var p=function(){function e(t,n){u(this,e),this.statistics=t,this.name=n,this.running=!1}return c(e,[{key:"value",get:function(){return this.m_currentValue}},{key:"setValue",value:function(e){this.m_currentValue=e}},{key:"reset",value:function(){this.m_currentValue=void 0}},{key:"start",value:function(){if(!this.statistics.enabled)return-1;if(this.running)throw new Error("Timer '"+this.name+"' is already running");return this.running=!0,this.m_currentValue=f.PerformanceTimer.now()}},{key:"stop",value:function(){var e;if(!this.statistics.enabled)return-1;if(this.running){var t=f.PerformanceTimer.now()-(null!==(e=this.m_currentValue)&&void 0!==e?e:0);return this.m_currentValue=t,this.setValue(t),this.running=!1,t}throw new Error("Timer '"+this.name+"' has not been started")}},{key:"now",value:function(){var e;if(!this.statistics.enabled)return-1;if(this.running)return f.PerformanceTimer.now()-(null!==(e=this.m_currentValue)&&void 0!==e?e:0);throw new Error("Timer '"+this.name+"' has not been started")}}]),e}();t.SimpleTimer=p;var m=function(e){s(n,e);var t=l(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e,r)).statistics=e,i.name=r,i.numResets=0,i.maxNumSamples=1e3,i.samples=new h(i.maxNumSamples),i}return c(n,[{key:"reset",value:function(){o(a(n.prototype),"reset",this).call(this),this.getStats(),this.samples.clear(),this.numResets++}},{key:"setValue",value:function(e){o(a(n.prototype),"setValue",this).call(this,e),void 0!==e&&this.samples.enqOne(e)}},{key:"getStats",value:function(){return v(this.samples.asArray())}}]),n}(p);function v(e){if(0!==e.length){e.sort((function(e,t){return e-t}));var t,n,r,i,o,a,s,l=e[0],u=e[e.length-1];if(1===e.length)n=r=i=o=a=s=t=e[0];else if(2===e.length)t=.5*e[0]+.5*e[1],n=r=i=o=a=s=e[1];else{var c=Math.floor(e.length/2);t=e.length%2===0?.5*e[c-1]+.5*e[c]:e[c],n=e[Math.round(.75*e.length)-1],r=e[Math.round(.9*e.length)-1],i=e[Math.round(.95*e.length)-1],o=e[Math.round(.97*e.length)-1],a=e[Math.round(.99*e.length)-1],s=e[Math.round(.999*e.length)-1]}for(var f=0,d=0,h=e.length;d<h;d++)f+=e[d];return{min:l,max:u,avg:f/e.length,median:t,median75:n,median90:r,median95:i,median97:o,median99:a,median999:s,numSamples:e.length}}}t.SampledTimer=m,t.computeArrayStats=v,t.computeArrayAverage=function(e){if(0!==e.length){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n];return t/e.length}};var g=function(){function e(t,n,r){if(u(this,e),this.statistics=t,this.name=n,this.stages=r,r.length<1)throw new Error("MultiStageTimer needs stages");r.forEach((function(e){if(!t.hasTimer(e))throw new Error("Unknown timer: "+e)}))}return c(e,[{key:"value",get:function(){return this.statistics.getTimer(this.stages[this.stages.length-1]).value}},{key:"reset",value:function(){var e=this;this.statistics.enabled&&this.stages.forEach((function(t){e.statistics.getTimer(t).reset()}))}},{key:"start",value:function(){var e;return this.stage=this.stages[0],null!==(e=this.statistics.getTimer(this.stages[0]).value)&&void 0!==e?e:-1}},{key:"stop",value:function(){return this.stage=void 0,void 0!==this.value?this.value:-1}},{key:"stage",get:function(){return this.currentStage},set:function(e){this.currentStage!==e&&(this.statistics.enabled&&void 0!==this.currentStage&&this.statistics.getTimer(this.currentStage).stop(),this.currentStage=e,this.statistics.enabled&&void 0!==this.currentStage&&this.statistics.getTimer(this.currentStage).start())}}]),e}();t.MultiStageTimer=g;var y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u(this,e),this.name=t,this.enabled=n,this.timers=new Map,this.nullTimer=new p(this,"<null>")}return c(e,[{key:"createTimer",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?new m(this,e):new p(this,e);return this.addTimer(n)}},{key:"addTimer",value:function(e){if(void 0!==this.timers.get(e.name))throw new Error("Duplicate timer name: '"+e.name+"'");return this.timers.set(e.name,e),e}},{key:"getTimer",value:function(e){if(!this.enabled)return this.nullTimer;var t=this.timers.get(e);return void 0===t?this.nullTimer:t}},{key:"hasTimer",value:function(e){return void 0!==this.timers.get(e)}},{key:"reset",value:function(){this.timers.forEach((function(e){e.reset()}))}},{key:"log",value:function(e,t){void 0===e&&void 0===this.name||d.log(void 0!==e?e:this.name);var n=0;this.timers.forEach((function(e){n=Math.max(n,e.name.length)}));var r=function(e){return void 0!==e?e.toFixed(5):"?"};this.timers.forEach((function(e){var t=e.name+": "+" ".repeat(n-e.name.length);if(t+=r(e.value),e instanceof m){var i=e.getStats();void 0!==i&&(t+="  [ min=".concat(r(i.min),", max=").concat(r(i.max),", ")+"avg=".concat(r(i.avg),", med=").concat(r(i.median),", ")+"med95=".concat(r(i.median95),", med99=").concat(r(i.median99),", ")+"N=".concat(r(i.numSamples)," ]"))}d.log(t)})),void 0!==t&&d.log(t)}}]),e}();t.Statistics=y;var E=function(){function e(){u(this,e),this.entries=new Map,this.messages=void 0}return c(e,[{key:"getValue",value:function(e){return this.entries.get(e)}},{key:"setValue",value:function(e,t){this.entries.set(e,t)}},{key:"addValue",value:function(e,t){var n=this.entries.get(e);this.entries.set(e,t+(void 0===n?0:n))}},{key:"addMessage",value:function(e){void 0===this.messages&&(this.messages=[]),this.messages.push(e)}},{key:"reset",value:function(){var e=this;this.entries.forEach((function(t,n){e.entries.set(n,0)})),this.messages=void 0}}]),e}();t.FrameStats=E;var A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u(this,e),this.capacity=t,this.frameEntries=new Map,this.messages=new h(t)}return c(e,[{key:"length",get:function(){return this.messages.size}},{key:"reset",value:function(){this.frameEntries.forEach((function(e,t){e.clear()})),this.messages.clear()}},{key:"addFrame",value:function(e){var t=this,n=this.length,r=this.frameEntries;e.entries.forEach((function(e,i){var o=r.get(i);if(void 0===o){o=new h(t.capacity);for(var a=0;a<n;a++)o.enqOne(0);t.frameEntries.set(i,o)}o.enqOne(e)})),this.messages.enq(e.messages)}},{key:"log",value:function(){var e=0;this.frameEntries.forEach((function(t,n){e=Math.max(e,n.length)}));var t=function(e){return void 0!==e?e.toFixed(5):"?"};this.frameEntries.forEach((function(n,r){var i=r+": "+" ".repeat(e-r.length),o=v(n.asArray());void 0!==o&&(i+="  [ min=".concat(t(o.min),", max=").concat(t(o.max),", ")+"avg=".concat(t(o.avg),", med=").concat(t(o.median),", ")+"med95=".concat(t(o.median95),", med99=").concat(t(o.median99),", ")+"N=".concat(t(o.numSamples)," ]")),d.log(i)}))}}]),e}();t.FrameStatsArray=A;var T=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;u(this,e),this.enabled=t,this.maxNumFrames=n,this.currentFrame=new E,this.appResults=new Map,this.configs=new Map,e.m_instance=this,this.m_frameEvents=new A(n)}return c(e,[{key:"isFull",get:function(){return this.m_frameEvents.length>=this.maxNumFrames}},{key:"frameEvents",get:function(){return this.m_frameEvents}},{key:"clear",value:function(){this.clearFrames(),this.configs.clear(),this.appResults.clear()}},{key:"clearFrames",value:function(){this.m_frameEvents.reset(),this.currentFrame.reset()}},{key:"addWebGLInfo",value:function(e){void 0!==e.render&&(this.currentFrame.setValue("gl.numCalls",null===e.render.calls?0:e.render.calls),this.currentFrame.setValue("gl.numPoints",null===e.render.points?0:e.render.points),this.currentFrame.setValue("gl.numLines",null===e.render.lines?0:e.render.lines),this.currentFrame.setValue("gl.numTriangles",null===e.render.triangles?0:e.render.triangles)),void 0!==e.memory&&(this.currentFrame.setValue("gl.numGeometries",null===e.memory.geometries?0:e.memory.geometries),this.currentFrame.setValue("gl.numTextures",null===e.memory.textures?0:e.memory.textures)),void 0!==e.programs&&this.currentFrame.setValue("gl.numPrograms",null===e.programs?0:e.programs.length)}},{key:"addMemoryInfo",value:function(){if(void 0!==window&&void 0!==window.performance){var e=window.performance.memory;void 0!==e&&(this.currentFrame.setValue("memory.totalJSHeapSize",e.totalJSHeapSize),this.currentFrame.setValue("memory.usedJSHeapSize",e.usedJSHeapSize),this.currentFrame.setValue("memory.jsHeapSizeLimit",e.jsHeapSizeLimit))}}},{key:"storeAndClearFrameInfo",value:function(){return!(this.m_frameEvents.length>=this.maxNumFrames)&&(this.m_frameEvents.addFrame(this.currentFrame),this.currentFrame.reset(),!0)}},{key:"log",value:function(e,t){d.log(void 0!==e?e:"PerformanceStatistics"),this.appResults.forEach((function(e,t){d.log(t,e)})),this.configs.forEach((function(e,t){d.log(t,e)})),this.m_frameEvents.log(),void 0!==t&&d.log(t)}},{key:"getAsPlainObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={},n={},o={},a={configs:n,appResults:t,frames:o},s=this.appResults;s.forEach((function(e,n){t[n]=e}));var l=this.configs;if(l.forEach((function(e,t){n[t]=e})),e){var u,c=i(this.m_frameEvents.frameEntries);try{for(c.s();!(u=c.n()).done;){var f=r(u.value,2),d=f[0],h=f[1];o[d]=h.bottom}}catch(E){c.e(E)}finally{c.f()}}else{var p,m=i(this.m_frameEvents.frameEntries);try{for(m.s();!(p=m.n()).done;){var v=r(p.value,2),g=v[0],y=v[1];o[g]=y.asArray()}}catch(E){m.e(E)}finally{m.f()}}return a.messages=this.m_frameEvents.messages.asArray(),a}},{key:"getLastFrameStatistics",value:function(){return this.getAsPlainObject(!0)}},{key:"getAsSimpleFrameStatistics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Map,n=new Map,o=new Map,a={configs:t,appResults:n,frames:o,messages:this.m_frameEvents.messages.asArray()},s=this.appResults;s.forEach((function(e,t){n.set(t,e)}));var l=this.configs;if(l.forEach((function(e,n){t.set(n,e)})),e){var u,c=i(this.m_frameEvents.frameEntries);try{for(c.s();!(u=c.n()).done;){var f=r(u.value,2),d=f[0],h=f[1];o.set(d,h.bottom)}}catch(E){c.e(E)}finally{c.f()}}else{var p,m=i(this.m_frameEvents.frameEntries);try{for(m.s();!(p=m.n()).done;){var v=r(p.value,2),g=v[0],y=v[1];o.set(g,y.asArray())}}catch(E){m.e(E)}finally{m.f()}}return a}}],[{key:"instance",get:function(){return void 0===e.m_instance&&(e.m_instance=new e(!1,0)),e.m_instance}}]),e}();t.PerformanceStatistics=T,T.m_instance=void 0},24856:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextureLoader=void 0;var s=n(34585),l=function(){function e(){o(this,e),this.m_textureLoader=new s.TextureLoader}return a(e,[{key:"load",value:function(){var e=i(r.mark((function e(t,n,i){var o,a,l,u,c,f=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!(f.length>3&&void 0!==f[3])||f[3],void 0!==n){e.next=5;break}return e.next=4,this.loadWithThreeLoader(t);case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,fetch(t,{headers:n,signal:i,mode:o?"cors":"no-cors"});case 7:return a=e.sent,e.next=10,a.blob();case 10:return l=e.sent,e.next=13,this.loadWithThreeLoader(URL.createObjectURL(l));case 13:return u=e.sent,c="image/jpeg/"===l.type||t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/),u.format=c?s.RGBFormat:s.RGBAFormat,e.abrupt("return",u);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"loadWithThreeLoader",value:function(e){var t=this;return new Promise((function(n,r){t.m_textureLoader.setCrossOrigin(""),t.m_textureLoader.load(e,(function(e){return n(e)}),void 0,(function(){return r(new Error("failed to load texture"))}))}))}}]),e}();t.TextureLoader=l},4716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLight=t.toTextureFilter=t.toWrappingMode=t.toTextureDataType=t.toPixelFormat=void 0;var r=n(34585);t.toPixelFormat=function(e){switch(e){case"Alpha":return r.AlphaFormat;case"RGB":return r.RGBFormat;case"RGBA":return r.RGBAFormat;case"Luminance":return r.LuminanceFormat;case"LuminanceAlpha":return r.LuminanceAlphaFormat;case"RGBE":return r.RGBEFormat;case"Depth":return r.DepthFormat;case"DepthStencil":return r.DepthStencilFormat;case"Red":return r.RedFormat;default:throw new Error("invalid pixel format: ".concat(e))}},t.toTextureDataType=function(e){switch(e){case"UnsignedByte":return r.UnsignedByteType;case"Byte":return r.ByteType;case"Short":return r.ShortType;case"UnsignedShort":return r.UnsignedShortType;case"Int":return r.IntType;case"UnsignedInt":return r.UnsignedIntType;case"Float":return r.FloatType;case"HalfFloat":return r.HalfFloatType;default:throw new Error("invalid texture data type: ".concat(e))}},t.toWrappingMode=function(e){switch(e){case"clamp":return r.ClampToEdgeWrapping;case"repeat":return r.RepeatWrapping;case"mirror":return r.MirroredRepeatWrapping;default:throw new Error("invalid wrapping mode: ".concat(e))}},t.toTextureFilter=function(e){switch(e){case"nearest":return r.NearestFilter;case"nearestMipMapNearest":return r.NearestMipMapNearestFilter;case"nearestMipMapLinear":return r.NearestMipMapLinearFilter;case"linear":return r.LinearFilter;case"linearMipMapNearest":return r.LinearMipMapNearestFilter;case"linearMipMapLinear":return r.LinearMipMapLinearFilter;default:throw new Error("invalid texture filter: ".concat(e))}},t.createLight=function(e){switch(e.type){case"ambient":var t=new r.AmbientLight(e.color,e.intensity);return t.name=e.name,t;case"directional":var n=new r.DirectionalLight(e.color,e.intensity);return n.name=e.name,void 0!==e.castShadow&&(n.castShadow=e.castShadow),n.castShadow&&(n.shadow.bias=1e-5,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024),n.position.set(e.direction.x,e.direction.y,e.direction.z),n.position.normalize(),n}}},30081:function(e,t,n){"use strict";var r=n(319).default,i=n(43269).default,o=n(87757),a=n(48926).default,s=n(34575).default,l=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeLoader=t.DEFAULT_MAX_THEME_INTHERITANCE_DEPTH=void 0,n(89064);var u=n(26309),c=n(6705),f=n(15739),d=n(37958);t.DEFAULT_MAX_THEME_INTHERITANCE_DEPTH=4;var h=function(){function e(){s(this,e)}return l(e,null,[{key:"load",value:function(){var t=a(o.mark((function t(n,r){var i,a,s,l,u,c;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null!==r&&void 0!==r?r:{},"string"!==typeof n){t.next=16;break}return a=r.uriResolver,s=void 0!==a?a.resolveUri(n):n,t.next=6,fetch(s,{signal:r.signal});case 6:if((l=t.sent).ok){t.next=9;break}throw new Error("ThemeLoader#load: cannot load theme: ".concat(l.statusText));case 9:return t.next=11,l.json();case 11:(n=t.sent).url=f.resolveReferenceUri(f.getAppBaseUrl(),s),n=this.resolveUrls(n,r),t.next=17;break;case 16:void 0===n.url?(n.url=f.getAppBaseUrl(),n=this.resolveUrls(n,r)):n=this.convertFlatTheme(n);case 17:if(null!==n&&void 0!==n){t.next=19;break}throw new Error("ThemeLoader#load: loaded resource is not valid JSON");case 19:return e.checkTechniqueSupport(n),u=f.getOptionValue(r.resolveDefinitions,!1),t.next=23,e.resolveBaseThemes(n,r);case 23:return n=t.sent,u&&(c=new f.ContextLogger(null!==(i=r.logger)&&void 0!==i?i:console,"when processing Theme ".concat(n.url,":")),e.resolveThemeReferences(n,c)),t.abrupt("return",n);case 26:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"isThemeLoaded",value:function(e){return void 0===e.extends&&!Array.isArray(e.styles)}},{key:"loadAsync",value:function(){var t=a(o.mark((function t(n){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"resolveUrls",value:function(t,n){var r=this;if(void 0===(t=e.convertFlatTheme(t)).url)return t;var i=f.composeUriResolvers(null===n||void 0===n?void 0:n.uriResolver,new f.RelativeUriResolver(t.url)),o=void 0===n||!(!1===n.resolveIncludeUris);return t.extends&&o&&(t.extends=(Array.isArray(t.extends)?t.extends:[t.extends]).map((function(e){return"string"===typeof e?i.resolveUri(e):void 0!==e.url?e:(e.url=t.url,r.resolveUrls(e,n))}))),e.convertFlatTheme(t)?((void 0===n||!(!1===n.resolveResourceUris))&&e.resolveResources(t,i),t):t}},{key:"checkTechniqueSupport",value:function(e){if(void 0!==e.styles)for(var t in e.styles)if(e.styles.hasOwnProperty(t)){var n,r=i(e.styles[t]);try{for(r.s();!(n=r.n()).done;){n.value.technique}}catch(o){r.e(o)}finally{r.f()}}}},{key:"resolveThemeReferences",value:function(t,n){if(void 0!==t.styles)for(var r in t.styles)t.styles.hasOwnProperty(r)&&(n.pushAttr("styles"),n.pushAttr(r),t.styles[r]=e.resolveStyleSet(t.styles[r],t.definitions,n),n.pop(),n.pop());return t}},{key:"resolveStyleSet",value:function(t,n,r){for(var i=[],o=0;o<t.length;++o){var a=t[o];r.pushIndex(o);var s=e.resolveStyle(a,n,r);void 0!==s?i.push(s):r.warn("invalid style, ignored"),r.pop()}return i}},{key:"resolveStyle",value:function(e,t,n){if(Array.isArray(e.when)){n.pushAttr("when");var r=this.resolveExpressionReferences(e.when,t,n);if(n.pop(),void 0===r)return;e.when=r}if(void 0!==e.attr){var i=e.attr;for(var o in n.pushAttr("attr"),i)if(i.hasOwnProperty(o)){var a=i[o];if(Array.isArray(a)){n.pushAttr(o);var s=this.resolveExpressionReferences(a,t,n);n.pop(),void 0!==s?i[o]=s:delete i[o]}}n.pop()}return e}},{key:"resolveExpressionReferences",value:function(e,t,n){var i=!1;var o=function e(o){if(c.isJsonExprReference(o)){var a=o[1],s=t&&t[a];return void 0===s?(n.warn("invalid reference '".concat(a,"' - not found")),void(i=!0)):u.isJsonExpr(s)?s:s.value}if(Array.isArray(o)){for(var l=r(o),f=1;f<l.length;++f)l[f]=e(l[f]);return l}return o}(e);if(!i)return o}},{key:"resolveBaseThemes",value:function(){var n=a(o.mark((function n(r,a){var s,l,u,c,d,h,p;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=null!==a&&void 0!==a?a:{},void 0!==r.extends){n.next=3;break}return n.abrupt("return",r);case 3:if(!((s=f.getOptionValue(a.maxInheritanceDepth,t.DEFAULT_MAX_THEME_INTHERITANCE_DEPTH))<=0)){n.next=6;break}throw new Error("maxInheritanceDepth reached when attempting to load base theme");case 6:l=Array.isArray(r.extends)?r.extends:[r.extends],delete r.extends,u={},c=i(l),n.prev=10,c.s();case 12:if((d=c.n()).done){n.next=20;break}return h=d.value,n.next=16,e.load(h,Object.assign(Object.assign({},a),{resolveDefinitions:!1,maxInheritanceDepth:s-1}));case 16:p=n.sent,u=e.mergeThemes(p,u);case 18:n.next=12;break;case 20:n.next=25;break;case 22:n.prev=22,n.t0=n.catch(10),c.e(n.t0);case 25:return n.prev=25,c.f(),n.finish(25);case 28:return n.abrupt("return",e.mergeThemes(r,u));case 29:case"end":return n.stop()}}),n,null,[[10,22,25,28]])})));return function(e,t){return n.apply(this,arguments)}}()},{key:"mergeThemes",value:function(t,n){var r,i=Object.assign(Object.assign({},n.definitions),t.definitions);if(n.styles&&t.styles){var o=Object.keys(n.styles),a=Object.keys(t.styles);r={},o.forEach((function(e){var i=a.indexOf(e);if(-1!==i){var o=n.styles[e],s=[],l=new Map;o.forEach((function(e){"string"===typeof e.id&&l.set(e.id,s.length),s.push(e)})),t.styles[e].forEach((function(e){if("string"===typeof e.extends&&l.has(e.extends)){var t=l.get(e.extends),n=s[t];return s[t]=Object.assign(Object.assign({},n),e),void(s[t].extends=void 0)}if("string"===typeof e.id&&l.has(e.id)){var r=l.get(e.id);s[r]=e}else s.push(e)})),r[e]=s,a.splice(i,1)}else r[e]=n.styles[e]})),a.forEach((function(e){r[e]=t.styles[e]}))}else n.styles?r=Object.assign({},n.styles):t.styles&&(r=Object.assign({},t.styles));return Object.assign(Object.assign(Object.assign(Object.assign({},n),t),e.mergeImageTextures(t,n)),{definitions:i,styles:r})}},{key:"mergeImageTextures",value:function(e,t){var n=Object.assign(Object.assign({},t.images),e.images),r=[];return!t.imageTextures&&e.imageTextures?r=e.imageTextures:t.imageTextures&&!e.imageTextures?r=t.imageTextures:t.imageTextures&&e.imageTextures&&(r=e.imageTextures.slice(),t.imageTextures.forEach((function(e){r.find((function(t){return t.name===e.name}))||r.push(e)}))),{images:n,imageTextures:r}}},{key:"convertFlatTheme",value:function(e){if(Array.isArray(e.styles)){var t={};e.styles.forEach((function(e){if(u.isJsonExpr(e))throw new Error("invalid usage of theme reference");var n=e.styleSet;if(void 0===n)throw new Error("missing reference to style set");t[n]||(t[n]=[]),t[n].push(e)})),e.styles=t}return e}},{key:"resolveResources",value:function(e,t){if(e.sky&&"cubemap"===e.sky.type)for(var n=0;n<d.SKY_CUBEMAP_FACE_COUNT;++n){var r=e.sky[d.SkyCubemapFaceId[n]];void 0!==r&&(e.sky[d.SkyCubemapFaceId[n]]=t.resolveUri(r))}if(e.images)for(var o=0,a=Object.keys(e.images);o<a.length;o++){var s=a[o],l=e.images[s];l.url=t.resolveUri(l.url),void 0!==l.atlas&&(l.atlas=t.resolveUri(l.atlas))}if(e.fontCatalogs){var u,c=i(e.fontCatalogs);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.url=t.resolveUri(f.url)}}catch(T){c.e(T)}finally{c.f()}}if(e.poiTables){var h,p=i(e.poiTables);try{for(p.s();!(h=p.n()).done;){var m=h.value;m.url=t.resolveUri(m.url)}}catch(T){p.e(T)}finally{p.f()}}if(void 0!==e.styles)for(var v in e.styles)if(e.styles.hasOwnProperty(v)){var g,y=e.styles[v],E=i(y);try{var A=function(){var e=g.value;if(!e.attr)return"continue";["map","normalMap","displacementMap","roughnessMap"].forEach((function(n){var r=e.attr[n];r&&"string"===typeof r&&(e.attr[n]=t.resolveUri(r))}))};for(E.s();!(g=E.n()).done;)A()}catch(T){E.e(T)}finally{E.f()}}}}]),e}();t.ThemeLoader=h},67247:function(e,t,n){"use strict";var r=n(43269).default,i=n(87757),o=n(48926).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Tile=t.getFeatureDataSize=void 0;var l=n(31201),u=n(15739),c=n(34585),f=n(46273),d=n(52719),h=n(26691),p=n(44097),m=n(91422),v=n(92301),g=n(18386),y=n(52734),E=n(30240),A=u.LoggerManager.instance.create("Tile");t.getFeatureDataSize=function(e){var t=100;return void 0!==e.starts&&(t+=8*e.starts.length),void 0!==e.objInfos&&(t+=16*e.objInfos.length),t};var T=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;a(this,e),this.dataSource=t,this.tileKey=n,this.objects=[],this.dependencies=[],this.frameNumLastRequested=-1,this.frameNumVisible=-1,this.frameNumLastVisible=-1,this.numFramesVisible=0,this.visibilityCounter=-1,this.levelOffset=0,this.skipRendering=!1,this.delayRendering=!1,this.m_boundingBox=new l.OrientedBox3,this.m_disposed=!1,this.m_forceHasGeometry=void 0,this.m_textElementGroups=new y.TextElementGroupPriorityList,this.m_pathBlockingElements=[],this.m_worldCenter=new c.Vector3,this.m_visibleArea=0,this.m_elevationRange={minElevation:0,maxElevation:0},this.m_ownedTextures=new WeakSet,this.geoBox=this.dataSource.getTilingScheme().getGeoBox(this.tileKey),this.updateBoundingBox(),this.m_worldCenter.copy(this.boundingBox.position),this.m_localTangentSpace=null!==i&&void 0!==i&&i,this.m_textStyleCache=new E.TileTextStyleCache(this),this.m_offset=r,this.m_uniqueKey=l.TileKeyUtils.getKeyForTileKeyAndOffset(this.tileKey,this.offset),t.useGeometryLoader&&(this.m_tileGeometryLoader=new h.TileGeometryLoader(this,this.mapView.taskQueue),this.attachGeometryLoadedCallback())}return s(e,[{key:"isVisible",get:function(){try{return this.frameNumLastRequested>=this.dataSource.mapView.frameNumber-1}catch(e){return A.debug(e),!1}},set:function(e){this.frameNumLastRequested=e?this.dataSource.mapView.frameNumber:-1,e||!this.m_tileGeometryLoader||this.m_tileGeometryLoader.isSettled||this.m_tileGeometryLoader.cancel()}},{key:"projection",get:function(){return this.dataSource.projection}},{key:"mapView",get:function(){return this.dataSource.mapView}},{key:"localTangentSpace",get:function(){return this.m_localTangentSpace}},{key:"memoryUsage",get:function(){return void 0===this.m_resourceInfo&&this.computeResourceInfo(),this.m_resourceInfo.heapSize}},{key:"center",get:function(){return this.m_worldCenter}},{key:"uniqueKey",get:function(){return this.m_uniqueKey}},{key:"offset",get:function(){return this.m_offset},set:function(e){this.m_offset!==e&&(this.m_uniqueKey=l.TileKeyUtils.getKeyForTileKeyAndOffset(this.tileKey,e)),this.m_offset=e}},{key:"getResourceInfo",value:function(){return void 0===this.m_resourceInfo&&this.computeResourceInfo(),this.m_resourceInfo}},{key:"invalidateResourceInfo",value:function(){this.m_resourceInfo=void 0}},{key:"addOwnedTexture",value:function(e){this.m_ownedTextures.add(e)}},{key:"userTextElements",get:function(){var e=this.m_textElementGroups.groups.get(v.TextElement.HIGHEST_PRIORITY);return void 0===e&&(e=new g.TextElementGroup(v.TextElement.HIGHEST_PRIORITY),this.m_textElementGroups.groups.set(e.priority,e)),e}},{key:"addUserTextElement",value:function(e){e.priority=v.TextElement.HIGHEST_PRIORITY,this.addTextElement(e)}},{key:"removeUserTextElement",value:function(e){return e.priority=v.TextElement.HIGHEST_PRIORITY,this.removeTextElement(e)}},{key:"addTextElement",value:function(e){this.textElementGroups.add(e),!1===this.m_textElementsChanged&&(this.m_textElementGroups=this.textElementGroups.clone()),this.textElementsChanged=!0}},{key:"addBlockingElement",value:function(e){this.m_pathBlockingElements.push(e)}},{key:"removeTextElement",value:function(e){var t=this.textElementGroups;return!!t.remove(e)&&(!1===this.m_textElementsChanged&&(this.m_textElementGroups=t.clone()),this.textElementsChanged=!0,!0)}},{key:"textElementGroups",get:function(){return this.m_textElementGroups}},{key:"textElementsChanged",get:function(){var e;return null!==(e=this.m_textElementsChanged)&&void 0!==e&&e},set:function(e){this.m_textElementsChanged=e}},{key:"hasTextElements",value:function(){return this.m_textElementGroups.count()>0}},{key:"blockingElements",get:function(){return this.m_pathBlockingElements}},{key:"willRender",value:function(e){return!this.skipRendering&&!this.delayRendering}},{key:"didRender",value:function(){}},{key:"visibleArea",get:function(){return this.m_visibleArea},set:function(e){this.m_visibleArea=e,void 0!==this.tileLoader&&(this.tileLoader.priority=e)}},{key:"elevationRange",get:function(){return this.m_elevationRange},set:function(e){var t;e.minElevation===this.m_elevationRange.minElevation&&e.maxElevation===this.m_elevationRange.maxElevation&&e.calculationStatus===this.m_elevationRange.calculationStatus||(this.m_elevationRange.minElevation=e.minElevation,this.m_elevationRange.maxElevation=e.maxElevation,this.m_elevationRange.calculationStatus=e.calculationStatus,this.elevateGeoBox(),void 0===this.m_maxGeometryHeight&&void 0===this.m_minGeometryHeight||(u.assert(void 0===(null===(t=this.decodedTile)||void 0===t?void 0:t.boundingBox)),this.updateBoundingBox()))}},{key:"decodedTile",get:function(){return this.m_decodedTile},set:function(e){var t,n;if(this.m_decodedTile=e,this.invalidateResourceInfo(),void 0!==e){0===e.geometries.length&&this.forceHasGeometry(!0),this.m_maxGeometryHeight=e.boundingBox?void 0:null!==(t=e.maxGeometryHeight)&&void 0!==t?t:0,this.m_minGeometryHeight=e.boundingBox?void 0:null!==(n=e.minGeometryHeight)&&void 0!==n?n:0,this.elevateGeoBox(),this.updateBoundingBox(e.boundingBox);var r=m.PerformanceStatistics.instance;r.enabled&&void 0!==e.decodeTime&&(r.currentFrame.addValue("decode.decodingTime",e.decodeTime),r.currentFrame.addValue("decode.decodedTiles",1)),void 0!==e.copyrightHolderIds&&(this.copyrightInfo=e.copyrightHolderIds.map((function(e){return{id:e}}))),this.dataSource.requestUpdate()}}},{key:"shouldDisposeObjectGeometry",value:function(e){return!0}},{key:"shouldDisposeObjectMaterial",value:function(e){return!0}},{key:"shouldDisposeTexture",value:function(e){return this.m_ownedTextures.has(e)}},{key:"disposed",get:function(){return this.m_disposed}},{key:"allGeometryLoaded",get:function(){var e,t;return null!==(t=null===(e=this.m_tileGeometryLoader)||void 0===e?void 0:e.isFinished)&&void 0!==t?t:this.hasGeometry}},{key:"hasGeometry",get:function(){return void 0===this.m_forceHasGeometry?0!==this.objects.length:this.m_forceHasGeometry}},{key:"forceHasGeometry",value:function(e){this.m_forceHasGeometry=e}},{key:"resetVisibilityCounter",value:function(){this.visibilityCounter=-1}},{key:"tileLoader",get:function(){return this.m_tileLoader},set:function(e){this.m_tileLoader=e}},{key:"load",value:function(){var e=o(i.mark((function e(){var t,n,r=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=this.tileLoader)){e.next=5;break}return e.next=4,Promise.resolve();case 4:case 8:return e.abrupt("return",e.sent);case 5:return this.m_tileGeometryLoader&&(n=this.m_tileGeometryLoader.isSettled,this.m_tileGeometryLoader.reset(),n&&this.attachGeometryLoadedCallback()),e.next=8,t.loadAndDecode().then((function(e){var n;u.assert(e===p.TileLoaderState.Ready);var i=t.decodedTile;r.decodedTile=i,null===(n=null===i||void 0===i?void 0:i.dependencies)||void 0===n||n.forEach((function(e){r.dependencies.push(l.TileKey.fromMortonCode(e))}))})).catch((function(e){e===p.TileLoaderState.Failed?r.dispose():e!==p.TileLoaderState.Canceled&&A.error("Unknown error"+e)}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"textStyleCache",get:function(){return this.m_textStyleCache}},{key:"clear",value:function(){var e=this,t=function(t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];if(void 0!==r&&r instanceof c.Texture){var i=r;e.shouldDisposeTexture(i)&&i.dispose()}})),t.dispose()},n=function(n){if(e.shouldDisposeObjectGeometry(n)&&(void 0!==n.geometry&&n.geometry.dispose(),void 0!==n.geometries)){var i,o=r(n.geometries);try{for(o.s();!(i=o.n()).done;){i.value.dispose()}}catch(a){o.e(a)}finally{o.f()}}void 0!==n.material&&e.shouldDisposeObjectMaterial(n)&&(n.material instanceof Array?n.material.forEach((function(e){void 0!==e&&t(e)})):t(n.material))};this.objects.forEach((function(e){e.traverse((function(e){n(e)})),n(e)})),this.objects.length=0,this.preparedTextPaths&&(this.preparedTextPaths=[]),this.m_textStyleCache.clear(),this.clearTextElements(),this.invalidateResourceInfo()}},{key:"clearTextElements",value:function(){this.hasTextElements()&&(this.textElementsChanged=!0,this.m_pathBlockingElements.splice(0),this.textElementGroups.forEach((function(e){e.dispose()})),this.textElementGroups.clear())}},{key:"addDisposeCallback",value:function(e){this.m_disposeCallback=u.chainCallbacks(this.m_disposeCallback,e)}},{key:"dispose",value:function(){var e;this.m_disposed||(this.m_tileLoader&&(this.m_tileLoader.cancel(),this.m_tileLoader=void 0),this.clear(),this.frameNumLastRequested=0,this.m_disposed=!0,null===(e=this.m_tileGeometryLoader)||void 0===e||e.dispose(),this.m_disposeCallback&&this.m_disposeCallback(this))}},{key:"computeWorldOffsetX",value:function(){return this.projection.worldExtent(0,0).max.x*this.offset}},{key:"update",value:function(e){var t,n=r(this.objects);try{for(n.s();!(t=n.n()).done;){var i=t.value;i instanceof f.LodMesh&&i.setLevelOfDetail(e-this.tileKey.level)}}catch(o){n.e(o)}finally{n.f()}}},{key:"boundingBox",get:function(){return this.m_boundingBox}},{key:"updateGeometry",value:function(e,t,n){if(!this.m_tileGeometryLoader)return!1;if(this.m_tileGeometryLoader.isSettled)return!0;if(this.dataSource.isDetached())return this.m_tileGeometryLoader.cancel(),!0;if(this.tileLoader){if(!this.tileLoader.isFinished)return!0;if(!this.decodedTile)return this.m_tileGeometryLoader.finish(),!0}return void 0!==e&&(this.m_tileGeometryLoader.priority=e),this.m_tileGeometryLoader.update(t,n),!0}},{key:"loadedGeometryKinds",get:function(){var e;return null===(e=this.m_tileGeometryLoader)||void 0===e?void 0:e.availableGeometryKinds}},{key:"loadingFinished",value:function(){}},{key:"attachGeometryLoadedCallback",value:function(){var e=this;u.assert(void 0!==this.m_tileGeometryLoader),this.m_tileGeometryLoader.waitFinished().then((function(){e.loadingFinished(),e.removeDecodedTile()})).catch((function(){e.disposed||e.dataSource.isDetached()||e.mapView.visibleTileSet.disposeTile(e)}))}},{key:"removeDecodedTile",value:function(){this.m_decodedTile=void 0,this.invalidateResourceInfo()}},{key:"updateBoundingBox",value:function(e){e?(this.m_boundingBox.copy(e),this.m_worldCenter.copy(this.boundingBox.position)):this.projection.projectBox(this.geoBox,this.boundingBox)}},{key:"elevateGeoBox",value:function(){var e,t;this.geoBox.southWest.altitude=this.m_elevationRange.minElevation+(null!==(e=this.m_minGeometryHeight)&&void 0!==e?e:0),this.geoBox.northEast.altitude=this.m_elevationRange.maxElevation+(null!==(t=this.m_maxGeometryHeight)&&void 0!==t?t:0)}},{key:"computeResourceInfo",value:function(){var e,t=0,n=0,i=0,o={heapSize:0,gpuSize:0},a=new Map,s=r(this.objects);try{for(s.s();!(e=s.n()).done;){var l=e.value;l.visible&&n++,d.Object3DUtils.estimateSize(l,o,a)}}catch(f){s.e(f)}finally{s.f()}var u,c=r(this.textElementGroups.groups);try{for(c.s();!(u=c.n()).done;){i+=u.value[1].elements.length}}catch(f){c.e(f)}finally{c.f()}t+=312*i,void 0!==this.m_decodedTile&&void 0!==this.m_decodedTile.tileInfo&&(o.heapSize+=this.m_decodedTile.tileInfo.numBytes),this.m_resourceInfo={heapSize:o.heapSize+t,gpuSize:o.gpuSize,num3dObjects:n,numTextElements:i,numUserTextElements:0}}}]),e}();t.Tile=T},63402:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileObjectRenderer=void 0;var a=n(26309),s=n(49417),l=n(58598),u=n(87213),c=function(){function e(t,n){i(this,e),this.m_env=t,this.m_renderer=n,this.m_renderOrderStencilValues=new Map,this.m_stencilValue=1}return o(e,[{key:"render",value:function(e,t,n,i,o){var a=e.computeWorldOffsetX();if(e.willRender(t)){var s,l=r(e.objects);try{for(l.s();!(s=l.n()).done;){var c=s.value,f=u.MapObjectAdapter.get(c);this.processTileObject(e,t,n,c,f)&&(this.updateStencilRef(c),c.position.copy(e.center),void 0!==c.displacement&&c.position.add(c.displacement),c.position.x+=a,c.position.sub(i),e.localTangentSpace&&c.setRotationFromMatrix(e.boundingBox.getRotationMatrix()),c.frustumCulled=!1,o.add(c))}}catch(d){l.e(d)}finally{l.f()}e.didRender()}}},{key:"prepareRender",value:function(){this.m_stencilValue=1,this.m_renderOrderStencilValues.clear()}},{key:"setupRenderer",value:function(){var e=function(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.object.userData.tileKey&&t.object.userData.tileKey&&e.object.userData.tileKey.mortonCode()!==t.object.userData.tileKey.mortonCode()?e.object.userData.tileKey.mortonCode()-t.object.userData.tileKey.mortonCode():e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id};this.m_renderer.setOpaqueSort((function(t,n){var r,i,o,a,l=u.MapObjectAdapter.get(t.object),c=u.MapObjectAdapter.get(n.object),f=null===(r=null===l||void 0===l?void 0:l.dataSource)||void 0===r?void 0:r.dataSourceOrder,d=null===(i=null===c||void 0===c?void 0:c.dataSource)||void 0===i?void 0:i.dataSourceOrder;if(void 0!==f&&void 0!==d&&f!==d)return f-d;if(t.renderOrder===s.BackgroundDataSource.GROUND_RENDER_ORDER||n.renderOrder===s.BackgroundDataSource.GROUND_RENDER_ORDER)return e(t,n);if(void 0!==(null===l||void 0===l?void 0:l.level)&&void 0!==(null===c||void 0===c?void 0:c.level)){var h=void 0!==(null===(o=l.kind)||void 0===o?void 0:o.find((function(e){return"building"===e})))||void 0!==(null===(a=c.kind)||void 0===a?void 0:a.find((function(e){return"building"===e})));return l.level===c.level||h?e(t,n):l.level-c.level}return e(t,n)}))}},{key:"updateStencilRef",value:function(e){var t=this;if(void 0!==e.renderOrder&&e instanceof l.SolidLineMesh){var n=e.material;Array.isArray(n)?n.forEach((function(n){return n.stencilRef=t.getStencilValue(e.renderOrder)})):n.stencilRef=this.getStencilValue(e.renderOrder)}}},{key:"allocateStencilValue",value:function(e){var t=this.m_stencilValue++;return this.m_renderOrderStencilValues.set(e,t),t}},{key:"getStencilValue",value:function(e){var t;return null!==(t=this.m_renderOrderStencilValues.get(e))&&void 0!==t?t:this.allocateStencilValue(e)}},{key:"processTileObject",value:function(e,t,n,r,i){return!!r.visible&&(!!this.processTileObjectFeatures(e,t,n,r)&&!(i&&(i.ensureUpdated(e.mapView),!i.isVisible()&&i.pickability!==a.Pickability.all)))}},{key:"processTileObjectFeatures",value:function(e,t,n,r){var i,o,s=this,l=r.userData.technique,u=a.getPropertyValue(null===l||void 0===l?void 0:l.minZoomLevel,this.m_env),c=a.getPropertyValue(null===l||void 0===l?void 0:l.maxZoomLevel,this.m_env);if("number"===typeof u&&n<u)return!1;if("number"===typeof c&&n>=c)return!1;if(void 0===(null===l||void 0===l?void 0:l.enabled))return!0;var f=r.userData.feature;if(!f||!a.Expr.isExpr(l.enabled))return Boolean(a.getPropertyValue(l.enabled,this.m_env));var d=f.starts,h=f.objInfos;if(!Array.isArray(h)||!Array.isArray(d))return!0;var p=r.geometry;if(!p||!p.isBufferGeometry)return!0;var m,v=null!==(o=null===(i=p.getIndex())||void 0===i?void 0:i.count)&&void 0!==o?o:p.attributes.position.count;return p.clearGroups(),h.forEach((function(t,n){var r,i,o=a.getFeatureId(t),u=!0;if(a.Expr.isExpr(l.enabled)){var c=e.dataSource.getFeatureState(o),f=c?new a.MapEnv(c):null,h="object"===typeof t?new a.MapEnv(t,s.m_env):s.m_env,g=new a.MapEnv({$state:f},h);u=Boolean(a.getPropertyValue(l.enabled,g))}if(u){var y=null!==(r=d[n])&&void 0!==r?r:0,E=(null!==(i=d[n+1])&&void 0!==i?i:v)-y;y===m?p.groups[p.groups.length-1].count+=E:p.addGroup(y,E),m=y+E}})),p.groups.length>0}}]),e}();t.TileObjectRenderer=c},61563:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileOffsetUtils=t.MapViewUtils=void 0;var i=n(31201),o=n(19573),a=n(15739),s=n(34585),l=n(64172),u=n(52719),c=a.LoggerManager.instance.create("MapViewUtils"),f=new s.Vector3(0,0,1),d=new s.Plane(f.clone()),h=new s.Sphere(void 0,o.EarthConstants.EQUATORIAL_RADIUS),p=new s.Raycaster,m={x:new s.Vector3,y:new s.Vector3,z:new s.Vector3},v={x:new s.Vector3,y:new s.Vector3,z:new s.Vector3},g={box3:[new s.Box3],obox3:[new i.OrientedBox3],quaternions:[new s.Quaternion,new s.Quaternion],vector2:[new s.Vector2,new s.Vector2],vector3:[new s.Vector3,new s.Vector3,new s.Vector3,new s.Vector3],matrix4:[new s.Matrix4,new s.Matrix4],transforms:[{xAxis:new s.Vector3,yAxis:new s.Vector3,zAxis:new s.Vector3,position:new s.Vector3}]},y=new s.PerspectiveCamera;!function(e){function t(t,n,r,o,a,u){var f,d,h,p=l.CameraUtils.getPrincipalPoint(t.camera,g.vector2[0]),m=e.rayCastWorldCoordinates(t,p.x,p.y);if(null!==m){var v;if("number"===typeof n)v=g.vector2[1].set(n,r);else{var y=n;v=null!==(f=y.center)&&void 0!==f?f:p,o=null!==(d=y.deltaAzimuth)&&void 0!==d?d:0,a=null!==(h=y.deltaTilt)&&void 0!==h?h:0,u=y.maxTiltAngle}var E=v.x===p.x&&v.y===p.y?m:e.rayCastWorldCoordinates(t,v.x,v.y);if(null!==E){!function(e,t,n){var r=e.camera,i=e.projection.surfaceNormal(t,g.vector3[0]),o=g.quaternions[0].setFromAxisAngle(i,n);r.quaternion.premultiply(o),r.position.sub(t),r.position.applyQuaternion(o),r.position.add(t)}(t,E,-o);var A=new s.Vector3(1,0,0).applyQuaternion(t.camera.quaternion),T=function(e,t,n,r,o,a,l){var u=e.camera,c=e.projection,f=N(c,u,o,l);if(f+n<0)return-f;if(n<=0)return n;if(o.equals(a)||t<0)return i.MathUtils.clamp(n+f,0,r)-f;var d=N(c,u,a,l),h=s.MathUtils.degToRad(89);if(d>h)return 0;var p=0;if(c===i.sphereProjection){var m=c.surfaceNormal(a,g.vector3[0]).projectOnPlane(l).normalize(),v=c.surfaceNormal(o,g.vector3[1]);p=m.angleTo(v)}var y=s.MathUtils.degToRad(90),E=y+p-(2*y-(2*y-(y+p-d+(y+f)))-y-r);return i.MathUtils.clamp(n+d,0,Math.min(E,h))-d}(t,v.y-p.y,a,u,m,E,A);!function(t,n,r,i){var o=t.camera,a=o.position.clone(),s=o.quaternion.clone(),l=g.quaternions[0].setFromAxisAngle(i,r);o.quaternion.premultiply(l),o.position.sub(n),o.position.applyQuaternion(l),o.position.add(n),null===e.rayCastWorldCoordinates(t,0,0)&&(c.warn("Target got invalidated during rotation."),o.position.copy(a),o.quaternion.copy(s))}(t,E,T,A)}}}function n(e,t,n){var r=g.vector3[0].copy(e.position),a=e.getWorldDirection(g.vector3[1]);p.set(r,a),void 0!==n&&(d.constant-=n,h.radius+=n);var l=new s.Vector3,u=t.type===i.ProjectionType.Planar?p.ray.intersectPlane(d,l):p.ray.intersectSphere(h,l);return void 0!==n&&(d.constant=0,h.radius=o.EarthConstants.EQUATORIAL_RADIUS),u}function f(t,n,r){var o={target:t,distance:n},a=r.worldMaxBounds,u=r.camera,c=r.projection;if(!a)return o;var f=a.getSize(g.vector3[1]),d=r.renderer.getSize(g.vector2[0]),h=l.CameraUtils.convertScreenToWorldSize(r.focalLength,o.distance,d.height),p=h*u.aspect,m=Math.max(p/f.x,h/f.y),v=new s.Vector3(p/2,h/2,0),y={target:o.target.clone(),distance:o.distance};if(c.type===i.ProjectionType.Planar){if(m>1)y.distance/=m,u.getWorldDirection(u.position).multiplyScalar(-y.distance).add(a.getCenter(y.target));else{if(g.box3[0].copy(a).expandByVector(v.multiplyScalar(-1)).clampPoint(o.target,y.target).setZ(o.target.z),y.target.equals(o.target))return o;u.position.x+=y.target.x-o.target.x,u.position.y+=y.target.y-o.target.y}return y}if(m>1)a.getCenter(y.target),y.target.setLength(o.target.length()),y.distance/=m;else{var E=g.obox3[0];E.copy(a),E.position.setLength(o.target.length()),E.extents.sub(v);var A=E.getRotationMatrix(g.matrix4[0]),T=g.vector3[1].copy(y.target).sub(E.position).applyMatrix4(g.matrix4[1].copy(A).transpose()).setZ(0),O=g.vector3[2].copy(T).clamp(g.vector3[3].copy(E.extents).multiplyScalar(-1),E.extents);if(O.equals(T))return o;y.target.copy(O).applyMatrix4(A).add(E.position);var R=E.position.lengthSq(),L=y.target.distanceToSquared(E.position),S=Math.sqrt(R)-Math.sqrt(R-L);y.target.addScaledVector(E.zAxis,-S),y.target.setLength(o.target.length())}return e.panCameraAroundGlobe(r,g.vector3[1].copy(y.target),g.vector3[2].copy(o.target)),u.getWorldDirection(u.position).multiplyScalar(-y.distance).add(y.target),y}function E(e,t,n,r,a){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new s.Vector3,u=s.MathUtils.degToRad(r),c=Math.cos(u)*t,f=s.MathUtils.degToRad(n);a.projectPoint(e,l);var d=t*Math.sin(u);if(a.type===i.ProjectionType.Planar)l.x=l.x+Math.sin(f)*d,l.y=l.y-Math.cos(f)*d,l.z=l.z+c;else if(a.type===i.ProjectionType.Spherical){v.z.copy(l).normalize(),v.y.set(0,0,1).projectOnPlane(v.z).normalize(),g.quaternions[0].setFromAxisAngle(v.z,f-Math.PI),v.y.applyQuaternion(g.quaternions[0]),v.y.setLength(d);var h=t*Math.cos(u);l.add(v.y).add(v.z.setLength(h));var p=o.EarthConstants.EQUATORIAL_RADIUS+c,m=Math.sin(u)*t,y=Math.sqrt(p*p+m*m);l.setLength(y)}return l}function A(e,t){var n,i=t.clone().normalize(),o=r(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.angleTo(t)>Math.PI/2){var s=a.length();a.projectOnPlane(i).setLength(s)}}}catch(l){o.e(l)}finally{o.f()}}function T(e,t,n){var i,o=g.vector3[0].copy(t).sub(n.position).length(),a=l.CameraUtils.getPrincipalPoint(n),s=o,u=function(e,t){return Math.abs(e)>1?Math.abs((e-t)/(.99*Math.sign(e)-t)):1},c=r(e);try{for(c.s();!(i=c.n()).done;){var f=i.value,d=-g.vector3[0].copy(f).applyMatrix4(n.matrixWorldInverse).z,h=g.vector3[0].applyMatrix4(n.projectionMatrix),p=Math.max(u(h.x,a.x),u(h.y,a.y));if(p>1){var m=o-d,v=Math.abs(d)*p+m;s=Math.max(s,v)}}}catch(y){c.e(y)}finally{c.f()}return s}function O(e,t,n,r){var a=g.vector3[0].set(t,n,0);e.camera.updateMatrixWorld();var l=g.vector3[1].copy(e.camera.position);g.matrix4[0].extractRotation(e.camera.matrixWorld),g.matrix4[1].multiplyMatrices(g.matrix4[0],g.matrix4[1].copy(e.camera.projectionMatrix).invert());var u=a.applyMatrix4(g.matrix4[1]);p.set(l,u.normalize()),void 0!==r&&(d.constant-=r,h.radius+=r);var c=new s.Vector3,f=e.projection.type===i.ProjectionType.Planar?p.ray.intersectPlane(d,c):p.ray.intersectSphere(h,c);return void 0!==r&&(d.constant=0,h.radius=o.EarthConstants.EQUATORIAL_RADIUS),f}function R(e,t,n){e.camera.position.x+=t,e.camera.position.y+=n}function L(e,t,n){g.quaternions[0].setFromUnitVectors(t.normalize(),n.normalize()).invert(),g.matrix4[0].makeRotationFromQuaternion(g.quaternions[0]),e.camera.applyMatrix4(g.matrix4[0]),e.camera.updateMatrixWorld()}function S(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new s.Quaternion,o=g.transforms[0];return e.localTangentSpace(t,o),g.matrix4[0].makeBasis(o.xAxis,o.yAxis,o.zAxis),i.setFromRotationMatrix(g.matrix4[0]),g.quaternions[0].setFromAxisAngle(g.vector3[1].set(0,0,1),s.MathUtils.degToRad(n)),g.quaternions[1].setFromAxisAngle(g.vector3[1].set(1,0,0),s.MathUtils.degToRad(r)),i.multiply(g.quaternions[0]),i.multiply(g.quaternions[1]),i}function b(t,n){if(n.type===i.ProjectionType.Planar){var r=t.getWorldDirection(g.vector3[0]).normalize(),o=n.surfaceNormal(t.position,g.vector3[1]).negate(),l=r.dot(o);return Math.acos(s.MathUtils.clamp(l,-1,1))}a.assert(n.type===i.ProjectionType.Spherical);var u=e.getGeoTargetFromCamera(t,n);return null!==u?e.extractTiltAngleFromLocation(n,t,u):(c.warn("MapView camera is pointing in the void, using maxTilt: ",e.MAX_TILT_RAD),e.MAX_TILT_RAD)}function I(e,t){g.vector3[1].setFromMatrixPosition(t.matrixWorld),e.projection.localTangentSpace(g.vector3[1],{xAxis:v.x,yAxis:v.y,zAxis:v.z,position:g.vector3[0]}),g.matrix4[1].makeBasis(v.x,v.y,v.z),g.matrix4[0].copy(g.matrix4[1]).invert().multiply(t.matrixWorld),m.x.setFromMatrixColumn(g.matrix4[0],0),m.y.setFromMatrixColumn(g.matrix4[0],1),m.z.setFromMatrixColumn(g.matrix4[0],2);var n=0,r=0,i=0,o=m.z.dot(g.vector3[1].set(0,0,1));return o<1-Number.EPSILON?o>-1+Number.EPSILON?(n=Math.atan2(m.z.x,-m.z.y),r=Math.acos(m.z.z),i=Math.atan2(m.x.z,m.y.z)):(n=-Math.atan2(-m.y.x,m.x.x),r=180,i=0):(n=Math.atan2(-m.y.x,m.x.x),r=0,i=0),{yaw:n,pitch:r,roll:i}}function N(e,t,n,r){e.localTangentSpace(n,{xAxis:v.x,yAxis:v.y,zAxis:v.z,position:g.vector3[0]});var i=g.vector3[2].copy(t.position).sub(g.vector3[0]);r&&(i.projectOnPlane(r),v.z.projectOnPlane(r).normalize());var o=i.length();if(o<1e-5)return c.error("Can not calculate tilt for the zero length vector!"),0;i.divideScalar(o);var a=i.dot(v.z);return a>=1-Number.EPSILON?0:Math.acos(s.MathUtils.clamp(a,-1,1))}function x(e,t){var n=o.EarthConstants.EQUATORIAL_CIRCUMFERENCE/Math.pow(2,t);return e.focalLength*n/256}e.MAX_TILT_DEG=89,e.MAX_TILT_RAD=e.MAX_TILT_DEG*s.MathUtils.DEG2RAD,e.zoomOnTargetPosition=function(n,r,o,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.MAX_TILT_RAD,l=n.elevationProvider,u=n.camera,c=n.projection,d=l?l.getHeight(c.unprojectPoint(u.position),4):void 0,h=O(n,r,o,d),p=e.getTargetAndDistance(c,u,l).target,m=x(n,a);if(n.geoMaxBounds){var v=f(p,m,n);if(v.distance!==m)return a>=n.zoomLevel}if(u.getWorldDirection(u.position).multiplyScalar(-m).add(p),c.type===i.ProjectionType.Spherical){var g=b(u,c),y=g-s;y>0&&t(n,{deltaTilt:y,maxTiltAngle:s})}var E=O(n,r,o,d);return!h||!E||(c.type===i.ProjectionType.Planar?(h.sub(E),R(n,h.x,h.y)):c.type===i.ProjectionType.Spherical&&L(n,h,E),!0)},e.orbitAroundScreenPoint=t,e.getGeoTargetFromCamera=function(e,t,r){var i=n(e,t,r);return null!==i?t.unprojectPoint(i):null},e.getWorldTargetFromCamera=n,e.constrainTargetAndDistanceToViewBounds=f,e.getTargetAndDistance=function(t,r,a){var s=I({projection:t},r).pitch,l=a?a.getHeight(t.unprojectPoint(r.position),4):void 0,u=!a||void 0!==l,c=s<e.MAX_TILT_RAD?n(r,t,l):null;if(null!==c)return{target:c,distance:r.position.distanceTo(c),final:u};var f=t.groundDistance(r.position),d=Math.max(f-(null!==l&&void 0!==l?l:0),0),h=t.type===i.ProjectionType.Planar?d/Math.cos(Math.min(s,e.MAX_TILT_RAD)):Math.sqrt(Math.pow(d+o.EarthConstants.EQUATORIAL_RADIUS,2)-Math.pow(o.EarthConstants.EQUATORIAL_RADIUS,2)),p=r.getWorldDirection(g.vector3[0]);p.multiplyScalar(h);var m=g.vector3[1];return m.copy(r.position).add(p),{target:m,distance:h,final:u}},e.getCameraPositionFromTargetCoordinates=E,e.wrapGeoPointsToScreen=function(e,t){var n=0;void 0===t&&(t=i.GeoCoordinates.fromObject(e[0]),n=1);var r=t.latitude,o=t.latitude,a=i.MathUtils.normalizeLongitudeDeg(t.longitude),s=0,l=t.longitude,u=t.longitude,c=[];c.push(new i.GeoCoordinates(r,a));for(var f=n;f<e.length;f++){var d=i.GeoCoordinates.fromObject(e[f]);d.latitude>r?r=d.latitude:d.latitude<o&&(o=d.latitude);var h=i.MathUtils.normalizeLongitudeDeg(d.longitude),p=i.MathUtils.angleDistanceDeg(a,h);h=a-p,p<0&&-p>s/2?(s=(l=Math.max(l,a-p))-u,a=(l+u)/2):p>0&&p>s/2&&(s=l-(u=Math.min(u,h)),a=(l+u)/2),c.push(new i.GeoCoordinates(d.latitude,h))}return c},e.wrapWorldPointsToView=A,e.geoBoxToGeoPoints=function(e){var t=e.center;return[new i.GeoCoordinates(e.north,e.west),new i.GeoCoordinates(e.north,e.east),new i.GeoCoordinates(t.latitude,e.west),new i.GeoCoordinates(t.latitude,e.east),new i.GeoCoordinates(e.south,e.west),new i.GeoCoordinates(e.south,e.east),new i.GeoCoordinates(e.north,t.longitude),new i.GeoCoordinates(e.south,t.longitude)]},e.getFitBoundsDistance=T,e.getFitBoundsLookAtParams=function(e,t,n,r){var o=r.tilt,a=r.heading,s=r.projection,l=r.minDistance,u=r.camera.clone();return S(s,e,-a,o,u.quaternion),E(e,l,-a,o,s,u.position),u.updateMatrixWorld(!0),s.type===i.ProjectionType.Spherical&&A(n,u.position),{target:e,distance:T(n,t,u),heading:a,tilt:o}},e.getCameraCoordinatesFromTargetCoordinates=function(e,t,n,r,i){return i.projection.unprojectPoint(E(e,t,n,r,i.projection,g.vector3[1]))},e.rayCastWorldCoordinates=O,e.panCameraAboveFlatMap=R,e.panCameraAroundGlobe=L,e.rotate=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/4;if(t.camera.rotateOnWorldAxis(t.projection.type===i.ProjectionType.Spherical?g.vector3[0].copy(t.camera.position).normalize():g.vector3[0].set(0,0,1),s.MathUtils.degToRad(-n)),t.camera.updateMatrixWorld(),0!==r){var l=e.extractAttitude(t,t.camera).pitch,u=s.MathUtils.clamp(l+s.MathUtils.degToRad(r),0,a);if(t.projection.type===i.ProjectionType.Spherical){var c=Math.asin(o.EarthConstants.EQUATORIAL_RADIUS*Math.sin(Math.PI-a)/t.camera.position.length());u=Math.min(u,c)}t.camera.rotateX(u-l)}},e.getCameraRotationAtTarget=S,e.setRotation=function(e,t,n){S(e.projection,e.geoCenter,t,n,e.camera.quaternion)},e.extractCameraTilt=b,e.extractAttitude=I,e.extractSphericalCoordinatesFromLocation=function(e,t,n){e.projection.localTangentSpace(n,{xAxis:v.x,yAxis:v.y,zAxis:v.z,position:g.vector3[0]});var r=0,i=0;return g.vector3[1].copy(t.position).sub(g.vector3[0]).normalize(),g.vector3[1].dot(v.z)>1-Number.EPSILON?(i=Math.PI-I(e,t).yaw,{tilt:r=0,azimuth:i=Math.atan2(Math.sin(i),Math.cos(i))}):(r=g.vector3[1].angleTo(v.z),g.vector3[1].copy(t.position).sub(g.vector3[0]).projectOnPlane(v.z).normalize(),i=g.vector3[1].angleTo(v.y),g.vector3[1].cross(v.y).dot(v.z)<0&&(i=-i),{tilt:r,azimuth:i})},e.extractTiltAngleFromLocation=N,e.getCameraFrustumPlanes=function(e){var t=e.near,n=e.far,r=t*Math.tan(s.MathUtils.degToRad(.5*e.fov))/e.zoom,i=2*r,o=e.aspect*i,a=-.5*o,l=e.view;if(null!==l&&l.enabled){var u=l.fullWidth,c=l.fullHeight;a+=l.offsetX*o/u,r-=l.offsetY*i/c,o*=l.width/u,i*=l.height/c}return{left:a+=0!==e.filmOffset?t*e.filmOffset/e.getFilmWidth():0,right:a+o,top:r,bottom:r-i,near:t,far:n}},e.rayCastGeoCoordinates=function(e,t,n){var r=O(e,t,n);return r?e.projection.unprojectPoint(r):null},e.calculateDistanceToGroundFromZoomLevel=function(e,t){var n=I(e,e.camera).pitch,r=o.EarthConstants.EQUATORIAL_CIRCUMFERENCE/Math.pow(2,t);return e.focalLength*r/256*Math.cos(n)},e.calculateDistanceFromZoomLevel=x,e.calculateZoomLevelFromDistance=function(e,t){var n=256*t/e.focalLength;return function(e){var t=Math.ceil(e);return t-e<1e-6?t:e}(s.MathUtils.clamp(Math.log2(o.EarthConstants.EQUATORIAL_CIRCUMFERENCE/n),e.minZoomLevel,e.maxZoomLevel))},e.calculateDepthFromClipDistance=function(e,t){var n=t,r=n.far-n.near,i=e*n.far;return(1-n.near/i)*(n.far/r)},e.cameraToWorldDistance=function(e,t){return e*t.far},e.calculateVerticalFovByHorizontalFov=function(e,t){return 2*Math.atan(Math.tan(e/2)/t)},e.calculateHorizontalFovByVerticalFov=function(e,t){return y.fov=s.MathUtils.radToDeg(e),y.aspect=t,l.CameraUtils.getHorizontalFov(y)},e.calculateFocalLengthByVerticalFov=function(e,t){return l.CameraUtils.setPrincipalPoint(y,new s.Vector2),l.CameraUtils.setVerticalFov(y,e,t),l.CameraUtils.getFocalLength(y)},e.calculateFovByFocalLength=function(e,t){return l.CameraUtils.setPrincipalPoint(y,new s.Vector2),l.CameraUtils.setFocalLength(y,e,t),y.fov},e.calculateScreenSizeByFocalLength=l.CameraUtils.convertWorldToScreenSize,e.calculateWorldSizeByFocalLength=l.CameraUtils.convertScreenToWorldSize,e.estimateObject3dSize=u.Object3DUtils.estimateSize,e.mapViewIsLoading=function(e){var t,n=0,i=r(e.visibleTileSet.dataSourceTileList);try{for(i.s();!(t=i.n()).done;){var o=t.value;n+=o.numTilesLoading;var a,s=r(o.visibleTiles);try{for(s.s();!(a=s.n()).done;){a.value.allGeometryLoaded||n++}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}var l=n>0;return void 0!==e.textElementsRenderer&&(l=l||e.textElementsRenderer.loading),l=l||!e.poiTableManager.finishedLoading||!e.visibleTileSet.allVisibleTilesLoaded},e.closeToFrustum=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-13,r=(new s.Vector3).copy(e).project(t);return Math.abs(r.x)-n<1&&Math.abs(r.y)-n<1&&Math.abs(r.z)-n<1},e.getBrowserLanguages=a.DOMUtils.getBrowserLanguages}(t.MapViewUtils||(t.MapViewUtils={})),function(e){e.getKeyForTileKeyAndOffset=i.TileKeyUtils.getKeyForTileKeyAndOffset,e.extractOffsetAndMortonKeyFromKey=i.TileKeyUtils.extractOffsetAndMortonKeyFromKey,e.getParentKeyFromKey=i.TileKeyUtils.getParentKeyFromKey}(t.TileOffsetUtils||(t.TileOffsetUtils={}))},3236:function(e,t,n){"use strict";var r=n(63038).default,i=n(319).default,o=n(43269).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VisibleTileSet=t.ResourceComputationType=void 0;var l,u,c=n(31201),f=n(51106),d=n(15739),h=n(34585),p=n(49417),m=n(95596),v=n(65312);!function(e){e[e.EstimationInMb=0]="EstimationInMb",e[e.NumberOfTiles=1]="NumberOfTiles"}(l=t.ResourceComputationType||(t.ResourceComputationType={})),function(e){e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.BOTH=3]="BOTH"}(u||(u={}));var g=1/1048576,y=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.EstimationInMb;a(this,e),this.m_disposedTiles=[],this.m_resourceComputationType=r,this.m_tileCache=new f.LRUCache(t,(function(e){return n.m_resourceComputationType===l.EstimationInMb?e.memoryUsage*g:1})),this.m_tileCache.evictionCallback=function(e,t){void 0!==t.tileLoader&&t.tileLoader.cancel(),n.m_disposedTiles.push(t)},this.m_tileCache.canEvict=function(e,t){return!t.isVisible}}return s(e,[{key:"resourceComputationType",get:function(){return this.m_resourceComputationType}},{key:"capacity",get:function(){return this.m_tileCache.capacity}},{key:"size",get:function(){return this.m_tileCache.size}},{key:"setCapacity",value:function(e,t){var n=this;this.m_resourceComputationType=t,this.m_tileCache.setCapacityAndMeasure(e,(function(e){return n.m_resourceComputationType===l.EstimationInMb?e.memoryUsage*g:1}))}},{key:"get",value:function(t,n,r){return this.m_tileCache.get(e.getKey(t,n,r))}},{key:"set",value:function(t,n,r,i){this.m_tileCache.set(e.getKey(t,n,r),i)}},{key:"delete",value:function(t){var n=e.getKeyForTile(t);this.deleteByKey(n)}},{key:"deleteByKey",value:function(e){this.m_tileCache.delete(e)}},{key:"disposeTiles",value:function(){this.m_disposedTiles.forEach((function(e){e.dispose()})),this.m_disposedTiles.length=0}},{key:"shrinkToCapacity",value:function(){this.m_tileCache.shrinkToCapacity()}},{key:"evictAll",value:function(){this.m_tileCache.evictAll()}},{key:"evictSelected",value:function(e){this.m_tileCache.evictSelected(e)}},{key:"forEach",value:function(e,t){this.m_tileCache.forEach((function(n,r){void 0!==t&&n.dataSource!==t||e(n,r)}))}}],[{key:"getKey",value:function(e,t,n){return"".concat(n.name,"_").concat(e,"_").concat(t)}},{key:"getKeyForTile",value:function(t){return e.getKey(t.tileKey.mortonCode(),t.offset,t.dataSource)}}]),e}(),E=function(e,t){var n=e.distance-t.distance,r=1e-6*(e.distance+t.distance);return Math.abs(n)<r?e.tileKey.mortonCode()-t.tileKey.mortonCode():n},A=function(){function e(t,n,r,i){var o;a(this,e),this.m_frustumIntersection=t,this.m_tileGeometryManager=n,this.options=r,this.m_taskQueue=i,this.dataSourceTileList=[],this.allVisibleTilesLoaded=!1,this.m_cameraOverride=new h.PerspectiveCamera,this.m_viewRange={near:.1,far:1/0,minimum:.1,maximum:1/0},this.m_coveringMap=new Map,this.m_resourceComputationType=l.EstimationInMb,this.options=r,this.options.maxTilesPerFrame=Math.floor(null!==(o=this.options.maxTilesPerFrame)&&void 0!==o?o:0),this.m_resourceComputationType=void 0===r.resourceComputationType?l.EstimationInMb:r.resourceComputationType,this.m_dataSourceCache=new y(this.options.tileCacheSize,this.m_resourceComputationType)}return s(e,[{key:"getDataSourceCacheSize",value:function(){return this.options.tileCacheSize}},{key:"setDataSourceCacheSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.EstimationInMb;this.options.tileCacheSize=e,this.resourceComputationType=t}},{key:"getNumberOfVisibleTiles",value:function(){return this.options.maxVisibleDataSourceTiles}},{key:"setNumberOfVisibleTiles",value:function(e){this.options.maxVisibleDataSourceTiles=e}},{key:"maxTilesPerFrame",get:function(){return this.options.maxTilesPerFrame},set:function(e){if(e<0)throw new Error("Invalid value, this will result in no tiles ever showing");this.options.maxTilesPerFrame=Math.floor(e)}},{key:"resourceComputationType",get:function(){return this.m_resourceComputationType},set:function(e){this.m_resourceComputationType=e,this.m_dataSourceCache.setCapacity(this.options.tileCacheSize,e)}},{key:"updateClipPlanes",value:function(e,t){void 0!==e&&(this.options.clipPlanesEvaluator.maxElevation=e),void 0!==t&&(this.options.clipPlanesEvaluator.minElevation=t);var n=this.m_frustumIntersection.mapView,r=n.camera,i=n.projection,o=n.elevationProvider;return this.m_viewRange=this.options.clipPlanesEvaluator.evaluateClipPlanes(r,i,o),this.m_viewRange}},{key:"updateRenderList",value:function(e,t,n,r,a){var s=this,l=!0,u=this.getVisibleTileKeysForDataSources(t,n,a);this.dataSourceTileList=[],this.m_coveringMap.clear();var c,f,h,p=o(u.tileKeys);try{for(p.s();!(c=p.n()).done;){var m=c.value,v=m.dataSource,g=m.visibleTileKeys;g.sort(E);var y=v.getDataZoomLevel(t),A=this.processVisibleTiles(g,v,r,{newTilesPerFrame:0},!0),T=this.processVisibleTiles(A.dependentTiles,v,r,{newTilesPerFrame:0},!1);this.m_tileGeometryManager.updateTiles(A.visibleTiles),this.m_tileGeometryManager.updateTiles(T.visibleTiles),this.dataSourceTileList.push({dataSource:v,storageLevel:e,zoomLevel:y,allVisibleTileLoaded:A.allDataSourceTilesLoaded&&T.allDataSourceTilesLoaded,numTilesLoading:A.numTilesLoading+T.numTilesLoading,visibleTiles:[].concat(i(A.visibleTiles),i(T.visibleTiles)),renderedTiles:new Map}),l=l&&A.allDataSourceTilesLoaded}}catch(b){p.e(b)}finally{p.f()}this.allVisibleTilesLoaded=l&&u.allBoundingBoxesFinal,this.populateRenderedTiles(),this.forEachCachedTile((function(e){e.isVisible||e.allGeometryLoaded||s.disposeTile(e)})),this.m_dataSourceCache.shrinkToCapacity(),this.dataSourceTileList.forEach((function(e){e.renderedTiles.forEach((function(t){t.update(e.zoomLevel),f=d.MathUtils.min2(f,t.geoBox.minAltitude),h=d.MathUtils.max2(h,t.geoBox.maxAltitude)}))})),void 0===f&&(f=0),void 0===h&&(h=0);var O,R,L=this.m_viewRange,S=this.updateClipPlanes(h,f);return{viewRanges:S,viewRangesChanged:!1===(R=L,(O=S).far===R.far&&O.maximum===R.maximum&&O.minimum===R.minimum&&O.near===R.near)}}},{key:"getTile",value:function(e,t,n,r){return this.getTileImpl(e,t,n,!1,r)}},{key:"getCachedTile",value:function(e,t,n,r){d.assert(e.cacheable);return this.getTileImpl(e,t,n,!0,r)}},{key:"getRenderedTile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.dataSourceTileList.find((function(t){return t.dataSource===e}));if(void 0!==r)return r.renderedTiles.get(c.TileKeyUtils.getKeyForTileKeyAndOffset(t,n))}},{key:"getRenderedTileAtLocation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.dataSourceTileList.find((function(t){return t.dataSource===e}));if(void 0!==r){var i=e.getTilingScheme(),o=r.zoomLevel,a=i.getTileKey(t,o);if(a){var s=r.renderedTiles.get(c.TileKeyUtils.getKeyForTileKeyAndOffset(a,n));if(void 0!==s)return s;for(var l=this.getSearchDirection(e,o),u=l.searchLevelsUp,f=l.searchLevelsDown,d=a,h=1;h<=u;++h)if(d=d.parent(),void 0!==(s=r.renderedTiles.get(c.TileKeyUtils.getKeyForTileKeyAndOffset(d,n))))return s;for(var p=i.projection.projectPoint(t),m=1;m<=f;++m){var v=o+m,g=c.TileKeyUtils.worldCoordinatesToTileKey(i,p,v);if(g&&void 0!==(s=r.renderedTiles.get(c.TileKeyUtils.getKeyForTileKeyAndOffset(g,n))))return s}}}}},{key:"removeDataSource",value:function(e){this.clearTileCache(e),this.dataSourceTileList=this.dataSourceTileList.filter((function(t){return t.dataSource!==e}))}},{key:"clearTileCache",value:function(e,t){void 0!==e?this.m_dataSourceCache.evictSelected((function(n,r){return n.dataSource===e&&(void 0===t||t(n))})):void 0!==t?this.m_dataSourceCache.evictSelected(t):this.m_dataSourceCache.evictAll()}},{key:"markTilesDirty",value:function(e,t){var n=this;if(void 0===e)this.dataSourceTileList.forEach((function(e){n.markDataSourceTilesDirty(e,t)}));else{var r=this.dataSourceTileList.find((function(t){return t.dataSource===e}));if(void 0===r)return;this.markDataSourceTilesDirty(r,t)}}},{key:"disposePendingTiles",value:function(){this.m_dataSourceCache.disposeTiles()}},{key:"forEachVisibleTile",value:function(e){var t,n=o(this.dataSourceTileList);try{for(n.s();!(t=n.n()).done;){t.value.renderedTiles.forEach(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"forEachCachedTile",value:function(e,t){this.m_dataSourceCache.forEach((function(t,n){return e(t)}),t)}},{key:"disposeTile",value:function(e){this.m_dataSourceCache.delete(e),e.dispose()}},{key:"processVisibleTiles",value:function(e,t,n,r,i){for(var a,s=!0,l=0,u=[],c=[],f=0;f<e.length&&u.length<this.options.maxVisibleDataSourceTiles;f++){var d=e[f],h=this.getTile(t,d.tileKey,d.offset,n);if(void 0!==h&&(u.push(h),s=s&&h.allGeometryLoaded,h.allGeometryLoaded?(this.skipOverlappedTiles(t,h),this.processDelayTileRendering(h,r.newTilesPerFrame,n)&&r.newTilesPerFrame++):l++,h.visibleArea=d.area,h.elevationRange=null!==(a=d.elevationRange)&&void 0!==a?a:{minElevation:0,maxElevation:0},i)){var p,v=o(h.dependencies);try{var g=function(){var t=p.value;void 0===e.find((function(e){return e.tileKey.mortonCode()===t.mortonCode()}))&&void 0===c.find((function(e){return e.tileKey.mortonCode()===t.mortonCode()}))&&c.push(new m.TileKeyEntry(t,0))};for(v.s();!(p=v.n()).done;)g()}catch(y){v.e(y)}finally{v.f()}}}return{allDataSourceTilesLoaded:s,numTilesLoading:l,visibleTiles:u,dependentTiles:c}}},{key:"processDelayTileRendering",value:function(e,t,n){var r=!1;return 0!==this.options.maxTilesPerFrame&&t>this.options.maxTilesPerFrame&&e.frameNumLastVisible!==n-1?(e.delayRendering=!0,e.mapView.update()):(e.frameNumVisible<0&&(e.frameNumVisible=n,r=!0),e.numFramesVisible++,e.delayRendering=!1),r}},{key:"skipOverlappedTiles",value:function(e,t){if(this.options.projection.type!==c.ProjectionType.Spherical&&e.isFullyCovering()){var n=t.uniqueKey,r=this.m_coveringMap.get(n);void 0===r?(t.skipRendering=!1,this.m_coveringMap.set(n,t)):r.dataSource instanceof p.BackgroundDataSource?r.skipRendering=!0:e instanceof p.BackgroundDataSource&&(t.skipRendering=!0)}}},{key:"getSearchDirection",value:function(e,t){var n=Math.min(this.options.quadTreeSearchDistanceUp,Math.max(0,t-e.minDataLevel)),r=Math.min(this.options.quadTreeSearchDistanceDown,Math.max(0,e.maxDataLevel-t));return{searchDirection:r>0&&n>0?u.BOTH:r>0?u.DOWN:n>0?u.UP:u.NONE,searchLevelsUp:n,searchLevelsDown:r}}},{key:"populateRenderedTiles",value:function(){var e=this;this.dataSourceTileList.forEach((function(t){var n=t.renderedTiles,r=[];t.visibleTiles.forEach((function(e){e.levelOffset=0,e.hasGeometry&&!e.delayRendering?n.set(e.uniqueKey,e):r.push(e.uniqueKey)}));var i=t.dataSource;if(0!==r.length&&!1!==i.allowOverlappingTiles)for(var o=t.zoomLevel,a=e.getSearchDirection(i,o).searchDirection,s=new Map,l=0,c=r;l<c.length;l++){var f=c[l];(a!==u.BOTH&&a!==u.UP||!e.findUp(f,o,n,s,i))&&(a!==u.BOTH&&a!==u.DOWN||e.findDown(f,o,n,i))}}))}},{key:"findDown",value:function(e,t,n,r){var i,a=c.TileKeyUtils.extractOffsetAndMortonKeyFromKey(e),s=a.offset,l=a.mortonCode,u=c.TileKey.fromMortonCode(l),f=r.getTilingScheme(),d=o(f.getSubTileKeys(u));try{for(d.s();!(i=d.n()).done;){var h=i.value,p=c.TileKeyUtils.getKeyForTileKeyAndOffset(h,s),m=this.m_dataSourceCache.get(h.mortonCode(),s,r),v=Math.abs(h.level-t);void 0===m||!m.hasGeometry||m.delayRendering?v<this.options.quadTreeSearchDistanceDown&&this.findDown(p,t,n,r):(n.set(p,m),m.levelOffset=v)}}catch(g){d.e(g)}finally{d.f()}}},{key:"findUp",value:function(e,t,n,r,i){var o=c.TileKeyUtils.getParentKeyFromKey(e);if(void 0!==n.get(o))return!0;var a=r.get(o);if(void 0!==a)return a;var s=c.TileKeyUtils.extractOffsetAndMortonKeyFromKey(o),l=s.offset,u=s.mortonCode,f=this.m_dataSourceCache.get(u,l,i),d=f?f.tileKey:c.TileKey.fromMortonCode(u),h=Math.abs(t-d.level);if(void 0!==f&&f.hasGeometry&&!f.delayRendering)return r.set(o,!0),n.set(o,f),f.levelOffset=-h,!0;if(r.set(o,!1),h<this.options.quadTreeSearchDistanceUp&&0!==d.level){var p=this.findUp(o,t,n,r,i);if(r.set(o,p),p)return!0}return!1}},{key:"getTileImpl",value:function(e,t,n,r,i){function o(e){e.frameNumLastRequested=i}if(!e.cacheable&&!r){var a=e.getTile(t,!0);return void 0!==a&&(this.addToTaskQueue(a),o(a)),a}var s=this.m_dataSourceCache,l=s.get(t.mortonCode(),n,e);return void 0!==l&&l.offset===n?(o(l),l):r?void 0:(void 0!==(l=e.getTile(t,!0))&&(this.addToTaskQueue(l),l.offset=n,o(l),s.set(t.mortonCode(),n,e,l)),l)}},{key:"addToTaskQueue",value:function(e){this.m_taskQueue.add({execute:e.load.bind(e),group:v.TileTaskGroups.FETCH_AND_DECODE,getPriority:function(){var t,n;return null!==(n=null===(t=null===e||void 0===e?void 0:e.tileLoader)||void 0===t?void 0:t.priority)&&void 0!==n?n:0},isExpired:function(){return!(null===e||void 0===e?void 0:e.isVisible)},estimatedProcessTime:function(){return 1}})}},{key:"markDataSourceTilesDirty",value:function(e,t){var n=this,r=this.m_dataSourceCache,i=new Set,o=function(e){var t,r=y.getKeyForTile(e);i.has(r)||(i.add(r),null===(t=e.tileLoader)||void 0===t||t.cancel(),n.addToTaskQueue(e))};e.visibleTiles.forEach((function(e){(void 0===t||t(e))&&o(e)})),e.renderedTiles.forEach((function(e){(void 0===t||t(e))&&o(e)})),r.forEach((function(e,n){void 0!==t&&!t(e)||i.has(n)||(r.deleteByKey(n),e.dispose())}),e.dataSource)}},{key:"getVisibleTileKeysForDataSources",value:function(e,t,n){var i=Array(),a=!0;if(0===t.length)return{tileKeys:i,allBoundingBoxesFinal:a};var s=new Map;t.forEach((function(e){var t=e.getTilingScheme(),n=s.get(t);void 0===n?s.set(t,[e]):n.push(e)})),void 0!==n?(this.m_cameraOverride.copy(this.m_frustumIntersection.camera),this.m_cameraOverride.near=Math.min(this.m_cameraOverride.near,this.m_viewRange.minimum),this.m_cameraOverride.far=Math.max(this.m_cameraOverride.far,this.m_viewRange.maximum),this.m_cameraOverride.updateProjectionMatrix(),this.m_frustumIntersection.updateFrustum(this.m_cameraOverride.projectionMatrix)):this.m_frustumIntersection.updateFrustum();var l,u=o(s);try{for(u.s();!(l=u.n()).done;){var c=r(l.value,2),f=c[0],d=c[1],h=d.map((function(t){return t.getDataZoomLevel(e)})),p=this.m_frustumIntersection.compute(f,n,h,d);a=a&&p.calculationFinal;var m,v=o(d);try{for(v.s();!(m=v.n()).done;){var g,y=m.value,E=[],A=y.getDataZoomLevel(e),T=o(p.tileKeyEntries.get(A).values());try{for(T.s();!(g=T.n()).done;){var O=g.value;y.canGetTile(A,O.tileKey)&&E.push(O)}}catch(R){T.e(R)}finally{T.f()}i.push({dataSource:y,visibleTileKeys:E})}}catch(R){v.e(R)}finally{v.f()}}}catch(R){u.e(R)}finally{u.f()}return{tileKeys:i,allBoundingBoxesFinal:a}}}]),e}();t.VisibleTileSet=A},2391:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerBasedDecoder=void 0;var s=n(26309),l=0,u=function(){function e(t,n){o(this,e),this.workerSet=t,this.decoderServiceType=n,this.m_serviceCreated=!1,this.workerSet.addReference(),this.serviceId="".concat(this.decoderServiceType,"-").concat(l++)}return a(e,[{key:"dispose",value:function(){this.m_serviceCreated&&this.workerSet.broadcastRequest(s.WorkerServiceProtocol.WORKER_SERVICE_MANAGER_SERVICE_ID,{type:s.WorkerServiceProtocol.Requests.DestroyService,targetServiceId:this.serviceId}).catch((function(){})),this.workerSet.removeReference()}},{key:"connect",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.workerSet.connect(s.WorkerServiceProtocol.WORKER_SERVICE_MANAGER_SERVICE_ID);case 2:if(this.m_serviceCreated){e.next=6;break}return e.next=5,this.workerSet.broadcastRequest(s.WorkerServiceProtocol.WORKER_SERVICE_MANAGER_SERVICE_ID,{type:s.WorkerServiceProtocol.Requests.CreateService,targetServiceType:this.decoderServiceType,targetServiceId:this.serviceId});case 5:this.m_serviceCreated=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"decodeTile",value:function(e,t,n,r){var i=t.mortonCode(),o={type:s.WorkerDecoderProtocol.Requests.DecodeTileRequest,tileKey:i,data:e,projection:s.getProjectionName(n)},a=e instanceof ArrayBuffer?[e]:void 0;return this.workerSet.invokeRequest(this.serviceId,o,a,r)}},{key:"getTileInfo",value:function(e,t,n,r){var i=t.mortonCode(),o={type:s.WorkerDecoderProtocol.Requests.TileInfoRequest,tileKey:i,data:e,projection:s.getProjectionName(n)},a=e instanceof ArrayBuffer?[e]:void 0;return this.workerSet.invokeRequest(this.serviceId,o,a,r)}},{key:"configure",value:function(e,t){var n=Object.assign(Object.assign({service:this.serviceId,type:s.WorkerDecoderProtocol.DecoderMessageName.Configuration},e),{options:t});this.workerSet.broadcastMessage(n)}},{key:"workerCount",get:function(){return this.workerSet.workerCount}}]),e}();t.WorkerBasedDecoder=u},56367:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerBasedTiler=void 0;var s=n(26309),l=0,u=function(){function e(t,n){o(this,e),this.workerSet=t,this.tilerServiceType=n,this.m_serviceCreated=!1,this.workerSet.addReference(),this.serviceId="".concat(this.tilerServiceType,"-").concat(l++)}return a(e,[{key:"dispose",value:function(){this.m_serviceCreated&&this.workerSet.broadcastRequest(s.WorkerServiceProtocol.WORKER_SERVICE_MANAGER_SERVICE_ID,{type:s.WorkerServiceProtocol.Requests.DestroyService,targetServiceId:this.serviceId}).catch((function(){})),this.workerSet.removeReference()}},{key:"connect",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.workerSet.connect(s.WorkerServiceProtocol.WORKER_SERVICE_MANAGER_SERVICE_ID);case 2:if(this.m_serviceCreated){e.next=6;break}return e.next=5,this.workerSet.broadcastRequest(s.WorkerServiceProtocol.WORKER_SERVICE_MANAGER_SERVICE_ID,{type:s.WorkerServiceProtocol.Requests.CreateService,targetServiceType:this.tilerServiceType,targetServiceId:this.serviceId});case 5:this.m_serviceCreated=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"registerIndex",value:function(e,t){var n={type:s.WorkerTilerProtocol.Requests.RegisterIndex,id:e,input:t instanceof URL?t.href:t};return this.workerSet.invokeRequest(this.serviceId,n)}},{key:"updateIndex",value:function(e,t){var n={type:s.WorkerTilerProtocol.Requests.UpdateIndex,id:e,input:t instanceof URL?t.href:t};return this.workerSet.invokeRequest(this.serviceId,n)}},{key:"getTile",value:function(e,t){var n=t.mortonCode(),r={type:s.WorkerTilerProtocol.Requests.TileRequest,index:e,tileKey:n};return this.workerSet.invokeRequest(this.serviceId,r)}}]),e}();t.WorkerBasedTiler=u},2011:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LowResRenderPass=void 0;var s=n(85164),l=n(34585),u=function(e){o(n,e);var t=a(n);function n(e){var i;return r(this,n),(i=t.call(this)).lowResPixelRatio=e,i.m_renderTarget=null,i.m_localCamera=new l.OrthographicCamera(-1,1,1,-1,0,1),i.m_quadScene=new l.Scene,i.m_quadUniforms=s.CopyShader.uniforms,i.m_quadMaterial=new s.CopyMaterial(i.m_quadUniforms),i.m_quad=new l.Mesh(new l.PlaneBufferGeometry(2,2),i.m_quadMaterial),i.m_savedWidth=0,i.m_savedHeight=0,i.m_quad.frustumCulled=!1,i.m_quadScene.add(i.m_quad),i.m_pixelRatio=e,i}return i(n,[{key:"dispose",value:function(){this.m_quadMaterial.dispose(),this.m_quad.geometry.dispose(),null!==this.m_renderTarget&&(this.m_renderTarget.dispose(),this.m_renderTarget=null)}},{key:"pixelRatio",get:function(){return this.m_pixelRatio},set:function(e){this.m_pixelRatio=e,this.m_renderTarget&&void 0!==this.pixelRatio&&this.m_renderTarget.setSize(Math.floor(this.m_savedWidth*this.pixelRatio),Math.floor(this.m_savedHeight*this.pixelRatio))}},{key:"render",value:function(e,t,n,r,i){if(this.enabled&&void 0!==this.pixelRatio){null===this.m_renderTarget&&(this.m_savedWidth=i.width,this.m_savedHeight=i.height,this.m_renderTarget=new l.WebGLRenderTarget(Math.floor(this.m_savedWidth*this.pixelRatio),Math.floor(this.m_savedHeight*this.pixelRatio),{minFilter:l.LinearFilter,magFilter:l.LinearFilter,format:l.RGBAFormat,depthBuffer:!0,stencilBuffer:!0}),this.m_renderTarget.texture.name="LowResRenderPass.sample"),this.m_quadUniforms.tDiffuse.value=this.m_renderTarget.texture,this.m_quadUniforms.opacity.value=1;var o=e.getRenderTarget();e.setRenderTarget(this.m_renderTarget),e.clear(),e.render(t,n),e.setRenderTarget(this.renderToScreen?null:r),e.clear(),e.render(this.m_quadScene,this.m_localCamera),e.setRenderTarget(o)}}},{key:"setSize",value:function(e,t){this.m_savedWidth=e,this.m_savedHeight=t,this.m_renderTarget&&void 0!==this.pixelRatio&&this.m_renderTarget.setSize(Math.floor(e*this.pixelRatio),Math.floor(t*this.pixelRatio))}}]),n}(n(87585).Pass);t.LowResRenderPass=u},42773:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MSAARenderPass=t.MSAASampling=void 0;var s,l=n(85164),u=n(34585),c=n(87585);!function(e){e[e.Level_0=0]="Level_0",e[e.Level_1=1]="Level_1",e[e.Level_2=2]="Level_2",e[e.Level_3=3]="Level_3",e[e.Level_4=4]="Level_4",e[e.Level_5=5]="Level_5"}(s=t.MSAASampling||(t.MSAASampling={}));var f=function(e){o(n,e);var t=a(n);function n(){var e;return r(this,n),(e=t.call(this)).samplingLevel=s.Level_1,e.m_renderTarget=null,e.m_localCamera=new u.OrthographicCamera(-1,1,1,-1,0,1),e.m_quadScene=new u.Scene,e.m_quadUniforms=l.CopyShader.uniforms,e.m_quadMaterial=new l.MSAAMaterial(e.m_quadUniforms),e.m_quad=new u.Mesh(new u.PlaneBufferGeometry(2,2),e.m_quadMaterial),e.m_tmpColor=new u.Color,e.m_quad.frustumCulled=!1,e.m_quadScene.add(e.m_quad),e}return i(n,[{key:"dispose",value:function(){null!==this.m_renderTarget&&(this.m_renderTarget.dispose(),this.m_renderTarget=null)}},{key:"render",value:function(e,t,r,i,o){if(this.enabled){null===this.m_renderTarget&&(this.m_renderTarget=new u.WebGLRenderTarget(o.width,o.height,{minFilter:u.LinearFilter,magFilter:u.LinearFilter,format:u.RGBAFormat}),this.m_renderTarget.texture.name="MSAARenderPass.sample"),this.m_quadUniforms.tDiffuse.value=this.m_renderTarget.texture;var a=n.OffsetVectors[this.samplingLevel],s=e.getClearColor(this.m_tmpColor),l=void 0!==s?s.getHex():0,c={enabled:null!==r.view&&r.view.enabled,fullWidth:o.width,fullHeight:o.height,x:0,y:0,width:o.width,height:o.height};c.enabled&&null!==r.view&&(c.fullWidth=r.view.fullWidth,c.fullHeight=r.view.fullHeight,c.x=r.view.offsetX,c.y=r.view.offsetY,c.width=r.view.width,c.height=r.view.height);for(var f=e.getRenderTarget(),d=0;d<a.length;d++){var h=a[d];r.setViewOffset(c.fullWidth,c.fullHeight,c.x+h[0]/16,c.y+h[1]/16,c.width,c.height);var p=(d+.5)/a.length-.5,m=1/a.length+p/32;this.m_quadUniforms.opacity.value=m,e.setRenderTarget(this.m_renderTarget),e.clear(),e.render(t,r),e.setRenderTarget(this.renderToScreen?null:i),0===d&&(e.setClearColor(0),e.clear()),e.render(this.m_quadScene,this.m_localCamera),0===d&&void 0!==s&&e.setClearColor(l)}e.setRenderTarget(f),null!==r.view&&(r.view.enabled=c.enabled,r.view.offsetX=c.x,r.view.offsetY=c.y)}}},{key:"setSize",value:function(e,t){this.m_renderTarget&&this.m_renderTarget.setSize(e,t)}}]),n}(c.Pass);t.MSAARenderPass=f,f.OffsetVectors=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]]},53801:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapRenderingManager=void 0;var o=n(85164),a=n(34585),s=n(2011),l=n(42773),u=n(17011),c=n(87585),f=n(10711),d=l.MSAASampling.Level_1,h=l.MSAASampling.Level_4,p=function(){function e(t,n,i){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{msaaEnabled:!1};r(this,e),this.bloom={enabled:!1,strength:1.5,radius:.4,threshold:.85},this.outline={enabled:!1,thickness:.005,color:"#000000",ghostExtrudedPolygons:!1,needsUpdate:!1},this.vignette={enabled:!1,offset:1,darkness:1},this.sepia={enabled:!1,amount:.5},this.m_width=1,this.m_height=1,this.m_renderPass=new c.RenderPass,this.m_target1=new a.WebGLRenderTarget(1,1),this.m_target2=new a.WebGLRenderTarget(1,1),this.m_sepiaPass=new c.ShaderPass(o.SepiaShader),this.m_vignettePass=new c.ShaderPass(o.VignetteShader),this.m_readBuffer=new a.WebGLRenderTarget(t,n),this.m_msaaPass=new l.MSAARenderPass,this.m_msaaPass.enabled=void 0!==u&&!0===u.msaaEnabled,this.m_dynamicMsaaSamplingLevel=void 0===u.dynamicMsaaSamplingLevel?d:u.dynamicMsaaSamplingLevel,this.m_staticMsaaSamplingLevel=void 0===u.staticMsaaSamplingLevel?h:u.staticMsaaSamplingLevel,this.m_lowResPass=new s.LowResRenderPass(i),this.m_lowResPass.enabled=void 0!==i}return i(e,[{key:"updateOutline",value:function(e){this.outline.color=e.color,this.outline.thickness=e.thickness,this.outline.ghostExtrudedPolygons=e.ghostExtrudedPolygons,this.outline.needsUpdate=!0}},{key:"render",value:function(e,t,n,r){if(!r&&void 0!==this.m_lowResPass.pixelRatio)return this.m_lowResPass.renderToScreen=!0,void this.m_lowResPass.render(e,t,n,null,this.m_readBuffer);var i=this.bloom.enabled||this.outline.enabled||this.vignette.enabled||this.sepia.enabled,o=null;if((this.bloom.enabled||this.vignette.enabled||this.sepia.enabled)&&(e.setRenderTarget(this.m_target1),e.clearDepth()),this.m_msaaPass.enabled?(this.m_msaaPass.samplingLevel=r?this.m_staticMsaaSamplingLevel:this.m_dynamicMsaaSamplingLevel,this.m_msaaPass.renderToScreen=!i,this.m_msaaPass.render(e,t,n,null,this.m_readBuffer)):this.bloom.enabled||this.vignette.enabled||this.sepia.enabled?(o=this.m_target1,this.m_renderPass.render(e,t,n,this.m_target1,null)):(!this.outline.enabled||this.outline.enabled&&!this.bloom.enabled)&&e.render(t,n),this.outline.enabled){void 0===this.m_outlineEffect&&(this.m_outlineEffect=new u.OutlineEffect(e)),this.outline.needsUpdate&&(this.m_outlineEffect.color=this.outline.color,this.m_outlineEffect.thickness=this.outline.thickness,this.m_outlineEffect.ghostExtrudedPolygons=this.outline.ghostExtrudedPolygons,this.outline.needsUpdate=!1);var s=this.bloom.enabled||this.vignette.enabled||this.sepia.enabled;s&&(o=this.m_target1),e.setRenderTarget(s?o:null),this.m_outlineEffect.render(t,n)}if(this.bloom.enabled){void 0===this.m_bloomPass&&(this.m_bloomPass=new f.BloomPass(new a.Vector2(this.m_width,this.m_height),this.bloom.strength,this.bloom.radius,this.bloom.threshold));var l=this.vignette.enabled||this.sepia.enabled;this.m_bloomPass.renderToScreen=!l,this.m_bloomPass.radius=this.bloom.radius,this.m_bloomPass.strength=this.bloom.strength,this.m_bloomPass.threshold=this.bloom.threshold,this.m_bloomPass.render(e,t,n,null,o)}else void 0!==this.m_bloomPass&&(this.m_bloomPass.dispose(),this.m_bloomPass=void 0);if(this.vignette.enabled){var c=o,d=this.sepia.enabled;this.m_vignettePass.uniforms.offset.value=this.vignette.offset,this.m_vignettePass.uniforms.darkness.value=this.vignette.darkness,this.m_vignettePass.renderToScreen=!d,d&&(o=o===this.m_target1?this.m_target2:this.m_target1),this.m_vignettePass.render(e,t,n,o,c)}this.sepia.enabled&&(this.m_sepiaPass.renderToScreen=!0,this.m_sepiaPass.uniforms.amount.value=this.sepia.amount,this.m_sepiaPass.render(e,t,n,null,o))}},{key:"setSize",value:function(e,t){this.m_readBuffer.setSize(e,t),this.m_msaaPass.setSize(e,t),void 0!==this.m_bloomPass&&this.m_bloomPass.setSize(e,t),this.m_lowResPass.setSize(e,t),this.m_target1.setSize(e,t),this.m_target2.setSize(e,t),this.m_width=e,this.m_height=t}},{key:"lowResPixelRatio",get:function(){return this.m_lowResPass.pixelRatio},set:function(e){this.m_lowResPass.pixelRatio=e,this.m_lowResPass.enabled=void 0!==e}},{key:"dynamicMsaaSamplingLevel",get:function(){return this.m_dynamicMsaaSamplingLevel},set:function(e){this.m_dynamicMsaaSamplingLevel=e}},{key:"msaaEnabled",get:function(){return this.m_msaaPass.enabled},set:function(e){this.m_msaaPass.enabled=e}},{key:"staticMsaaSamplingLevel",get:function(){return this.m_staticMsaaSamplingLevel},set:function(e){this.m_staticMsaaSamplingLevel=e}}]),e}();t.MapRenderingManager=p},17011:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineEffect=void 0;var a=n(85164),s=n(15739),l=n(34585),u=function(){function e(t){i(this,e),this.m_renderer=t,this.enabled=!0,this.m_defaultThickness=.02,this.m_defaultColor=new l.Color(0,0,0),this.m_defaultAlpha=1,this.m_defaultKeepAlive=!1,this.m_ghostExtrudedPolygons=!1,this.m_cache={},this.m_removeThresholdCount=60,this.m_originalMaterials={},this.m_originalOnBeforeRenders={},this.m_shaderIDs={MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical"},this.m_uniformsChunk={outlineThickness:{value:this.m_defaultThickness},outlineColor:{value:this.m_defaultColor},outlineAlpha:{value:this.m_defaultAlpha}},this.autoClear=t.autoClear,this.domElement=t.domElement,this.shadowMap=t.shadowMap}return o(e,[{key:"thickness",set:function(e){this.m_defaultThickness=e,this.m_uniformsChunk.outlineThickness.value=e,this.m_cache={}}},{key:"color",set:function(e){this.m_defaultColor.set(e),this.m_cache={}}},{key:"ghostExtrudedPolygons",set:function(e){this.m_ghostExtrudedPolygons=e}},{key:"clear",value:function(e,t,n){this.m_renderer.clear(e,t,n)}},{key:"getPixelRatio",value:function(){return this.m_renderer.getPixelRatio()}},{key:"setPixelRatio",value:function(e){this.m_renderer.setPixelRatio(e)}},{key:"getSize",value:function(e){return this.m_renderer.getSize(e)}},{key:"setSize",value:function(e,t,n){this.m_renderer.setSize(e,t,n)}},{key:"setViewport",value:function(e,t,n,r){this.m_renderer.setViewport(e,t,n,r)}},{key:"setScissor",value:function(e,t,n,r){this.m_renderer.setScissor(e,t,n,r)}},{key:"setScissorTest",value:function(e){this.m_renderer.setScissorTest(e)}},{key:"setRenderTarget",value:function(e){this.m_renderer.setRenderTarget(e)}},{key:"render",value:function(e,t){if(this.m_ghostExtrudedPolygons){if(!this.enabled)return void this.m_renderer.render(e,t);var n=this.m_renderer.autoClear;this.m_renderer.autoClear=this.autoClear,this.m_renderer.render(e,t),this.m_renderer.autoClear=n}this.renderOutline(e,t)}},{key:"renderOutline",value:function(e,t){var n=this.m_renderer.autoClear,r=e.autoUpdate,i=e.background,o=this.m_renderer.shadowMap.enabled;e.autoUpdate=!1,e.background=null,this.m_renderer.autoClear=!1,this.m_renderer.shadowMap.enabled=!1,e.traverse(this.setOutlineMaterial.bind(this)),this.m_renderer.render(e,t),e.traverse(this.restoreOriginalMaterial.bind(this)),this.cleanupCache(),e.autoUpdate=r,e.background=i,this.m_renderer.autoClear=n,this.m_renderer.shadowMap.enabled=o}},{key:"createInvisibleMaterial",value:function(){return new l.ShaderMaterial({name:"invisible",visible:!1})}},{key:"createMaterial",value:function(e){if(e instanceof a.EdgeMaterial||!0===e.isDepthPrepassMaterial)return this.createInvisibleMaterial();var t,n=this.m_shaderIDs[e.type],r=void 0!==e.shaderUniforms?e.shaderUniforms:e.uniforms;if(void 0!==n){var i=l.ShaderLib[n];r=i.uniforms,t=i.vertexShader}else if(!0===e.isRawShaderMaterial){if(t=e.vertexShader,!/attribute\s+vec3\s+position\s*;/.test(t)||!/attribute\s+vec3\s+normal\s*;/.test(t))return this.createInvisibleMaterial()}else{if(!0!==e.isShaderMaterial)return this.createInvisibleMaterial();t=e.vertexShader}var o=void 0!==e.shaderUniforms&&void 0!==e.shaderUniforms.extrusionRatio,s=a.FadingFeature.isDefined(e),u=Object.assign(Object.assign({},r),this.m_uniformsChunk),c=t.replace(/void\s+main\s*\(\s*\)/,"\n#ifdef USE_EXTRUSION\n  #ifndef HAS_EXTRUSION_PARS_VERTEX\n    #include <extrusion_pars_vertex>\n  #endif\n#endif\n\n#ifdef USE_FADING\n  #include <fading_pars_vertex>\n#endif\n\nuniform float outlineThickness;\n\nvec4 calculateOutline( vec4 pos, vec3 objectNormal, vec4 skinned ) {\n    float thickness = outlineThickness;\n    const float ratio = 1.0;\n    vec4 pos2 = projectionMatrix * modelViewMatrix * vec4( skinned.xyz + objectNormal, 1.0 );\n    vec4 norm = normalize( pos - pos2 );\n    return pos + norm * thickness * pos.w * ratio;\n}\nvoid main()").replace(/\}\s*$/,"\n#if ! defined( LAMBERT ) && ! defined( PHONG ) && ! defined( TOON ) && ! defined( STANDARD )\n    #ifndef USE_ENVMAP\n        vec3 objectNormal = normalize( normal );\n    #endif\n#endif\n\n#ifdef FLIP_SIDED\n    objectNormal = -objectNormal;\n#endif\n\n#ifdef DECLARE_TRANSFORMED\n    vec3 transformed = vec3( position );\n#endif\n\n#ifdef USE_EXTRUSION\n #ifndef HAS_EXTRUSION_VERTEX\n  #include <extrusion_vertex>\n #endif\n#endif\n\n#ifdef USE_FADING\n  #include <fading_vertex>\n#endif\n\n#ifdef USE_EXTRUSION\n  gl_Position = calculateOutline( projectionMatrix * modelViewMatrix * vec4( transformed, 1.0 ),\n      objectNormal, vec4( transformed, 1.0 ) );\n#else\n  gl_Position = calculateOutline( gl_Position, objectNormal, vec4( transformed, 1.0 ) );\n#endif\n\n#include <fog_vertex>\n}").replace(/#include\s+<[\w_]*light[\w_]*>/g,""),f={};return/vec3\s+transformed\s*=/.test(t)||/#include\s+<begin_vertex>/.test(t)||(f.DECLARE_TRANSFORMED=!0),o&&(u.extrusionRatio={value:a.ExtrusionFeatureDefs.DEFAULT_RATIO_MIN},f.USE_EXTRUSION=1),s&&(u.fadeNear={value:void 0!==r.fadeNear?r.fadeNear.value:a.FadingFeature.DEFAULT_FADE_NEAR},u.fadeFar={value:void 0!==r.fadeFar?r.fadeFar.value:a.FadingFeature.DEFAULT_FADE_FAR},f.USE_FADING=1),new l.ShaderMaterial({defines:f,uniforms:u,vertexShader:c,fragmentShader:"\n#include <common>\n#include <fog_pars_fragment>\n\n#ifdef USE_EXTRUSION\n  #include <extrusion_pars_fragment>\n#endif\n\n#ifdef USE_FADING\n  #include <fading_pars_fragment>\n#endif\n\nuniform vec3 outlineColor;\nuniform float outlineAlpha;\n\nvoid main() {\n\n    gl_FragColor = vec4( outlineColor, outlineAlpha );\n\n    #include <fog_fragment>\n\n    #ifdef USE_EXTRUSION\n      #include <extrusion_fragment>\n    #endif\n\n    #ifdef USE_FADING\n      #include <fading_fragment>\n    #endif\n}",side:l.BackSide,morphTargets:!1,morphNormals:!1,fog:!1,blending:l.CustomBlending,blendSrc:l.SrcAlphaFactor,blendDst:l.OneMinusSrcAlphaFactor,blendSrcAlpha:l.OneFactor,blendDstAlpha:l.OneMinusSrcAlphaFactor,transparent:!0,polygonOffset:!0,polygonOffsetFactor:10,polygonOffsetUnits:30})}},{key:"getOutlineMaterialFromCache",value:function(e){var t=this.m_cache[e.uuid];return void 0===t&&(t={material:this.createMaterial(e),used:!0,keepAlive:this.m_defaultKeepAlive,count:0},this.m_cache[e.uuid]=t),t.used=!0,t.material}},{key:"getOutlineMaterial",value:function(e){var t=this.getOutlineMaterialFromCache(e);return this.m_originalMaterials[t.uuid]=e,this.updateOutlineMaterial(t,e),t}},{key:"setOutlineMaterial",value:function(e){if(void 0!==e.material){if(Array.isArray(e.material))for(var t=0,n=e.material.length;t<n;t++)e.material[t]=this.getOutlineMaterial(e.material[t]);else e.material=this.getOutlineMaterial(e.material);this.m_originalOnBeforeRenders[e.uuid]=e.onBeforeRender,e.onBeforeRender=s.chainCallbacks(e.onBeforeRender,this.onBeforeRender.bind(this))}}},{key:"restoreOriginalMaterial",value:function(e){if(void 0!==e.material){if(Array.isArray(e.material))for(var t=0,n=e.material.length;t<n;t++)e.material[t]=this.m_originalMaterials[e.material[t].uuid];else e.material=this.m_originalMaterials[e.material.uuid];e.onBeforeRender=this.m_originalOnBeforeRenders[e.uuid]}}},{key:"onBeforeRender",value:function(e,t,n,r,i,o){var a=this.m_originalMaterials[i.uuid];void 0!==a&&this.updateUniforms(i,a)}},{key:"updateUniforms",value:function(e,t){var n,r=t.userData.outlineParameters,i=e.uniforms;i.outlineAlpha.value=t.opacity;var o=void 0!==t.shaderUniforms?t.shaderUniforms:t.uniforms;if(void 0!==r&&(void 0!==r.thickness&&(i.outlineThickness.value=r.thickness),void 0!==r.color&&i.outlineColor.value.fromArray(r.color),void 0!==r.alpha&&(i.outlineAlpha.value=r.alpha)),void 0!==o&&void 0!==o.extrusionRatio){var s=t.shaderUniforms.extrusionRatio.value;e.extrusionRatio=s,e.uniforms.extrusionRatio.value=void 0!==s?s:a.ExtrusionFeatureDefs.DEFAULT_RATIO_MIN}void 0!==(null===(n=e.defines)||void 0===n?void 0:n.USE_FADING)&&void 0!==o.fadeNear&&void 0!==o.fadeFar&&o.fadeFar.value>=0&&(i.fadeNear.value=o.fadeNear.value,i.fadeFar.value=o.fadeFar.value)}},{key:"updateOutlineMaterial",value:function(e,t){if("invisible"!==e.name){var n=t.userData.outlineParameters;e.skinning=t.skinning,e.morphTargets=t.morphTargets,e.morphNormals=t.morphNormals,e.fog=t.fog,void 0!==n?(e.visible=!1!==t.visible&&(void 0===n.visible||n.visible),void 0!==n.keepAlive&&(this.m_cache[t.uuid].keepAlive=n.keepAlive)):e.visible=t.visible,!0!==t.wireframe&&!1!==t.depthTest||(e.visible=!1)}}},{key:"cleanupCache",value:function(){for(var e,t=0,n=(e=Object.keys(this.m_originalMaterials)).length;t<n;t++)this.m_originalMaterials[e[t]]=void 0;for(var i=0,o=(e=Object.keys(this.m_originalOnBeforeRenders)).length;i<o;i++)this.m_originalOnBeforeRenders[e[i]]=void 0;e=Object.keys(this.m_cache);var a,s=r(e);try{for(s.s();!(a=s.n()).done;){var l=a.value;!1===this.m_cache[l].used?(this.m_cache[l].count++,!1===this.m_cache[l].keepAlive&&this.m_cache[l].count>this.m_removeThresholdCount&&delete this.m_cache[l]):(this.m_cache[l].used=!1,this.m_cache[l].count=0)}}catch(u){s.e(u)}finally{s.f()}}}]),e}();t.OutlineEffect=u},87585:function(e,t,n){"use strict";var r=n(2205).default,i=n(99842).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderPass=t.RenderPass=t.Pass=void 0;var s=n(34585),l=function(){function e(){o(this,e),this.enabled=!1,this.renderToScreen=!1}return a(e,[{key:"setSize",value:function(e,t){}},{key:"render",value:function(e,t,n,r,i,o){}}]),e}();t.Pass=l;var u=function(e){r(n,e);var t=i(n);function n(){return o(this,n),t.call(this)}return a(n,[{key:"render",value:function(e,t,n,r,i){e.setRenderTarget(this.renderToScreen?null:r),e.render(t,n)}}]),n}(l);t.RenderPass=u;var c=function(e){r(n,e);var t=i(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tDiffuse";return o(this,n),(r=t.call(this)).textureID=i,e instanceof s.ShaderMaterial?(r.uniforms=e.uniforms,r.material=e):(r.uniforms=s.UniformsUtils.clone(e.uniforms),r.material=new s.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:r.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),r.fsQuad=new f(r.material),r}return a(n,[{key:"render",value:function(e,t,n,r,i,o){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,e.setRenderTarget(this.renderToScreen?null:r),this.fsQuad.render(e)}}]),n}(l);t.ShaderPass=c;var f=function(){function e(t){o(this,e),this.m_camera=new s.OrthographicCamera(-1,1,1,-1,0,1);var n=new s.PlaneBufferGeometry(2,2);this.m_mesh=new s.Mesh(n,t)}return a(e,[{key:"material",get:function(){return this.m_mesh.material},set:function(e){this.m_mesh.material=e}},{key:"render",value:function(e){e.render(this.m_mesh,this.m_camera)}}]),e}()},10711:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BloomPass=void 0;var l=n(85164),u=n(34585),c=n(87585),f=new u.Vector2(1,0),d=new u.Vector2(0,1),h=function(e){a(n,e);var t=s(n);function n(e,r,o,a){var s;i(this,n),(s=t.call(this)).resolution=new u.Vector2(256,256),s.m_renderTargetsHorizontal=[],s.m_renderTargetsVertical=[],s.m_nMips=5,s.m_separableBlurMaterials=[],s.m_camera=new u.OrthographicCamera(-1,1,1,-1,0,1),s.m_scene=new u.Scene,s.m_basic=new u.MeshBasicMaterial,s.m_quad=new u.Mesh(new u.PlaneBufferGeometry(2,2)),s.m_bloomTintColors=[new u.Vector3(1,1,1),new u.Vector3(1,1,1),new u.Vector3(1,1,1),new u.Vector3(1,1,1),new u.Vector3(1,1,1)],s.strength=r,s.radius=o,s.threshold=a,s.resolution=e,s.m_quad.frustumCulled=!1,s.m_scene.add(s.m_quad);var c={minFilter:u.LinearFilter,magFilter:u.LinearFilter,format:u.RGBAFormat},f=Math.round(s.resolution.x/2),d=Math.round(s.resolution.y/2);s.m_renderTargetBright=new u.WebGLRenderTarget(f,d,c),s.m_renderTargetBright.texture.name="UnrealBloomPass.bright",s.m_renderTargetBright.texture.generateMipmaps=!1;for(var h=0;h<s.m_nMips;h++){var p=new u.WebGLRenderTarget(f,d,c);p.texture.name="UnrealBloomPass.h"+h,p.texture.generateMipmaps=!1,s.m_renderTargetsHorizontal.push(p);var m=new u.WebGLRenderTarget(f,d,c);m.texture.name="UnrealBloomPass.v"+h,m.texture.generateMipmaps=!1,s.m_renderTargetsVertical.push(m),f=Math.round(f/2),d=Math.round(d/2)}s.m_highPassUniforms=u.UniformsUtils.clone(l.LuminosityHighPassShader.uniforms),s.m_highPassUniforms.luminosityThreshold.value=a,s.m_highPassUniforms.smoothWidth.value=.01,s.m_materialHighPassFilter=new u.ShaderMaterial({uniforms:s.m_highPassUniforms,vertexShader:l.LuminosityHighPassShader.vertexShader,fragmentShader:l.LuminosityHighPassShader.fragmentShader,defines:{}});var v=[3,5,7,9,11];f=Math.round(s.resolution.x/2),d=Math.round(s.resolution.y/2);for(var g=0;g<s.m_nMips;g++)s.m_separableBlurMaterials.push(s.getSeperableBlurMaterial(v[g])),s.m_separableBlurMaterials[g].uniforms.texSize.value=new u.Vector2(f,d),f=Math.round(f/2),d=Math.round(d/2);s.m_compositeMaterial=s.getCompositeMaterial(s.m_nMips),s.m_compositeMaterial.uniforms.blurTexture1.value=s.m_renderTargetsVertical[0].texture,s.m_compositeMaterial.uniforms.blurTexture2.value=s.m_renderTargetsVertical[1].texture,s.m_compositeMaterial.uniforms.blurTexture3.value=s.m_renderTargetsVertical[2].texture,s.m_compositeMaterial.uniforms.blurTexture4.value=s.m_renderTargetsVertical[3].texture,s.m_compositeMaterial.uniforms.blurTexture5.value=s.m_renderTargetsVertical[4].texture,s.m_compositeMaterial.uniforms.bloomStrength.value=r,s.m_compositeMaterial.uniforms.bloomRadius.value=.1,s.m_compositeMaterial.needsUpdate=!0;return s.m_compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],s.m_compositeMaterial.uniforms.bloomTintColors.value=s.m_bloomTintColors,s.m_copyUniforms=u.UniformsUtils.clone(l.CopyShader.uniforms),s.m_copyUniforms.opacity.value=1,s.m_materialCopy=new u.ShaderMaterial({uniforms:s.m_copyUniforms,vertexShader:l.CopyShader.vertexShader,fragmentShader:l.CopyShader.fragmentShader,blending:u.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),s}return o(n,[{key:"dispose",value:function(){var e,t=r(this.m_renderTargetsHorizontal);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(o){t.e(o)}finally{t.f()}var n,i=r(this.m_renderTargetsVertical);try{for(i.s();!(n=i.n()).done;){n.value.dispose()}}catch(o){i.e(o)}finally{i.f()}this.m_renderTargetBright.dispose()}},{key:"setSize",value:function(e,t){var n=Math.round(e/2),r=Math.round(t/2);this.m_renderTargetBright.setSize(n,r);for(var i=0;i<this.m_nMips;i++)this.m_renderTargetsHorizontal[i].setSize(n,r),this.m_renderTargetsVertical[i].setSize(n,r),this.m_separableBlurMaterials[i].uniforms.texSize.value=new u.Vector2(n,r),n=Math.round(n/2),r=Math.round(r/2)}},{key:"render",value:function(e,t,n,r,i){this.renderToScreen&&(this.m_quad.material=this.m_basic,this.m_basic.map=i.texture,e.setRenderTarget(null),e.clear(),e.render(this.m_scene,this.m_camera)),this.m_highPassUniforms.tDiffuse.value=i.texture,this.m_highPassUniforms.luminosityThreshold.value=this.threshold,this.m_quad.material=this.m_materialHighPassFilter,e.setRenderTarget(this.m_renderTargetBright),e.clear(),e.render(this.m_scene,this.m_camera);for(var o=this.m_renderTargetBright,a=0;a<this.m_nMips;a++)this.m_quad.material=this.m_separableBlurMaterials[a],this.m_separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.m_separableBlurMaterials[a].uniforms.direction.value=f,e.setRenderTarget(this.m_renderTargetsHorizontal[a]),e.clear(),e.render(this.m_scene,this.m_camera),this.m_separableBlurMaterials[a].uniforms.colorTexture.value=this.m_renderTargetsHorizontal[a].texture,this.m_separableBlurMaterials[a].uniforms.direction.value=d,e.setRenderTarget(this.m_renderTargetsVertical[a]),e.clear(),e.render(this.m_scene,this.m_camera),o=this.m_renderTargetsVertical[a];this.m_quad.material=this.m_compositeMaterial,this.m_compositeMaterial.uniforms.bloomStrength.value=this.strength,this.m_compositeMaterial.uniforms.bloomRadius.value=this.radius,this.m_compositeMaterial.uniforms.bloomTintColors.value=this.m_bloomTintColors,e.setRenderTarget(this.m_renderTargetsHorizontal[0]),e.clear(),e.render(this.m_scene,this.m_camera),this.m_quad.material=this.m_materialCopy,this.m_copyUniforms.tDiffuse.value=this.m_renderTargetsHorizontal[0].texture,this.renderToScreen?(e.setRenderTarget(null),e.render(this.m_scene,this.m_camera)):(e.setRenderTarget(i),e.render(this.m_scene,this.m_camera))}},{key:"getSeperableBlurMaterial",value:function(e){return new u.ShaderMaterial({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new u.Vector2(.5,.5)},direction:{value:new u.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n            }",fragmentShader:"#include <common>\n            varying vec2 vUv;\n            uniform sampler2D colorTexture;\n            uniform vec2 texSize;\n            uniform vec2 direction;\n\n            float gaussianPdf(in float x, in float sigma) {\n                return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n            }\n            void main() {\n                vec2 invSize = 1.0 / texSize;\n                float fSigma = float(SIGMA);\n                float weightSum = gaussianPdf(0.0, fSigma);\n                vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n                for( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n                    float x = float(i);\n                    float w = gaussianPdf(x, fSigma);\n                    vec2 uvOffset = direction * invSize * x;\n                    vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n                    vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n                    diffuseSum += (sample1 + sample2) * w;\n                    weightSum += 2.0 * w;\n                }\n                gl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n            }"})}},{key:"getCompositeMaterial",value:function(e){return new u.ShaderMaterial({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n                }",fragmentShader:"varying vec2 vUv;\n                uniform sampler2D blurTexture1;\n                uniform sampler2D blurTexture2;\n                uniform sampler2D blurTexture3;\n                uniform sampler2D blurTexture4;\n                uniform sampler2D blurTexture5;\n                uniform sampler2D dirtTexture;\n                uniform float bloomStrength;\n                uniform float bloomRadius;\n                uniform float bloomFactors[NUM_MIPS];\n                uniform vec3 bloomTintColors[NUM_MIPS];\n\n                float lerpBloomFactor(const in float factor) {\n                    float mirrorFactor = 1.2 - factor;\n                    return mix(factor, mirrorFactor, bloomRadius);\n                }\n\n                void main() {\n                    gl_FragColor = bloomStrength * (\nlerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\nlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\nlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\nlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\nlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n                }"})}}]),n}(c.Pass);t.BloomPass=h},86550:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSAASampling=t.MSAARenderPass=t.Pass=t.MapRenderingManager=void 0;var r=n(53801);Object.defineProperty(t,"MapRenderingManager",{enumerable:!0,get:function(){return r.MapRenderingManager}});var i=n(87585);Object.defineProperty(t,"Pass",{enumerable:!0,get:function(){return i.Pass}});var o=n(42773);Object.defineProperty(t,"MSAARenderPass",{enumerable:!0,get:function(){return o.MSAARenderPass}}),Object.defineProperty(t,"MSAASampling",{enumerable:!0,get:function(){return o.MSAASampling}})},8140:function(e,t,n){"use strict";var r=n(63038).default,i=n(87757),o=n(43269).default,a=n(48926).default,s=n(34575).default,l=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CopyrightCoverageProvider=void 0;var u=n(15739),c=n(15950),f=function(){function e(){s(this,e),this.logger=u.LoggerManager.instance.create("CopyrightCoverageProvider")}return l(e,[{key:"getTree",value:function(){var e=this;return void 0!==this.m_cachedTreePromise||(this.m_cachedTreePromise=this.getCopyrightCoverageData().then((function(t){return e.initRBush(t)})).catch((function(t){return e.logger.error(t),new c}))),this.m_cachedTreePromise}},{key:"getCopyrights",value:function(){var e=a(i.mark((function e(t,n){var r,a,s,l,c,f;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTree();case 2:r=e.sent,a=[],s=r.search({minX:t.west,minY:t.south,maxX:t.east,maxY:t.north}),l=o(s);try{for(f=function(){var e=c.value,t=u.getOptionValue(e.minLevel,0),r=u.getOptionValue(e.maxLevel,1/0);n>=t&&n<=r&&void 0===a.find((function(t){return t.id===e.label}))&&a.push({id:e.label})},l.s();!(c=l.n()).done;)f()}catch(i){l.e(i)}finally{l.f()}return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initRBush",value:function(e){var t=new c;if(!e)return this.logger.warn("No copyright coverage data provided"),t;var n,i=o(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.minLevel,l=a.maxLevel,u=a.label,f=a.alt;if(a.boxes){var d,h=o(a.boxes);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=r(p,4),v=m[0],g=m[1],y=m[2],E=m[3];t.insert({minX:g,minY:v,maxX:E,maxY:y,minLevel:s,maxLevel:l,label:u,alt:f})}}catch(A){h.e(A)}finally{h.f()}}else t.insert({minX:-180,minY:-90,maxX:180,maxY:180,minLevel:s,maxLevel:l,label:u,alt:f})}}catch(A){i.e(A)}finally{i.f()}return t}}]),e}();t.CopyrightCoverageProvider=f},56951:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CopyrightElementHandler=void 0;var a=n(15739),s=n(65312),l=n(52210),u=function(){function e(t,n){var o=this;if(i(this,e),this.m_defaults=new Map,this.m_mapViews=[],this.update=function(){var e,t=o.m_mapViews.map((function(e){return e.copyrightInfo})).reduce(l.CopyrightInfo.mergeArrays,null!==(e=o.staticInfo)&&void 0!==e?e:[]);if(0!==t.length){if(o.m_element.style.display="block",0!==o.m_defaults.size){var n,i=r(t);try{for(i.s();!(n=i.n()).done;){var s=n.value,u=o.m_defaults.get(s.id);void 0!==u&&(s.year=a.getOptionValue(s.year,u.year),s.label=a.getOptionValue(s.label,u.label),s.link=a.getOptionValue(s.link,u.link))}}catch(f){i.e(f)}finally{i.f()}}var c=l.CopyrightInfo.mergeArrays(t);o.m_element.innerHTML=l.CopyrightInfo.formatAsHtml(c)}else o.m_element.style.display="none"},"string"===typeof t){var s=document.getElementById(t);if(!s)throw new Error("CopyrightElementHandler: unable to find DOM element #".concat(t));this.m_element=s}else this.m_element=t;void 0!==n&&this.attach(n)}return o(e,[{key:"destroy",value:function(){var e,t=r(this.m_mapViews);try{for(t.s();!(e=t.n()).done;){e.value.removeEventListener(s.MapViewEventNames.CopyrightChanged,this.update)}}catch(n){t.e(n)}finally{t.f()}}},{key:"attach",value:function(e){return this.m_mapViews.push(e),e.addEventListener(s.MapViewEventNames.CopyrightChanged,this.update),this.update(),this}},{key:"detach",value:function(e){return e.removeEventListener(s.MapViewEventNames.CopyrightChanged,this.update),this.m_mapViews=this.m_mapViews.filter((function(t){return t!==e})),this.update(),this}},{key:"setDefaults",value:function(e){if(this.m_defaults.clear(),void 0!==e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this.m_defaults.set(i.id,i)}}catch(o){n.e(o)}finally{n.f()}}return this}},{key:"setStaticCopyightInfo",value:function(e){return this.staticInfo=e,this}}],[{key:"install",value:function(t,n){return new e(t,n)}}]),e}();t.CopyrightElementHandler=u},52210:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CopyrightInfo=void 0;var i=n(15739);!function(e){e.mergeArrays=function(e,t){for(var n=[],o=0,a=[e,t];o<a.length;o++){var s=a[o];if(void 0!==s){var l,u=r(s);try{var c=function(){var e=l.value,t=n.find((function(t){return t.id===e.id||void 0!==t.label&&t.label===e.label}));void 0===t?n.push(Object.assign({},e)):(t.year=i.MathUtils.max2(e.year,t.year),t.label=i.getOptionValue(e.label,t.label),t.link=i.getOptionValue(e.link,t.link))};for(u.s();!(l=u.n()).done;)c()}catch(f){u.e(f)}finally{u.f()}}}return n},e.formatAsHtml=function(e){if(0===e.length)return"";var t=e.filter((function(e){return""!==e.label}));return 0===t.length?"":"\xa9 "+t.map((function(e){var t,n=null!==(t=e.label)&&void 0!==t?t:e.id,r=void 0!==e.year?"".concat(e.year," ").concat(n):n,i=e.link;return i?'<a href="'.concat(i,'" target="_blank" rel="noreferrer noopener">').concat(r,"</a>"):"".concat(r)})).join(", ")}}(t.CopyrightInfo||(t.CopyrightInfo={}))},34495:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53509:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.UrlCopyrightProvider=void 0;var s=n(99383),l=function(e){o(n,e);var t=a(n);function n(e,i,o){var a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.TransferManager.instance();return r(this,n),(a=t.call(this)).m_fetchURL=e,a.m_baseScheme=i,a.m_requestHeaders=o,a.m_transferManager=l,a}return i(n,[{key:"setRequestHeaders",value:function(e){this.m_requestHeaders=e}},{key:"getCopyrightCoverageData",value:function(e){var t=this;return void 0!==this.m_cachedCopyrightResponse||(this.m_cachedCopyrightResponse=this.m_transferManager.downloadJson(this.m_fetchURL,{headers:this.m_requestHeaders,signal:e}).then((function(e){return e[t.m_baseScheme]})).catch((function(e){return t.logger.error(e),[]}))),this.m_cachedCopyrightResponse}}]),n}(n(8140).CopyrightCoverageProvider);t.UrlCopyrightProvider=l},23350:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addGroundPlane=void 0;var i=n(26309),o=n(44317),a=n(80684),s=n(31201),l=n(85164),u=n(34585),c=n(46273),f=n(76904),d=n(48052),h=new u.Vector3;function p(e,t,n,i,d,h){var p=e.dataSource,v=e.projection,g=p.getTilingScheme().projection,y=v.type===s.ProjectionType.Spherical,E=!y,A="number"===typeof i?function(e,t,n,r){return t?new l.MapMeshStandardMaterial({color:e,visible:!0,depthWrite:n,removeDiffuseLight:!0,opacity:r}):new l.MapMeshBasicMaterial({color:e,visible:!0,depthWrite:n,opacity:r})}(new u.Color(i),n,v.type===s.ProjectionType.Spherical,h):i,T=function(e,t,n,i){var o=e.dataSource,a=e.projection,s=o.getTilingScheme().projection,l=new u.Vector3,c=new u.BufferGeometry,d=f.projectTilePlaneCorners(e,s),h=[d.sw,d.se,d.nw,d.ne];if(t){var p,m=r(h);try{for(m.s();!(p=m.n()).done;){var v=p.value;a.reprojectPoint(s,v,v).sub(e.center)}}catch(T){m.e(T)}finally{m.f()}}var g=t?new Float32Array(12):new Float64Array(12),y=new u.BufferAttribute(g,3).copyVector3sArray(h);if(c.setAttribute("position",y),i){s.surfaceNormal(d.sw,l).negate();var E=new u.BufferAttribute(new Float32Array(12),3).copyVector3sArray(Array(4).fill(l));c.setAttribute("normal",E)}if(c.setIndex(new u.BufferAttribute(new Uint16Array([0,1,2,2,1,3]),1)),n){var A=new u.BufferAttribute(new Float32Array([0,0,1,0,0,1,1,1]),2);c.setAttribute("uv",A)}return c}(e,E,t,n);if(!y)return new u.Mesh(T,A);var O=[],R=new a.SphericalGeometrySubdivisionModifier(u.MathUtils.degToRad(10),g);if(!d)return R.modify(T),m(T,g,e),new u.Mesh(T,A);for(var L=0;L<4;++L){var S=Math.pow(2,L),b=T.clone();if(S>1)new o.EdgeLengthGeometrySubdivisionModifier(S,e.geoBox,o.SubdivisionMode.All,g).modify(b);R.modify(b),m(b,g,e),O.push(b)}return new c.LodMesh(O,A)}function m(e,t,n){for(var r=e.getAttribute("position"),i=r.array,o=new Float32Array(i.length),a=0;a<r.array.length;a+=1)h.fromBufferAttribute(r,a),n.projection.reprojectPoint(t,h,h).sub(n.center),h.toArray(o,3*a);r.array=o,r.needsUpdate=!0}t.addGroundPlane=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.mapView.clearColor,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.mapView.shadowsEnabled,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:!1!==e.mapView.enableMixedLod,l=p(e,o,a,n,s,r);return l.receiveShadow=a,l.renderOrder=t,d.registerTileObject(e,l,i.GeometryKind.Background,{pickability:i.Pickability.transient}),e.objects.push(l),l}},87270:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DisplacedBufferAttribute=void 0;var s=n(15739),l=n(34585),u=n(91400),c=function(e){o(n,e);var t=a(n);function n(e,i,o,a){var s;return r(this,n),(s=t.call(this,e.array,e.itemSize,e.normalized)).originalAttribute=e,s.m_normals=i,s.m_uvs=o,s.m_textureWidth=0,s.m_textureHeight=0,s.m_cache=new u.VertexCache(n.MAX_CACHE_SIZE),s.m_lastPos=new l.Vector3,s.m_tmpNormal=new l.Vector3,s.resetTexture(a),s}return i(n,[{key:"reset",value:function(e,t,n,r){this.array=e.array,this.itemSize=e.itemSize,this.count=this.array.length/this.itemSize,this.normalized=e.normalized,this.originalAttribute=e,this.m_normals=t,this.m_uvs=n,this.m_cache.clear(),this.m_lastBufferIndex=void 0,this.resetTexture(r)}},{key:"getX",value:function(e){return this.getDisplacedCoordinate(e).x}},{key:"getY",value:function(e){return this.getDisplacedCoordinate(e).y}},{key:"getZ",value:function(e){return this.getDisplacedCoordinate(e).z}},{key:"resetTexture",value:function(e){this.m_texture=new Float32Array(e.image.data.buffer),this.m_textureWidth=e.image.width,this.m_textureHeight=e.image.height}},{key:"getDisplacedCoordinate",value:function(e){return e===this.m_lastBufferIndex?this.m_lastPos:(this.m_lastBufferIndex=e,this.m_cache.get(e,this.m_lastPos)||(this.displacePosition(e),this.m_cache.set(e,this.m_lastPos)),this.m_lastPos)}},{key:"displacePosition",value:function(e){this.m_lastPos.fromBufferAttribute(this.originalAttribute,e);var t=this.m_normals;this.m_tmpNormal.fromBufferAttribute(t,e);var n=this.m_uvs,r=l.MathUtils.clamp(n.getX(e),0,1),i=l.MathUtils.clamp(n.getY(e),0,1),o=s.sampleBilinear(this.m_texture,this.m_textureWidth,this.m_textureHeight,r,i);this.m_lastPos.add(this.m_tmpNormal.multiplyScalar(o))}}]),n}(l.BufferAttribute);t.DisplacedBufferAttribute=c,c.MAX_CACHE_SIZE=6},16178:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DisplacedBufferGeometry=t.displaceBox=void 0;var s=n(34585),l=n(87270),u=new s.Vector3,c=new s.Vector3,f=new s.Box3;function d(e,t,n){f.copy(e);var r=u.copy(n),i=c.copy(r);return e.translate(r.multiplyScalar(t.min)).union(f.translate(i.multiplyScalar(t.max))),e}t.displaceBox=d;var h=function(e){o(n,e);var t=a(n);function n(e,i,o,a){var u;return r(this,n),(u=t.call(this)).originalGeometry=e,u.displacementRange=o,u.m_originalBoundingBox=new s.Box3,u.m_displacedPositions=a||new l.DisplacedBufferAttribute(e.attributes.position,e.attributes.normal,e.attributes.uv,i),u.resetAttributes(),u}return i(n,[{key:"reset",value:function(e,t,n){this.originalGeometry=e;var r=e.attributes.position,i=e.attributes.normal,o=e.attributes.uv;this.m_displacedPositions.reset(r,i,o,t);var a=this.displacementRange.min!==n.min||this.displacementRange.max!==n.max;this.displacementRange=n,this.resetAttributes(),this.resetBoundingVolumes(a)}},{key:"computeBoundingBox",value:function(){null===this.originalGeometry.boundingBox&&this.originalGeometry.computeBoundingBox();var e=this.m_originalBoundingBox.copy(this.originalGeometry.boundingBox);null===this.boundingBox?this.boundingBox=e.clone():this.boundingBox.copy(e),d(this.boundingBox,this.displacementRange,u.fromBufferAttribute(this.attributes.normal,0))}},{key:"computeBoundingSphere",value:function(){null===this.boundingBox&&this.computeBoundingBox(),null===this.boundingSphere&&(this.boundingSphere=new s.Sphere),this.boundingBox.getBoundingSphere(this.boundingSphere)}},{key:"needsBoundingBoxUpdate",value:function(e){return e||null!==this.boundingBox&&(!this.originalGeometry.boundingBox||!this.m_originalBoundingBox.equals(this.originalGeometry.boundingBox))}},{key:"resetBoundingVolumes",value:function(e){this.needsBoundingBoxUpdate(e)&&(this.computeBoundingBox(),this.boundingSphere&&this.computeBoundingSphere())}},{key:"resetAttributes",value:function(){this.index=this.originalGeometry.index,this.groups=this.originalGeometry.groups,this.drawRange=this.originalGeometry.drawRange,this.attributes=Object.assign({},this.originalGeometry.attributes),this.attributes.position=this.m_displacedPositions}}]),n}(s.BufferGeometry);t.DisplacedBufferGeometry=h},73224:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2911).default,a=n(16525).default,s=n(29754).default,l=n(2205).default,u=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DisplacedMesh=void 0;var c=n(85164),f=n(15739),d=n(34585),h=n(87270),p=n(16178);var m=function(e){l(n,e);var t=u(n);function n(e,i,o,a){var s;return r(this,n),(s=t.call(this,e,i)).m_getDisplacementRange=o,s.m_raycastStrategy=a,s}return i(n,[{key:"raycast",value:function(e,t){var r=this.firstMaterial;if(function(e){var t=c.hasDisplacementFeature(e);return f.assert(t,"Material does not support displacement maps."),t}(r)&&function(e){if(!e)return!1;var t=e instanceof d.DataTexture;return f.assert(t,"Material does not support displacement maps."),t}(r.displacementMap)){var i=r.displacementMap,l=Object.assign({},this.m_getDisplacementRange());f.assert(this.geometry instanceof d.BufferGeometry,"Unsupported geometry type.");var u=this.geometry;this.displacedGeometry?this.displacedGeometry.reset(u,i,l):this.displacedGeometry=new p.DisplacedBufferGeometry(u,i,l,n.getDisplacedPositionAttribute(u,i)),this.geometry=this.displacedGeometry,this.m_raycastStrategy?this.m_raycastStrategy(this,e,t):a(s(n.prototype),"raycast",this).call(this,e,t),o(s(n.prototype),"geometry",this.displacedGeometry.originalGeometry,this,!0)}else a(s(n.prototype),"raycast",this).call(this,e,t)}},{key:"firstMaterial",get:function(){return Array.isArray(this.material)?this.material[0]:this.material}}],[{key:"getDisplacedPositionAttribute",value:function(e,t){return n.displacedPositions?n.displacedPositions.reset(e.attributes.position,e.attributes.normal,e.attributes.uv,t):n.displacedPositions=new h.DisplacedBufferAttribute(e.attributes.position,e.attributes.normal,e.attributes.uv,t),n.displacedPositions}}]),n}(d.Mesh);t.DisplacedMesh=m},46273:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LodMesh=void 0;var l=n(34585),u=function(e){a(n,e);var t=s(n);function n(e,r){var o;return i(this,n),(o=t.call(this,void 0,r)).geometries=e,o}return o(n,[{key:"geometries",get:function(){return this.m_geometries},set:function(e){this.m_geometries!==e&&this.disposeGeometries(),this.m_geometries=e,this.geometries&&this.m_geometries.length>0&&(this.geometry=this.m_geometries[0])}},{key:"setLevelOfDetail",value:function(e){this.m_geometries&&0!==this.m_geometries.length&&(e=l.MathUtils.clamp(e,0,this.m_geometries.length-1),this.geometry=this.m_geometries[e])}},{key:"disposeGeometries",value:function(){if(this.m_geometries){var e,t=r(this.m_geometries);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(n){t.e(n)}finally{t.f()}}this.geometry.dispose()}}]),n}(l.Mesh);t.LodMesh=u},52719:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Object3DUtils=void 0;var i=n(85164),o=n(15739),a=n(34585),s=n(67247),l=o.LoggerManager.instance.create("Object3DUtils");!function(e){function t(e,t,n){if(null!==e&&void 0!==e&&void 0!==e.image&&null!==e.image&&(void 0===e.uuid||!0!==n.get(e.uuid))){n.set(e.uuid,!0);var r=e.image,i=4*r.width*r.height;t.heapSize+=i,t.gpuSize+=i}}function n(e,n,r){if(void 0===e.uuid||!0!==r.get(e.uuid))if(r.set(e.uuid,!0),e instanceof a.RawShaderMaterial||e instanceof a.ShaderMaterial){var o=e;for(var s in o.uniforms)if(void 0!==o.uniforms[s]){var u=o.uniforms[s];u instanceof a.Texture&&t(u,n,r)}}else if(e instanceof a.MeshBasicMaterial||e instanceof i.MapMeshBasicMaterial){var c=e;t(c.map,n,r),t(c.aoMap,n,r),t(c.specularMap,n,r),t(c.alphaMap,n,r),t(c.envMap,n,r)}else if(e instanceof i.MapMeshStandardMaterial){var f=e;t(f.map,n,r),t(f.lightMap,n,r),t(f.aoMap,n,r),t(f.emissiveMap,n,r),t(f.bumpMap,n,r),t(f.normalMap,n,r),t(f.displacementMap,n,r),t(f.roughnessMap,n,r),t(f.metalnessMap,n,r),t(f.alphaMap,n,r),t(f.envMap,n,r)}else e instanceof a.LineBasicMaterial||e instanceof a.LineDashedMaterial||e instanceof a.PointsMaterial||l.warn("estimateMeshSize: unidentified material: ",e)}function o(e,t,n,r){if(void 0===e.uuid&&(e.uuid=a.MathUtils.generateUUID()),!0!==r.get(e.uuid)){r.set(e.uuid,!0);var i=0,o=4;void 0!==e.array.BYTES_PER_ELEMENT&&(o=e.array.BYTES_PER_ELEMENT),e instanceof a.InterleavedBufferAttribute||e instanceof a.BufferAttribute?i=o*e.count*e.itemSize:l.warn("estimateMeshSize: unidentified attribute: ",t),n.heapSize+=i+56,n.gpuSize+=i}}function u(e,t,n){if((void 0===e.uuid||!0!==n.get(e.uuid))&&(n.set(e.uuid,!0),void 0!==e)){var r=e.attributes;if(void 0!==r){for(var i in r)void 0!==r[i]&&o(r[i],i,t,n);null!==e.index&&o(e.index,"index",t,n)}else l.warn("estimateGeometrySize: unidentified geometry: ",e)}}e.estimateSize=function e(t,i,o){var c=void 0!==i?i:{heapSize:0,gpuSize:0};if(void 0===o&&(o=new Map),function(e,t,i){if(e.isObject3D&&!(e instanceof a.Scene)&&(void 0===e.uuid||!0!==i.get(e.uuid)))if(i.set(e.uuid,!0),e.isMesh||e.isLine||e.isPoints){var o=1e3,c=e;if(void 0!==c.material)if(Array.isArray(c.material)){var f,d=c.material,h=r(d);try{for(h.s();!(f=h.n()).done;)n(f.value,t,i)}catch(g){h.e(g)}finally{h.f()}}else n(c.material,t,i);if(void 0!==c.geometries){var p,m=r(c.geometries);try{for(m.s();!(p=m.n()).done;)u(p.value,t,i)}catch(g){m.e(g)}finally{m.f()}}else void 0!==c.geometry&&u(c.geometry,t,i);var v=void 0!==e.userData?e.userData.feature:void 0;void 0!==v&&(o+=s.getFeatureDataSize(v)),t.heapSize+=o,t.gpuSize+=0}else l.warn("estimateMeshSize: unidentified object",e)}(t,c,o),t.children.length>0){var f,d=r(t.children);try{for(d.s();!(f=d.n()).done;){e(f.value,c,o)}}catch(h){d.e(h)}finally{d.f()}}return c}}(t.Object3DUtils||(t.Object3DUtils={}))},76904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectTilePlaneCorners=void 0;var r=n(31201),i=n(34585);t.projectTilePlaneCorners=function(e,t){var n=e.geoBox,o=n.east,a=n.west,s=n.north,l=n.south;return{sw:t.projectPoint(new r.GeoCoordinates(l,a),new i.Vector3),se:t.projectPoint(new r.GeoCoordinates(l,o),new i.Vector3),nw:t.projectPoint(new r.GeoCoordinates(s,a),new i.Vector3),ne:t.projectPoint(new r.GeoCoordinates(s,o),new i.Vector3)}}},48052:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTileObject=void 0;var r=n(87213);t.registerTileObject=function(e,t,n,i){var o=n instanceof Set?Array.from(n.values()):Array.isArray(n)?n:[n];r.MapObjectAdapter.create(t,Object.assign({dataSource:e.dataSource,kind:o,level:e.tileKey.level},i)),void 0===t.userData&&(t.userData={});var a=t.userData;a.tileKey=e.tileKey,a.dataSource=e.dataSource.name,a.kind=o,e.resetVisibilityCounter()}},58598:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default,a=n(2205).default,s=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SolidLineMesh=void 0;var l=n(31201),u=n(85164),c=n(15739),f=n(34585),d=n(16178),h=new f.Sphere,p=new f.Matrix4,m=new f.Ray,v=new f.Line3,g=new f.Box3,y=new l.OrientedBox3,E=new f.Plane,A=new f.Vector3,T=new f.Vector3,O=new f.Vector3,R=new f.Vector3;function L(e,t,n){var r;e instanceof d.DisplacedBufferGeometry&&(r=e.displacementRange,e=e.originalGeometry);for(var i=e.attributes.position,o=e.index.array,a=new f.Sphere,s=g.makeEmpty(),l=A,u=t;u<n;u+=6)s.expandByPoint(l.fromBufferAttribute(i,o[u])),s.expandByPoint(l.fromBufferAttribute(i,o[u+2]));if(r){var c=T;return c.fromBufferAttribute(e.attributes.normal,0),d.displaceBox(s,r,c).getBoundingSphere(a)}return s.getBoundingSphere(a)}function S(e,t,n,r,i,o,a,s){if(a.equals(e.origin)&&0===e.direction.dot(o.normal)){var l=function(e,t,n,r,i){var o,a=y;return t.getCenter(a.position),t.delta(a.xAxis).normalize(),a.yAxis.copy(n),a.zAxis.copy(r),a.extents.set(t.distance()/2,i,i),a.contains(e.origin)?0:null!==(o=a.intersectsRay(e))&&void 0!==o?o:1/0}(e,t,n,o.normal,r),u=function(e,t,n){var r=new f.Sphere(t.start,n),i=r.containsPoint(e.origin)?0:e.intersectSphere(r,R)?R.sub(e.origin).length():1/0;r.center.copy(t.end);var o=r.containsPoint(e.origin)?0:e.intersectSphere(r,R)?R.sub(e.origin).length():1/0;return Math.min(i,o)}(e,t,r),c=Math.min(l,u);return c!==1/0&&(e.at(c,s),!0)}return!(a.distanceToSquared(t.closestPointToPoint(a,!0,R))>i)&&(s.copy(a),!0)}function b(e,t,n,r,i,o,a,s,l,u){var c=A,f=E,d=T,p=v,m=e.geometry,g=m.attributes,y=g.position,R=g.bitangent,L=m.index.array;if(h.copy(l),h.applyMatrix4(e.matrixWorld),h.radius+=r,t.ray.intersectsSphere(h))for(var b=a;b<s;b+=6){var I=L[b],N=L[b+2];if(p.start.fromBufferAttribute(y,I),p.end.fromBufferAttribute(y,N),c.set(R.getX(I),R.getY(I),R.getZ(I)).normalize(),f.setFromCoplanarPoints(p.start,O.copy(p.start).add(c),p.end),0!==f.normal.manhattanLength()&&n.intersectPlane(f,d)){var x=O;if(S(n,p,c,i,o,f,d,x)){var _=x.applyMatrix4(e.matrixWorld),M=t.ray.origin.distanceTo(_);M<t.near||M>t.far||u.push({distance:M,point:_.clone(),index:b,object:e})}}}}var I=[0],N=.01;function x(e,t,n,r,i,o,a){var s,l=e.userData.feature.boundingVolumes;c.assert(e.geometry instanceof f.BufferGeometry,"Unsupported geometry type.");var d=e.geometry;c.assert(function(e){return Array.isArray(e)?e.every((function(e){return e instanceof u.SolidLineMaterial})):e instanceof u.SolidLineMaterial}(t),"Unsupported material type");var h=t,p=(h.lineWidth+h.outlineWidth)/2;c.assert(Math.abs(1-e.scale.x/e.scale.y)<N),c.assert(Math.abs(1-e.scale.x/e.scale.z)<N),c.assert(Math.abs(1-e.scale.y/e.scale.z)<N);for(var m=p/((e.scale.x+e.scale.y+e.scale.z)/3),v=m*m,g=null!==(s=e.userData.feature.starts)&&void 0!==s?s:I,y=i,E=g[y],A=g.length-1;E<o;){var T=y,O=y<A?g[++y]:o;T>=l.length&&l.push(L(d,E,O)),b(e,n,r,p,m,v,E,O,l[T],a),E=O}return y}var _=function(e){a(n,e);var t=s(n);function n(e,r){return i(this,n),t.call(this,e,r)}return o(n,[{key:"raycast",value:function(e,t){n.raycast(this,e,t)}}],[{key:"raycast",value:function(e,t,n){c.assert(e.geometry instanceof f.BufferGeometry,"Unsupported geometry type");var i=e.geometry;c.assert(null!==i.index,"Geometry does not have indices");var o=e.matrixWorld;p.copy(o).invert();var a=m.copy(t.ray).applyMatrix4(p);void 0===e.userData.feature&&(e.userData.feature={});var s=i.attributes.position,l=e.userData.feature.attributeInfo;(void 0===l||void 0===e.userData.feature.boundingVolumes||function(e,t){var n=!0===e.isBufferAttribute?e:e.data;return void 0===t||t.data!==n||e.isBufferAttribute&&t.version!==n.version}(s,l))&&(e.userData.feature.boundingVolumes=[],e.userData.feature.attributeInfo=function(e){var t=!0===e.isBufferAttribute?e:e.data;return{data:t,version:t.version}}(s));var u=i.index.array;if(Array.isArray(e.material)){var d,h=0,v=r(i.groups);try{for(v.s();!(d=v.n()).done;){var g=d.value;h=x(e,e.material[g.materialIndex],t,a,h,g.start+g.count,n)}}catch(y){v.e(y)}finally{v.f()}}else x(e,e.material,t,a,0,u.length,n)}}]),n}(f.Mesh);t.SolidLineMesh=_},56300:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileDataAccessor=void 0;var a=n(26309),s=n(15739),l=n(27555),u=s.LoggerManager.instance.create("TileDataAccessor"),c=function(){function e(t,n,r){i(this,e),this.tile=t,this.visitor=n;var o=!0===r.wantsAll;this.m_wantsPoints=o||!(!1===r.wantsPoints),this.m_wantsLines=o||!(!1===r.wantsLines),this.m_wantsAreas=o||!(!1===r.wantsAreas),this.m_wantsObject3D=o||!(!1===r.wantsObject3D)}return o(e,[{key:"visitAll",value:function(){var e,t=this.tile.objects,n=r(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.visitObject(i)}}catch(o){n.e(o)}finally{n.f()}}},{key:"visitObject",value:function(e){var t=void 0!==e.userData?e.userData.feature:void 0;if(void 0!==t&&(void 0===t.objInfos||1!==t.objInfos.length||this.visitor.wantsFeature(a.getFeatureId(t.objInfos[0])))){var n=t.geometryType;if(void 0!==n){switch(s.assert(void 0!==t.objInfos,"featureData.ids missing"),s.assert(void 0!==t.starts,"featureData.starts missing"),s.assert(Array.isArray(t.starts),"featureData.starts is not an array"),void 0!==t.objInfos&&void 0!==t.starts&&s.assert(t.objInfos.length===t.starts.length,"featureData.ids and featureData.starts have unequal length"),n){case a.GeometryType.Point:case a.GeometryType.Text:if(!this.m_wantsPoints)return;break;case a.GeometryType.SolidLine:case a.GeometryType.ExtrudedLine:case a.GeometryType.TextPath:if(!this.m_wantsLines)return;break;case a.GeometryType.Polygon:case a.GeometryType.ExtrudedPolygon:if(!this.m_wantsAreas)return;break;case a.GeometryType.Object3D:if(!this.m_wantsObject3D)return;break;default:u.warn("#visitObject: invalid geometryType")}if("Mesh"===e.type){var r=e;this.visitMesh(r,t)}else u.warn("#visitObject: visiting object failed, not of type 'Mesh'",e)}else u.warn("#visitObject: visiting object failed, no geometryType",e)}}},{key:"getBufferGeometry",value:function(e){var t=e.geometry;if("BufferGeometry"===t.type){var n=t;if(n.getAttribute("position"))return n;u.warn("#visitLines: BufferGeometry has no position attribute")}else u.warn("#visitObject: object does not have BufferGeometry")}},{key:"getGeometryAccessor",value:function(e,t,n){switch(e){case a.GeometryType.Point:case a.GeometryType.Text:return;case a.GeometryType.SolidLine:case a.GeometryType.ExtrudedLine:case a.GeometryType.TextPath:return new l.BufferedGeometryLineAccessor(t,e,n);case a.GeometryType.Polygon:case a.GeometryType.ExtrudedPolygon:return;case a.GeometryType.Object3D:return new l.BufferedGeometryObject3dAccessor(t,e,n);default:u.warn("#getGeometryAccessor: invalid geometryType")}}},{key:"getIndexedGeometryAccessor",value:function(e,t,n){switch(e){case a.GeometryType.Point:case a.GeometryType.Text:return;case a.GeometryType.SolidLine:case a.GeometryType.ExtrudedLine:case a.GeometryType.TextPath:return new l.IndexedBufferedGeometryLineAccessor(t,e,n);case a.GeometryType.Polygon:case a.GeometryType.ExtrudedPolygon:case a.GeometryType.Object3D:return;default:u.warn("#getIndexedGeometryAccessor: invalid geometryType")}}},{key:"visitMesh",value:function(e,t){var n=t.objInfos,r=t.starts,i=t.geometryType;if(void 0!==n&&void 0!==r&&void 0!==i)for(var o,c=0;c<n.length;c++){var f=a.getFeatureId(n[c]);if(this.visitor.wantsFeature(f)){var d,h=r[c];if(void 0===o){var p=this.getBufferGeometry(e);if(void 0===p)continue;if(void 0===(o=null!==p.index?this.getIndexedGeometryAccessor(i,e,p):this.getGeometryAccessor(i,e,p))){u.warn("#visitObject: no accessor geometryType",i);continue}}switch(d=c<r.length-1?r[c+1]:o.getCount(),o.setRange(h,d),i){case a.GeometryType.Point:case a.GeometryType.Text:this.visitor.visitPoint(f);break;case a.GeometryType.SolidLine:case a.GeometryType.ExtrudedLine:case a.GeometryType.TextPath:s.assert(l.isLineAccessor(o)),this.visitor.visitLine(f,o);break;case a.GeometryType.Polygon:case a.GeometryType.ExtrudedPolygon:this.visitor.visitArea(f);break;case a.GeometryType.Object3D:s.assert(l.isObject3dAccessor(o)),this.visitor.visitObject3D(f,o);break;default:u.warn("#visitObject: invalid geometryType")}}}}}]),e}();t.TileDataAccessor=c},27555:function(e,t,n){"use strict";var r=n(16525).default,i=n(29754).default,o=n(2205).default,a=n(99842).default,s=n(43269).default,l=n(34575).default,u=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedBufferedGeometryLineAccessor=t.IndexedBufferedGeometryAccessor=t.BufferedGeometryObject3dAccessor=t.BufferedGeometryLineAccessor=t.BufferedGeometryAccessor=t.BufferedGeometryAccessorBase=t.isObject3dAccessor=t.isLineAccessor=void 0;var c=n(26309),f=n(63266),d=n(15739),h=d.LoggerManager.instance.create("TileGeometry");t.isLineAccessor=function(e){return"function"===typeof e.isLineAccessor&&!0===e.isLineAccessor()},t.isObject3dAccessor=function(e){return"function"===typeof e.isObject3dAccessor&&!0===e.isObject3dAccessor()};var p=function(){function e(t,n,r){l(this,e),this.object=t,this.geometryType=n,this.bufferGeometry=r,this.start=-1,this.end=-1,this.startCapSize=0,this.endCapSize=0,d.assert(!!t),"BufferGeometry"!==r.type&&h.error("IndexedBufferedGeometryAccessor#constructor: BufferGeometry has wrong type"),d.assert("BufferGeometry"===r.type,"IndexedBufferedGeometryAccessor#constructor: BufferGeometry has wrong type"),this.position=this.bufferGeometry.getAttribute("position"),this.itemSize=this.position.itemSize,this.position||h.warn("BufferedGeometryAccessor#constructor: BufferGeometry has no position attribute"),this.position.array.constructor!==Float32Array&&h.warn("BufferedGeometryAccessor#constructor: BufferGeometry.position: unsupported ArrayBuffer")}return u(e,[{key:"getCount",value:function(){return this.position.count}},{key:"renderOrder",get:function(){return this.object.renderOrder}},{key:"setRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;d.assert(e>=0),d.assert(t>=0),d.assert(e<=t),this.start=e,this.end=t,this.startCapSize=n,this.endCapSize=r}},{key:"color",get:function(){var e=function(e){var t=e;if("MeshBasicMaterial"===t.type||"MeshStandardMaterial"===t.type)return t.color;if("RawShaderMaterial"===t.type){var n=e;if("SolidLineMaterial"===n.name)return n.uniforms.diffuse.value;h.warn("BufferedGeometryAccessor#color: unknown shader material name",n.name)}else h.warn("BufferedGeometryAccessor#color: unknown material type",t.type)};if(Array.isArray(this.object.material)){var t,n=new Array,r=this.object.material,i=s(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.push(e(o))}}catch(a){i.e(a)}finally{i.f()}return n}return e(this.object.material)}}]),e}();t.BufferedGeometryAccessorBase=p;var m=function(e){o(n,e);var t=a(n);function n(e,r,i,o){var a;return l(this,n),(a=t.call(this,e,r,i)).object=e,a.geometryType=r,a.bufferGeometry=i,a.stride=o,a}return u(n,[{key:"clear",value:function(){d.assert(this.checkSetUp(),"BufferedGeometryAccessor not setup");for(var e=this.position.array,t=this.start*this.itemSize,n=this.end*this.itemSize,r=t;r<n;r++)e[r]=0;this.position.needsUpdate=!0}},{key:"getVertices",value:function(){d.assert(this.checkSetUp(),"BufferedGeometryAccessor not setup");var e=this.start,t=this.end;return this.position.array.subarray(e*this.itemSize,t*this.itemSize)}},{key:"checkSetUp",value:function(){return void 0!==this.position&&void 0!==this.start&&void 0!==this.end&&this.start>=0&&this.end<=this.position.count&&this.start<=this.end}}]),n}(p);t.BufferedGeometryAccessor=m;var v=function(e){o(n,e);var t=a(n);function n(e,r,i){var o;return l(this,n),(o=t.call(this,e,r,i,3)).object=e,o.geometryType=r,o.bufferGeometry=i,o}return u(n,[{key:"isLineAccessor",value:function(){return!0}},{key:"width",get:function(){d.assert(this.checkSetUp(),"RoBufferedGeometryLineAccessor not setup")}}]),n}(m);t.BufferedGeometryLineAccessor=v;var g=function(e){o(n,e);var t=a(n);function n(e,r,i){var o;return l(this,n),(o=t.call(this,e,r,i,1)).object=e,o.geometryType=r,o.bufferGeometry=i,o}return u(n,[{key:"isObject3dAccessor",value:function(){return!0}},{key:"getVertices",value:function(){return r(i(n.prototype),"getVertices",this).call(this)}}]),n}(m);t.BufferedGeometryObject3dAccessor=g;var y=function(e){o(n,e);var t=a(n);function n(e,r,i,o,a){var s;return l(this,n),(s=t.call(this,e,r,i)).object=e,s.geometryType=r,s.bufferGeometry=i,s.indices=null!==s.bufferGeometry.index?s.bufferGeometry.index.array:void 0,s.indices?s.indices instanceof Uint32Array||(h.warn("IndexedBufferedGeometryAccessor#constructor: BufferGeometry index has wrong type"),d.assert(s.indices instanceof Uint32Array)):(h.warn("IndexedBufferedGeometryAccessor#constructor: BufferGeometry has no index"),d.assert(!!s.indices)),s}return u(n,[{key:"getCount",value:function(){return this.indices.length}},{key:"checkSetUp",value:function(){return!!this.indices&&void 0!==this.start&&void 0!==this.end&&this.start>=0&&this.end<=this.indices.length&&this.start<=this.end}}]),n}(p);t.IndexedBufferedGeometryAccessor=y;var E=function(e){o(n,e);var t=a(n);function n(e,r,i){var o;return l(this,n),(o=t.call(this,e,r,i,3)).object=e,o.geometryType=r,o.bufferGeometry=i,o}return u(n,[{key:"isLineAccessor",value:function(){return!0}},{key:"width",get:function(){if(d.assert(this.checkSetUp(),"RoIndexedBufferedGeometryLineAccessor not setup"),this.geometryType===c.GeometryType.ExtrudedLine){var e=this.start+this.startCapSize,t=this.position.array;return f.reconstructLineWidth(t,e)}}},{key:"clear",value:function(){d.assert(this.checkSetUp(),"RoIndexedBufferedGeometryLineAccessor not setup");for(var e=this.start,t=this.end,n=e;n<t;n++)this.indices[n]=0;null!==this.bufferGeometry.index&&(this.bufferGeometry.index.needsUpdate=!0)}},{key:"getVertices",value:function(){d.assert(this.checkSetUp(),"RoIndexedBufferedGeometryLineAccessor not setup");var e=this.itemSize,t=this.start,n=this.end,r=new Float32Array((n-t)*e),i=this.position.array;if(2===e)for(var o=t,a=0;o<n;o++,a+=e){var s=this.indices[o];r[a+0]=i[s*e+0],r[a+1]=i[s*e+1]}if(3===e)for(var l=t,u=0;l<n;l++,u+=e){var c=this.indices[l];r[u+0]=i[c*e+0],r[u+1]=i[c*e+1],r[u+2]=i[c*e+2]}else for(var f=t,h=0;f<n;f++,h++)for(var p=this.indices[f],m=0;m<e;m++)r[h*e+m]=i[p*e+m];return r}}]),n}(y);t.IndexedBufferedGeometryLineAccessor=E},15663:function(e,t,n){"use strict";var r=n(87757),i=n(43269).default,o=n(319).default,a=n(81506).default,s=n(2205).default,l=n(99842).default,u=n(93913).default,c=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileGeometryCreator=void 0;var f=n(26309),d=n(31201),h=n(85164),p=n(15739),m=n(34585),v=n(47857),g=n(17682),y=n(46246),E=n(60179),A=n(21910),T=n(23350),O=n(48052),R=p.LoggerManager.instance.create("TileGeometryCreator"),L=new m.Vector3,S=new m.Vector2,b=u((function e(){c(this,e),this.bufferAttributes=new Map,this.interleavedAttributes=new Map})),I=function(e){s(n,e);var t=l(n);function n(e){var r;return c(this,n),(r=t.call(this,"memo",[e])).m_cachedProperties=[],r.m_deps=Array.from(e.dependencies().properties),r.descriptor=a(r),r}return u(n,[{key:"call",value:function(e){var t=this,n=!1;return this.m_deps.forEach((function(r,i){var o=e.env.lookup(r);n||o===t.m_cachedProperties[i]||(n=!0),n&&(t.m_cachedProperties[i]=o)})),(n||void 0===this.m_cachedValue)&&(this.m_cachedValue=e.evaluate(this.args[0])),this.m_cachedValue}}]),n}(f.CallExpr),N=function(){function e(t,n,r){c(this,e),this.geometry=t,this.info=n,this.cache=r}return u(e,[{key:"getBufferAttribute",value:function(e){if(this.cache.bufferAttributes.has(e))return this.cache.bufferAttributes.get(e);var t=v.getBufferAttribute(e);return this.cache.bufferAttributes.set(e,t),t}},{key:"getInterleavedBufferAttributes",value:function(e){var t=this.cache.interleavedAttributes.get(e);if(t)return t;var n=new(f.getArrayConstructor(e.type))(e.buffer),r=new m.InterleavedBuffer(n,e.stride),i=e.attributes.map((function(e){var t=new m.InterleavedBufferAttribute(r,e.itemSize,e.offset,!1);return{name:e.name,attribute:t}}));return this.cache.interleavedAttributes.set(e,i),i}}]),e}();function x(e,t){if(Array.isArray(e)){var n=e;t.push.apply(t,o(n))}else t.push(e)}var _=function(){function e(){c(this,e)}return u(e,[{key:"initDecodedTile",value:function(e,t,n){var r,o=i(e.techniques);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.kind;void 0===s||s instanceof Set&&0===s.size?a._kindState=!0:a._kindState=!(void 0!==n&&n.hasOrIntersects(s))||void 0!==t&&t.hasOrIntersects(s)}}catch(h){o.e(h)}finally{o.f()}var l,u=i(e.geometries);try{for(u.s();!(l=u.n()).done;){var c,f=l.value,d=i(f.groups);try{for(d.s();!(c=d.n()).done;){c.value.createdOffsets=[]}}catch(h){d.e(h)}finally{d.f()}}}catch(h){u.e(h)}finally{u.f()}}},{key:"createAllGeometries",value:function(e,t){var n=function(e){return!1!==e._kindState},r=Promise.resolve();this.createObjects(e,t,(function(t){r=Promise.all([r,t.then((function(t){return e.addOwnedTexture(t),t.image?new Promise((function(n){t.onUpdate=function(){t.onUpdate=null,n()},e.mapView.renderer.initTexture(t)})):Promise.resolve()})).catch((function(){}))])}),n),this.preparePois(e,t);return this.createTextElements(e,t,(function(e){return!!(f.isPoiTechnique(e)||f.isLineMarkerTechnique(e)||f.isTextTechnique(e))&&n(e)})),this.createLabelRejectionElements(e,t),e.dataSource.addGroundPlane&&e.projection.type===d.ProjectionType.Planar&&T.addGroundPlane(e,-1),r}},{key:"createLabelRejectionElements",value:function(e,t){if(void 0!==t.pathGeometries){var n,r=i(t.pathGeometries);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.addBlockingElement(new E.PathBlockingElement(o.path))}}catch(a){r.e(a)}finally{r.f()}}}},{key:"processTechniques",value:function(e,t,n){var r=e.decodedTile;if(void 0!==r){this.initDecodedTile(r,t,n);var i=e.dataSource.exprPool;r.techniques.forEach((function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(f.isJsonExpr(n)&&"kind"!==t)try{var r=f.Expr.fromJSON(n);!0!==r.dependencies().volatile&&(r=new I(f.Expr.fromJSON(n))),e[t]=r.intern(i)}catch(o){R.error("Failed to compile expression:",o)}}}))}}},{key:"prepareTextPaths",value:function(e,t,n){for(var r=new Array,i=e.slice();i.length>0;){var o=i.pop();if(void 0===o)break;var a=t.techniques[o.technique];f.isTextTechnique(a)&&(void 0===n||n(a))&&r.push(o)}return r}},{key:"createTextElements",value:function(e,t,n){var r,o=e.mapView,a=e.computeWorldOffsetX(),s=Math.floor(o.zoomLevel),l=new f.MapEnv({$zoom:s},o.env),u=new A.TextElementBuilder(l,e.textStyleCache,e.dataSource.dataSourceOrder);if(void 0!==t.textPathGeometries){var c,d=this.prepareTextPaths(t.textPathGeometries,t,n),h=i(d);try{for(h.s();!(c=h.n()).done;){var p=c.value,v=t.techniques[p.technique];if(!1!==v._kindState&&f.isTextTechnique(v)&&(void 0===n||n(v))){for(var g=[],y=0;y<p.path.length;y+=3)g.push(new m.Vector3(p.path[y]+a,p.path[y+1],p.path[y+2]));var E=u.withTechnique(v).build(p.text,g,e.offset,e.dataSource.name,e.dataSource.dataSourceOrder,p.objInfos,p.pathLengthSqr);e.addTextElement(E)}}}catch(D){h.e(D)}finally{h.f()}}if(void 0!==t.textGeometries){var T,O=i(t.textGeometries);try{for(O.s();!(T=O.n()).done;){var R=T.value;if(void 0!==R.technique&&void 0!==R.stringCatalog){var L=t.techniques[R.technique];if(!1!==L._kindState&&f.isTextTechnique(L)&&(void 0===n||n(L))){var S=new m.BufferAttribute(new Float64Array(R.positions.buffer),R.positions.itemCount),b=S.count;if(!(b<1)){u.withTechnique(L);for(var I=0;I<b;++I){var N=S.getX(I)+a,x=S.getY(I),_=S.getZ(I),M=R.stringCatalog[R.texts[I]];if(void 0!==M){var w=null===(r=R.objInfos)||void 0===r?void 0:r[I],C=new m.Vector3(N,x,_),P=u.build(M,C,e.offset,e.dataSource.name,e.dataSource.dataSourceOrder,w);e.addTextElement(P)}}}}}}}catch(D){O.e(D)}finally{O.f()}}}},{key:"createObjects",value:function(e,t,n,r){var o,a,s,l,u,c,E,A=this,T=e.mapView,R=[],b=[],I=T.animatedExtrusionHandler,N=Math.floor(T.zoomLevel),_=new f.MapEnv({$zoom:N},T.env),M=e.objects,w=T.viewRanges,C=void 0!==T.elevationProvider,P=i(this.getAttachments(t));try{var D=function(){for(var i=E.value,N=i.geometry,P=i.info.groups,D=P.length,k=function(E){var k=P[E++],U=k.start,B=k.technique,G=t.techniques[B];if(void 0===k.createdOffsets&&(k.createdOffsets=[]),k.createdOffsets.includes(e.offset)||!1===G._kindState||void 0!==r&&!r(G))return H=E,"continue";var W=k.count;for(k.createdOffsets.push(e.offset);E<D&&P[E].technique===B&&U+W===P[E].start;++E)W+=P[E].count,P[E].createdOffsets.push(e.offset);if(!v.usesObject3D(G))return H=E,"continue";var F=null!==(o=null===I||void 0===I?void 0:I.setAnimationProperties(G,_))&&void 0!==o&&o,K=R[B];if(void 0===K){if(void 0===(K=v.createMaterial(T.renderer.capabilities,{technique:G,env:T.env,fog:null!==T.scene.fog,shadowsEnabled:T.shadowsEnabled},n)))return H=E,"continue";F&&h.hasExtrusionFeature(K)&&x(K,b),R[B]=K}var V=G.kind;f.isTerrainTechnique(G)&&A.setupTerrainMaterial(G,K,e.mapView.clearColor);var z=new m.BufferGeometry;null===(a=N.vertexAttributes)||void 0===a||a.forEach((function(e){var t=i.getBufferAttribute(e);z.setAttribute(e.name,t)})),null===(s=N.interleavedVertexAttributes)||void 0===s||s.forEach((function(e){i.getInterleavedBufferAttributes(e).forEach((function(e){var t=e.name,n=e.attribute;return z.setAttribute(t,n)}))}));var j=null!==(l=i.info.index)&&void 0!==l?l:N.index;if(j&&z.setIndex(i.getBufferAttribute(j)),!z.getAttribute("normal")&&f.needsVertexNormals(G)&&z.computeVertexNormals(),z.addGroup(U,W),f.isSolidLineTechnique(G)){p.assert(!h.isHighPrecisionLineMaterial(K));var Z=K;!0===G.clipping&&e.projection.type===d.ProjectionType.Planar&&(e.boundingBox.getSize(L),S.set(L.x,L.y),Z.clipTileSize=S),z.getAttribute("color")&&h.setShaderMaterialDefine(Z,"USE_COLOR",!0)}var Y=f.isSolidLineTechnique(G)&&void 0!==G.secondaryWidth,q=f.Expr.isExpr(G.enabled)&&N.featureStarts&&N.featureStarts.length>0,X=v.buildObject(G,z,q?[K]:K,e,C);if(X.renderOrder=f.getPropertyValue(G.renderOrder,T.env),void 0!==i.info.uuid&&(X.uuid=i.info.uuid,X.userData.geometryId=i.info.uuid),(f.isCirclesTechnique(G)||f.isSquaresTechnique(G))&&void 0!==G.enablePicking&&(X.enableRayTesting=G.enablePicking),f.isLineTechnique(G)||f.isSegmentsTechnique(G)){var Q=A.getFadingParams(_,G);h.FadingFeature.addRenderHelper(X,w,Q.fadeNear,Q.fadeFar,!1)}if(f.isSolidLineTechnique(G)){var J=A.getFadingParams(_,G);h.FadingFeature.addRenderHelper(X,w,J.fadeNear,J.fadeFar,!1)}if(f.isExtrudedLineTechnique(G)&&void 0!==G.fadeFar){var $=A.getFadingParams(T.env,G);h.FadingFeature.addRenderHelper(X,w,$.fadeNear,$.fadeFar,!0)}if(A.addUserData(e,N,G,X),f.isExtrudedPolygonTechnique(G)?(X.castShadow=T.shadowsEnabled,X.receiveShadow=T.shadowsEnabled):(f.isStandardTechnique(G)||f.isFillTechnique(G))&&(X.receiveShadow=T.shadowsEnabled),(f.isExtrudedPolygonTechnique(G)||f.isStandardTechnique(G)||f.isFillTechnique(G))&&void 0!==G.fadeFar){var ee=A.getFadingParams(_,G);h.FadingFeature.addRenderHelper(X,w,ee.fadeNear,ee.fadeFar,!0)}if(f.isExtrudedPolygonTechnique(G)&&g.isRenderDepthPrePassEnabled(G,_)){var te=g.createDepthPrePassMesh(X);A.addUserData(e,N,G,te),O.registerTileObject(e,te,V,{technique:G,pickability:f.Pickability.transient}),M.push(te),F&&x(te.material,b),g.setDepthPrePassStencil(te,X)}var ne=f.transientToPickability(f.getPropertyValue(G.transient,T.env));if(O.registerTileObject(e,X,V,{technique:G,pickability:Y?f.Pickability.transient:ne}),M.push(X),f.isExtrudedPolygonTechnique(G)&&void 0!==i.info.edgeIndex){var re=f.Expr.isExpr(G.enabled)&&N.edgeFeatureStarts&&N.edgeFeatureStarts.length>0,ie=G,oe=new m.BufferGeometry;oe.setAttribute("position",z.getAttribute("position"));var ae=z.getAttribute("color");void 0!==ae&&oe.setAttribute("color",ae);var se=z.getAttribute("extrusionAxis");void 0!==se&&oe.setAttribute("extrusionAxis",se);var le=z.getAttribute("normal");void 0!==le&&oe.setAttribute("normal",le);var ue=z.getAttribute("uv");void 0!==ue&&oe.setAttribute("uv",ue),oe.setIndex(i.getBufferAttribute(i.info.edgeIndex));var ce=G,fe=A.getPolygonFadingParams(_,ce),de={color:fe.color,colorMix:fe.colorMix,fadeNear:fe.lineFadeNear,fadeFar:fe.lineFadeFar,extrusionRatio:F?0:void 0,vertexColors:!!z.getAttribute("color"),rendererCapabilities:T.renderer.capabilities},he=new h.EdgeMaterial(de),pe=new m.LineSegments(oe,re?[he]:he);A.addUserData(e,N,G,pe),pe.renderOrder=X.renderOrder+.1,h.FadingFeature.addRenderHelper(pe,w,fe.lineFadeNear,fe.lineFadeFar,!1),F&&x(pe.material,b),O.registerTileObject(e,pe,V,{technique:G,pickability:f.Pickability.transient}),y.MapMaterialAdapter.create(he,{color:ie.lineColor,objectColor:ie.color,opacity:ie.opacity,lineWidth:function(e){var t=f.getPropertyValue(ie.lineWidth,e.env);return"number"===typeof t?(H=E,m.MathUtils.clamp(t,0,1)):(H=E,0)}}),M.push(pe)}if(f.isExtrudedPolygonTechnique(G)&&F&&(X.customDepthMaterial=new h.MapMeshDepthMaterial({depthPacking:m.RGBADepthPacking}),x(X.customDepthMaterial,b)),f.isFillTechnique(G)&&i.info.edgeIndex){var me=f.Expr.isExpr(G.enabled)&&N.edgeFeatureStarts&&N.edgeFeatureStarts.length>0,ve=new m.BufferGeometry;ve.setAttribute("position",z.getAttribute("position")),ve.setIndex(i.getBufferAttribute(i.info.edgeIndex));var ge=G,ye=A.getPolygonFadingParams(T.env,ge),Ee={color:ye.color,colorMix:ye.colorMix,fadeNear:ye.lineFadeNear,fadeFar:ye.lineFadeFar,vertexColors:!!z.getAttribute("color"),rendererCapabilities:T.renderer.capabilities},Ae=new h.EdgeMaterial(Ee),Te=new m.LineSegments(ve,me?[Ae]:Ae);Te.renderOrder=X.renderOrder+.1,h.FadingFeature.addRenderHelper(Te,w,ye.lineFadeNear,ye.lineFadeFar,!1),A.addUserData(e,N,G,Te),O.registerTileObject(e,Te,V,{technique:G,pickability:ne}),y.MapMaterialAdapter.create(Ae,{color:ge.lineColor,objectColor:ge.color,opacity:ge.opacity}),M.push(Te)}if(Y){var Oe=G,Re=K.clone();v.applyBaseColorToMaterial(Re,Re.color,Oe,null!==(u=Oe.secondaryColor)&&void 0!==u?u:0,_),void 0!==Oe.secondaryCaps&&(Re.caps=f.getPropertyValue(Oe.secondaryCaps,T.env));var Le=v.buildObject(G,z,Re,e,C);Le.renderOrder=(null!==(c=f.getPropertyValue(Oe.secondaryRenderOrder,T.env))&&void 0!==c?c:0)-1e-7,A.addUserData(e,N,G,Le);var Se=A.getFadingParams(_,G);h.FadingFeature.addRenderHelper(Le,w,Se.fadeNear,Se.fadeFar,!1);var be=v.buildMetricValueEvaluator(Oe.secondaryWidth,Oe.metricUnit);O.registerTileObject(e,Le,V,{technique:G});var Ie=y.MapMaterialAdapter.get(K),Ne=y.MapMaterialAdapter.create(Re,{color:Oe.secondaryColor,opacity:Oe.opacity,caps:Oe.secondaryCaps,lineWidth:function(e){if(Ie){Ie.ensureUpdated(e);var t=Ie.currentStyledProperties.lineWidth,n=f.getPropertyValue(be,T.env),r=Ne.currentStyledProperties.opacity;return"number"===typeof t&&"number"===typeof n?n<=t&&(null===r||void 0===r||1===r)?(H=E,0):(H=E,n):(H=E,0)}H=E}});M.push(Le)}H=E},H=0;H<D;)k(H)};for(P.s();!(E=P.n()).done;)D()}catch(k){P.e(k)}finally{P.f()}b.length>0&&T.animatedExtrusionHandler.add(e,b)}},{key:"preparePois",value:function(e,t){void 0!==t.poiGeometries&&e.mapView.poiManager.addPois(e,t)}},{key:"getAttachments",value:r.mark((function e(t){var n,o,a,s,l,u,c,f;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new b,o=i(t.geometries),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=29;break}return s=a.value,l={index:s.index,edgeIndex:s.edgeIndex,uuid:s.uuid,groups:s.groups},e.next=9,new N(s,l,n);case 9:if(!s.attachments){e.next=27;break}u=i(s.attachments),e.prev=11,u.s();case 13:if((c=u.n()).done){e.next=19;break}return f=c.value,e.next=17,new N(s,f,n);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),u.e(e.t0);case 24:return e.prev=24,u.f(),e.finish(24);case 27:e.next=4;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(2),o.e(e.t1);case 34:return e.prev=34,o.f(),e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[2,31,34,37],[11,21,24,27]])}))},{key:"setupTerrainMaterial",value:function(e,t,n){if(!e.map||!e.displacementMap){var r=t;return r.color.set(n),void h.setDisplacementMapToMaterial(null,r)}t.onBeforeCompile=function(e){e.fragmentShader=e.fragmentShader.replace("#include <map_pars_fragment>","#include <map_pars_fragment>\n    uniform sampler2D displacementMap;\n    uniform float displacementScale;\n    uniform float displacementBias;"),e.fragmentShader=e.fragmentShader.replace("#include <map_fragment>","#ifdef USE_MAP\n    float minElevation = ".concat(d.EarthConstants.MIN_ELEVATION.toFixed(1),";\n    float maxElevation = ").concat(d.EarthConstants.MAX_ELEVATION.toFixed(1),";\n    float elevationRange = maxElevation - minElevation;\n\n    float disp = texture2D( displacementMap, vUv ).x * displacementScale + displacementBias;\n    vec4 texelColor = texture2D( map, vec2((disp - minElevation) / elevationRange, 0.0) );\n    texelColor = mapTexelToLinear( texelColor );\n    diffuseColor *= texelColor;\n#endif")),e.vertexShader=e.vertexShader.replace("#include <displacementmap_vertex>","")},t.displacementMap.needsUpdate=!0}},{key:"addUserData",value:function(e,t,n,r){if(f.isTerrainTechnique(n)){p.assert(0===Object.keys(r.userData).length,"Unexpected user data in terrain object"),p.assert("object"===typeof t.objInfos[0],"Wrong attribute map type for terrain geometry");var i=t.objInfos[0],o={tileKey:e.tileKey,texture:new m.DataTexture(i.buffer,i.xCountVertices,i.yCountVertices,m.LuminanceFormat,m.FloatType),displacementMap:i,geoBox:e.geoBox};r.userData=o}else{var a="LineSegments"===r.type&&(f.isExtrudedPolygonTechnique(n)||f.isFillTechnique(n)),s={geometryType:t.type,starts:a?t.edgeFeatureStarts:t.featureStarts,objInfos:t.objInfos};r.userData.feature=s,r.userData.technique=n}}},{key:"getFadingParams",value:function(e,t){return{fadeNear:void 0!==t.fadeNear?f.getPropertyValue(t.fadeNear,e):h.FadingFeature.DEFAULT_FADE_NEAR,fadeFar:void 0!==t.fadeFar?f.getPropertyValue(t.fadeFar,e):h.FadingFeature.DEFAULT_FADE_FAR}}},{key:"getPolygonFadingParams",value:function(e,t){var n,r=h.EdgeMaterial.DEFAULT_COLOR_MIX;if(void 0!==t.lineColor&&(n=f.getPropertyValue(t.lineColor,e),f.isExtrudedPolygonTechnique(t))){var i=t;r=void 0!==i.lineColorMix?i.lineColorMix:h.EdgeMaterial.DEFAULT_COLOR_MIX}var o=void 0!==t.fadeNear?f.getPropertyValue(t.fadeNear,e):h.FadingFeature.DEFAULT_FADE_NEAR,a=void 0!==t.fadeFar?f.getPropertyValue(t.fadeFar,e):h.FadingFeature.DEFAULT_FADE_FAR,s=void 0!==t.lineFadeNear?f.getPropertyValue(t.lineFadeNear,e):o,l=void 0!==t.lineFadeFar?f.getPropertyValue(t.lineFadeFar,e):a;return void 0===n&&(n=h.EdgeMaterial.DEFAULT_COLOR),{color:n,colorMix:r,fadeNear:o,fadeFar:a,lineFadeNear:s,lineFadeFar:l}}}],[{key:"instance",get:function(){return this.m_instance||(this.m_instance=new e)}}]),e}();t.TileGeometryCreator=_},26691:function(e,t,n){"use strict";var r=n(43269).default,i=n(87757),o=n(48926).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileGeometryLoader=t.TileGeometryLoaderState=void 0;var l,u=n(26309),c=n(15739),f=n(65312),d=n(91422),h=n(15663);function p(e){var t=d.PerformanceStatistics.instance;if(t.enabled){var n=e.dataSource.name,r=e.tileKey.level,i=e.tileKey.column,o=e.tileKey.row,a=e.disposed?"disposed":"invisible";t.currentFrame.addMessage("Decoded tile: ".concat(n," # lvl=").concat(r," col=").concat(i," row=").concat(o," DISCARDED - ").concat(a))}}!function(e){e[e.Initialized=0]="Initialized",e[e.CreationQueued=1]="CreationQueued",e[e.CreatingGeometry=2]="CreatingGeometry",e[e.Finished=3]="Finished",e[e.Canceled=4]="Canceled",e[e.Disposed=5]="Disposed"}(l=t.TileGeometryLoaderState||(t.TileGeometryLoaderState={}));var m=function(){function e(t,n){var r=this;a(this,e),this.m_tile=t,this.m_taskQueue=n,this.m_priority=0,this.m_state=l.Initialized,this.m_finishedPromise=new Promise((function(e,t){r.m_resolveFinishedPromise=e,r.m_rejectFinishedPromise=t}))}return s(e,[{key:"priority",set:function(e){this.m_priority=e}},{key:"getPriority",value:function(){return this.m_priority}},{key:"tile",get:function(){return this.m_tile}},{key:"hasDecodedTile",get:function(){return void 0!==this.m_decodedTile}},{key:"isFinished",get:function(){return this.m_state===l.Finished}},{key:"isSettled",get:function(){return this.isFinished||this.isCanceled||this.isDisposed}},{key:"waitFinished",value:function(){return this.m_finishedPromise}},{key:"setDecodedTile",value:function(t){return this.m_decodedTile=t,this.hasDecodedTile&&(this.m_availableGeometryKinds=e.prepareAvailableGeometryKinds(this.m_decodedTile)),this.m_decodedTile}},{key:"availableGeometryKinds",get:function(){return this.m_availableGeometryKinds}},{key:"update",value:function(e,t){var n=this.tile;this.tile.hasGeometry&&!this.compareGeometryKinds(e,t)&&this.reset(),this.m_state!==l.Initialized&&this.m_state!==l.Canceled||void 0===n.decodedTile||(this.m_state===l.Initialized&&(h.TileGeometryCreator.instance.processTechniques(n,e,t),this.setGeometryKinds(e,t),this.setDecodedTile(n.decodedTile)),this.queueGeometryCreation(e,t))}},{key:"cancel",value:function(){var e;p(this.tile),this.m_state=l.Canceled,null===(e=this.m_rejectFinishedPromise)||void 0===e||e.call(this)}},{key:"dispose",value:function(){var e;p(this.tile),this.clear(),this.m_state=l.Disposed,null===(e=this.m_rejectFinishedPromise)||void 0===e||e.call(this)}},{key:"reset",value:function(){var e=this;this.clear(),this.isSettled&&(this.m_finishedPromise=new Promise((function(t,n){e.m_resolveFinishedPromise=t,e.m_rejectFinishedPromise=n}))),this.m_state=l.Initialized}},{key:"finish",value:function(){var e;this.m_decodedTile=void 0,this.m_state=l.Finished,null===(e=this.m_resolveFinishedPromise)||void 0===e||e.call(this)}},{key:"clear",value:function(){var e,t,n;null===(e=this.m_availableGeometryKinds)||void 0===e||e.clear(),null===(t=this.m_enabledKinds)||void 0===t||t.clear(),null===(n=this.m_disabledKinds)||void 0===n||n.clear(),this.m_decodedTile=void 0}},{key:"queueGeometryCreation",value:function(e,t){var n=this;this.m_state!==l.CreationQueued&&(this.m_taskQueue.add({execute:this.createGeometry.bind(this,e,t),group:f.TileTaskGroups.CREATE,getPriority:this.getPriority.bind(this),isExpired:function(){return n.m_state!==l.CreationQueued},estimatedProcessTime:function(){var e,t;return(null!==(t=null===(e=n.tile.decodedTile)||void 0===e?void 0:e.decodeTime)&&void 0!==t?t:30)/6}}),this.m_state=l.CreationQueued)}},{key:"createGeometry",value:function(){var e=o(i.mark((function e(t,n){var r,o,a,s,u;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.m_state!==l.CreatingGeometry){e.next=2;break}return e.abrupt("return");case 2:if(this.m_state=l.CreatingGeometry,r=this.tile,void 0!==(o=this.m_decodedTile)){e.next=8;break}return this.finish(),e.abrupt("return");case 8:return a=d.PerformanceStatistics.instance,s=0,a.enabled&&(s=c.PerformanceTimer.now()),u=h.TileGeometryCreator.instance,r.clear(),u.initDecodedTile(o,t,n),e.next=16,u.createAllGeometries(r,o);case 16:a.enabled&&this.addStats(a,s),this.finish(),r.dataSource.requestUpdate();case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addStats",value:function(e,t){var n=this.tile,r=this.m_decodedTile;if(void 0!==r){var i=c.PerformanceTimer.now()-t,o=e.currentFrame;o.addValue("render.fullFrameTime",i),o.addValue("render.geometryCreationTime",i),o.addValue("geometry.geometryCreationTime",i),o.addValue("geometryCount.numGeometries",r.geometries.length),o.addValue("geometryCount.numTechniques",r.techniques.length),o.addValue("geometryCount.numPoiGeometries",void 0!==r.poiGeometries?r.poiGeometries.length:0),o.addValue("geometryCount.numTextGeometries",void 0!==r.textGeometries?r.textGeometries.length:0),o.addValue("geometryCount.numTextPathGeometries",void 0!==r.textPathGeometries?r.textPathGeometries.length:0),o.addValue("geometryCount.numPathGeometries",void 0!==r.pathGeometries?r.pathGeometries.length:0),o.addMessage("Decoded tile: ".concat(n.dataSource.name," # lvl=").concat(n.tileKey.level," col=").concat(n.tileKey.column," row=").concat(n.tileKey.row))}}},{key:"setGeometryKinds",value:function(e,t){var n,r;void 0!==e&&(this.m_enabledKinds=Object.assign(null!==(n=this.m_enabledKinds)&&void 0!==n?n:new u.GeometryKindSet,e)),void 0!==t&&(this.m_disabledKinds=Object.assign(null!==(r=this.m_disabledKinds)&&void 0!==r?r:new u.GeometryKindSet,t))}},{key:"compareGeometryKinds",value:function(e,t){var n=this.m_enabledKinds===e,r=this.m_disabledKinds===t;if(n&&r)return!0;var i=(void 0===this.m_enabledKinds||0===this.m_enabledKinds.size)&&(void 0===e||0===e.size),o=(void 0===this.m_disabledKinds||0===this.m_disabledKinds.size)&&(void 0===t||0===t.size);if(i&&o||n&&o||r&&i)return!0;if(!i){if(void 0===e||void 0===this.m_enabledKinds)return!1;if(!e.has(this.m_enabledKinds))return!1}if(!o){if(void 0===t||void 0===this.m_disabledKinds)return!1;if(!t.has(this.m_disabledKinds))return!1}return!0}},{key:"isCanceled",get:function(){return this.m_state===l.Canceled}},{key:"isDisposed",get:function(){return this.m_state===l.Disposed}}],[{key:"prepareAvailableGeometryKinds",value:function(t){var n,i=new u.GeometryKindSet,o=r(t.techniques);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=e.compileGeometryKind(a);if(s instanceof Set){var l,c=r(s);try{for(c.s();!(l=c.n()).done;){var f=l.value;i.add(f)}}catch(d){c.e(d)}finally{c.f()}}else i.add(s)}}catch(d){o.e(d)}finally{o.f()}return i}},{key:"compileGeometryKind",value:function(e){var t=e.kind;return void 0===t?(t=u.isFillTechnique(e)?u.GeometryKind.Area:u.isLineTechnique(e)||u.isSolidLineTechnique(e)||u.isSegmentsTechnique(e)||u.isExtrudedLineTechnique(e)?u.GeometryKind.Line:u.isExtrudedPolygonTechnique(e)?u.GeometryKind.Building:u.isPoiTechnique(e)||u.isLineMarkerTechnique(e)||u.isTextTechnique(e)?u.GeometryKind.Label:u.GeometryKind.All,e.kind=t):Array.isArray(t)&&(t=e.kind=new u.GeometryKindSet(t)),t}}]),e}();t.TileGeometryLoader=m},47021:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileGeometryManager=void 0;var a=n(26309),s=n(87213),l=function(){function e(t){i(this,e),this.mapView=t,this.enableFilterByKind=!0,this.enabledKinds=new a.GeometryKindSet,this.disabledKinds=new a.GeometryKindSet,this.hiddenKinds=new a.GeometryKindSet,this.m_visibilityCounter=1}return o(e,[{key:"enabledGeometryKinds",get:function(){return this.enabledKinds},set:function(e){this.enabledKinds=e}},{key:"disabledGeometryKinds",get:function(){return this.disabledKinds},set:function(e){this.disabledKinds=e}},{key:"hiddenGeometryKinds",get:function(){return this.hiddenKinds},set:function(e){this.hiddenKinds=e,this.incrementVisibilityCounter()}},{key:"visibilityCounter",get:function(){return this.m_visibilityCounter}},{key:"updateTiles",value:function(e){var t,n=0,i=r(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=n++;o.updateGeometry(a,this.enableFilterByKind?this.enabledGeometryKinds:void 0,this.enableFilterByKind?this.disabledGeometryKinds:void 0)&&this.m_tileUpdateCallback&&this.m_tileUpdateCallback(o)}}catch(s){i.e(s)}finally{i.f()}this.updateTileObjectVisibility(e)&&this.mapView.update()}},{key:"clear",value:function(){this.enabledKinds.clear(),this.disabledKinds.clear(),this.hiddenKinds.clear()}},{key:"enableKind",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.enableDisableKinds(this.enabledKinds,e,t)}},{key:"disableKind",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.enableDisableKinds(this.disabledKinds,e,t)}},{key:"hideKind",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!1;if(Array.isArray(e)||e instanceof Set){var i,o=r(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.addRemove(this.hiddenKinds,a,t);n=n||s}}catch(l){o.e(l)}finally{o.f()}}else n=this.addRemove(this.hiddenKinds,e,t);n&&this.incrementVisibilityCounter()}},{key:"getAvailableKinds",value:function(e){var t,n=new a.GeometryKindSet,i=r(e);try{for(i.s();!(t=i.n()).done;){var o=t.value.loadedGeometryKinds;if(void 0!==o){var s,l=r(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;n.add(u)}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){i.e(c)}finally{i.f()}return n}},{key:"updateTileObjectVisibility",value:function(e){var t,n=this,i=!1,o=r(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(0!==a.objects.length&&a.visibilityCounter!==this.visibilityCounter){a.visibilityCounter=this.visibilityCounter;var l,u=r(a.objects);try{for(u.s();!(l=u.n()).done;){var c=l.value,f=s.MapObjectAdapter.get(c),d=null===f||void 0===f?void 0:f.kind;if(void 0!==d){var h=!d.some((function(e){return n.hiddenKinds.has(e)}));i=i||c.visible!==h,c.visible=h}}}catch(p){u.e(p)}finally{u.f()}}}}catch(p){o.e(p)}finally{o.f()}return i}},{key:"setTileUpdateCallback",value:function(e){this.m_tileUpdateCallback=e}},{key:"incrementVisibilityCounter",value:function(){return++this.m_visibilityCounter}},{key:"enableDisableKinds",value:function(e,t,n){if(Array.isArray(t)){var i,o=r(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.addRemove(e,a,n)}}catch(c){o.e(c)}finally{o.f()}}else if(t instanceof Set){var s,l=r(t);try{for(l.s();!(s=l.n()).done;){var u=s.value;this.addRemove(e,u,n)}}catch(c){l.e(c)}finally{l.f()}}else void 0!==t&&this.addRemove(e,t,n)}},{key:"addRemove",value:function(e,t,n){if(n){if(!e.has(t))return e.add(t),!0}else if(e.has(t))return e.delete(t),!0;return!1}}]),e}();t.TileGeometryManager=l},91400:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VertexCache=void 0;var o,a=n(15739);!function(e){e[e.VertexId=0]="VertexId",e[e.OlderIdx=1]="OlderIdx",e[e.NewerIdx=2]="NewerIdx",e[e.X=3]="X",e[e.Y=4]="Y",e[e.Z=5]="Z",e[e.Count=6]="Count"}(o||(o={}));var s=-1,l=function(){function e(t){r(this,e),this.maxVertexCount=t,this.m_cache=[],this.m_vertexCount=0,this.m_oldestIdx=0,this.m_newestIdx=0,this.m_cache.length=this.maxVertexCount*o.Count,this.clear()}return i(e,[{key:"clear",value:function(){this.m_cache.fill(s),this.m_vertexCount=0}},{key:"get",value:function(e,t){var n=this.find(e);return void 0!==n&&(this.promoteEntry(n),this.getVertex(n,t),!0)}},{key:"set",value:function(e,t){var n=s;this.m_vertexCount<this.maxVertexCount?(n=this.m_vertexCount*o.Count,this.m_vertexCount++):n=this.m_oldestIdx,1===this.m_vertexCount?this.m_oldestIdx=this.m_newestIdx=n:this.promoteEntry(n),this.setVertex(n,e,t)}},{key:"find",value:function(e){for(var t=this.m_cache.length,n=0;n<t;n+=o.Count)if(this.m_cache[n]===e)return n}},{key:"promoteEntry",value:function(e){if(e!==this.m_newestIdx){var t=this.getNewerIdx(e),n=this.getOlderIdx(e);t!==s&&(a.assert(this.getOlderIdx(t)===e),this.setOlderIdx(t,n)),n!==s&&(a.assert(this.getNewerIdx(n)===e),this.setNewerIdx(n,t)),e===this.m_oldestIdx&&(this.m_oldestIdx=t),this.setNewerIdx(e,s),this.setOlderIdx(e,this.m_newestIdx),a.assert(this.m_newestIdx!==s),a.assert(this.getNewerIdx(this.m_newestIdx)===s),this.setNewerIdx(this.m_newestIdx,e),this.m_newestIdx=e}}},{key:"getOlderIdx",value:function(e){return this.m_cache[e+o.OlderIdx]}},{key:"setOlderIdx",value:function(e,t){this.m_cache[e+o.OlderIdx]=t}},{key:"getNewerIdx",value:function(e){return this.m_cache[e+o.NewerIdx]}},{key:"setNewerIdx",value:function(e,t){this.m_cache[e+o.NewerIdx]=t}},{key:"getVertex",value:function(e,t){t.x=this.m_cache[e+o.X],t.y=this.m_cache[e+o.Y],t.z=this.m_cache[e+o.Z]}},{key:"setVertex",value:function(e,t,n){this.m_cache[e]=t,this.m_cache[e+o.X]=n.x,this.m_cache[e+o.Y]=n.y,this.m_cache[e+o.Z]=n.z}}]),e}();t.VertexCache=l},91649:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.overlayOnElevation=t.overlayTextElement=void 0;var i=n(26309),o=n(85164),a=n(15739);function s(e,t){if("material"in e){var n=o.setDisplacementMapToMaterial.bind(null,t),r=e.material;Array.isArray(r)?r.forEach(n):r&&n(r)}}function l(e,t,n,r){var i=r.unprojectPoint(e);if(n.geoBox.contains(i))i.altitude=t.sampleHeight(i,n);else if(i.altitude=t.getHeight(i,n.tileKey.level),void 0===i.altitude)return!1;return r.projectPoint(i,e),!0}t.overlayTextElement=function(e,t,n,i){a.assert(!e.elevated),n&&(e.elevated=e.path?function(e,t,n,i){var o,a=r(e);try{for(a.s();!(o=a.n()).done;)if(!l(o.value,t,n,i))return!1}catch(s){a.e(s)}finally{a.f()}return!0}(e.path,t,n,i):l(e.position,t,n,i))},t.overlayOnElevation=function(e){var t=e.mapView.elevationProvider;if(void 0!==t&&0!==e.objects.length){var n=e.objects[0];if(n.userData&&n.userData.kind&&n.userData.kind.find((function(e){return e!==i.GeometryKind.All&&e!==i.GeometryKind.Terrain}))){var o=t.getDisplacementMap(e.tileKey);if(void 0!==o){var a,l=r(e.objects);try{for(l.s();!(a=l.n()).done;){s(a.value,o.texture)}}catch(u){l.e(u)}finally{l.f()}}}}}},21317:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ImageItem=void 0;var o=n(15739),a=n(34585),s=n(1870),l=o.LoggerManager.instance.create("loadImage"),u=new s.MipMapGenerator,c=function(){function e(t,n){r(this,e),this.url=t,this.image=n}return i(e,[{key:"loaded",get:function(){return void 0!==this.image&&void 0!==this.mipMaps}},{key:"loading",get:function(){return void 0!==this.loadingPromise}},{key:"loadImage",value:function(){var e=this;return this.loaded?Promise.resolve(this):(this.loading||(this.loadingPromise=new Promise((function(t,n){if(e.image){var r=e.image;r instanceof HTMLImageElement&&!r.complete?(r.addEventListener("load",e.finalizeImage.bind(e,r,t)),r.addEventListener("error",n)):e.finalizeImage(e.image,t)}else l.debug("Loading image: ".concat(e.url)),!0===e.cancelled?(l.debug("Cancelled loading image: ".concat(e.url)),t(void 0)):(new a.ImageLoader).load(e.url,(function(n){if(!0===e.cancelled)return l.debug("Cancelled loading image: ".concat(e.url)),void t(void 0);e.finalizeImage(n,t)}),void 0,(function(t){l.error("... loading image failed: ".concat(e.url," : ").concat(t)),e.loadingPromise=void 0,n("... loading image failed: ".concat(e.url," : ").concat(t))}))}))),this.loadingPromise)}},{key:"finalizeImage",value:function(e,t){this.image=e,this.mipMaps=u.generateTextureAtlasMipMap(this),this.loadingPromise=void 0,t(this)}}]),e}();t.ImageItem=c},89849:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ImageCache=void 0;var o=n(21317),a=function(){function e(){i(this,e),this.m_images=new Map}return r(e,[{key:"registerImage",value:function(e,t,n){var r=this.findImageCacheItem(t);return r?(void 0===e||r.owners.includes(e)||r.owners.push(e),r.imageItem):(r={imageItem:new o.ImageItem(t,n),owners:[e]},this.m_images.set(t,r),r.imageItem)}},{key:"removeImage",value:function(e,t){var n=this.m_images.get(e);return void 0!==n&&(this.unlinkCacheItem(n,t),!0)}},{key:"findImage",value:function(e){var t=this.m_images.get(e);if(void 0!==t)return t.imageItem}},{key:"clear",value:function(e){var t=this;this.m_images.forEach((function(n){t.unlinkCacheItem(n,e)}))}},{key:"size",get:function(){return this.m_images.size}},{key:"findImageCacheItem",value:function(e){return this.m_images.get(e)}},{key:"cancelLoading",value:function(e){e.loading&&(e.cancelled=!0)}},{key:"unlinkCacheItem",value:function(e,t){var n=e.owners.indexOf(t);n>=0&&e.owners.splice(n,1),0===e.owners.length&&(this.m_images.delete(e.imageItem.url),this.cancelLoading(e.imageItem))}}],[{key:"instance",get:function(){return void 0===e.m_instance&&(e.m_instance=new e),e.m_instance}},{key:"dispose",value:function(){e.m_instance=void 0}}]),e}();t.ImageCache=a},10018:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapViewImageCache=void 0;var o=n(15739),a=n(89849),s=function(){function e(){r(this,e),this.m_name2Url=new Map,this.m_urlNameCount=new Map}return i(e,[{key:"addImage",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"===typeof t){var r=t,i=this.registerImage(e,r);return n?i.loadImage():i}var o=t;return this.registerImage(e,void 0,o)}},{key:"removeImage",value:function(e){var t=this.m_name2Url.get(e);if(void 0!==t){this.m_name2Url.delete(e);var n=1;if(e!==t){var r=this.m_urlNameCount.get(t);o.assert(void 0!==r),n=r,o.assert(n>0)}return n>1?this.m_urlNameCount.set(t,n-1):(this.m_urlNameCount.delete(t),a.ImageCache.instance.removeImage(t,this)),!0}return!1}},{key:"findImageByName",value:function(e){var t=this.m_name2Url.get(e);if(void 0!==t)return a.ImageCache.instance.findImage(t)}},{key:"clear",value:function(){a.ImageCache.instance.clear(this),this.m_name2Url.clear(),this.m_urlNameCount.clear()}},{key:"registerImage",value:function(e,t,n){var r;if(this.hasName(e))throw new Error("duplicate name in cache");if(void 0===t&&(o.assert(void 0!==n),t=e),t!==e){var i=null!==(r=this.m_urlNameCount.get(t))&&void 0!==r?r:0;this.m_urlNameCount.set(t,i+1)}return this.m_name2Url.set(e,t),a.ImageCache.instance.registerImage(this,t,n)}},{key:"hasName",value:function(e){return void 0!==this.m_name2Url.get(e)}}]),e}();t.MapViewImageCache=s},1870:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MipMapGenerator=void 0;var o=n(34585),a="undefined"===typeof window,s=function(){function e(){r(this,e),a||(this.m_paddingCanvas=document.createElement("canvas"),this.m_paddingContext=this.m_paddingCanvas.getContext("2d"),this.m_resizeCanvas=document.createElement("canvas"),this.m_resizeContext=this.m_resizeCanvas.getContext("2d"))}return i(e,[{key:"generateTextureAtlasMipMap",value:function(t){if(a)throw new Error("MipMapGenerator only works in browser.");if(void 0===t.image)throw new Error("Can not generate mip maps. Image data not loaded!");var n=t.image,r=[],i=e.getPaddedSize(n.width,n.height),o=i.width,s=i.height;this.copyImageWithPadding(n,o,s),r.push(this.m_paddingContext.getImageData(0,0,o,s));for(var l=.5*o,u=.5*s;l>=1||u>=1;){var c=r[r.length-1];r.push(this.resizeImage(c,Math.max(l,1),Math.max(u,1))),l*=.5,u*=.5}return r}},{key:"copyImageWithPadding",value:function(e,t,n){return this.m_paddingCanvas.width=t,this.m_paddingCanvas.height=n,this.m_paddingContext.clearRect(0,0,t,n),e instanceof ImageData?this.m_paddingContext.putImageData(e,0,0):this.m_paddingContext.drawImage(e,0,0),e.width!==t&&this.m_paddingContext.drawImage(this.m_paddingCanvas,e.width-1,0,1,e.height,e.width,0,t-e.width,e.height),e.height!==n&&this.m_paddingContext.drawImage(this.m_paddingCanvas,0,e.height-1,t,1,0,e.height,t,n-e.height),this.m_paddingCanvas}},{key:"resizeImage",value:function(e,t,n){var r=this.copyImageWithPadding(e,e.width,e.height);return this.m_resizeCanvas.width=t,this.m_resizeCanvas.height=n,this.m_resizeContext.clearRect(0,0,t,n),this.m_resizeContext.drawImage(r,0,0,t,n),this.m_resizeContext.getImageData(0,0,t,n)}}],[{key:"getPaddedSize",value:function(e,t){return{width:o.MathUtils.ceilPowerOfTwo(e),height:o.MathUtils.ceilPowerOfTwo(t)}}}]),e}();t.MipMapGenerator=s},87094:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BoxBuffer=t.BoxBufferMesh=void 0;var s=n(15739),l=n(34585),u=n(2159),c=function(e){o(n,e);var t=a(n);function n(e,i){var o;return r(this,n),(o=t.call(this,e,i)).type="BoxBufferMesh",o}return i(n,[{key:"isEmpty",get:function(){if(void 0===this.geometry)return!0;var e=this.geometry;return null===e.index||0===e.index.count}}]),n}(l.Mesh);t.BoxBufferMesh=c;var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32768;r(this,e),this.m_material=t,this.m_renderOrder=n,this.m_maxElementCount=o,this.m_size=0,this.resizeBuffer(i),this.m_pickInfos=new Array}return i(e,[{key:"clone",value:function(){return new e(this.m_material,this.m_renderOrder)}},{key:"dispose",value:function(){void 0!==this.m_geometry&&(this.m_geometry.dispose(),this.m_geometry=void 0),this.m_mesh=void 0}},{key:"size",get:function(){return this.m_size}},{key:"reset",value:function(){void 0!==this.m_positionAttribute&&(this.m_positionAttribute.count=0,this.m_colorAttribute.count=0,this.m_uvAttribute.count=0,this.m_indexAttribute.count=0,this.m_pickInfos.length=0)}},{key:"canAddElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.m_indexAttribute;if(t.count+6*e>=t.array.length){if(t.array.length>=6*this.m_maxElementCount)return!1;var n=Math.min(this.m_maxElementCount,0===this.size?256:2*this.size);this.resize(n)}return!0}},{key:"saveState",value:function(){return{positionAttributeCount:this.m_positionAttribute.count,colorAttributeCount:this.m_colorAttribute.count,uvAttributeCount:this.m_uvAttribute.count,indexAttributeCount:this.m_indexAttribute.count,pickInfoCount:this.m_pickInfos.length}}},{key:"restoreState",value:function(e){this.m_positionAttribute.count=e.positionAttributeCount,this.m_colorAttribute.count=e.colorAttributeCount,this.m_uvAttribute.count=e.uvAttributeCount,this.m_indexAttribute.count=e.indexAttributeCount,this.m_pickInfos.length=e.pickInfoCount}},{key:"addBox",value:function(e,t,n,r,i,o){if(!this.canAddElements())return!1;var a=t.s0,s=t.t0,l=t.s1,u=t.t1,c=e.x,f=e.y,d=e.w,h=e.h,p=Math.round(n.r*r*255),m=Math.round(n.g*r*255),v=Math.round(n.b*r*255),g=Math.round(255*r),y=this.m_positionAttribute,E=this.m_colorAttribute,A=this.m_uvAttribute,T=this.m_indexAttribute,O=y.count,R=T.count;return y.setXYZ(O,c,f,i),y.setXYZ(O+1,c+d,f,i),y.setXYZ(O+2,c,f+h,i),y.setXYZ(O+3,c+d,f+h,i),E.setXYZW(O,p,m,v,g),E.setXYZW(O+1,p,m,v,g),E.setXYZW(O+2,p,m,v,g),E.setXYZW(O+3,p,m,v,g),A.setXY(O,a,s),A.setXY(O+1,l,s),A.setXY(O+2,a,u),A.setXY(O+3,l,u),T.setX(R,O),T.setX(R+1,O+1),T.setX(R+2,O+2),T.setX(R+3,O+2),T.setX(R+4,O+1),T.setX(R+5,O+3),y.count+=4,E.count+=4,A.count+=4,T.count+=6,this.m_pickInfos.push(o),!0}},{key:"updateBufferGeometry",value:function(){var e=this.m_positionAttribute,t=this.m_colorAttribute,n=this.m_uvAttribute,r=this.m_indexAttribute;e.count>0&&(e.needsUpdate=!0,e.updateRange.offset=0,e.updateRange.count=4*e.count),t.count>0&&(t.needsUpdate=!0,t.updateRange.offset=0,t.updateRange.count=4*t.count),n.count>0&&(n.needsUpdate=!0,n.updateRange.offset=0,n.updateRange.count=4*n.count),r.count>0&&(r.needsUpdate=!0,r.updateRange.offset=0,r.updateRange.count=r.count),void 0!==this.m_geometry&&(this.m_geometry.clearGroups(),this.m_geometry.addGroup(0,this.m_indexAttribute.count))}},{key:"cleanUp",value:function(){0===this.m_indexAttribute.count&&this.size>0&&this.clearAttributes()}},{key:"isEmpty",get:function(){return this.m_mesh.isEmpty}},{key:"mesh",get:function(){return void 0===this.m_mesh&&this.resize(),this.m_mesh}},{key:"pickBoxes",value:function(e,t,n){for(var r=this.m_pickInfos.length,i=this.m_pickInfos,o=this.m_positionAttribute,a=e.x,l=e.y,u=0;u<r;u++){var c=4*u,f=o.getX(c);if(!(a<f)){var d=o.getX(c+1);if(!(a>d)){var h=o.getY(c);if(!(l<h)){var p=o.getY(c+2);if(!(l>p)){var m=new s.Math2D.Box(f,h,d-f,p-h);void 0!==n&&void 0!==i[u].poiInfo&&void 0!==i[u].poiInfo.uvBox&&this.isPixelTransparent(n,a,l,m,i[u].poiInfo.uvBox,document.createElement("canvas"))||void 0!==i[u]&&t(i[u])}}}}}}},{key:"resize",value:function(e,t){return void 0!==this.m_geometry&&this.m_geometry.dispose(),this.m_geometry=new l.BufferGeometry,void 0!==e&&(!0===t||e>this.size)&&this.resizeBuffer(e),this.m_geometry.setAttribute("position",this.m_positionAttribute),this.m_geometry.setAttribute("color",this.m_colorAttribute),this.m_geometry.setAttribute("uv",this.m_uvAttribute),this.m_geometry.setIndex(this.m_indexAttribute),this.m_geometry.addGroup(0,this.m_indexAttribute.count),void 0===this.m_mesh?(this.m_mesh=new c(this.m_geometry,this.m_material),this.m_mesh.renderOrder=this.m_renderOrder):this.m_mesh.geometry=this.m_geometry,this.m_mesh}},{key:"updateMemoryUsage",value:function(e){var t=3*this.m_positionAttribute.count*4+4*this.m_colorAttribute.count+4*this.m_uvAttribute.count*4+4*this.m_indexAttribute.count;e.heapSize+=t,e.gpuSize+=t}},{key:"isPixelTransparent",value:function(e,t,n,r,i,o){var a=u.screenToUvCoordinates(t,n,r,i),s=a.u,l=a.v,c=e instanceof SVGImageElement?e.getBBox():e,f=c.width*s,d=c.height*l,h=u.getPixelFromImage(f,d,e,o);return void 0!==h&&0===h[3]}},{key:"clearAttributes",value:function(){this.m_positionAttribute=void 0,this.m_colorAttribute=void 0,this.m_uvAttribute=void 0,this.m_indexAttribute=void 0,this.resize(0,!0)}},{key:"resizeBuffer",value:function(e){var t=new Float32Array(4*e*3);if(void 0!==this.m_positionAttribute&&this.m_positionAttribute.array.length>0){var n=this.m_positionAttribute.count;t.set(this.m_positionAttribute.array),this.m_positionAttribute.array=t,this.m_positionAttribute.count=n}else this.m_positionAttribute=new l.BufferAttribute(t,3),this.m_positionAttribute.count=0,this.m_positionAttribute.setUsage(l.DynamicDrawUsage);var r=new Uint8Array(4*e*4);if(void 0!==this.m_colorAttribute){var i=this.m_colorAttribute.count;r.set(this.m_colorAttribute.array),this.m_colorAttribute.array=r,this.m_colorAttribute.count=i}else this.m_colorAttribute=new l.BufferAttribute(r,4,!0),this.m_colorAttribute.count=0,this.m_colorAttribute.setUsage(l.DynamicDrawUsage);var o=new Float32Array(4*e*4);if(void 0!==this.m_uvAttribute){var a=this.m_uvAttribute.count;o.set(this.m_uvAttribute.array),this.m_uvAttribute.array=o,this.m_uvAttribute.count=a}else this.m_uvAttribute=new l.BufferAttribute(o,4),this.m_uvAttribute.count=0,this.m_uvAttribute.setUsage(l.DynamicDrawUsage);var s=6*e*1,u=s>65535?new Uint32Array(s):new Uint16Array(s);if(void 0!==this.m_indexAttribute){var c=this.m_indexAttribute.count;u.set(this.m_indexAttribute.array),this.m_indexAttribute.array=u,this.m_indexAttribute.count=c}else this.m_indexAttribute=new l.BufferAttribute(u,1),this.m_indexAttribute.count=0,this.m_indexAttribute.setUsage(l.DynamicDrawUsage);this.m_size=e}}]),e}();t.BoxBuffer=f},2159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPixelFromImageData=t.getPixelFromCanvasImageSource=t.screenToUvCoordinates=t.getPixelFromImage=void 0;var r=n(15739);function i(e,t,n,r){var i=e instanceof SVGImageElement?e.getBBox():e,o=i.width,a=i.height;if(!(t>o||t<0||n>a||n<0)){var s;r.width=o,r.height=a;var l=r.getContext("2d");return null!==l&&(l.drawImage(e,0,0),s=l.getImageData(t,n,1,1).data),s}}function o(e,t,n,r){if(!(t>e.width||t<0||n>e.height||n<0))return function(e,t,n){for(var r=t*n,i=e.data,o=new Uint8ClampedArray(n),a=0;a<n;a++)o[0]=i[r+a];return o}(e,n*e.width+t,r)}t.getPixelFromImage=function(e,t,n,r){return n instanceof ImageData?o(n,e,t,n.data.length/(n.height*n.width)):(r||(r=document.createElement("canvas")),i(n,e,t,r))},t.screenToUvCoordinates=function(e,t,n,i){var o=n.x,a=n.x+n.w,s=n.y,l=n.y+n.h;return{u:r.MathUtils.map(e,o,a,i.s0,i.s1),v:r.MathUtils.map(t,s,l,i.t0,i.t1)}},t.getPixelFromCanvasImageSource=i,t.getPixelFromImageData=o},79977:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PoiBuilder=void 0;var o=n(26309),a=n(15739),s=n(37119),l=a.LoggerManager.instance.create("PoiBuilder");var u=function(){function e(t){r(this,e),this.m_env=t}return i(e,[{key:"withTechnique",value:function(e){var t,n,r,i,a,s,l,u;return this.m_imageTextureName=function(e,t){return void 0!==e.imageTexture?o.composeTechniqueTextureName(o.getPropertyValue(e.imageTexture,t),e):void 0}(e,this.m_env),this.m_iconMinZoomLevel=null!==(n=o.getPropertyValue(null!==(t=e.iconMinZoomLevel)&&void 0!==t?t:e.minZoomLevel,this.m_env))&&void 0!==n?n:void 0,this.m_iconMaxZoomLevel=null!==(i=o.getPropertyValue(null!==(r=e.iconMaxZoomLevel)&&void 0!==r?r:e.maxZoomLevel,this.m_env))&&void 0!==i?i:void 0,this.m_textMinZoomLevel=null!==(s=o.getPropertyValue(null!==(a=e.textMinZoomLevel)&&void 0!==a?a:e.minZoomLevel,this.m_env))&&void 0!==s?s:void 0,this.m_textMaxZoomLevel=null!==(u=o.getPropertyValue(null!==(l=e.textMaxZoomLevel)&&void 0!==l?l:e.maxZoomLevel,this.m_env))&&void 0!==u?u:void 0,this.m_technique=e,this}},{key:"withIcon",value:function(e,t){return void 0!==e&&(this.m_imageTextureName=e),this.m_shieldGroupIndex=t,this}},{key:"build",value:function(e){var t,n,r,i,u;a.assert(void 0!==this.m_technique);var c=this.m_technique,f=this.m_env,d=this.m_imageTextureName,h=void 0!==c.poiTable?null!==(t=c.poiName)&&void 0!==t?t:d:void 0;if(void 0!==d&&void 0!==h&&l.warn("Possible duplicate POI icon definition via imageTextureName and poiTable!"),void 0===d&&void 0===h)return e.minZoomLevel=null!==(n=e.minZoomLevel)&&void 0!==n?n:this.m_textMinZoomLevel,void(e.maxZoomLevel=null!==(r=e.maxZoomLevel)&&void 0!==r?r:this.m_textMaxZoomLevel);var p=!0===c.textIsOptional,m=!0===c.iconIsOptional,v=!(!1===c.renderTextDuringMovements),g=null!==(i=c.iconMayOverlap)&&void 0!==i?i:c.textMayOverlap,y=null!==(u=c.iconReserveSpace)&&void 0!==u?u:c.textReserveSpace,E=o.getPropertyValue(c.iconColor,f),A=null!==E?s.ColorCache.instance.getColor(E):void 0;return{technique:c,imageTextureName:d,poiTableName:c.poiTable,poiName:h,shieldGroupIndex:this.m_shieldGroupIndex,textElement:e,textIsOptional:p,iconIsOptional:m,renderTextDuringMovements:v,mayOverlap:g,reserveSpace:y,iconBrightness:c.iconBrightness,iconColor:A,iconMinZoomLevel:this.m_iconMinZoomLevel,iconMaxZoomLevel:this.m_iconMaxZoomLevel,textMinZoomLevel:this.m_textMinZoomLevel,textMaxZoomLevel:this.m_textMaxZoomLevel}}}]),e}();t.PoiBuilder=u},61086:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(43269).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PoiManager=void 0;var l=n(26309),u=n(15739),c=n(34585),f=n(21910),d=u.LoggerManager.instance.create("PoiManager");function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.imageTextures){var n=e.imageTextures[t];if(n>=0)return u.assert(e.imageTextures.length>t),e.stringCatalog[n]}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.objInfos?e.objInfos[t]:void 0}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(new c.Vector3).fromBufferAttribute(e,n);return r.x+=t,r}function v(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u.assert(e.texts.length>n);var r=e.texts[n];return u.assert(e.stringCatalog.length>r),null!==(t=e.stringCatalog[r])&&void 0!==t?t:""}var g=function(){function e(t){a(this,e),this.mapView=t,this.m_imageTextures=new Map,this.m_poiShieldGroups=new Map}return s(e,[{key:"addPois",value:function(e,t){var n,r=u.assertExists(t.poiGeometries),i=e.computeWorldOffsetX(),a=e.mapView,s=Math.floor(a.zoomLevel),d=new l.MapEnv({$zoom:s},a.env),h=new f.TextElementBuilder(d,e.textStyleCache,e.dataSource.dataSourceOrder),p=o(r);try{for(p.s();!(n=p.n()).done;){var m=n.value;u.assert(void 0!==m.technique);var v=u.assertExists(m.technique),g=t.techniques[v];if(!1!==g._kindState&&(l.isLineMarkerTechnique(g)||l.isPoiTechnique(g))&&!1!==g.showOnMap){var y=new c.BufferAttribute(new Float64Array(m.positions.buffer),m.positions.itemCount);h.withTechnique(g),l.isLineMarkerTechnique(g)&&y.count>0?this.addLineMarker(h,e,m,y,i):l.isPoiTechnique(g)&&this.addPoi(h,e,m,y,i)}}}catch(E){p.e(E)}finally{p.f()}}},{key:"addTextureAtlas",value:function(){var e=i(r.mark((function e(t,n,i){var a,s,l,u,c,f,h;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{signal:i});case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("addTextureAtlas: Cannot load textureAtlas: ".concat(a.statusText));case 5:return e.prev=5,e.next=8,a.json();case 8:if(void 0!==(s=e.sent)){e.next=12;break}return d.info("addTextureAtlas: TextureAtlas empty: ".concat(n)),e.abrupt("return");case 12:d.debug("addTextureAtlas: Loading textureAtlas '".concat(n,"' for image '").concat(t,"'")),l=o(Object.getOwnPropertyNames(s));try{for(l.s();!(u=l.n()).done;)c=u.value,f=s[c],h={name:c,image:t,xOffset:f.x,yOffset:f.y,width:f.width,height:f.height},this.addImageTexture(h)}catch(r){l.e(r)}finally{l.f()}this.mapView.update(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),d.error("addTextureAtlas: Failed to load textureAtlas '".concat(n,"' : ").concat(e.t0));case 21:case"end":return e.stop()}}),e,this,[[5,18]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"addImageTexture",value:function(e){void 0!==e.name?(void 0!==this.m_imageTextures.get(e.name)&&d.warn("addImageTexture: Name already used: ".concat(e.name)+" (overriding it)"),this.m_imageTextures.set(e.name,e)):d.error("addImageTexture: Name required",e)}},{key:"getImageTexture",value:function(e){return this.m_imageTextures.get(e)}},{key:"updatePoiFromPoiTable",value:function(t){var n,r,i,o,a,s,u=t.poiInfo;if(!u||void 0===u.poiTableName||void 0===u.poiName)return!0;var c=u.poiTableName,d=this.mapView.poiTableManager.getPoiTable(c);if(d&&d.isLoading)return!1;if(u.poiTableName=void 0,!d||!d.loadedOk)return e.notifyMissingPoiTable(c,d),!0;var h=u.poiName,p=d.getEntry(h);return p?(void 0!==p.iconName&&p.iconName.length>0&&(u.imageTextureName=l.composeTechniqueTextureName(p.iconName,u.technique)),t.visible=null!==(n=p.visible)&&void 0!==n?n:t.visible,t.priority=null!==(r=p.priority)&&void 0!==r?r:t.priority,u.iconMinZoomLevel=null!==(i=p.iconMinLevel)&&void 0!==i?i:u.iconMinZoomLevel,u.iconMaxZoomLevel=null!==(o=p.iconMaxLevel)&&void 0!==o?o:u.iconMaxZoomLevel,u.textMinZoomLevel=null!==(a=p.textMinLevel)&&void 0!==a?a:u.textMinZoomLevel,u.textMaxZoomLevel=null!==(s=p.textMaxLevel)&&void 0!==s?s:u.textMaxZoomLevel,f.TextElementBuilder.alignZoomLevelRanges(t),!0):(e.notifyMissingPoi(h,c),!0)}},{key:"clear",value:function(){this.m_imageTextures.clear(),this.m_poiShieldGroups.clear()}},{key:"addLineMarker",value:function(e,t,n,r,i){var o=v(n),a=h(n),s=a+"-"+o,l=this.m_poiShieldGroups.get(s);void 0===l&&(l=this.m_poiShieldGroups.size,this.m_poiShieldGroups.set(s,l));for(var u=[],c=0;c<r.count;c+=3)u.push(m(r,i,c));var f=e.withIcon(a,l).build(o,u,t.offset,t.dataSource.name,t.dataSource.dataSourceOrder,p(n));t.addTextElement(f)}},{key:"addPoi",value:function(e,t,n,r,i){for(var o,a,s=0;s<r.count;++s){var l=null!==(a=null===(o=n.offsetDirections)||void 0===o?void 0:o[s])&&void 0!==a?a:0,u=e.withIcon(h(n,s)).build(v(n,s),m(r,i,s),t.offset,t.dataSource.name,t.dataSource.dataSourceOrder,p(n,s),void 0,l);t.addTextElement(u)}}}],[{key:"notifyMissingPoiTable",value:function(t,n){void 0===t&&(t="undefined"),void 0===e.m_missingPoiTableName.get(t)&&(e.m_missingPoiTableName.set(t,!0),void 0===n||n.loadedOk?d.error("updatePoiFromPoiTable: No POI table with name '".concat(t,"' found!")):d.error("updatePoiFromPoiTable: Could not load POI table '".concat(t,"'!")))}},{key:"notifyMissingPoi",value:function(t,n){void 0===t&&(t="undefined");var r="".concat(n,"[").concat(t,"]");void 0===e.m_missingPoiName.get(r)&&(e.m_missingPoiName.set(r,!0),d.warn("updatePoiFromPoiTable: "+"Cannot find POI info for '".concat(t,"' in table '").concat(n,"'.")))}}]),e}();t.PoiManager=g,g.m_missingPoiTableName=new Map,g.m_missingPoiName=new Map},1830:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PoiRenderer=t.PoiBatchRegistry=t.PoiBuffer=void 0;var a=n(26309),s=n(85164),l=n(15739),u=n(34585),c=n(1870),f=n(87094),d=l.LoggerManager.instance.create("PoiRenderer"),h=new u.Color(1,1,1),p=new u.Color,m=function(){function e(t,n,r){i(this,e),this.buffer=t,this.layer=n,this.m_onDispose=r,this.m_refCount=0}return o(e,[{key:"increaseRefCount",value:function(){return++this.m_refCount,this}},{key:"decreaseRefCount",value:function(){return l.assert(this.m_refCount>0),0===--this.m_refCount&&this.dispose(),this}},{key:"dispose",value:function(){this.layer.scene.remove(this.buffer.mesh),this.buffer.dispose(),this.m_onDispose()}}]),e}();t.PoiBuffer=m;var v=function(){function e(t,n,r){i(this,e),this.m_rendererCapabilities=t,this.imageItem=n,this.m_onDispose=r;var o=new u.Texture(this.imageItem.image,u.UVMapping,void 0,void 0,(e.trilinear,u.LinearFilter),e.trilinear?u.LinearMipMapLinearFilter:u.LinearFilter,u.RGBAFormat);e.trilinear&&this.imageItem.mipMaps&&(o.mipmaps=this.imageItem.mipMaps,o.image=o.mipmaps[0]),o.flipY=!1,o.premultiplyAlpha=!0,o.needsUpdate=!0,this.m_material=new s.IconMaterial({rendererCapabilities:this.m_rendererCapabilities,map:o}),this.m_poiBuffers=new Map}return o(e,[{key:"getBuffer",value:function(e){var t=this,n=this.m_poiBuffers.get(e.id);if(n)return n.increaseRefCount();var r=new f.BoxBuffer(this.m_material,e.id),i=r.mesh;return i.frustumCulled=!1,e.scene.add(i),n=new m(r,e,(function(){t.disposeBuffer(e.id)})),this.m_poiBuffers.set(e.id,n),n.increaseRefCount()}},{key:"reset",value:function(){var e,t=r(this.m_poiBuffers.values());try{for(t.s();!(e=t.n()).done;){e.value.buffer.reset()}}catch(n){t.e(n)}finally{t.f()}}},{key:"update",value:function(){var e,t=r(this.m_poiBuffers.values());try{for(t.s();!(e=t.n()).done;){e.value.buffer.updateBufferGeometry()}}catch(n){t.e(n)}finally{t.f()}}},{key:"pickBoxes",value:function(e,t,n){var i,o=r(this.m_poiBuffers.values());try{for(o.s();!(i=o.n()).done;){i.value.buffer.pickBoxes(e,t,n)}}catch(a){o.e(a)}finally{o.f()}}},{key:"updateMemoryUsage",value:function(e){if(void 0!==this.imageItem.image){var t=this.imageItem.image.width*this.imageItem.image.height*4;e.heapSize+=t,e.gpuSize+=t}var n,i=r(this.m_poiBuffers.values());try{for(i.s();!(n=i.n()).done;){n.value.buffer.updateMemoryUsage(e)}}catch(o){i.e(o)}finally{i.f()}}},{key:"dispose",value:function(){this.m_poiBuffers.clear(),this.m_material.map.dispose(),this.m_material.dispose(),this.m_onDispose()}},{key:"disposeBuffer",value:function(e){l.assert(this.m_poiBuffers.size>0),this.m_poiBuffers.delete(e),0===this.m_poiBuffers.size&&this.dispose()}}]),e}();v.trilinear=!0;var g=function(){function e(t){i(this,e),this.m_rendererCapabilities=t,this.m_batchMap=new Map}return o(e,[{key:"registerPoi",value:function(e,t){var n,r=this,i=e.imageItem,o=e.imageTexture;if(i){l.assert(void 0!==e.imageTextureName);var a=null!==(n=null===o||void 0===o?void 0:o.image)&&void 0!==n?n:e.imageTextureName,s=this.m_batchMap.get(a);return void 0===s&&(s=new v(this.m_rendererCapabilities,i,(function(){r.deleteBatch(a)})),this.m_batchMap.set(a,s)),s.getBuffer(t)}}},{key:"addPoi",value:function(e,t,n,r){var i;!1!==e.isValid&&e.buffer?(l.assert(void 0!==e.uvBox),void 0!==e.iconBrightness?(i=p.setScalar(e.iconBrightness),void 0!==e.iconColor&&(i=p.multiply(e.iconColor))):i=void 0!==e.iconColor?e.iconColor:h,e.buffer.buffer.addBox(t,e.uvBox,i,r,n,e.textElement)):d.warn("PoiBatchRegistry: trying to add poiInfo without buffer prepared: ",e.poiName)}},{key:"reset",value:function(){var e,t=r(this.m_batchMap.values());try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(n){t.e(n)}finally{t.f()}}},{key:"update",value:function(){var e,t=r(this.m_batchMap.values());try{for(t.s();!(e=t.n()).done;){e.value.update()}}catch(n){t.e(n)}finally{t.f()}}},{key:"pickTextElements",value:function(e,t){var n,i=r(this.m_batchMap.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;o.pickBoxes(e,t,o.imageItem.image)}}catch(a){i.e(a)}finally{i.f()}}},{key:"updateMemoryUsage",value:function(e){var t,n=r(this.m_batchMap.values());try{for(n.s();!(t=n.n()).done;){t.value.updateMemoryUsage(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"deleteBatch",value:function(e){this.m_batchMap.delete(e)}}]),e}();t.PoiBatchRegistry=g;var y=new Map;var E=function(){function e(t,n,r){i(this,e),this.m_renderer=t,this.m_poiManager=n,this.m_imageCaches=r,this.m_tempScreenBox=new l.Math2D.Box,this.m_layers=[],this.m_poiBatchRegistry=new g(this.renderer.capabilities)}return o(e,[{key:"renderer",get:function(){return this.m_renderer}},{key:"prepareRender",value:function(e,t){var n=e.poiInfo;return void 0!==n&&(void 0===n.buffer&&this.preparePoi(e,t),void 0!==n.buffer)}},{key:"reset",value:function(){this.m_poiBatchRegistry.reset()}},{key:"addPoi",value:function(t,n,r,i,o,a,s,u){l.assert(void 0!==t.buffer),e.computeIconScreenBox(t,n,o,u,this.m_tempScreenBox),a&&r.allocate(this.m_tempScreenBox),s>0&&(t.buffer||this.preparePoi(t.textElement,u),this.m_poiBatchRegistry.addPoi(t,this.m_tempScreenBox,i,s))}},{key:"update",value:function(){this.m_poiBatchRegistry.update()}},{key:"addLayer",value:function(e){var t=this.getLayer(e);return void 0===t&&(t={id:e,scene:new u.Scene},this.m_layers.push(t),this.m_layers.sort((function(e,t){return e.id-t.id}))),t}},{key:"getLayer",value:function(e){return this.m_layers.find((function(t){return t.id===e}))}},{key:"layers",get:function(){return this.m_layers}},{key:"render",value:function(e,t){this.m_renderer.render(t.scene,e)}},{key:"pickTextElements",value:function(e,t){this.m_poiBatchRegistry.pickTextElements(e,t)}},{key:"getMemoryUsage",value:function(e){this.m_poiBatchRegistry.updateMemoryUsage(e)}},{key:"preparePoi",value:function(e,t){var n=this,i=e.poiInfo;if(i&&e.visible&&void 0===i.buffer&&!1!==i.isValid){if(void 0!==i.poiTableName){if(!this.m_poiManager.updatePoiFromPoiTable(e))return;if(!e.visible)return}var o=i.imageTextureName;if(void 0!==o){var a=this.m_poiManager.getImageTexture(o),s=function(e,t,n){var i;l.assert(void 0!==e.imageTextureName);var o,a=n?n.image:e.imageTextureName,s=r(t);try{for(s.s();!(o=s.n()).done;){var u=o.value.findImageByName(a);if(u)return y.delete(a),u}}catch(f){s.e(f)}finally{s.f()}var c=y.get(a);y.set(a,c?c+1:0),5===y.get(a)&&d.error("PoiRenderer::findImageItem: No imageItem found with name:\n            '".concat(null!==(i=null===n||void 0===n?void 0:n.image)&&void 0!==i?i:a,"'\n            after ").concat(5," attempts."))}(i,this.m_imageCaches,a);s&&(s.loaded?this.setupPoiInfo(i,s,t,a):s.loading||s.loadImage().then((function(e){(null===e||void 0===e?void 0:e.image)&&n.setupPoiInfo(i,e,t,a)})).catch((function(e){d.error("preparePoi: Failed to load imageItem: '".concat(s.url),e),i.isValid=!1})))}else i.isValid=!1}}},{key:"setupPoiInfo",value:function(e,t,n,r){if(l.assert(void 0===e.uvBox),!t.image)return d.error("setupPoiInfo: No imageItem/imageData found"),void(e.isValid=!1);var i=e.technique,o=t.image.width,s=t.image.height,u=c.MipMapGenerator.getPaddedSize(o,s),f=v.trilinear&&t.mipMaps,h=f?u.width:o,p=f?u.height:s,m=void 0!==(null===r||void 0===r?void 0:r.width)?r.width:o,g=void 0!==(null===r||void 0===r?void 0:r.height)?r.height:s,y=void 0!==(null===r||void 0===r?void 0:r.width)?r.width:o,E=void 0!==(null===r||void 0===r?void 0:r.height)?r.height:s,A=void 0!==(null===r||void 0===r?void 0:r.xOffset)?r.xOffset:0,T=void 0!==(null===r||void 0===r?void 0:r.yOffset)?r.yOffset:0,O=A/h,R=(A+y)/h,L=T/p,S=(T+E)/p,b=void 0!==i.iconScale?i.iconScale:1,I=void 0!==i.iconScale?i.iconScale:1,N=a.getPropertyValue(i.screenWidth,n);void 0!==N&&null!==N&&(I=b=N/m);var x=a.getPropertyValue(i.screenHeight,n);void 0!==x&&null!==x&&(I=x/g,void 0!==N&&(b=I)),e.computedWidth=m*b,e.computedHeight=g*I,e.uvBox={s0:O,t0:S,s1:R,t1:L},e.imageItem=t,e.imageTexture=r,e.buffer=this.m_poiBatchRegistry.registerPoi(e,this.addLayer(e.renderOrder)),e.isValid=!0}}],[{key:"computeIconScreenBox",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new l.Math2D.Box;l.assert(void 0!==e.buffer);var o=e.computedWidth*n,s=e.computedHeight*n,u=e.technique,c=a.getPropertyValue(u.iconXOffset,r),f=a.getPropertyValue(u.iconYOffset,r),d=t.x+("number"===typeof c?c:0)*n,h=t.y+("number"===typeof f?f:0)*n;return i.x=d-o/2,i.y=h-s/2,i.w=o,i.h=s,i}}]),e}();t.PoiRenderer=E},6549:function(e,t,n){"use strict";var r=n(87757),i=n(43269).default,o=n(48926).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PoiTableManager=t.PoiTable=void 0;var l=n(26309),u=n(15739).LoggerManager.instance.create("PoiTable"),c=function(){function e(){a(this,e)}return s(e,[{key:"setup",value:function(e){switch(this.name=e.name,this.altNames=e.altNames,this.iconName=e.iconName,this.visible=e.visible,this.priority=e.priority,this.iconMinLevel=e.iconMinLevel,this.iconMaxLevel=e.iconMaxLevel,this.textMinLevel=e.textMinLevel,this.textMaxLevel=e.textMaxLevel,e.stackMode){case"yes":this.stackMode=l.PoiStackMode.Show;break;case"no":this.stackMode=l.PoiStackMode.Hide;break;case"parent":this.stackMode=l.PoiStackMode.ShowParent}}}],[{key:"verifyJSON",value:function(e){var t="string"===typeof e.name&&e.name.length>0&&(void 0===e.altNames||Array.isArray(e.altNames))&&(void 0===e.stackMode||"yes"===e.stackMode||"no"===e.stackMode||"parent"===e.stackMode)&&(void 0===e.visible||"boolean"===typeof e.visible)&&(void 0===e.priority||"number"===typeof e.priority)&&(void 0===e.iconMinLevel||"number"===typeof e.iconMinLevel)&&(void 0===e.iconMaxLevel||"number"===typeof e.iconMaxLevel)&&(void 0===e.textMinLevel||"number"===typeof e.textMinLevel)&&(void 0===e.textMaxLevel||"number"===typeof e.textMaxLevel);if(t&&void 0!==e.altNames){var n=e.altNames;for(var r in n)if("string"!==typeof r){t=!1;break}}return t}}]),e}(),f=function(){function e(t,n){a(this,e),this.name=t,this.useAltNamesForKey=n,this.poiList=new Array,this.poiDict=new Map,this.m_isLoading=!1,this.m_loadedOk=void 0}return s(e,[{key:"isLoading",get:function(){return this.m_isLoading}},{key:"loadedOk",get:function(){return!0===this.m_loadedOk}},{key:"getEntry",value:function(e){var t=this.poiDict.get(e);if(void 0!==t){if(t<this.poiList.length)return this.poiList[t];throw new Error("Poi table entry index out of stored list!")}}},{key:"load",value:function(){var e=o(r.mark((function e(t,n){var o,a,s,l,f,d,h,p,m,v;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.m_loadedOk){e.next=2;break}return e.abrupt("return",!0);case 2:return this.m_loadedOk=!1,e.next=5,fetch(t,{signal:n});case 5:if((o=e.sent).ok){e.next=8;break}throw new Error("load: Cannot load POI table at ".concat(t,":")+" ".concat(o.statusText));case 8:return e.next=10,o.json();case 10:if(void 0!==(a=e.sent)){e.next=14;break}return u.info("load: TextureAtlas empty: ".concat(t)),e.abrupt("return",!0);case 14:if(this.startLoading(),e.prev=15,u.debug("load: Loading POI table '".concat(t,"' for table '").concat(this.name,"'")),void 0!==a.poiList&&Array.isArray(a.poiList)){s=i(a.poiList);try{for(s.s();!(l=s.n()).done;)if(f=l.value,c.verifyJSON(f))if((d=new c).setup(f),h=this.poiList.push(d)-1,this.useAltNamesForKey)if(void 0!==d.altNames&&d.altNames.length>0){p=i(d.altNames);try{for(p.s();!(m=p.n()).done;)v=m.value,this.poiDict.set(v,h)}catch(r){p.e(r)}finally{p.f()}}else u.debug("load: Invalid entry in POI table '".concat(t,"' : ")+"No alternative names set in entry: ".concat(JSON.stringify(f),"."));else void 0===d.name?u.warn("load: Invalid entry in POI table '".concat(t,"' : ")+". No name set in entry: ".concat(f,".")):this.poiDict.set(d.name,h);else u.warn("load: Invalid entry in POI table '".concat(t,"' : ").concat(JSON.stringify(f)))}catch(r){s.e(r)}finally{s.f()}}this.m_loadedOk=!0,this.finishedLoading(),e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(15),u.error("load: Failed to load POI table "+"'".concat(t,"' : ").concat(e.t0)),this.m_loadedOk=!1,this.finishedLoading(),e.abrupt("return",!1);case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e,this,[[15,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"startLoading",value:function(){this.m_isLoading=!0}},{key:"finishedLoading",value:function(){this.m_isLoading=!1}}]),e}();t.PoiTable=f;var d=function(){function e(t){a(this,e),this.mapView=t,this.m_isLoading=!1,this.m_poiTables=new Map,this.m_abortControllers=new Map}return s(e,[{key:"loadPoiTables",value:function(){var e=o(r.mark((function e(t){var n,i=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e){if(i.clear(),void 0!==t){i.startLoading();var n=new Array;t.forEach((function(e){var t;if(void 0!==e&&void 0!==e.name&&"string"===typeof e.name){var r=new f(e.name,!1!==e.useAltNamesForKey);void 0!==e.url&&"string"===typeof e.url?(i.addTable(r),i.m_abortControllers.set(e.name,new AbortController),n.push(r.load(e.url,null===(t=i.m_abortControllers.get(e.name))||void 0===t?void 0:t.signal))):u.error("POI table definition has no valid url: ".concat(e))}else u.error("POI table definition has no valid name: ".concat(e))})),n.length>0?Promise.all(n).finally((function(){i.finishLoading(),e()})):(i.finishLoading(),e())}else i.finishLoading(),e()})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=this;this.m_poiTables=new Map,this.m_abortControllers.forEach((function(t,n){t.abort(),e.m_abortControllers.delete(n)}))}},{key:"poiTables",get:function(){return this.m_poiTables}},{key:"addTable",value:function(e){this.m_poiTables.set(e.name,e)}},{key:"getPoiTable",value:function(e){return void 0===e?void 0:this.m_poiTables.get(e)}},{key:"finishedLoading",get:function(){return!this.m_isLoading}},{key:"startLoading",value:function(){this.m_isLoading=!0}},{key:"finishLoading",value:function(){this.m_isLoading=!1}}]),e}();t.PoiTableManager=d},3757:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.loadFontCatalog=void 0;var o=n(21690),a=n(15739).LoggerManager.instance.create("FontCatalogLoader");function s(){return(s=i(r.mark((function e(t,n,i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.FontCatalog.load(t.url,1024).then(n.bind(void 0,t.name)).catch((function(e){a.error("Failed to load FontCatalog: ",t.name,e),i&&i(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.loadFontCatalog=function(e,t,n){return s.apply(this,arguments)}},3422:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutState=void 0;var o=n(21690),a=function(){function e(t){r(this,e),this.m_hAlign=o.DefaultTextStyle.DEFAULT_HORIZONTAL_ALIGNMENT,this.m_vAlign=o.DefaultTextStyle.DEFAULT_VERTICAL_ALIGNMENT,this.textPlacement=t}return i(e,[{key:"textPlacement",get:function(){return{h:o.hPlacementFromAlignment(this.m_hAlign),v:o.vPlacementFromAlignment(this.m_vAlign)}},set:function(e){this.m_hAlign=o.hAlignFromPlacement(e.h),this.m_vAlign=o.vAlignFromPlacement(e.v)}},{key:"reset",value:function(e){this.m_hAlign=e.horizontalAlignment,this.m_vAlign=e.verticalAlignment}},{key:"horizontalAlignment",get:function(){return this.m_hAlign}},{key:"verticalAlignment",get:function(){return this.m_vAlign}}]),e}();t.LayoutState=a},91088:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapViewState=void 0;var o=n(34585),a=function(){function e(t,n){r(this,e),this.m_mapView=t,this.m_renderedTilesChangeCheck=n,this.m_lookAtVector=new o.Vector3}return i(e,[{key:"worldCenter",get:function(){return this.m_mapView.worldCenter}},{key:"cameraIsMoving",get:function(){return this.m_mapView.cameraIsMoving}},{key:"maxVisibilityDist",get:function(){return this.m_mapView.viewRanges.maximum}},{key:"zoomLevel",get:function(){return this.m_mapView.zoomLevel}},{key:"env",get:function(){return this.m_mapView.env}},{key:"frameNumber",get:function(){return this.m_mapView.frameNumber}},{key:"lookAtVector",get:function(){return this.m_mapView.camera.getWorldDirection(this.m_lookAtVector)}},{key:"lookAtDistance",get:function(){return this.m_mapView.targetDistance}},{key:"isDynamic",get:function(){return this.m_mapView.isDynamicFrame}},{key:"hiddenGeometryKinds",get:function(){return void 0===this.m_mapView.tileGeometryManager?void 0:this.m_mapView.tileGeometryManager.hiddenGeometryKinds}},{key:"renderedTilesChanged",get:function(){return this.m_renderedTilesChangeCheck()}},{key:"projection",get:function(){return this.m_mapView.projection}},{key:"elevationProvider",get:function(){return this.m_mapView.elevationProvider}}]),e}();t.MapViewState=a},30202:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getWorldPosition=t.isPathLabelTooSmall=t.placePathLabel=t.placePointLabel=t.placeIcon=t.PlacementResult=t.newPointLabelTextMarginPercent=t.persistentPointLabelTextMargin=t.checkReadyForPlacement=t.PrePlacementResult=t.getMaxViewDistance=t.pointToPlaneDistance=t.computeViewDistance=void 0;var i,o=n(26309),a=n(31201),s=n(21690),l=n(15739),u=n(34585),c=n(1830),f=n(59456),d=n(92301),h=n(25557),p=new u.Vector3(0,0,0),m=new u.Vector3(0,0,0),v=new u.Vector3(0,0,0);function g(e,t,n,r){var i,o=e.path;if(o&&o.length>1)if(void 0!==t&&o&&o.length>t)i=y(o[t],n,r);else{var a=y(o[0],n,r),s=y(o[o.length-1],n,r);i=Math.min(a,s)}else i=y(e.position,n,r);return i}function y(e,t,n){return v.copy(e).sub(t).dot(n)}t.computeViewDistance=g,t.pointToPlaneDistance=y,t.getMaxViewDistance=function(e,t){return e.maxVisibilityDist*t},function(e){e[e.Ok=0]="Ok",e[e.NotReady=1]="NotReady",e[e.Invisible=2]="Invisible",e[e.TooFar=3]="TooFar",e[e.Duplicate=4]="Duplicate",e[e.Count=5]="Count"}(i=t.PrePlacementResult||(t.PrePlacementResult={}));var E=new u.Vector3;t.checkReadyForPlacement=function(e,t,n,r,o){var s;return e.visible?r.updatePoiFromPoiTable(e)?e.visible&&n.zoomLevel!==e.maxZoomLevel&&l.MathUtils.isClamped(n.zoomLevel,e.minZoomLevel,e.maxZoomLevel)?(s=void 0===o?g(e,t,n.worldCenter,n.lookAtVector):function(e,t,n,r,i,o){var s=g(e,t,n,r);return i!==a.ProjectionType.Spherical?s<=o?s:void 0:(p.copy(e.position).normalize(),m.copy(n).normalize(),p.dot(m)>.5877852522924731&&s<=o?s:void 0)}(e,t,n.worldCenter,n.lookAtVector,n.projection.type,o),void 0===s?{result:i.TooFar,viewDistance:s}:{result:i.Ok,viewDistance:s}):{result:i.Invisible,viewDistance:s}:{result:i.NotReady,viewDistance:s}:{result:i.Invisible,viewDistance:s}};var A,T=new u.Box2,O=new u.Box2,R=[],L={},S=[],b=new f.CollisionBox,I=new u.Vector2,N=new u.Vector2,x=new l.Math2D.Box,_=new u.Vector2,M=new u.Vector2;function w(e,t,n,r,i,o,a){l.assert(void 0!==e.element.layoutStyle);var s=e.element,u=e.visible,c=e.textPlacement,f=s.layoutStyle.placements,d=f.length,h=f.findIndex((function(e){return e.h===c.h&&e.v===c.v}));l.assert(h>=0);for(var p=!0,m=h;m<d+h;++m){var v=m===h&&u,g=P(e,t,f[m%d],n,r,i,o,!v,E);if(g===A.Ok)return a.copy(E),A.Ok;v&&a.copy(E),p=p&&g===A.Invisible}return p?A.Invisible:A.Rejected}function C(e,t,n,r,i,o,a){return l.assert(void 0!==e.element.layoutStyle),P(e,t,e.textPlacement,n,r,i,o,!e.visible,a)}function P(e,n,r,i,a,c,f,p,m){var v=e.element;l.assert(void 0!==v.glyphs),l.assert(void 0!==v.layoutStyle);var g=!v.bounds||p,y=g?O:v.bounds;g&&(D(a,r),L.outputCharacterBounds=void 0,L.path=void 0,L.pathOverflow=!1,L.letterCaseArray=v.glyphCaseArray,a.measureText(v.glyphs,y,L));var E=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new u.Vector2;switch(l.assert(e.type===h.TextElementType.PoiLabel||e.type===h.TextElementType.LineMarker),l.assert(void 0!==e.layoutStyle),a.x=e.xOffset,a.y=e.yOffset,n.h){case s.HorizontalPlacement.Left:a.x-=t.max.x;break;case s.HorizontalPlacement.Right:a.x-=t.min.x}switch(n.v){case s.VerticalPlacement.Top:a.y-=t.min.y;break;case s.VerticalPlacement.Center:a.y-=.5*(t.max.y+t.min.y);break;case s.VerticalPlacement.Bottom:a.y-=t.max.y}if(void 0!==e.poiInfo&&d.poiIsRenderable(e.poiInfo)){l.assert(void 0!==e.poiInfo.computedWidth),l.assert(void 0!==e.poiInfo.computedHeight),a.x+=e.poiInfo.computedWidth*(.5+n.h),a.y+=e.poiInfo.computedHeight*(.5+n.v);var c=s.hPlacementFromAlignment(e.layoutStyle.horizontalAlignment),f=s.vPlacementFromAlignment(e.layoutStyle.verticalAlignment);if(c!==n.h||f!==n.v){var p=e.poiInfo.technique,m=o.getPropertyValue(p.iconXOffset,i),v=o.getPropertyValue(p.iconYOffset,i);m="number"===typeof m?m:0,v="number"===typeof v?v:0;var g=c-n.h,y=f-n.v,E=m-e.xOffset,A=v-e.yOffset;c===s.HorizontalPlacement.Center||f===s.VerticalPlacement.Center?(a.x+=2*Math.abs(g)*E,a.y-=2*y*Math.abs(E),a.y+=2*Math.abs(y)*A,a.x-=2*g*Math.abs(A)):(a.x+=2*Math.min(Math.abs(g),.5)*E,a.y-=2*Math.sign(y)*Math.min(Math.abs(y),.5)*Math.abs(E),a.y+=2*Math.min(Math.abs(y),.5)*A,a.x-=2*Math.sign(g)*Math.min(Math.abs(g),.5)*Math.abs(A))}}return a.multiplyScalar(r),a}(v,y,r,i,c,N).add(n);return m.set(E.x,E.y,e.renderDistance),T.copy(y).expandByVector(t.persistentPointLabelTextMargin).translate(E),T.getCenter(_),T.getSize(M),M.multiplyScalar(i),x.set(_.x-M.x/2,_.y-M.y/2,M.x,M.y),f.isVisible(x)?(g&&(T.getSize(M),M.multiplyScalar(i*(1+t.newPointLabelTextMarginPercent)),x.set(_.x-M.x/2,_.y-M.y/2,M.x,M.y)),!v.textMayOverlap&&f.isAllocated(x)?A.Rejected:(v.textReservesSpace&&f.allocate(x),g?(v.textBufferObject=void 0,v.bounds=v.bounds?v.bounds.copy(y):y.clone()):D(a,r),e.textPlacement=r,A.Ok)):A.Invisible}function D(e,t){e.textLayoutStyle.horizontalAlignment=s.hAlignFromPlacement(t.h),e.textLayoutStyle.verticalAlignment=s.vAlignFromPlacement(t.v)}t.persistentPointLabelTextMargin=new u.Vector2(2,2),t.newPointLabelTextMarginPercent=.1,function(e){e[e.Ok=0]="Ok",e[e.Rejected=1]="Rejected",e[e.Invisible=2]="Invisible"}(A=t.PlacementResult||(t.PlacementResult={})),t.placeIcon=function(e,t,n,r,i,o){return c.PoiRenderer.computeIconScreenBox(t,n,r,i,x),o.isVisible(x)?!0===t.mayOverlap||!o.isAllocated(x)?A.Ok:A.Rejected:A.Invisible},t.placePointLabel=function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];l.assert(void 0!==e.element.layoutStyle);var u=e.element.layoutStyle;return(s=s&&void 0!==u.placements&&u.placements.length>1)?w(e,t,n,r,i,o,a):C(e,t,n,r,i,o,a)},t.placePathLabel=function(e,t,n,r,i){if(L.path=t,L.outputCharacterBounds=R,L.letterCaseArray=e.element.glyphCaseArray,!r.measureText(e.element.glyphs,T,L))return A.Rejected;if(b.copy(T.translate(n)),!i.isVisible(b))return A.Invisible;var o,a=!1;e.element.textMayOverlap||(a=(o=i.search(b)).length>0),S.length=R.length;for(var s=0;s<R.length;++s){var l=R[s].translate(n),u=S[s];if(void 0===u?(u=new f.CollisionBox(l),S[s]=u):u.copy(l),a&&i.intersectsDetails(u,o))return A.Rejected}if(e.element.textReservesSpace){var c=new f.DetailedCollisionBox(b,S.slice());S.length=0,i.allocate(c)}return A.Ok},t.isPathLabelTooSmall=function(e,t,n){l.assert(e.type===h.TextElementType.PathLabel),n.length=0;var i,o=!1,a=r(e.points);try{for(a.s();!(i=a.n()).done;){var s=i.value;void 0!==(o?t.project(s,I):t.projectToScreen(s,I))&&(o=!0,n.push(I.clone()))}}catch(c){a.e(c)}finally{a.f()}if(!o)return!0;var u=5*e.text.length;return T.setFromPoints(n),T.max.sub(T.min).lengthSq()<u*u&&(e.dbgPathTooSmall=!0,!0)};var k=new a.OrientedBox3;t.getWorldPosition=function(e,t,n,r){var i,a,s=o.getPropertyValue(null===(a=null===(i=e.poiInfo)||void 0===i?void 0:i.technique)||void 0===a?void 0:a.worldOffset,n);if(null===r||void 0===r||r.copy(e.position),null!==s&&void 0!==s&&void 0!==e.offsetDirection){t.localTangentSpace(e.position,k);var l=k.yAxis,c=u.MathUtils.degToRad(e.offsetDirection);l.applyAxisAngle(k.zAxis.negate(),c),r.addScaledVector(k.yAxis,s)}return r}},60294:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PlacementStats=void 0;var o=function(){function e(t){r(this,e),this.m_logger=t,this.totalGroups=0,this.resortedGroups=0,this.total=0,this.uninitialized=0,this.tooFar=0,this.numNotVisible=0,this.numPathTooSmall=0,this.numCannotAdd=0,this.numRenderedPoiIcons=0,this.numRenderedPoiTexts=0,this.numPoiTextsInvisible=0,this.numRenderedTextElements=0}return i(e,[{key:"clear",value:function(){this.totalGroups=0,this.resortedGroups=0,this.total=0,this.uninitialized=0,this.tooFar=0,this.numNotVisible=0,this.numPathTooSmall=0,this.numCannotAdd=0,this.numRenderedPoiIcons=0,this.numRenderedPoiTexts=0,this.numPoiTextsInvisible=0,this.numRenderedTextElements=0}},{key:"log",value:function(){var e=this.uninitialized+this.numPoiTextsInvisible+this.tooFar+this.numNotVisible+this.numCannotAdd;this.m_logger.debug("Total groups",this.totalGroups),this.m_logger.debug("Resorted groups",this.resortedGroups),this.m_logger.debug("Total labels",this.total),this.m_logger.debug("Rendered labels",this.numRenderedTextElements),this.m_logger.debug("Rejected labels",e),this.m_logger.debug("Unitialized labels",this.uninitialized),this.m_logger.debug("Rendered poi icons",this.numRenderedPoiIcons),this.m_logger.debug("Rendered poi texts",this.numRenderedPoiTexts),this.m_logger.debug("Poi text invisible",this.numPoiTextsInvisible),this.m_logger.debug("Too far",this.tooFar),this.m_logger.debug("Not visible",this.numNotVisible),this.m_logger.debug("Path too small",this.numPathTooSmall),this.m_logger.debug("Rejected, max glyphs reached",this.numCannotAdd)}}]),e}();t.PlacementStats=o},60923:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RenderState=t.DEFAULT_FADE_TIME=t.FadingState=void 0;var o,a=n(15739),s=n(34585);!function(e){e[e.Undefined=0]="Undefined",e[e.FadingIn=1]="FadingIn",e[e.FadedIn=2]="FadedIn",e[e.FadingOut=-1]="FadingOut",e[e.FadedOut=-2]="FadedOut"}(o=t.FadingState||(t.FadingState={})),t.DEFAULT_FADE_TIME=800;var l=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_FADE_TIME;r(this,e),this.fadeTime=n,this.value=0,this.startTime=0,this.opacity=0,this.m_state=o.Undefined}return i(e,[{key:"reset",value:function(){this.m_state=o.Undefined,this.value=0,this.startTime=0,this.opacity=0}},{key:"isUndefined",value:function(){return this.m_state===o.Undefined}},{key:"isFading",value:function(){return this.m_state===o.FadingIn||this.m_state===o.FadingOut}},{key:"isFadingIn",value:function(){return this.m_state===o.FadingIn}},{key:"isFadingOut",value:function(){return this.m_state===o.FadingOut}},{key:"isFadedIn",value:function(){return this.m_state===o.FadedIn}},{key:"isFadedOut",value:function(){return this.m_state===o.FadedOut}},{key:"isVisible",value:function(){return this.m_state!==o.FadedOut&&this.m_state!==o.Undefined&&this.opacity>0}},{key:"startFadeIn",value:function(e,t){if(this.m_state!==o.FadingIn&&this.m_state!==o.FadedIn){if(!0===t)return this.value=1,this.opacity=1,this.m_state=o.FadedIn,void(this.startTime=e);this.m_state===o.FadingOut?(this.value=1-this.value,this.startTime=e-this.value*this.fadeTime):(this.startTime=e,this.value=0,this.opacity=0),this.m_state=o.FadingIn}}},{key:"startFadeOut",value:function(e){this.m_state!==o.FadingOut&&this.m_state!==o.FadedOut&&this.m_state!==o.Undefined&&(this.m_state===o.FadingIn?(this.startTime=e-this.value*this.fadeTime,this.value=1-this.value):(this.startTime=e,this.value=0,this.opacity=1),this.m_state=o.FadingOut)}},{key:"updateFading",value:function(e,t){if(this.m_state===o.FadingIn||this.m_state===o.FadingOut){0===this.startTime&&(this.startTime=e);var n=e-this.startTime,r=this.m_state===o.FadingIn?0:1,i=this.m_state===o.FadingIn?1:0;t||n>=this.fadeTime?(this.value=1,this.opacity=i,this.m_state=this.m_state===o.FadingIn?o.FadedIn:o.FadedOut):(this.value=n/this.fadeTime,this.opacity=s.MathUtils.clamp(a.MathUtils.smootherStep(r,i,this.value),0,1),a.assert(this.isFading()))}}}]),e}();t.RenderState=l},47095:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SimplePath=t.PathParam=t.SimpleLineCurve=void 0;var s=n(34585),l=function(e){o(n,e);var t=a(n);function n(e,i){return r(this,n),t.call(this,e,i)}return i(n,[{key:"getLengths",value:function(){return void 0===this.m_lengths&&(this.m_lengths=[0,this.v2.distanceTo(this.v1)]),this.m_lengths}}]),n}(s.LineCurve);t.SimpleLineCurve=l;var u=function(){function e(t,n,i){r(this,e),this.path=t,this.index=n,this.t=i}return i(e,[{key:"curve",get:function(){return this.path.curves[this.index]}},{key:"point",get:function(){return void 0===this.m_point&&(this.m_point=this.curve.getPoint(this.t)),this.m_point}}]),e}();t.PathParam=u;var c=function(e){o(n,e);var t=a(n);function n(){return r(this,n),t.call(this)}return i(n,[{key:"getLengths",value:function(){if(this.m_cache)return this.m_cache;var e=0,t=new Array;return t.push(0),this.curves.forEach((function(n){var r=n;e+=r.v1.distanceTo(r.v2),t.push(e)})),this.m_cache=t,t}},{key:"getParamAt",value:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;++r)if(!(n[r]<t)){var i=n[r]-t,o=this.curves[r].getLength();return new u(this,r,0===o?0:1-i/o)}return null}}]),n}(s.Path);t.SimplePath=c},67711:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextCanvasFactory=void 0;var o=n(21690),a=n(15739),s=function(){function e(t){r(this,e),this.m_renderer=t,this.m_minGlyphCount=0,this.m_maxGlyphCount=0}return i(e,[{key:"setGlyphCountLimits",value:function(e,t){this.m_minGlyphCount=e,this.m_maxGlyphCount=t}},{key:"createTextCanvas",value:function(e,t){return a.assert(this.m_maxGlyphCount>0),new o.TextCanvas({renderer:this.m_renderer,fontCatalog:e,minGlyphCount:this.m_minGlyphCount,maxGlyphCount:this.m_maxGlyphCount,name:t})}}]),e}();t.TextCanvasFactory=s},92301:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextElement=t.LoadingState=t.poiIsRenderable=void 0;var o=n(21690),a=n(34585),s=n(25557);t.poiIsRenderable=function(e){return void 0!==e.buffer},function(e){e[e.Requested=0]="Requested",e[e.Loaded=1]="Loaded",e[e.Initialized=2]="Initialized"}(t.LoadingState||(t.LoadingState={}));var l=function(){function e(t,n,i,l){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,d=arguments.length>7?arguments[7]:void 0,h=arguments.length>8?arguments[8]:void 0,p=arguments.length>9?arguments[9]:void 0,m=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,g=arguments.length>12?arguments[12]:void 0,y=arguments.length>13?arguments[13]:void 0,E=arguments.length>14?arguments[14]:void 0;r(this,e),this.text=t,this.points=n,this.renderParams=i,this.layoutParams=l,this.priority=u,this.xOffset=c,this.yOffset=f,this.featureId=d,this.style=h,this.fadeNear=p,this.fadeFar=m,this.tileOffset=v,this.offsetDirection=g,this.dataSourceName=y,this.dataSourceOrder=E,this.visible=!0,this.distanceScale=.5,this.renderOrder=0,this.elevated=!1,i instanceof o.TextRenderStyle&&(this.renderStyle=i),l instanceof o.TextLayoutStyle&&(this.layoutStyle=l),this.type=n instanceof a.Vector3?s.TextElementType.PoiLabel:s.TextElementType.PathLabel}return i(e,[{key:"position",get:function(){return this.points instanceof Array?this.points[0]:this.points}},{key:"path",get:function(){if(this.points instanceof Array)return this.points}},{key:"textMayOverlap",get:function(){return!0===this.mayOverlap},set:function(e){this.mayOverlap=e}},{key:"textReservesSpace",get:function(){return!1!==this.reserveSpace},set:function(e){this.reserveSpace=e}},{key:"poiInfo",get:function(){return this.m_poiInfo},set:function(e){if(this.m_poiInfo=e,void 0!==e){void 0!==this.path&&(this.type=s.TextElementType.LineMarker);var t=void 0!==this.renderOrder?this.renderOrder:0;e.renderOrder=t}}},{key:"renderStyle",get:function(){return this.m_renderStyle},set:function(e){this.m_renderStyle=e}},{key:"layoutStyle",get:function(){return this.m_layoutStyle},set:function(e){this.m_layoutStyle=e}},{key:"hasFeatureId",value:function(){return void 0!==this.featureId&&("number"===typeof this.featureId?0!==this.featureId:this.featureId.length>0)}},{key:"dispose",value:function(){var e,t=null===(e=this.poiInfo)||void 0===e?void 0:e.buffer;t&&t.decreaseRefCount()}}]),e}();t.TextElement=l,l.HIGHEST_PRIORITY=Number.MAX_SAFE_INTEGER},21910:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextElementBuilder=void 0;var o=n(26309),a=n(21690),s=n(15739),l=n(79977),u=n(92301),c=n(40449),f=s.LoggerManager.instance.create("TextElementBuilder"),d=function(){function e(t,n,i){if(r(this,e),this.m_env=t,this.m_styleCache=n,this.m_baseRenderOrder=i,this.m_distanceScale=c.DEFAULT_TEXT_DISTANCE_SCALE,this.m_renderOrder=i,Number.isInteger(i))this.renderOrderUpBound=e.RENDER_ORDER_UP_BOUND;else{var o=Math.abs(i);this.renderOrderUpBound=(o-Math.floor(o))*e.RENDER_ORDER_UP_BOUND}this.isValidRenderOrder(i)||f.warn("Large base render order (".concat(i,") might cause precision issues."))}return i(e,[{key:"withTechnique",value:function(t){var n,r,i,a,l,u,d;this.m_technique=t,this.m_priority=null!==(n=o.getPropertyValue(t.priority,this.m_env))&&void 0!==n?n:0,this.m_fadeNear=null!==(r=o.getPropertyValue(t.fadeNear,this.m_env))&&void 0!==r?r:void 0,this.m_fadeFar=null!==(i=o.getPropertyValue(t.fadeFar,this.m_env))&&void 0!==i?i:void 0,this.m_minZoomLevel=null!==(a=o.getPropertyValue(t.minZoomLevel,this.m_env))&&void 0!==a?a:void 0,this.m_maxZoomLevel=null!==(l=o.getPropertyValue(t.maxZoomLevel,this.m_env))&&void 0!==l?l:void 0,this.m_distanceScale=null!==(u=t.distanceScale)&&void 0!==u?u:c.DEFAULT_TEXT_DISTANCE_SCALE,this.m_renderStyle=this.m_styleCache.getRenderStyle(t),this.m_layoutStype=this.m_styleCache.getLayoutStyle(t),this.m_xOffset=o.getPropertyValue(t.xOffset,this.m_env),this.m_yOffset=o.getPropertyValue(t.yOffset,this.m_env);var h=null!==(d=o.getPropertyValue(t.renderOrder,this.m_env))&&void 0!==d?d:0;if(!this.isValidRenderOrder(h)){var p="Unsupported large render order (".concat(h,")");f.error(p),s.assert(!1,p)}return this.m_renderOrder=e.composeRenderOrder(this.m_baseRenderOrder,h),o.isTextTechnique(t)?this.withTextTechnique(t):this.withPoiTechnique(t),this}},{key:"withIcon",value:function(e,t){return s.assert(void 0!==this.m_poiBuilder),this.m_poiBuilder.withIcon(e,t),this}},{key:"build",value:function(t,n,r,i,l,c,f,d){var h,p=o.getFeatureId(c);s.assert(void 0!==this.m_technique),s.assert(void 0!==this.m_renderStyle),s.assert(void 0!==this.m_layoutStype);var m=this.m_technique,v=this.m_renderStyle,g=this.m_layoutStype,y=new u.TextElement(a.ContextualArabicConverter.instance.convert(t),n,v,g,this.m_priority,this.m_xOffset,this.m_yOffset,p,m.style,this.m_fadeNear,this.m_fadeFar,r,d,i,l);return y.minZoomLevel=this.m_minZoomLevel,y.maxZoomLevel=this.m_maxZoomLevel,y.distanceScale=this.m_distanceScale,y.mayOverlap=this.m_mayOverlap,y.reserveSpace=this.m_reserveSpace,y.kind=m.kind,y.userData=c,y.textFadeTime=void 0!==m.textFadeTime?1e3*m.textFadeTime:void 0,y.pathLengthSqr=f,y.alwaysOnTop=this.m_alwaysOnTop,y.renderOrder=this.m_renderOrder,y.poiInfo=null===(h=this.m_poiBuilder)||void 0===h?void 0:h.build(y),e.alignZoomLevelRanges(y),y}},{key:"withTextTechnique",value:function(e){this.m_mayOverlap=!0===e.mayOverlap,this.m_reserveSpace=!1!==e.reserveSpace,this.m_poiBuilder=void 0}},{key:"withPoiTechnique",value:function(e){this.m_mayOverlap=!0===e.textMayOverlap,this.m_reserveSpace=!1!==e.textReserveSpace,this.m_alwaysOnTop=!0===e.alwaysOnTop,this.m_poiBuilder||(this.m_poiBuilder=new l.PoiBuilder(this.m_env)),this.m_poiBuilder.withTechnique(e)}},{key:"isValidRenderOrder",value:function(e){return Math.abs(e)<this.renderOrderUpBound}}],[{key:"alignZoomLevelRanges",value:function(e){var t,n;if(e.poiInfo){var r=e.poiInfo;e.minZoomLevel=null!==(t=e.minZoomLevel)&&void 0!==t?t:s.MathUtils.min2(r.iconMinZoomLevel,r.textMinZoomLevel),e.maxZoomLevel=null!==(n=e.maxZoomLevel)&&void 0!==n?n:s.MathUtils.max2(r.iconMaxZoomLevel,r.textMaxZoomLevel)}}},{key:"composeRenderOrder",value:function(t,n){return t*e.RENDER_ORDER_UP_BOUND+n}}]),e}();t.TextElementBuilder=d,d.RENDER_ORDER_UP_BOUND=1e7},18386:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextElementGroup=void 0;var s=function(e){o(n,e);var t=a(n);function n(){return i(this,n),t.apply(this,arguments)}return r(n)}(n(15739).PriorityListGroup);t.TextElementGroup=s},52734:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextElementGroupPriorityList=void 0;var s=function(e){o(n,e);var t=a(n);function n(){return i(this,n),t.apply(this,arguments)}return r(n)}(n(15739).GroupedPriorityList);t.TextElementGroupPriorityList=s},68051:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextElementGroupState=void 0;var a=n(15739),s=n(98559),l=n(25557),u=function(){function e(t,n,r){i(this,e),this.group=t,this.tileKey=n,this.m_visited=!1,a.assert(t.elements.length>0);var o=t.elements.length;this.m_textElementStates=[],this.m_visited=!0;for(var u=0;u<o;++u){var c=t.elements[u];if(c.type===l.TextElementType.LineMarker&&void 0!==c.path)for(var f=c.path.length,d=0;d<f;d++){var h=new s.TextElementState(c,d),p=r(h);h.update(p),this.m_textElementStates.push(h)}else{var m=new s.TextElementState(c),v=r(m);m.update(v),this.m_textElementStates.push(m)}}}return o(e,[{key:"visited",get:function(){return this.m_visited},set:function(e){this.m_visited=e}},{key:"priority",get:function(){return this.group.priority}},{key:"updateFading",value:function(e,t){var n,i=r(this.m_textElementStates);try{for(i.s();!(n=i.n()).done;){var o=n.value;void 0!==o&&o.updateFading(e,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"traverseVisibleElements",value:function(e){var t,n=r(this.m_textElementStates);try{for(n.s();!(t=n.n()).done;){var i=t.value;void 0!==i&&i.visible&&e(i)}}catch(o){n.e(o)}finally{n.f()}}},{key:"updateElements",value:function(e){var t,n=r(this.m_textElementStates);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=e(i);i.update(o)}}catch(a){n.e(a)}finally{n.f()}}},{key:"size",get:function(){return this.m_textElementStates.length}},{key:"textElementStates",get:function(){return this.m_textElementStates}}]),e}();t.TextElementGroupState=u},98559:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isLineMarkerElementState=t.TextElementState=void 0;var o=n(21690),a=n(15739),s=n(3422),l=n(60923),u=n(25557),c=function(){function e(t,n){r(this,e),this.element=t,this.m_lineMarkerIndex=n}return i(e,[{key:"initialized",get:function(){return void 0!==this.m_textRenderState||void 0!==this.m_iconRenderState}},{key:"visible",get:function(){if(void 0!==this.m_textRenderState&&this.m_textRenderState.isVisible())return!0;var e=this.iconRenderState;return!(void 0===e||!e.isVisible())}},{key:"textPlacement",get:function(){var e=this.element.layoutStyle,t=this.m_textLayoutState;return void 0!==t?t.textPlacement:{h:o.hPlacementFromAlignment(e.horizontalAlignment),v:o.vPlacementFromAlignment(e.verticalAlignment)}},set:function(e){void 0===this.m_textLayoutState&&!0===this.isBaseTextPlacement(e)||(void 0===this.m_textLayoutState?this.m_textLayoutState=new s.LayoutState(e):this.m_textLayoutState.textPlacement=e)}},{key:"isBaseTextPlacement",value:function(e){var t=this.element.layoutStyle;if(void 0!==t)return o.hAlignFromPlacement(e.h)===t.horizontalAlignment&&o.vAlignFromPlacement(e.v)===t.verticalAlignment}},{key:"reset",value:function(){void 0!==this.m_textRenderState&&this.m_textRenderState.reset(),void 0!==this.m_textLayoutState&&(void 0!==this.element.layoutStyle?this.m_textLayoutState.reset(this.element.layoutStyle):this.m_textLayoutState=void 0),this.iconRenderState&&this.m_iconRenderState.reset(),this.m_viewDistance=void 0,this.element.textBufferObject=void 0,this.element.bounds=void 0}},{key:"replace",value:function(e){this.m_textRenderState=e.m_textRenderState,this.m_textLayoutState=e.m_textLayoutState,this.m_iconRenderState=e.m_iconRenderState,e.m_textRenderState=void 0,e.m_textLayoutState=void 0,e.m_iconRenderState=void 0,void 0===this.element.glyphs&&(this.element.glyphs=e.element.glyphs,this.element.glyphCaseArray=e.element.glyphCaseArray),this.element.bounds=void 0,this.element.textBufferObject=void 0}},{key:"viewDistance",get:function(){return this.m_viewDistance}},{key:"update",value:function(e){this.initialized||void 0===e||this.initializeRenderStates(),this.setViewDistance(e)}},{key:"setViewDistance",value:function(e){this.m_viewDistance=e}},{key:"renderDistance",get:function(){return!0===this.element.alwaysOnTop?0:void 0!==this.m_viewDistance?-this.m_viewDistance:0}},{key:"textRenderState",get:function(){return this.m_textRenderState}},{key:"iconRenderState",get:function(){return this.m_iconRenderState}},{key:"lineMarkerIndex",get:function(){return this.m_lineMarkerIndex}},{key:"position",get:function(){return void 0!==this.element.path&&void 0!==this.m_lineMarkerIndex?this.element.path[this.m_lineMarkerIndex]:this.element.position}},{key:"updateFading",value:function(e,t){void 0!==this.m_textRenderState&&this.m_textRenderState.updateFading(e,t),void 0!==this.iconRenderState&&this.iconRenderState.updateFading(e,t)}},{key:"initializeRenderStates",value:function(){var e;a.assert(void 0===this.m_textRenderState),a.assert(void 0===this.m_textLayoutState),a.assert(void 0===this.m_iconRenderState);var t=this.element.textFadeTime;if(this.m_textRenderState=new l.RenderState(t),this.element.type===u.TextElementType.PoiLabel||this.element.type===u.TextElementType.LineMarker){var n=null===(e=this.element.poiInfo)||void 0===e?void 0:e.technique.iconFadeTime,r=void 0!==n?1e3*n:t;this.m_iconRenderState=new l.RenderState(r)}}}]),e}();t.TextElementState=c,t.isLineMarkerElementState=function(e){return void 0!==e.m_lineMarkerIndex}},85616:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextElementStateCache=void 0;var s=n(15739),l=n(68051),u=n(98559),c=n(25557),f=s.LoggerManager.instance.create("TextElementsStateCache",{level:s.LogLevel.Log});var d={entries:[],index:-1};function h(e){return e.hasFeatureId()?e.featureId:e.text}function p(e,t,n,r){return void 0!==e.pathLengthSqr&&(void 0!==n.pathLengthSqr&&e.pathLengthSqr>n.pathLengthSqr)}function m(e,t,n,r){return t<r}function v(e,t,n){for(var r,i=e.element,o=function(e){return 100<<(Math.min(4,13-Math.min(13,Math.floor(e)))<<2)}(n),a=t.length,s=e.position,l=e.visible,f=u.isLineMarkerElementState(e),d=-1,h=1/0,v=i.type===c.TextElementType.PathLabel?p:m,g=0;g<a;++g){var y=t[g],E=y.element,A=i.type!==E.type||f!==u.isLineMarkerElementState(y),T=l&&y.visible;if(!A&&!T){var O=s.distanceToSquared(E.position);O>o||(void 0===r||v(E,O,r,h))&&(d=g,r=E,h=O)}}return d}var g=function(){function e(){o(this,e),this.m_referenceMap=new Map,this.m_textMap=new Map}return a(e,[{key:"getOrSet",value:function(e,t,n){var r=this.get(e);return void 0!==r?(r.updateElements(n),[r,!0]):(r=new l.TextElementGroupState(e,t,n),this.set(e,r),[r,!1])}},{key:"size",get:function(){return this.m_referenceMap.size}},{key:"cacheSize",get:function(){return this.m_textMap.size}},{key:"sortedGroupStates",get:function(){return void 0===this.m_sortedGroupStates&&(this.m_sortedGroupStates=Array.from(this.m_referenceMap.values()),this.m_sortedGroupStates.sort((function(e,t){return t.group.priority-e.group.priority}))),s.assert(this.m_referenceMap.size===this.m_sortedGroupStates.length),this.m_sortedGroupStates}},{key:"update",value:function(e,t,n,o){var a,s=n?this.replaceElement.bind(this,o):void 0,l=!1,u=i(this.m_referenceMap.entries());try{for(u.s();!(a=u.n()).done;){var c=r(a.value,2),f=c[0],d=c[1];d.visited?d.updateFading(e,t):(n&&d.traverseVisibleElements(s),this.m_referenceMap.delete(f),this.m_sortedGroupStates=void 0,l=!0)}}catch(h){u.e(h)}finally{u.f()}return l}},{key:"clearVisited",value:function(){var e,t=i(this.m_referenceMap.values());try{for(t.s();!(e=t.n()).done;){e.value.visited=!1}}catch(n){t.e(n)}finally{t.f()}}},{key:"clearTextCache",value:function(){this.m_textMap.clear()}},{key:"clear",value:function(){this.m_referenceMap.clear(),this.m_sortedGroupStates=void 0,this.m_textMap.clear()}},{key:"deduplicateElement",value:function(e,t){var n=this.findDuplicate(t,e);if(void 0===n)return this.m_textMap.set(h(t.element),[t]),!0;if(-1===n.index)return n.entries.push(t),!0;var r=n.entries[n.index];return!(r.visible||!t.visible)&&(n.entries[n.index]=t,r.reset(),!0)}},{key:"replaceElement",value:function(e,t){s.assert(t.visible);var n=this.findDuplicate(t,e);if(void 0===n||-1===n.index)return!1;var r=n.entries[n.index];return s.assert(!r.visible),r.replace(t),!0}},{key:"get",value:function(e){var t=this.m_referenceMap.get(e);return void 0!==t&&(t.visited=!0),t}},{key:"set",value:function(e,t){s.assert(e.elements.length>0),this.m_referenceMap.set(e,t),this.m_sortedGroupStates=void 0}},{key:"findDuplicate",value:function(e,t){var n=e.element,r=this.m_textMap.get(h(n));if(void 0!==r){d.entries=r;var i=n.hasFeatureId()?function(e,t){var n=e.element,r=t.findIndex((function(e){return e.element.tileOffset===n.tileOffset}));if(-1===r)return-1;var i=t[r].element;if(s.assert(n.featureId===i.featureId),i.text===n.text)return r;f.debug("Text feature id ".concat(n.featureId,' collision between "').concat(n.text," and              ").concat(i.text))}(e,r):v(e,r,t);return void 0===i?(n.featureId=void 0,this.findDuplicate(e,t)):(d.index=i,d)}}}]),e}();t.TextElementStateCache=g},25557:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextElementType=void 0,function(e){e[e.PoiLabel=0]="PoiLabel",e[e.PathLabel=1]="PathLabel",e[e.LineMarker=2]="LineMarker"}(t.TextElementType||(t.TextElementType={}))},40449:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(63038).default,a=n(43269).default,s=n(93913).default,l=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextElementsRenderer=t.DEFAULT_TEXT_DISTANCE_SCALE=t.DEFAULT_FONT_CATALOG_NAME=void 0;var u,c=n(21690),f=n(15739),d=n(34585),h=n(60396),p=n(91649),m=n(92980),v=n(1830),g=n(59456),y=n(3757),E=n(30202),A=(n(60294),n(47095)),T=n(67711),O=n(92301),R=n(94814),L=n(85616),S=n(25557),b=n(4509);n(4520);!function(e){e[e.PersistentLabels=0]="PersistentLabels",e[e.NewLabels=1]="NewLabels"}(u||(u={})),t.DEFAULT_FONT_CATALOG_NAME="default",t.DEFAULT_TEXT_DISTANCE_SCALE=.5;var I=f.LoggerManager.instance.create("TextElementsRenderer",{level:f.LogLevel.Log}),N=void 0,x=void 0,_=new d.Vector3,M=new d.Vector2,w=[],C=new d.Vector2,P={},D={},k={},H={vector2:[new d.Vector2]},U=s((function e(t,n){l(this,e),this.tile=t,this.group=n})),B=function(){function e(t){l(this,e),this.lists=t}return s(e,[{key:"priority",get:function(){return f.assert(this.lists.length>0),this.lists[0].group.priority}},{key:"count",value:function(){var e,t=0,n=a(this.lists);try{for(n.s();!(e=n.n()).done;){t+=e.value.group.elements.length}}catch(r){n.e(r)}finally{n.f()}return t}}]),e}();function G(e,t,n,r,i){D.path=r,D.pathOverflow=i,D.layer=e.renderOrder,D.letterCaseArray=e.glyphCaseArray,D.pickingData=e.userData?e:void 0,t.addText(e.glyphs,n,D)}function W(e){return void 0!==e&&(f.PerformanceTimer.now()-e>10&&(I.debug("Placement time limit exceeded."),!0))}var F=function(){function e(t,n,r,i,o,a,s,u,c,f){l(this,e),this.m_viewState=t,this.m_viewUpdateCallback=n,this.m_screenProjector=r,this.m_poiManager=i,this.m_renderer=o,this.m_imageCaches=a,this.m_loadPromisesCount=0,this.m_textCanvases=new Map,this.m_tmpVector=new d.Vector2,this.m_tmpVector3=new d.Vector3,this.m_cameraLookAt=new d.Vector3,this.m_overloaded=!1,this.m_cacheInvalidated=!1,this.m_forceNewLabelsPass=!1,this.m_addNewLabels=!0,this.m_textElementStateCache=new L.TextElementStateCache,this.m_camera=new d.OrthographicCamera(-1,1,1,-1),this.m_textStyleCache=new b.TextStyleCache,this.m_screenCollisions=new g.ScreenCollisions,this.m_options=Object.assign({},s),R.initializeDefaultOptions(this.m_options),f?this.m_screenCollisions=f:void 0!==this.m_options.collisionDebugCanvas&&null!==this.m_options.collisionDebugCanvas&&(this.m_screenCollisions=new g.ScreenCollisionsDebug(this.m_options.collisionDebugCanvas)),this.m_textCanvasFactory=null!==u&&void 0!==u?u:new T.TextCanvasFactory(this.m_renderer),this.m_textCanvasFactory.setGlyphCountLimits(this.m_options.minNumGlyphs,this.m_options.maxNumGlyphs),this.m_poiRenderer=null!==c&&void 0!==c?c:new v.PoiRenderer(this.m_renderer,this.m_poiManager,this.m_imageCaches),this.initializeCamera(),this.initializeDefaultFontCatalog(),this.m_textStyleCache.updateTextCanvases(this.m_textCanvases)}return s(e,[{key:"disableFading",get:function(){return!0===this.m_options.disableFading},set:function(e){this.m_options.disableFading=e}},{key:"styleCache",get:function(){return this.m_textStyleCache}},{key:"delayLabelsUntilMovementFinished",get:function(){return!0===this.m_options.delayLabelsUntilMovementFinished},set:function(e){this.m_options.delayLabelsUntilMovementFinished=e}},{key:"showReplacementGlyphs",get:function(){return!0===this.m_options.showReplacementGlyphs},set:function(e){this.m_options.showReplacementGlyphs=e,this.m_textCanvases.forEach((function(t){(null===t||void 0===t?void 0:t.fontCatalog)&&(t.fontCatalog.showReplacementGlyphs=e)}))}},{key:"restoreRenderers",value:function(e){this.m_renderer=e,this.m_poiRenderer=new v.PoiRenderer(this.m_renderer,this.m_poiManager,this.m_imageCaches)}},{key:"updateFontCatalogs",value:function(){var e=i(r.mark((function e(n){var i,s,l,u,c,f,d=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.m_defaultFontCatalogConfig&&(n&&-1!==n.findIndex((function(e){return e.name===t.DEFAULT_FONT_CATALOG_NAME}))?this.m_textCanvases.has(t.DEFAULT_FONT_CATALOG_NAME)&&this.m_textCanvases.delete(t.DEFAULT_FONT_CATALOG_NAME):(n||(n=[]),n.unshift(this.m_defaultFontCatalogConfig))),!(n&&n.length>0)){e.next=23;break}i=a(this.m_textCanvases);try{for(l=function(){var e=o(s.value,1)[0];n.findIndex((function(t){return t.name===e}))<0&&d.m_textCanvases.delete(e)},i.s();!(s=i.n()).done;)l()}catch(r){i.e(r)}finally{i.f()}u=a(n),e.prev=5,u.s();case 7:if((c=u.n()).done){e.next=13;break}return f=c.value,e.next=11,this.addTextCanvas(f);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),u.e(e.t0);case 18:return e.prev=18,u.f(),e.finish(18);case 21:e.next=24;break;case 23:this.m_textCanvases.clear();case 24:this.m_textStyleCache.updateTextCanvases(this.m_textCanvases);case 25:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTextStyles",value:function(){var e=i(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.m_textStyleCache.updateTextStyles(t,n),e.next=3,this.waitLoaded();case 3:this.m_textStyleCache.updateTextCanvases(this.m_textCanvases);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"renderText",value:function(e){var t;this.m_camera.far=e,this.updateGlyphDebugMesh(),this.m_poiRenderer.update();var n,r=a(this.m_poiRenderer.layers);try{for(r.s();!(n=r.n()).done;){var i,s=n.value,l=a(this.m_textCanvases);try{for(l.s();!(i=l.n()).done;){var u=o(i.value,2)[1];null===u||void 0===u||u.render(this.m_camera,null===t||void 0===t?void 0:t.id,s.id,void 0,!1)}}catch(h){l.e(h)}finally{l.f()}this.m_poiRenderer.render(this.m_camera,s),t=s}}catch(h){r.e(h)}finally{r.f()}var c,f=a(this.m_textCanvases);try{for(f.s();!(c=f.n()).done;){var d=o(c.value,2)[1];null===d||void 0===d||d.render(this.m_camera,null===t||void 0===t?void 0:t.id,void 0,void 0,!1)}}catch(h){f.e(h)}finally{f.f()}}},{key:"invalidateCache",value:function(){this.m_cacheInvalidated=!0}},{key:"movementStarted",value:function(){this.delayLabelsUntilMovementFinished&&(this.m_addNewLabels=!1)}},{key:"movementFinished",value:function(){this.invalidateCache(),this.delayLabelsUntilMovementFinished&&(this.m_addNewLabels=!0)}},{key:"overloaded",get:function(){return this.m_overloaded}},{key:"placeText",value:function(e,t){var n=function(e){var t=!1;return e.forEach((function(e){e.renderedTiles.forEach((function(e){e.textElementsChanged&&(e.textElementsChanged=!1,t=!0)}))})),t}(e),r=this.hasOverlayText()||n||function(e){for(var t=0;t<e.length;t++){var n,r=a(e[t].renderedTiles);try{for(r.s();!(n=r.n()).done;){var i=o(n.value,2);if(i[0],i[1].hasTextElements())return!0}}catch(s){r.e(s)}finally{r.f()}}return!1}(e);if(r||this.m_cacheInvalidated||this.m_viewState.renderedTilesChanged){var i=this.m_cacheInvalidated||n||this.m_viewState.renderedTilesChanged,s=i&&this.m_addNewLabels;s&&(this.m_textElementStateCache.clearVisited(),this.updateTextElements(e));var l=this.m_textElementStateCache.update(t,this.m_options.disableFading,s,this.m_viewState.zoomLevel);this.reset(),this.m_addNewLabels&&this.prepopulateScreenWithBlockingElements(e);var u=(i||l)&&this.m_addNewLabels;this.placeTextElements(t,u),this.placeOverlayTextElements()}}},{key:"addOverlayText",value:function(e){0!==e.length&&(this.m_overlayTextElements=void 0===this.m_overlayTextElements?e.slice():this.m_overlayTextElements.concat(e))}},{key:"clearOverlayText",value:function(){this.m_overlayTextElements=[]}},{key:"hasOverlayText",value:function(){return void 0!==this.m_overlayTextElements&&this.m_overlayTextElements.length>0}},{key:"overlayText",get:function(){return this.m_overlayTextElements}},{key:"pickTextElements",value:function(e,t){var n,r=function(n,r){if(void 0!==n){var i=n,o={type:r,point:e,distance:0,renderOrder:i.renderOrder,featureId:i.featureId,userData:i.userData,dataSourceName:i.dataSourceName,dataSourceOrder:i.dataSourceOrder,text:i.text};t.addResult(o)}},i=a(this.m_textCanvases);try{for(i.s();!(n=i.n()).done;){var s=o(n.value,2)[1];null===s||void 0===s||s.pickText(e,(function(e){r(e,m.PickObjectType.Text)}))}}catch(l){i.e(l)}finally{i.f()}this.m_poiRenderer.pickTextElements(e,(function(e){r(e,m.PickObjectType.Icon)}))}},{key:"loading",get:function(){return this.m_loadPromisesCount>0}},{key:"waitLoaded",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.m_loadPromise){e.next=4;break}return e.next=3,this.m_loadPromise;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearRenderStates",value:function(){this.m_textElementStateCache.clear()}},{key:"getMemoryUsage",value:function(){var e,t={heapSize:0,gpuSize:0},n=a(this.m_textCanvases);try{for(n.s();!(e=n.n()).done;){var r=o(e.value,2)[1];null===r||void 0===r||r.getMemoryUsage(t)}}catch(i){n.e(i)}finally{n.f()}return this.m_poiRenderer.getMemoryUsage(t),t}},{key:"addDefaultTextCanvas",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.m_textCanvases.has(t.DEFAULT_FONT_CATALOG_NAME)&&this.m_defaultFontCatalogConfig){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.addTextCanvas(this.m_defaultFontCatalogConfig);case 4:this.m_textStyleCache.updateTextCanvases(this.m_textCanvases);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.m_cameraLookAt.copy(this.m_viewState.lookAtVector),this.m_screenCollisions.reset();var e,t=a(this.m_textCanvases);try{for(t.s();!(e=t.n()).done;){var n=o(e.value,2)[1];null===n||void 0===n||n.clear()}}catch(r){t.e(r)}finally{t.f()}this.m_poiRenderer.reset()}},{key:"prepopulateScreenWithBlockingElements",value:function(e){var t=this,n=[];e.forEach((function(e){var r,i=new d.Vector3,o=new d.Vector3,s=a(e.renderedTiles.values());try{for(s.s();!(r=s.n()).done;){var l,u=r.value,c=a(u.blockingElements);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(!(f.points.length<2)){t.m_screenProjector.project3(f.points[0],i);for(var h=1;h<f.points.length;h++){t.m_screenProjector.project3(f.points[h],o);var p=f.screenSpaceLines[h-1];p.start.copy(i),p.end.copy(o);var m={minX:Math.min(i.x,o.x),maxX:Math.max(i.x,o.x),minY:Math.min(i.y,o.y),maxY:Math.max(i.y,o.y),line:p};n.push(m),i.copy(o)}}}}catch(v){c.e(v)}finally{c.f()}}}catch(v){s.e(v)}finally{s.f()}})),this.m_screenCollisions.allocateIBoxes(n)}},{key:"placeTextElementGroup",value:function(e,t,n,r){var i;f.assert(e.visited);var o,s=[],l=this.m_viewState.hiddenGeometryKinds,d=this.m_viewState.projection,h=this.m_viewState.elevationProvider,m=null===h||void 0===h?void 0:h.getDisplacementMap(e.tileKey),v=a(e.textElementStates);try{for(v.s();!(o=v.n()).done;){var g=o.value;if(r===u.PersistentLabels)x&&++x.total;else if(void 0!==n&&t.numRenderedTextElements>=n)return I.debug("Placement label limit exceeded."),!1;if(g.initialized)if(void 0===g.viewDistance||g.viewDistance<0)x&&++x.tooFar;else{var y=g.visible;if(!(r===u.PersistentLabels&&!y||r===u.NewLabels&&y)){var A=g.element,T=this.m_textStyleCache.getTextElementStyle(A.style),O=T.textCanvas;if(void 0===l||void 0===A.kind||!l.hasOrIntersects(A.kind)){if(void 0!==h&&!A.elevated){if(!m){this.m_viewUpdateCallback(),this.m_forceNewLabelsPass=!0;continue}p.overlayTextElement(A,h,m,d)}var R=A.type;if(R===S.TextElementType.PathLabel&&E.isPathLabelTooSmall(A,this.m_screenProjector,w))x&&x.numNotVisible++,!0===A.dbgPathTooSmall&&x&&x.numPathTooSmall++,g.reset();else{if(O){if(!this.initializeGlyphs(A,T,!0))continue;var L=O.getLayer(null!==(i=A.renderOrder)&&void 0!==i?i:c.DEFAULT_TEXT_CANVAS_LAYER);if(void 0!==L&&L.storage.drawCount+A.glyphs.length>L.storage.capacity){x&&++x.numCannotAdd,I.warn("layer glyph storage capacity exceeded.");continue}O.textRenderStyle=A.renderStyle,O.textLayoutStyle=A.layoutStyle}switch(R){case S.TextElementType.PoiLabel:this.addPoiLabel(g,O,t);break;case S.TextElementType.LineMarker:this.addLineMarkerLabel(g,s,O,t);break;case S.TextElementType.PathLabel:O&&this.addPathLabel(g,w,O,t)}}}}}else x&&++x.uninitialized}}catch(b){v.e(b)}finally{v.f()}return!0}},{key:"initializeGlyphs",value:function(e,t,n){var r=this;if(e.loadingState===O.LoadingState.Initialized)return void 0!==e.glyphs;f.assert(void 0!==t.textCanvas);var i=t.textCanvas;if(void 0===e.loadingState)if(e.loadingState=O.LoadingState.Requested,void 0===e.renderStyle&&(e.renderStyle=new c.TextRenderStyle(Object.assign(Object.assign({},t.renderParams),e.renderParams))),void 0===e.layoutStyle&&(e.layoutStyle=new c.TextLayoutStyle(Object.assign(Object.assign({},t.layoutParams),e.layoutParams))),""===e.text)e.loadingState=O.LoadingState.Loaded;else{var o=i.fontCatalog.loadCharset(e.text,e.renderStyle).then((function(){--r.m_loadPromisesCount,e.loadingState=O.LoadingState.Loaded,r.m_forceNewLabelsPass=r.m_forceNewLabelsPass||n,r.m_viewUpdateCallback()}));0===this.m_loadPromisesCount&&(this.m_loadPromise=void 0),++this.m_loadPromisesCount,this.m_loadPromise=void 0===this.m_loadPromise?o:Promise.all([this.m_loadPromise,o])}return e.loadingState===O.LoadingState.Loaded&&(i.textRenderStyle=e.renderStyle,i.textLayoutStyle=e.layoutStyle,e.glyphCaseArray=[],e.bounds=void 0,e.glyphs=i.fontCatalog.getGlyphs(e.text,i.textRenderStyle,e.glyphCaseArray),e.loadingState=O.LoadingState.Initialized),void 0!==e.glyphs}},{key:"initializeCamera",value:function(){this.m_camera.position.z=1,this.m_camera.near=0}},{key:"updateCamera",value:function(){var e=this.m_renderer.getSize(H.vector2[0]),t=e.width,n=e.height;this.m_camera.left=t/-2,this.m_camera.right=t/2,this.m_camera.bottom=n/-2,this.m_camera.top=n/2,this.m_camera.updateProjectionMatrix(),this.m_camera.updateMatrixWorld(!1),this.m_screenCollisions.update(t,n)}},{key:"initializeDefaultFontCatalog",value:function(){var e;this.m_options.fontCatalog&&(this.m_defaultFontCatalogConfig=(e=this.m_options.fontCatalog,{name:t.DEFAULT_FONT_CATALOG_NAME,url:e}),this.addDefaultTextCanvas())}},{key:"addTextCanvas",value:function(){var e=i(r.mark((function e(t){var n,i,o,a=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,t){if(a.m_textCanvases.has(e)){var n=a.m_textCanvasFactory.createTextCanvas(t,e);t.showReplacementGlyphs=a.showReplacementGlyphs,a.m_textCanvases.set(e,n)}},i=function(){a.m_textCanvases.delete(t.name)},!this.m_textCanvases.has(t.name)){e.next=6;break}return e.abrupt("return",Promise.resolve());case 6:return this.m_textCanvases.set(t.name,void 0),o=y.loadFontCatalog(t,n,i).then((function(){--a.m_loadPromisesCount,a.m_viewUpdateCallback()})).catch((function(e){I.info("rendering without font catalog, only icons possible",e),--a.m_loadPromisesCount})),0===this.m_loadPromisesCount&&(this.m_loadPromise=void 0),++this.m_loadPromisesCount,this.m_loadPromise=void 0===this.m_loadPromise?o:Promise.all([this.m_loadPromise,o]),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateGlyphDebugMesh",value:function(){var e=h.debugContext.getValue("DEBUG_GLYPHS");void 0!==e&&(e&&void 0===this.m_debugGlyphTextureCacheMesh&&this.initializeGlyphDebugMesh(),f.assert(void 0!==this.m_debugGlyphTextureCacheMesh),f.assert(void 0!==this.m_debugGlyphTextureCacheWireMesh),this.m_debugGlyphTextureCacheMesh.visible=e,this.m_debugGlyphTextureCacheWireMesh.visible=e)}},{key:"initializeGlyphDebugMesh",value:function(){if(0!==this.m_textCanvases.size){var e=this.m_textCanvases.values().next().value,t=e.fontCatalog,n=new d.PlaneGeometry(t.textureSize.width/2.5,t.textureSize.height/2.5,t.textureSize.width/t.maxWidth,t.textureSize.height/t.maxHeight),r=new d.MeshBasicMaterial({transparent:!0,depthWrite:!1,depthTest:!1,map:t.texture});this.m_debugGlyphTextureCacheMesh=new d.Mesh(n,r),this.m_debugGlyphTextureCacheMesh.renderOrder=1e4,this.m_debugGlyphTextureCacheMesh.visible=!1,this.m_debugGlyphTextureCacheMesh.name="glyphDebug";var i=new d.WireframeGeometry(n),o=new d.LineBasicMaterial({transparent:!0,color:10066329,depthWrite:!1,depthTest:!1});this.m_debugGlyphTextureCacheWireMesh=new d.LineSegments(i,o),this.m_debugGlyphTextureCacheWireMesh.renderOrder=9999,this.m_debugGlyphTextureCacheWireMesh.visible=!1,this.m_debugGlyphTextureCacheWireMesh.name="glyphDebug",e.getLayer(c.DEFAULT_TEXT_CANVAS_LAYER).storage.scene.add(this.m_debugGlyphTextureCacheMesh,this.m_debugGlyphTextureCacheWireMesh)}}},{key:"updateTextElements",value:function(e){var t=this;N&&N.clear(),this.m_textElementStateCache.clearTextCache(),this.m_cacheInvalidated=!1,this.checkIfOverloaded(e);var n=this.overloaded&&this.m_viewState.isDynamic?f.PerformanceTimer.now():void 0;e.forEach((function(e){t.updateTextElementsFromSource(e.dataSource,e.storageLevel,Array.from(e.renderedTiles.values()),n)})),N&&N.log()}},{key:"updateTextElementsFromSource",value:function(e,t,n,r){N&&(N.tiles+=n.length);var i=n;i.sort((function(e,t){return e.tileKey.mortonCode()-t.tileKey.mortonCode()}));var o=[];this.createSortedGroupsForSorting(e,t,i,o);for(var a=0,s=0,l=o;s<l.length;s++){var u=l[s];if(this.selectTextElementsToUpdateByDistance(u),void 0!==r){if(f.PerformanceTimer.now()-r>5){I.debug("Update time limit exceeded.");break}if((a+=u.count())>=100){I.debug("Update label limit exceeded.");break}}}}},{key:"prepareTextElementGroup",value:function(e,t,n){var r=this;if(0!==e.elements.length){var i=this.m_textElementStateCache.getOrSet(e,t,(function(e){var t=E.checkReadyForPlacement(e.element,e.element.type===S.TextElementType.LineMarker?e.lineMarkerIndex:void 0,r.m_viewState,r.m_poiManager,n),i=t.result,o=t.viewDistance;return i!==E.PrePlacementResult.Ok||r.m_textElementStateCache.deduplicateElement(r.m_viewState.zoomLevel,e)||(i=E.PrePlacementResult.Duplicate,o=void 0),N&&(N.totalLabels++,N.results[i]++),o})),a=o(i,2)[1];N&&(++N.totalGroups,a||++N.newGroups)}}},{key:"createSortedGroupsForSorting",value:function(e,t,n,r){if(0!==n.length){var i,o=[],s=a(n);try{for(s.s();!(i=s.n()).done;){var l=i.value;e.shouldRenderText(t,l.tileKey)&&o.push(l)}}catch(A){s.e(A)}finally{s.f()}for(var u=new Map,c=0,f=o;c<f.length;c++){var d,h=f[c],p=a(h.textElementGroups.groups.values());try{for(p.s();!(d=p.n()).done;){var m=d.value;if(0!==m.elements.length){var v=u.get(m.priority);void 0===v?u.set(m.priority,new B([new U(h,m)])):v.lists.push(new U(h,m))}}}catch(A){p.e(A)}finally{p.f()}}if(0!==u.size){var g,y=a(u);try{for(y.s();!(g=y.n()).done;){var E=g.value[1];r.push(E)}}catch(A){y.e(A)}finally{y.f()}r.sort((function(e,t){return t.priority-e.priority}))}}}},{key:"selectTextElementsToUpdateByDistance",value:function(e){var t,n=Math.max(this.m_options.maxDistanceRatioForTextLabels,this.m_options.maxDistanceRatioForPoiLabels),r=E.getMaxViewDistance(this.m_viewState,n),i=a(e.lists);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.prepareTextElementGroup(o.group,o.tile.tileKey,r)}}catch(s){i.e(s)}finally{i.f()}}},{key:"placeTextElements",value:function(e,t){var n={numRenderedTextElements:0,fadeAnimationRunning:!1,time:e},r=this.overloaded&&this.m_viewState.isDynamic?f.PerformanceTimer.now():void 0;if(x&&x.clear(),0!==this.m_textElementStateCache.size){var i=this.m_forceNewLabelsPass||t;this.m_forceNewLabelsPass&&(this.m_forceNewLabelsPass=!1);for(var o=this.m_options.maxNumVisibleLabels,a=this.m_textElementStateCache.sortedGroupStates,s=a[0].priority,l=0,c=0;c<a.length;++c){var d=a[c];x&&++x.totalGroups;var h=d.priority;if(i&&s!==h){if(this.placeNewTextElements(l,c,n),W(r))break;s=h,l=c}if(!this.placeTextElementGroup(d,n,o,u.PersistentLabels))break;if(W(r))break}i&&this.placeNewTextElements(l,a.length,n),x&&(x.numRenderedTextElements=n.numRenderedTextElements,x.log()),n.fadeAnimationRunning&&this.m_viewUpdateCallback()}else I.debug("Text element cache empty.")}},{key:"placeNewTextElements",value:function(e,t,n){for(var r=this.m_textElementStateCache.sortedGroupStates,i=e;i<t&&this.placeTextElementGroup(r[i],n,this.m_options.maxNumVisibleLabels,u.NewLabels);++i);}},{key:"placeOverlayTextElements",value:function(){var e;if(void 0!==this.m_overlayTextElements&&0!==this.m_overlayTextElements.length){var t,n=this.m_tmpVector.set(this.m_screenProjector.width,this.m_screenProjector.height),r=-n.width/2,i=n.height/2,o=a(this.m_overlayTextElements);try{for(o.s();!(t=o.n()).done;){var s=t.value,l=this.m_textStyleCache.getTextElementStyle(s.style),u=l.textCanvas;if(void 0!==u){if(this.initializeGlyphs(s,l,!1),s.loadingState===O.LoadingState.Initialized){var f=u.getLayer(null!==(e=s.renderOrder)&&void 0!==e?e:c.DEFAULT_TEXT_CANVAS_LAYER);if(!(void 0!==f&&f.storage.drawCount+s.glyphs.length>f.storage.capacity)){u.textRenderStyle=s.renderStyle,u.textLayoutStyle=s.layoutStyle;var h=void 0;if(s.type!==S.TextElementType.PathLabel)M.x=r+s.position.x*n.width,M.y=i-s.position.y*n.height,void 0!==s.xOffset&&(M.x+=s.xOffset),void 0!==s.yOffset&&(M.y-=s.yOffset),_.x=M.x,_.y=M.y,_.z=0,G(s,u,_);else{M.x=r,M.y=i,void 0!==s.xOffset&&(M.x+=s.xOffset),void 0!==s.yOffset&&(M.y-=s.yOffset);var p,m=[],v=a(s.path);try{for(v.s();!(p=v.n()).done;){var g=p.value,y=M.x+g.x*n.width,E=M.y-g.y*n.height;m.push(new d.Vector2(y,E))}}catch(R){v.e(R)}finally{v.f()}h=new A.SimplePath;for(var T=0;T<m.length-1;++T)h.add(new d.LineCurve(m[T],m[T+1]));G(s,u,_,h,!0)}}}}}}catch(R){o.e(R)}finally{o.f()}}}},{key:"getDistanceScalingFactor",value:function(e,t,n){var r=n/t;return r=1+(r-1)*e.distanceScale,r=Math.max(r,this.m_options.labelDistanceScaleMin),r=Math.min(r,this.m_options.labelDistanceScaleMax)}},{key:"getDistanceFadingFactor",value:function(e,t,n){var r=1,i=t.viewDistance;if(void 0!==i&&void 0!==e.fadeFar&&e.fadeFar>0){var o=void 0===e.fadeNear?0:e.fadeNear,a=e.fadeFar;a>o&&(r=1-d.MathUtils.clamp((i/n-o)/(a-o),0,1))}return r}},{key:"addPointLabel",value:function(e,t,n,r,i){var o,a=e.element,s=e.textRenderState,l=a.type===S.TextElementType.LineMarker,u=e.iconRenderState;f.assert(void 0!==u),M.x=C.x=n.x,M.y=C.y=n.y;var c=E.pointToPlaneDistance(t,this.m_viewState.worldCenter,this.m_cameraLookAt);if(void 0!==a.fadeFar&&(a.fadeFar<=0||a.fadeFar*this.m_viewState.maxVisibilityDist<c))return x&&++x.tooFar,!1;e.setViewDistance(c);var d=a.poiInfo,h=!1,p=void 0!==d&&f.MathUtils.isClamped(this.m_viewState.zoomLevel,d.iconMinZoomLevel,d.iconMaxZoomLevel)&&!1!==d.isValid,m=this.getDistanceScalingFactor(a,c,this.m_viewState.lookAtDistance),v=p&&this.m_poiRenderer.prepareRender(a,this.m_viewState.env),g=!1;if(v){var y=E.placeIcon(u,d,C,m,this.m_viewState.env,this.m_screenCollisions);g=y===E.PlacementResult.Invisible,h=y===E.PlacementResult.Rejected,g&&u.reset()}else p&&!1!==d.isValid&&(this.m_forceNewLabelsPass=!0,this.m_viewUpdateCallback());var A=this.getDistanceFadingFactor(a,e,this.m_viewState.maxVisibilityDist);if(r&&function(e,t,n){var r=e.textRenderState,i=e.element,o=i.poiInfo;if(f.assert(i.type!==S.TextElementType.PathLabel),void 0===r||""===i.text)return!1;if(void 0!==o&&!f.MathUtils.isClamped(t.zoomLevel,o.textMinZoomLevel,o.textMaxZoomLevel))return!1;var a=E.getMaxViewDistance(t,n.maxDistanceRatioForPoiLabels);return!!(!0===i.ignoreDistance||void 0===e.viewDistance||e.viewDistance<a&&e.viewDistance>0)&&(!o||!0===o.isValid||!0===o.iconIsOptional)}(e,this.m_viewState,this.m_options)){var T=!e.visible,O=h&&T?E.PlacementResult.Rejected:E.placePointLabel(e,M,m,r,this.m_viewState.env,this.m_screenCollisions,_,!l),R=O===E.PlacementResult.Invisible;if(R){if(x&&x.numPoiTextsInvisible++,!p||g)return e.reset(),!1;s.reset()}var L=!0===(null===d||void 0===d?void 0:d.iconIsOptional),b=h&&v&&!L||O===E.PlacementResult.Rejected;if(!h&&!g){var I=!0===(null===(o=a.poiInfo)||void 0===o?void 0:o.textIsOptional);h=b&&!I}b&&s.startFadeOut(i.time);var N=!R&&(!b&&function(e,t){var n=e.element.poiInfo;return!t.cameraIsMoving||void 0===n||!0===n.renderTextDuringMovements}(e,this.m_viewState)||s.isFading());N&&(b||s.startFadeIn(i.time,this.m_options.disableFading),i.fadeAnimationRunning=i.fadeAnimationRunning||s.isFading(),function(e,t,n,r,i){var o=e.element,a=e.textRenderState.opacity*r*o.renderStyle.opacity;if(0===a)return!1;P.letterCaseArray=o.glyphCaseArray,void 0===o.textBufferObject&&(o.textBufferObject=t.createTextBufferObject(o.glyphs,P));var s=o.renderStyle.backgroundOpacity>0&&t.textRenderStyle.fontSize.backgroundSize>0;return k.layer=o.renderOrder,k.position=n,k.scale=i,k.opacity=a,k.backgroundOpacity=s?k.opacity*o.renderStyle.backgroundOpacity:0,k.pickingData=o.userData?o:void 0,t.addTextBufferObject(o.textBufferObject,k),!0}(e,r,_,A,m)&&x&&x.numRenderedPoiTexts++)}if(v&&!g){h?u.startFadeOut(i.time):u.startFadeIn(i.time,this.m_options.disableFading),i.fadeAnimationRunning=i.fadeAnimationRunning||u.isFading();var w=u.opacity*A;if(w>0){var D=!1!==d.reserveSpace&&!h;this.m_poiRenderer.addPoi(d,C,this.m_screenCollisions,e.renderDistance,m,D,w,this.m_viewState.env),x&&x.numRenderedPoiIcons++}}return i.numRenderedTextElements++,!0}},{key:"addPoiLabel",value:function(e,t,n){var r=E.getWorldPosition(e.element,this.m_viewState.projection,this.m_viewState.env,this.m_tmpVector3);return!!this.labelPotentiallyVisible(r,M)&&this.addPointLabel(e,r,M,t,n)}},{key:"addLineMarkerLabel",value:function(e,t,n,r){var i,o=e.element,a=o.poiInfo;if(null===(i=this.m_poiRenderer)||void 0===i?void 0:i.prepareRender(o,this.m_viewState.env)){var s;void 0!==a.shieldGroupIndex&&void 0===(s=t[a.shieldGroupIndex])&&(s=[],t[a.shieldGroupIndex]=s);var l=a.technique,u=void 0!==l.minDistance?l.minDistance*l.minDistance:0;if(u>0&&void 0!==s){var c=0,d=e.position;if(this.labelPotentiallyVisible(d,M)){for(var h=!1,p=0;p<s.length;p+=2){if(h=f.Math2D.distSquared(s[p],s[p+1],M.x,M.y)<u)break}h||this.addPointLabel(e,d,M,n,r)&&(s.push(M.x,M.y),c++)}0===c&&e.reset()}else{var m=e.position;this.labelPotentiallyVisible(m,M)&&this.addPointLabel(e,m,M,n,r)}}}},{key:"addPathLabel",value:function(e,t,n,r){var i=E.getMaxViewDistance(this.m_viewState,this.m_options.maxDistanceRatioForTextLabels),o=e.element;if(!(!0===o.ignoreDistance||void 0===e.viewDistance||e.viewDistance<i))return x&&++x.tooFar,e.textRenderState.reset(),!1;if(void 0!==o.fadeFar&&(o.fadeFar<=0||o.fadeFar*this.m_viewState.maxVisibilityDist<e.renderDistance))return x&&++x.tooFar,e.textRenderState.reset(),!1;var a=new d.Path;M.copy(t[0]);for(var s=0;s<t.length-1;++s)a.add(new A.SimpleLineCurve(t[s],t[s+1]));if(a.getPoint(.5).x-a.getPoint(.51).x>0){M.copy(t[t.length-1]),a=new d.Path;for(var l=t.length-1;l>0;--l)a.add(new A.SimpleLineCurve(t[l],t[l-1]))}e.setViewDistance(E.computeViewDistance(o,void 0,this.m_viewState.worldCenter,this.m_cameraLookAt));var u=-e.renderDistance,c=this.getDistanceScalingFactor(o,u,this.m_viewState.lookAtDistance),f=n.textRenderStyle.fontSize.size;if(n.textRenderStyle.fontSize.size*=c,E.placePathLabel(e,a,M,n,this.m_screenCollisions)!==E.PlacementResult.Ok)return n.textRenderStyle.fontSize.size=f,x&&++x.numNotVisible,e.textRenderState.reset(),!1;e.textRenderState.startFadeIn(r.time,this.m_options.disableFading);var h=o.renderStyle.opacity;if(e.textRenderState.isFading()&&(h*=e.textRenderState.opacity,r.fadeAnimationRunning=!0),0===e.textRenderState.opacity)return n.textRenderStyle.fontSize.size=f,!1;var p=n.textRenderStyle.opacity,m=n.textRenderStyle.backgroundOpacity,v=this.getDistanceFadingFactor(o,e,this.m_viewState.maxVisibilityDist);return n.textRenderStyle.opacity=h*v,n.textRenderStyle.backgroundOpacity=n.textRenderStyle.opacity*o.renderStyle.backgroundOpacity,_.z=e.renderDistance,G(o,n,_,a),r.numRenderedTextElements++,n.textRenderStyle.fontSize.size=f,n.textRenderStyle.opacity=p,n.textRenderStyle.backgroundOpacity=m,!0}},{key:"checkIfOverloaded",value:function(e){var t=0;e.forEach((function(e){var n,r=a(e.renderedTiles.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;t+=i.textElementGroups.count()}}catch(o){r.e(o)}finally{r.f()}}));var n=t>2e4;return n&&!this.m_overloaded&&I.debug("Overloaded Mode enabled."),this.m_overloaded=n,this.m_overloaded}},{key:"labelPotentiallyVisible",value:function(e,t){var n,r=d.MathUtils.clamp(null!==(n=this.m_options.maxPoiDistanceToBorder)&&void 0!==n?n:0,0,1);return void 0!==this.m_screenProjector.projectAreaToScreen(e,r,r,t)}}]),e}();t.TextElementsRenderer=F},94814:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeDefaultOptions=void 0;t.initializeDefaultOptions=function(e){void 0===e.minNumGlyphs&&(e.minNumGlyphs=1024),void 0===e.maxNumGlyphs&&(e.maxNumGlyphs=32768),void 0===e.labelDistanceScaleMin&&(e.labelDistanceScaleMin=.7),void 0===e.labelDistanceScaleMax&&(e.labelDistanceScaleMax=1.5),void 0===e.maxDistanceRatioForTextLabels&&(e.maxDistanceRatioForTextLabels=.99),void 0===e.maxDistanceRatioForPoiLabels&&(e.maxDistanceRatioForPoiLabels=.99),void 0===e.disableFading&&(e.disableFading=!1),void 0===e.delayLabelsUntilMovementFinished&&(e.delayLabelsUntilMovementFinished=!0),void 0===e.showReplacementGlyphs&&(e.showReplacementGlyphs=!1),void 0===e.maxPoiDistanceToBorder&&(e.maxPoiDistanceToBorder=.2)}},4509:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextStyleCache=void 0;var s=n(26309),l=n(21690),u=n(15739),c=n(37119),f=n(47857),d=n(40449),h=u.LoggerManager.instance.create("TextStyleCache"),p=new l.TextRenderStyle({fontSize:{unit:l.FontUnit.Pixel,size:32,backgroundSize:8},color:c.ColorCache.instance.getColor("#6d7477"),opacity:1,backgroundColor:c.ColorCache.instance.getColor("#f7fbfd"),backgroundOpacity:.5}),m=new l.TextLayoutStyle({verticalAlignment:l.VerticalAlignment.Center,horizontalAlignment:l.HorizontalAlignment.Center,placements:[]}),v="default",g=function(){function e(){o(this,e),this.m_textStyles=new Map,this.m_defaultStyle={name:v,fontCatalog:void 0,renderParams:p.params,layoutParams:m.params},this.updateDefaultTextStyle()}return a(e,[{key:"updateTextStyles",value:function(e,t){var n=this;this.m_textStyles.clear(),null===e||void 0===e||e.forEach((function(e){n.m_textStyles.set(e.name,n.createTextElementStyle(e,e.name))})),this.updateDefaultTextStyle(t,e)}},{key:"updateTextCanvases",value:function(e){this.initializeTextCanvas(this.m_defaultStyle,e);var t,n=i(this.m_textStyles);try{for(n.s();!(t=n.n()).done;){var o=r(t.value,2)[1];this.initializeTextCanvas(o,e)}}catch(a){n.e(a)}finally{n.f()}}},{key:"getTextElementStyle",value:function(e){var t;return(void 0===e||void 0===(t=this.m_textStyles.get(e)))&&(t=this.m_defaultStyle),t}},{key:"createRenderStyle",value:function(e,t){var n,r=e.mapView,i=r.zoomLevel,o=Math.floor(i),a=new s.MapEnv({$zoom:o},r.env),d=this.m_defaultStyle.renderParams,h=u.getOptionValue(d.opacity,1),p=s.getPropertyValue(u.getOptionValue(t.opacity,h),a);if(void 0!==t.color){var m=f.evaluateColorProperty(t.color,a);if(void 0!==m){if(s.ColorUtils.hasAlphaInHex(m))p*=s.ColorUtils.getAlphaFromHex(m),m=s.ColorUtils.removeAlphaFromHex(m);n=c.ColorCache.instance.getColor(m)}}var v,g=u.getOptionValue(d.fontSize.backgroundSize,0),y=s.getPropertyValue(u.getOptionValue(t.backgroundSize,g),a),E=void 0!==t.backgroundColor&&void 0!==t.backgroundSize&&y>0,A=u.getOptionValue(d.backgroundOpacity,0),T=s.getPropertyValue(u.getOptionValue(t.backgroundOpacity,E?1:A),a);if(void 0!==t.backgroundColor){var O=f.evaluateColorProperty(t.backgroundColor,a);if(void 0!==O){if(s.ColorUtils.hasAlphaInHex(O))T*=s.ColorUtils.getAlphaFromHex(O),O=s.ColorUtils.removeAlphaFromHex(O);v=c.ColorCache.instance.getColor(O)}}var R={fontName:u.getOptionValue(t.fontName,d.fontName),fontSize:{unit:l.FontUnit.Pixel,size:s.getPropertyValue(u.getOptionValue(t.size,d.fontSize.size),a),backgroundSize:y},fontStyle:"Regular"===t.fontStyle||"Bold"===t.fontStyle||"Italic"===t.fontStyle||"BoldItalic"===t.fontStyle?l.FontStyle[t.fontStyle]:d.fontStyle,fontVariant:"Regular"===t.fontVariant||"AllCaps"===t.fontVariant||"SmallCaps"===t.fontVariant?l.FontVariant[t.fontVariant]:d.fontVariant,rotation:u.getOptionValue(t.rotation,d.rotation),color:u.getOptionValue(n,u.getOptionValue(d.color,l.DefaultTextStyle.DEFAULT_COLOR)),backgroundColor:u.getOptionValue(v,u.getOptionValue(d.backgroundColor,l.DefaultTextStyle.DEFAULT_BACKGROUND_COLOR)),opacity:p,backgroundOpacity:T},L=this.getTextElementStyle(t.style).renderParams;return new l.TextRenderStyle(Object.assign(Object.assign({},L),R))}},{key:"createLayoutStyle",value:function(e,t){var n,r,i,o,a,u,c=e.mapView,f=Math.floor(e.mapView.zoomLevel),d=new s.MapEnv({$zoom:f},c.env),h=this.m_defaultStyle.layoutParams,p=y(s.getPropertyValue(t.hAlignment,d),s.getPropertyValue(t.vAlignment,d),s.isPoiTechnique(t)?s.getPropertyValue(t.placements,d):null),m=p.horizontalAlignment,v=p.verticalAlignment,g=p.placements,E=s.getPropertyValue(t.wrappingMode,d),A="None"===E||"Character"===E||"Word"===E?l.WrappingMode[E]:h.wrappingMode,T={tracking:null!==(n=s.getPropertyValue(t.tracking,d))&&void 0!==n?n:h.tracking,leading:null!==(r=s.getPropertyValue(t.leading,d))&&void 0!==r?r:h.leading,maxLines:null!==(i=s.getPropertyValue(t.maxLines,d))&&void 0!==i?i:h.maxLines,lineWidth:null!==(o=s.getPropertyValue(t.lineWidth,d))&&void 0!==o?o:h.lineWidth,canvasRotation:null!==(a=s.getPropertyValue(t.canvasRotation,d))&&void 0!==a?a:h.canvasRotation,lineRotation:null!==(u=s.getPropertyValue(t.lineRotation,d))&&void 0!==u?u:h.lineRotation,wrappingMode:A,horizontalAlignment:m,verticalAlignment:v,placements:g},O=this.getTextElementStyle(t.style);return new l.TextLayoutStyle(Object.assign(Object.assign({},O),T))}},{key:"updateDefaultTextStyle",value:function(e,t){var n,r;this.m_defaultStyle.fontCatalog=void 0;var i=null!==(r=null!==(n=null===t||void 0===t?void 0:t.find((function(e){return e.name===v})))&&void 0!==n?n:e)&&void 0!==r?r:null===t||void 0===t?void 0:t[0];i&&(this.m_defaultStyle=this.createTextElementStyle(i,v)),this.m_defaultStyle.textCanvas=void 0}},{key:"initializeTextCanvas",value:function(e,t){var n;if(!e.textCanvas){if(void 0!==e.fontCatalog){var o=t.get(e.fontCatalog);if(e.textCanvas=o,t.has(e.fontCatalog)&&!o)return void h.info("fontCatalog(".concat(e.fontCatalog,"), not yet loaded"))}if(void 0===e.textCanvas){void 0!==e.fontCatalog&&e.fontCatalog!==d.DEFAULT_FONT_CATALOG_NAME&&h.warn("FontCatalog '".concat(e.fontCatalog,"' set in TextStyle\n                     '").concat(e.name,"' not found"));var a=t.get(d.DEFAULT_FONT_CATALOG_NAME);if(!a&&t.size>0){var s,l=i(t);try{for(l.s();!(s=l.n()).done;){var u=r(s.value,2)[1];if(u){a=u;break}}}catch(c){l.e(c)}finally{l.f()}}a&&(e.textCanvas=a,void 0!==e.fontCatalog&&h.info("fontCatalog: '".concat(e.fontCatalog,"' not found,\n                      using default fontCatalog(").concat(null===(n=e.textCanvas)||void 0===n?void 0:n.name,").")))}}}},{key:"createTextElementStyle",value:function(e,t){var n,r=y(e.hAlignment,e.vAlignment,e.placements),i=r.horizontalAlignment,o=r.verticalAlignment,a=r.placements;return{name:t,fontCatalog:u.getOptionValue(e.fontCatalogName,this.m_defaultStyle.fontCatalog),renderParams:{fontName:e.fontName,fontSize:{unit:l.FontUnit.Pixel,size:32,backgroundSize:null!==(n=e.backgroundSize)&&void 0!==n?n:8},fontStyle:"Regular"===e.fontStyle||"Bold"===e.fontStyle||"Italic"===e.fontStyle||"BoldItalic"===e.fontStyle?l.FontStyle[e.fontStyle]:void 0,fontVariant:"Regular"===e.fontVariant||"AllCaps"===e.fontVariant||"SmallCaps"===e.fontVariant?l.FontVariant[e.fontVariant]:void 0,rotation:e.rotation,color:void 0!==e.color?c.ColorCache.instance.getColor(e.color):void 0,backgroundColor:void 0!==e.backgroundColor?c.ColorCache.instance.getColor(e.backgroundColor):void 0,opacity:e.opacity,backgroundOpacity:e.backgroundOpacity},layoutParams:{tracking:e.tracking,leading:e.leading,maxLines:e.maxLines,lineWidth:e.lineWidth,canvasRotation:e.canvasRotation,lineRotation:e.lineRotation,wrappingMode:"None"===e.wrappingMode||"Character"===e.wrappingMode||"Word"===e.wrappingMode?l.WrappingMode[e.wrappingMode]:l.WrappingMode.Word,verticalAlignment:o,horizontalAlignment:i,placements:a}}}}]),e}();function y(e,t,n){var r=n?function(e){var t=[];return(e?e.toUpperCase().replace(" ","").split(","):[]).forEach((function(e){var n=function(e){if(e.length<1||e.length>2)return;var t={h:l.HorizontalPlacement.Center,v:l.VerticalPlacement.Center},n=e.charAt(0),r=!0;switch(n){case s.PlacementToken.Top:case s.PlacementToken.North:t.v=l.VerticalPlacement.Top;break;case s.PlacementToken.Bottom:case s.PlacementToken.South:t.v=l.VerticalPlacement.Bottom;break;default:if(r=!1,2===e.length)return}if(r&&1===e.length)return t;switch(n=1===e.length?e.charAt(0):e.charAt(1)){case s.PlacementToken.Right:case s.PlacementToken.East:t.h=l.HorizontalPlacement.Right;break;case s.PlacementToken.Left:case s.PlacementToken.West:t.h=l.HorizontalPlacement.Left;break;default:return}return t}(e);void 0!==n&&t.push(n)})),t}(n):void 0;return l.resolvePlacementAndAlignment(function(e){return"Left"===e||"Center"===e||"Right"===e?l.HorizontalAlignment[e]:m.horizontalAlignment}(e),function(e){return"Above"===e||"Center"===e||"Below"===e?l.VerticalAlignment[e]:m.verticalAlignment}(t),r)}t.TextStyleCache=g},30240:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TileTextStyleCache=void 0;var o=function(){function e(t){r(this,e),this.textRenderStyles=[],this.textLayoutStyles=[],this.tile=t}return i(e,[{key:"clear",value:function(){this.textRenderStyles.length=0,this.textLayoutStyles.length=0}},{key:"getRenderStyle",value:function(e){var t=this.textRenderStyles[e._index];return void 0===t&&(t=this.textRenderStyles[e._index]=this.tile.mapView.textElementsRenderer.styleCache.createRenderStyle(this.tile,e)),t}},{key:"getLayoutStyle",value:function(e){var t=this.textLayoutStyles[e._index];return void 0===t&&(t=this.textLayoutStyles[e._index]=this.tile.mapView.textElementsRenderer.styleCache.createLayoutStyle(this.tile,e)),t}}]),e}();t.TileTextStyleCache=o},4520:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateStats=void 0;var o=n(30202),a=function(){function e(t){r(this,e),this.m_logger=t,this.tiles=0,this.totalGroups=0,this.newGroups=0,this.totalLabels=0,this.results=new Array(o.PrePlacementResult.Count),this.results.fill(0)}return i(e,[{key:"clear",value:function(){this.tiles=0,this.totalGroups=0,this.newGroups=0,this.totalLabels=0,this.results.fill(0)}},{key:"log",value:function(){this.m_logger.debug("Tiles",this.tiles),this.m_logger.debug("Total groups",this.totalGroups),this.m_logger.debug("New groups",this.newGroups),this.m_logger.debug("Total labels",this.totalLabels),this.m_logger.debug("Placed labels",this.results[o.PrePlacementResult.Ok]),this.m_logger.debug("Invisible",this.results[o.PrePlacementResult.Invisible]),this.m_logger.debug("Poi not ready",this.results[o.PrePlacementResult.NotReady]),this.m_logger.debug("Too far",this.results[o.PrePlacementResult.TooFar]),this.m_logger.debug("Duplicate",this.results[o.PrePlacementResult.Duplicate])}}]),e}();t.UpdateStats=a},14194:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWorkerBootstrapResponse=t.isWorkerBootstrapRequest=void 0,t.isWorkerBootstrapRequest=function(e){return e&&"worker-bootstrap-request"===e.type&&Array.isArray(e.dependencies)},t.isWorkerBootstrapResponse=function(e){return e&&"worker-bootstrap-response"===e.type&&Array.isArray(e.resolvedDependencies)}},53687:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerLoader=void 0,n(89064);var a=n(15739),s=n(14194),l=a.LoggerManager.instance.create("WorkerLoader"),u=function(){function e(){i(this,e)}return o(e,null,[{key:"startWorker",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return t.startsWith("blob:")?this.startWorkerImmediately(t,r):this.directlyFallbackToBlobBasedLoading?this.startWorkerBlob(t,r):this.startWorkerImmediately(t,r).catch((function(i){if("undefined"!==typeof window){var o=window.location.href,s=new URL(t,o).href;if(a.getUrlOrigin(s)===a.getUrlOrigin(o))throw i;return l.log("#startWorker: cross-origin worker construction failed, trying load with blob"),n.directlyFallbackToBlobBasedLoading=!0,e.startWorkerBlob(t,r)}throw i}))}},{key:"startWorkerImmediately",value:function(e,t){try{var n=new Worker(e);return this.waitWorkerInitialized(n,t)}catch(r){return Promise.reject(r)}}},{key:"startWorkerBlob",value:function(e,t){var n=this;return this.fetchScriptSourceToBlobUrl(e).then((function(e){return n.startWorkerImmediately(e,t)}))}},{key:"fetchScriptSourceToBlobUrl",value:function(e){var t=this,n=this.sourceLoaderCache.get(e);return void 0!==n||(n=fetch(e).then((function(e){return e.text()})).catch((function(e){throw new Error("WorkerLoader#fetchScriptSourceToBlob: failed to load worker script: ".concat(e))})).then((function(n){t.sourceLoaderCache.delete(e);var r=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(r)})),this.sourceLoaderCache.set(e,n)),n}},{key:"waitWorkerInitialized",value:function(e,t){var n=this;return new Promise((function(i,o){var a=function(t){var a=t.data;if(s.isWorkerBootstrapRequest(a)){var l,c=a.dependencies,f=[],d=r(c);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=n.dependencyUrlMapping[h];if(!p)return u(),void o(new Error("#waitWorkerInitialized: Unable to resolve '".concat(h,"'")+" as needed by worker script."));f.push(p)}}catch(v){d.e(v)}finally{d.f()}var m={type:"worker-bootstrap-response",resolvedDependencies:f};e.postMessage(m)}else u(),i(e),setTimeout((function(){e.dispatchEvent(t)}),0)},l=function(e){u();var t="Error during worker initialization";e.message&&(t+=": ".concat(e.message)),"string"===typeof e.filename&&"number"===typeof e.lineno&&(t+=" in ".concat(e.filename,":").concat(e.lineno)),o(new Error(t))},u=function(){clearTimeout(c),e.removeEventListener("message",a),e.removeEventListener("error",l)};e.addEventListener("error",l),e.addEventListener("message",a);var c=setTimeout((function(){u(),o(new Error("Timeout exceeded when waiting for first message from worker."))}),t)}))}}]),e}();t.WorkerLoader=u,u.directlyFallbackToBlobBasedLoading=!1,u.sourceLoaderCache=new Map,u.dependencyUrlMapping={}},85164:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(72686),t),i(n(35531),t),i(n(6798),t),i(n(82058),t),i(n(83982),t),i(n(62170),t),i(n(82067),t),i(n(76161),t),i(n(57506),t),i(n(32116),t),i(n(67129),t),i(n(14969),t),i(n(50470),t),i(n(84047),t),i(n(10657),t),i(n(59702),t),i(n(85070),t),i(n(3879),t)},72686:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(81506).default,a=n(2205).default,s=n(99842).default,l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.CirclePointsMaterial=void 0;var u=n(34585),c=n(50470),f=n(85070),d=function(e){a(n,e);var t=s(n);function n(e){var i;r(this,n);var a,s,c,d,h=new u.Color;if(e){var p=e.size,m=e.color,v=e.opacity,g=l(e,["size","color","opacity"]);a=p,s=m,c=v,g.name="CirclePointsMaterial",g.vertexShader="\nuniform float size;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\nvoid main() {\n    vec3 transformed = vec3(position);\n    vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.0);\n\n    gl_Position = projectionMatrix * mvPosition;\n    gl_PointSize = size;\n}\n",g.fragmentShader="\nprecision highp float;\nprecision highp int;\n\nuniform vec3 diffuse;\nuniform float opacity;\n\nvoid main() {\n    float alpha = opacity;\n\n    float radius = 0.5;\n    vec2 coords = gl_PointCoord.xy - vec2(0.5);\n    float len = length(coords);\n    float falloff = fwidth(len);\n    float threshold = 1.0 - smoothstep(radius - falloff, radius, len);\n    alpha *= threshold;\n\n    gl_FragColor = vec4(diffuse, alpha);\n}",g.uniforms=u.UniformsUtils.merge([{size:new u.Uniform(n.DEFAULT_CIRCLE_SIZE),diffuse:new u.Uniform(h),opacity:new u.Uniform(1)},u.UniformsLib.fog]),g.depthTest=!1,g.extensions=Object.assign(Object.assign({},g.extensions),{derivatives:!0}),d=g}return i=t.call(this,d),f.enforceBlending(o(i)),i.type="CirclePointsMaterial",i.setOpacity(1),void 0!==a&&(i.size=a),void 0!==s&&(i.color=s),void 0!==c&&i.setOpacity(c),i}return i(n,[{key:"size",get:function(){return this.uniforms.size.value},set:function(e){this.uniforms.size.value=e}},{key:"color",get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value.copy(e)}}]),n}(c.RawShaderMaterial);t.CirclePointsMaterial=d,d.DEFAULT_CIRCLE_SIZE=1},35531:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CopyMaterial=t.CopyShader=void 0;var s=n(34585);t.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }",fragmentShader:"\n    uniform float opacity;\n    uniform sampler2D tDiffuse;\n    varying vec2 vUv;\n    void main() {\n        vec4 texel = texture2D( tDiffuse, vUv );\n        gl_FragColor = opacity * texel;\n    }"};var l=function(e){o(l,e);var n=a(l);function l(e){return i(this,l),n.call(this,{name:"CopyMaterial",uniforms:e,vertexShader:t.CopyShader.vertexShader,fragmentShader:t.CopyShader.fragmentShader,premultipliedAlpha:!0,transparent:!1,blending:s.NoBlending,depthTest:!1,depthWrite:!1})}return r(l)}(s.ShaderMaterial);t.CopyMaterial=l},6798:function(e,t){"use strict";function n(e){return"displacementMap"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.setDisplacementMapToMaterial=t.hasDisplacementFeature=void 0,t.hasDisplacementFeature=n,t.setDisplacementMapToMaterial=function(e,t){n(t)&&t.displacementMap!==e&&(t.displacementMap=e,t.needsUpdate=!0,null!==t.displacementMap&&(t.displacementMap.needsUpdate=!0))}},82058:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(81506).default,a=n(2205).default,s=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeMaterial=void 0;var l=n(34585),u=n(67129),c=n(32116),f=n(50470),d=n(85070),h=function(e){a(n,e);var t=s(n);function n(e){var i,a,s;if(r(this,n),e){var f={},h=void 0!==e.extrusionRatio&&e.extrusionRatio>=c.ExtrusionFeatureDefs.DEFAULT_RATIO_MIN&&e.extrusionRatio<c.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX;e.displacementMap&&d.setShaderDefine(f,"USE_DISPLACEMENTMAP",!0),h&&d.setShaderDefine(f,"USE_EXTRUSION",!0),!0===e.vertexColors&&d.setShaderDefine(f,"USE_COLOR",!0),s={name:"EdgeMaterial",vertexShader:"\n#define EDGE_DEPTH_OFFSET 0.0001\n\n#ifdef USE_COLOR\nattribute vec4 color;\n#else\nuniform vec3 color;\n#endif\n\n// SHADER_NAME may be defined by THREE.JS own shaders in which case these attributes & uniforms are\n// already defined\n#ifndef SHADER_NAME\nattribute vec3 position;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat3 normalMatrix;\n#endif\n\nuniform vec3 edgeColor;\nuniform float edgeColorMix;\n\n#ifdef USE_DISPLACEMENTMAP\nattribute vec3 normal;\nattribute vec2 uv;\nuniform sampler2D displacementMap;\n#endif\n\nvarying vec3 vColor;\n\n#ifdef USE_EXTRUSION\n#include <extrusion_pars_vertex>\n#endif\n\n#ifdef USE_FADING\n#include <fading_pars_vertex>\n#endif\n\nvoid main() {\n\n    vColor = mix(edgeColor.rgb, color.rgb, edgeColorMix);\n\n    vec3 transformed = vec3( position );\n\n    #ifdef USE_EXTRUSION\n    #include <extrusion_vertex>\n    #endif\n\n    #ifdef USE_DISPLACEMENTMAP\n    transformed += normalize( normal ) * texture2D( displacementMap, uv ).x;\n    #endif\n\n    vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\n    gl_Position = projectionMatrix * mvPosition;\n    // After projection gl_Position contains clip space coordinates of each vertex\n    // before perspective division (1 / w), thus only vertexes with -w < z < w should\n    // be displayed and offset. We offset only those edges which z coordinate in NDC\n    // space is between: -inf < z < 1\n    float depthOffset = step(-1.0, -gl_Position.z / gl_Position.w) * EDGE_DEPTH_OFFSET;\n    gl_Position.z -= depthOffset;\n\n    #ifdef USE_FADING\n    #include <fading_vertex>\n    #endif\n}",fragmentShader:"\nprecision highp float;\nprecision highp int;\n\nvarying vec3 vColor;\n\n#ifdef USE_EXTRUSION\n#include <extrusion_pars_fragment>\n#endif\n\n#ifdef USE_FADING\n#include <fading_pars_fragment>\n#endif\n\nvoid main() {\n    float alphaValue = 1.0;\n    gl_FragColor = vec4(vColor, alphaValue);\n\n    #ifdef USE_EXTRUSION\n    #include <extrusion_fragment>\n    #endif\n\n    #ifdef USE_FADING\n    #include <fading_fragment>\n    #endif\n}",uniforms:{color:new l.Uniform(new l.Color(n.DEFAULT_COLOR)),edgeColor:new l.Uniform(new l.Color(n.DEFAULT_COLOR)),edgeColorMix:new l.Uniform(n.DEFAULT_COLOR_MIX),fadeNear:new l.Uniform(u.FadingFeature.DEFAULT_FADE_NEAR),fadeFar:new l.Uniform(u.FadingFeature.DEFAULT_FADE_FAR),extrusionRatio:new l.Uniform(c.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX),displacementMap:new l.Uniform(null!==(a=e.displacementMap)&&void 0!==a?a:new l.Texture)},depthWrite:!1,defines:f,rendererCapabilities:e.rendererCapabilities}}return i=t.call(this,s),d.enforceBlending(o(i)),u.FadingFeature.patchGlobalShaderChunks(),u.ExtrusionFeature.patchGlobalShaderChunks(),void 0!==e&&(void 0!==e.color&&i.color.set(e.color),void 0!==e.colorMix&&(i.colorMix=e.colorMix),void 0!==e.fadeNear&&(i.fadeNear=e.fadeNear),void 0!==e.fadeFar&&(i.fadeFar=e.fadeFar),void 0!==e.displacementMap&&(i.displacementMap=e.displacementMap),void 0!==e.extrusionRatio&&(i.extrusionRatio=e.extrusionRatio)),i}return i(n,[{key:"objectColor",get:function(){return this.uniforms.color.value},set:function(e){this.uniforms.color.value.copy(e)}},{key:"color",get:function(){return this.uniforms.edgeColor.value},set:function(e){this.uniforms.edgeColor.value.copy(e)}},{key:"lineWidth",get:function(){return this.linewidth},set:function(e){this.linewidth=e,this.linewidth<=0?this.visible=!1:this.visible=!0}},{key:"colorMix",get:function(){return this.uniforms.edgeColorMix.value},set:function(e){this.uniforms.edgeColorMix.value!==e&&(this.uniforms.edgeColorMix.value=e)}},{key:"fadeNear",get:function(){return this.uniforms.fadeNear.value},set:function(e){this.uniforms.fadeNear.value=e}},{key:"fadeFar",get:function(){return this.uniforms.fadeFar.value},set:function(e){this.uniforms.fadeFar.value!==e&&(this.uniforms.fadeFar.value=e,d.setShaderMaterialDefine(this,"USE_FADING",e>0))}},{key:"extrusionRatio",get:function(){return this.uniforms.extrusionRatio.value},set:function(e){if(this.uniforms.extrusionRatio.value!==e){this.uniforms.extrusionRatio.value=e;var t=e>=c.ExtrusionFeatureDefs.DEFAULT_RATIO_MIN;d.setShaderMaterialDefine(this,"USE_EXTRUSION",t)}}},{key:"displacementMap",get:function(){return this.uniforms.displacementMap.value},set:function(e){if(this.uniforms.displacementMap.value!==e){this.uniforms.displacementMap.value=e;var t=null!==e;t&&(this.uniforms.displacementMap.value.needsUpdate=!0),d.setShaderMaterialDefine(this,"USE_DISPLACEMENTMAP",t)}}}]),n}(f.RawShaderMaterial);t.EdgeMaterial=h,h.DEFAULT_COLOR=0,h.DEFAULT_COLOR_MIX=0},83982:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GroundAtmosphereMaterial=t.GroundAtmosphereShader=void 0;var s=n(34585),l=n(50470),u=n(7893),c=n(85070);t.GroundAtmosphereShader={uniforms:{u_eyePositionWorld:new s.Uniform(new s.Vector3),u_lightDirectionWorld:new s.Uniform(new s.Vector3(0,1,0)),u_modelViewProjection:new s.Uniform(new s.Matrix4),u_atmosphereEnv:new s.Uniform(new s.Vector3(6384515.136999999,6537590.425,0)),u_hsvCorrection:new s.Uniform(new s.Vector3(0,0,0)),topColor:new s.Uniform(new s.Color(30719)),bottomColor:new s.Uniform(new s.Color(16777215)),offset:new s.Uniform(33),exponent:new s.Uniform(.6),fogColor:new s.Uniform(new s.Color(30719)),fogNear:new s.Uniform(new s.Color(30719)),fogFar:new s.Uniform(new s.Color(16777215))},vertexShader:"\n\n    #define IMPROVE_INTERSECT_PRECISION 1\n    #define IMPROVE_DOT_PRECISION 1\n\n    precision highp float;\n    precision highp int;\n\n    attribute vec4 position;\n\n    // Base mandatory uniforms\n    uniform mat4 u_modelViewProjection;\n    uniform vec3 u_eyePositionWorld;\n    uniform vec3 u_lightDirectionWorld;\n\n    uniform vec3 u_atmosphereEnv; // Atmosphere inner and outer radius, camera height\n    uniform vec3 u_hsvCorrection;\n\n    const float Pi = 3.141592653589793;\n    const float Kr = 0.0025;\n    const float Km = 0.0015;\n    const float Kr4PI = Kr * 4.0 * Pi;\n    const float Km4PI = Km * 4.0 * Pi;\n    const float ESun = 25.0; // should be 15.0\n    const float KmESun = Km * ESun;\n    const float KrESun = Kr * ESun;\n    const vec3 InvWavelength = vec3(\n        1.0 / pow(0.650, 4.0), // Red\n        1.0 / pow(0.570, 4.0), // Green\n        1.0 / pow(0.475, 4.0)); // Blue\n\n    const int nSamples = 2;\n    const float fSamples = 2.0;\n\n    varying vec3 v_rayleighColor;\n    varying vec3 v_mieColor;\n    varying vec3 v_vertToCamera;\n    varying vec3 v_vertToOrigin;\n\n    ".concat(u.default.atmosphere_vertex_utils,"\n\n    //\n    // Computes rayleight and mia atmosphere factors for ground.\n    //\n    // Code based on GPU Gems article.\n    //\n    // Author: Sean O'Neil\n    //\n    // Copyright (c) 2004 Sean O'Neil\n    //\n    // https://developer.nvidia.com/gpugems/gpugems2/part-ii-shading-lighting-and-shadows/chapter-16-accurate-atmospheric-scattering\n    //\n    // Further modifications by HERE.\n    //\n    AtmosphereColor computeGroundAtmosphere(vec3 v3Pos, vec3 vLightDir)\n    {\n        // Retrieve environment variables\n        float fInnerRadius = u_atmosphereEnv.x;\n        float fOuterRadius = u_atmosphereEnv.y;\n        float fCameraHeight = u_atmosphereEnv.z;\n\n        // All that may be moved to const or define(s) at further optimizations:\n        float fScale = 1.0 / (fOuterRadius - fInnerRadius);\n        float fScaleOverScaleDepth = fScale / RayleighScaleDepth;\n        float fCameraHeight2 = fCameraHeight * fCameraHeight;\n        float fOuterRadius2 = fOuterRadius * fOuterRadius;\n\n        // Get the ray from the camera to the vertex and its length (which is the far point of the ray passing through the atmosphere)\n        vec3 v3Ray = v3Pos - u_eyePositionWorld;\n        float fFar = length(v3Ray);\n        v3Ray /= fFar;\n\n#if !defined(IMPROVE_DOT_PRECISION)\n        vec3 v3Dir = normalize(v3Pos);\n#endif\n\n#ifdef CAMERA_IN_SPACE\n\n        // Calculate first point of camera ray and sphere intersection.\n        float fNear = getNearSphereIntersect(u_eyePositionWorld, v3Ray, fCameraHeight2, fOuterRadius2);\n        // Make far relative to first atmosphere intersection, setting it to\n        // the length of ray passed through atmosphere\n        fFar -= fNear;\n\n        // Compute the ray's starting position within the atmosphere, then\n        // calculate its scattering offset\n        vec3 v3Start = u_eyePositionWorld + v3Ray * fNear;\n        float fDepth = exp((fInnerRadius - fOuterRadius) / RayleighScaleDepth);\n\n#else // CAMERA_IN_ATMOSPHERE\n\n        // The ray starts already in atmosphere\n        vec3 v3Start = u_eyePositionWorld;\n        // Virtually fNear is just at eye position, so ray passing through atmosphere does not shorten\n        // fFar -= 0.0;\n        float fDepth = exp((fInnerRadius - fCameraHeight) / RayleighScaleDepth);\n#endif\n\n#if defined(IMPROVE_DOT_PRECISION)\n        float fCameraAngle = dot(-v3Ray, v3Pos) / length(v3Pos);\n#else\n        float fCameraAngle = dot(-v3Ray, v3Dir);\n#endif\n        float fCameraScale = scale(fCameraAngle);\n\n#ifdef DYNAMIC_LIGHT\n        // When we want the atmosphere to be uniform over the globe so it is set to 1.0.\n        #if defined(IMPROVE_DOT_PRECISION)\n            // The light angle for given light source may be calculated as:\n            // angle = dot(vLightDir, v3Dir) / length(v3Dir);\n            // where v3Dir holds normalized vertex position, but for precision issues we v3Pos (un-normalized)\n            float fLightAngle = dot(vLightDir, v3Pos) / length(v3Pos);\n        #else\n            float fLightAngle = dot(vLightDir, v3Dir);\n        #endif\n#else\n        float fLightAngle = 1.0;\n#endif\n        float fLightScale = scale(fLightAngle);\n\n        float fCameraOffset = fDepth * fCameraScale;\n        float fTemp = (fLightScale + fCameraScale);\n\n        // Initialize the scattering loop variables\n        float fSampleLength = fFar / fSamples;\n        float fScaledLength = fSampleLength * fScale;\n        vec3 v3SampleRay = v3Ray * fSampleLength;\n        vec3 v3SamplePoint = v3Start + v3SampleRay * 0.5;\n\n        // Now loop through the sample rays\n        vec3 v3BaseColor = vec3(0.0);\n        vec3 v3Attenuate = vec3(0.0);\n        for(int i = 0; i < nSamples; i++)\n        {\n            float fHeight = length(v3SamplePoint);\n            float fDepth = exp(fScaleOverScaleDepth * (fInnerRadius - fHeight));\n            float fScatter = fDepth * fTemp - fCameraOffset;\n            // Compute color factors\n            v3Attenuate = exp(-fScatter * (InvWavelength * Kr4PI + Km4PI));\n            v3BaseColor += v3Attenuate * (fDepth * fScaledLength);\n            // Move to the next point\n            v3SamplePoint += v3SampleRay;\n        }\n\n        AtmosphereColor color;\n        color.mie = v3BaseColor * (InvWavelength * KrESun + KmESun);\n        // Calculate the attenuation factor for the ground\n        color.rayleigh = v3Attenuate;\n\n        return color;\n    }\n\n    void main(void)\n    {\n        #ifdef DYNAMIC_LIGHT\n            vec3 vLightDir = u_lightDirectionWorld;\n        #else\n            vec3 vLightDir = u_eyePositionWorld;\n        #endif\n        vLightDir = normalize(vLightDir);\n\n        AtmosphereColor atmColor = computeGroundAtmosphere(position.xyz, vLightDir);\n        v_mieColor = atmColor.mie;\n        v_rayleighColor = atmColor.rayleigh;\n        v_vertToCamera = u_eyePositionWorld - position.xyz;\n        v_vertToOrigin = normalize(position.xyz);\n\n        gl_Position = u_modelViewProjection * position;\n    }\n    "),fragmentShader:"\n\n    // Exposure correction gives more subtle gradients on the ground.\n    #define CORRECT_EXPOSURE 1\n    #define FADE_DEPTH 1\n    #define NIGHT_LOCAL 1\n\n    precision highp float;\n    precision highp int;\n\n    #ifdef CORRECT_COLOR\n    uniform vec3 u_hsvCorrection; // Hue, saturation, brightness\n    #endif\n\n    uniform vec3 u_atmosphereEnv; // Atmosphere inner and outer radius, camera height\n    uniform vec3 u_eyePositionWorld;\n    uniform vec3 u_lightDirectionWorld;\n\n    const float g = -0.95;\n    const float g2 = g * g;\n\n    varying vec3 v_rayleighColor;\n    varying vec3 v_mieColor;\n    varying vec3 v_vertToCamera;\n    varying vec3 v_vertToOrigin;\n\n    ".concat(u.default.atmosphere_fragment_utils,"\n\n    void main(void)\n    {\n        float fInnerRadius = u_atmosphereEnv.x;\n        float fOuterRadius = u_atmosphereEnv.y;\n        float fCameraHeight = u_atmosphereEnv.z;\n\n        #ifdef DYNAMIC_LIGHT\n            vec3 vLightDir = u_lightDirectionWorld;\n        #else\n            vec3 vLightDir = u_eyePositionWorld;\n        #endif\n        vLightDir = normalize(vLightDir);\n\n        // GPU gems mix of ground solution, with custom alpha settings\n        vec3 cRgb = v_mieColor + 0.25 * v_rayleighColor;\n\n        // Not needed for HDR frame buffer\n    #if !defined(HDR_FRAME_BUFFER) && defined(CORRECT_EXPOSURE)\n        // Interesting results with exposure factor: 2.0, 3.5, 4.0\n        cRgb = correctExposure(cRgb, 3.0);\n    #endif\n\n    #ifdef CORRECT_COLOR\n        cRgb = correctColor(cRgb, u_hsvCorrection);\n    #endif\n\n        // Base atmosphere opacity\n        float fAtmosphereAlpha = 1.0;\n\n        // Factor based on the distance of camera atmosphere and ground, results are:\n        // 0.0 = camera on the ground surface,\n        // 1.0 = at the outer edge of the atmosphere.\n        float fDepthFactor = clamp((fCameraHeight - fInnerRadius) /\n            (fOuterRadius - fInnerRadius), 0.0, 1.0);\n    #ifdef FADE_DEPTH\n        // Fade alpha based on the distance of camera between atmosphere layers\n        #ifdef FADE_DEPTH_LINEAR\n            fAtmosphereAlpha *= fDepthFactor;\n        #else\n            fAtmosphereAlpha *= pow(fDepthFactor, 1.5);\n        #endif\n    #endif\n\n#if defined(FADE_NIGHT) || defined(DARKEN_NIGHT)\n    #ifdef DYNAMIC_LIGHT\n        // Adjust factor based on time of day, results are:\n        // 0.0 = night,\n        // 1.0 = day.\n        #ifdef NIGHT_GLOBAL\n            // Global night fade based on camera and light orientation\n            float fNightFactor = clamp(dot(normalize(u_eyePositionWorld), vLightDir), 0.0, 1.0);\n            fNightFactor = pow(fNightFactor, 0.5);\n        #else // NIGHT_LOCAL\n            float fNightFactor =\n                clamp(dot(v_vertToOrigin, vLightDir) / length(v_vertToOrigin), 0.0, 1.0);\n            fNightFactor = pow(fNightFactor, 0.8);\n        #endif\n    #else\n        float fNightFactor = 1.0;\n    #endif\n#endif\n\n    #ifdef FADE_NIGHT\n        // Adjust alpha for night side of the globe\n        fAtmosphereAlpha *= fNightFactor;\n    #endif\n\n    #ifdef DARKEN_NIGHT\n        // Change the brightness depending on night / day side.\n        // NOTE: Darkening should be rather applied in HSV space, without loss on saturation,\n        // but it is much more GPU consuming.\n        const float minBrightness = 0.5;\n        float fDarkenFactor = clamp(fNightFactor, minBrightness, 1.0);\n        cRgb *= fDarkenFactor;\n    #endif\n\n    #ifdef EXPOSURE_DEPTH\n        // Control exposure depending from ground distance\n        float exposureBoost = 3.0 - fDepthFactor;\n        cRgb = correctExposure(cRgb, exposureBoost);\n    #endif\n\n        // Experimental fading out of focus point - similar to fresnel effect in top view.\n        // This fade is handy to better expose cartographic/map features in screen center.\n        float fFocusFactor = 1.0 - clamp(dot(normalize(v_vertToCamera), v_vertToOrigin), 0.0, 1.0) + 0.1;\n        fFocusFactor = pow(fFocusFactor, 2.5);\n        fAtmosphereAlpha *= fFocusFactor;\n\n        // Integrate all features\n        gl_FragColor = vec4(cRgb, fAtmosphereAlpha);\n    }\n    ")};var f=function(e){o(l,e);var n=a(l);function l(e){var i;if(r(this,l),e){i={name:"GroundAtmosphereMaterial",vertexShader:t.GroundAtmosphereShader.vertexShader,fragmentShader:t.GroundAtmosphereShader.fragmentShader,uniforms:t.GroundAtmosphereShader.uniforms,transparent:!0,depthTest:!1,depthWrite:!1,side:s.FrontSide,blending:s.NormalBlending,fog:!1,rendererCapabilities:e.rendererCapabilities}}return n.call(this,i)}return i(l,[{key:"setDynamicLighting",value:function(e){c.setShaderMaterialDefine(this,"DYNAMIC_LIGHT",e)}},{key:"outerRadius",get:function(){return this.uniforms.u_atmosphereEnv.value.y},set:function(e){this.uniforms.u_atmosphereEnv.value.y=e}},{key:"innerRadius",get:function(){return this.uniforms.u_atmosphereEnv.value.x},set:function(e){this.uniforms.u_atmosphereEnv.value.x=e}},{key:"updateUniforms",value:function(e,t,n,r){var i=this.getCameraInfo(t,n);if(void 0===e||!e.isMaterial)throw Error("Wrong object used, only Material objects are supported");if(!(e.uniforms&&e.uniforms.u_atmosphereEnv&&e.uniforms.u_hsvCorrection&&e.uniforms.u_eyePositionWorld&&e.uniforms.u_modelViewProjection&&e.uniforms.u_lightDirectionWorld))throw Error("Atmosphere material has missing uniforms");var o=i.eyePos,a=i.modelViewProjection,s=i.eyeHeight;e.uniforms.u_eyePositionWorld.value.copy(o),e.uniforms.u_modelViewProjection.value.copy(a),e.uniforms.u_atmosphereEnv.value.z=s,e.uniforms.u_lightDirectionWorld.value=r.clone();var l=s>this.outerRadius,u=c.setShaderDefine(e.defines,"CAMERA_IN_SPACE",l),f=c.setShaderDefine(e.defines,"CAMERA_IN_ATMOSPHERE",!l);e.needsUpdate=e.needsUpdate||u||f}},{key:"getCameraInfo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=(new s.Matrix4).identity(),i=(new s.Matrix4).copy(e.matrixWorld).invert().transpose(),o=t.projectionMatrix,a=new s.Matrix4;a.multiplyMatrices(i,r),a.multiplyMatrices(o,a);var l=new s.Vector3;e.getWorldPosition(l);var u=new s.Vector3;t.getWorldPosition(u);var c=u.distanceTo(l);return{modelViewProjection:a,eyePos:l,eyeHeight:c}}var f=e.matrixWorld,d=t.matrixWorldInverse,h=t.projectionMatrix,p=new s.Matrix4;p.multiplyMatrices(d,f),p.multiplyMatrices(h,p);var m=new s.Vector3;t.getWorldPosition(m);var v=new s.Vector3;e.getWorldPosition(v);var g=v.distanceTo(m);return m.sub(v),{modelViewProjection:p,eyePos:m,eyeHeight:g}}}]),l}(l.RawShaderMaterial);t.GroundAtmosphereMaterial=f},62170:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isHighPrecisionLineMaterial=t.HighPrecisionLineMaterial=void 0;var s=n(34585),l=n(50470),u=n(43937),c=function(e){o(n,e);var t=a(n);function n(e){var i;r(this,n),Object.assign(s.ShaderChunk,u.default);var o=e?{name:"HighPrecisionLineMaterial",vertexShader:"\n#ifdef USE_COLOR\nattribute vec4 color;\nvarying vec3 vColor;\n#endif\n\n// uniforms to implement double-precision\nuniform mat4 u_mvp;             // combined modelView and projection matrix\nuniform vec3 u_eyepos;          // eye position major\nuniform vec3 u_eyepos_lowpart;  // eye position minor ((double) eyepos - (float) eyepos)\n\n// vertex attributes\nattribute vec3 position;        // high part\nattribute vec3 positionLow;     // low part\n\n#include <high_precision_vert_func>\n\nvoid main() {\n    #ifdef USE_COLOR\n    vColor = color.rgb;\n    #endif\n\n    vec3 pos = subtractDblEyePos(position);\n    gl_Position = u_mvp * vec4(pos, 1.0);\n}",fragmentShader:"\nprecision highp float;\nprecision highp int;\n\nuniform vec3 diffuse;\nuniform float opacity;\n\n#ifdef USE_COLOR\nvarying vec3 color;\n#endif\n\nvoid main() {\n    #ifdef USE_COLOR\n    gl_FragColor = vec4( diffuse * vColor, opacity );\n    #else\n    gl_FragColor = vec4( diffuse, opacity );\n    #endif\n}",uniforms:{diffuse:new s.Uniform(new s.Color(n.DEFAULT_COLOR)),opacity:new s.Uniform(n.DEFAULT_OPACITY),u_mvp:new s.Uniform(new s.Matrix4),u_eyepos:new s.Uniform(new s.Vector3),u_eyepos_lowpart:new s.Uniform(new s.Vector3)},rendererCapabilities:e.rendererCapabilities}:void 0;return Object.assign(o,e),(i=t.call(this,o)).type="HighPrecisionLineMaterial",i.isHighPrecisionLineMaterial=!0,e&&(void 0!==e.color&&i.color.set(e.color),void 0!==e.opacity&&(i.opacity=e.opacity)),i.updateTransparencyFeature(),i}return i(n,[{key:"color",get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value.copy(e)}},{key:"updateTransparencyFeature",value:function(){this.transparent=this.opacity<1}}]),n}(l.RawShaderMaterial);t.HighPrecisionLineMaterial=c,c.DEFAULT_COLOR=80,c.DEFAULT_OPACITY=1,t.isHighPrecisionLineMaterial=function(e){return void 0!==e&&!0===e.isHighPrecisionLineMaterial}},82067:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isHighPrecisionPointMaterial=t.HighPrecisionPointMaterial=void 0;var s=n(34585),l=n(43937),u=function(e){o(n,e);var t=a(n);function n(e){var i;r(this,n),Object.assign(s.ShaderChunk,l.default);var o=e;return(i=t.call(this,o)).type="HighPrecisionPointMaterial",i.vertexShader="\n#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif\n\nuniform float size;\n\n// uniforms to implement double-precision\nuniform mat4 u_mvp;             // combined modelView and projection matrix\nuniform vec3 u_eyepos;          // eye position major\nuniform vec3 u_eyepos_lowpart;  // eye position minor ((double) eyepos - (float) eyepos)\n\n// vertex attributes\nattribute vec3 positionLow;     // low part\n\n#include <high_precision_vert_func>\n\nvoid main() {\n    #ifdef USE_COLOR\n    vColor = color.rgb;\n    #endif\n\n    vec3 pos = subtractDblEyePos(position);\n    gl_Position = u_mvp * vec4(pos, 1.0);\n\n    // ignore sizeAttenuation for now!\n    gl_PointSize = size;\n}",i.fragmentShader=s.ShaderChunk.points_frag,i.fog=!1,i.uniforms={diffuse:new s.Uniform(new s.Color(n.DEFAULT_COLOR)),opacity:new s.Uniform(n.DEFAULT_OPACITY),size:new s.Uniform(n.DEFAULT_SIZE),scale:new s.Uniform(n.DEFAULT_SCALE),map:new s.Uniform(new s.Texture),uvTransform:new s.Uniform(new s.Matrix3),u_mvp:new s.Uniform(new s.Matrix4),u_eyepos:new s.Uniform(new s.Vector3),u_eyepos_lowpart:new s.Uniform(new s.Vector3)},i.isHighPrecisionPointMaterial=!0,void 0!==e&&(void 0!==e.color&&i.color.set(e.color),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.size&&(i.size=e.size),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.uvTransform&&(i.uvTransform=e.uvTransform),void 0!==e.map&&(i.map=e.map)),i}return i(n,[{key:"scale",get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},{key:"uvTransform",get:function(){return this.uniforms.uvTransform.value},set:function(e){this.uniforms.uvTransform.value=e}}]),n}(s.PointsMaterial);t.HighPrecisionPointMaterial=u,u.DEFAULT_COLOR=80,u.DEFAULT_OPACITY=1,u.DEFAULT_SIZE=1,u.DEFAULT_SCALE=1,t.isHighPrecisionPointMaterial=function(e){return void 0!==e&&!0===e.isHighPrecisionPointMaterial}},76161:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.IconMaterial=void 0;var s=n(34585),l=n(50470),u=function(e){o(n,e);var t=a(n);function n(e){r(this,n);var i=e?{name:"IconMaterial",vertexShader:"\nattribute vec4 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nvarying vec4 vColor;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vColor = color;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xyz, 1.0);\n}",fragmentShader:"\nprecision highp float;\nprecision highp int;\n\nuniform sampler2D map;\n\nvarying vec4 vColor;\nvarying vec2 vUv;\n\nvoid main() {\n\n    vec4 color = texture2D(map, vUv.xy);\n    color *= vColor;\n    if (color.a < 0.05) {\n        discard;\n    }\n    gl_FragColor = color;\n}",uniforms:{map:new s.Uniform(e.map)},depthTest:!1,depthWrite:!1,transparent:!0,vertexColors:!0,premultipliedAlpha:!0,rendererCapabilities:e.rendererCapabilities}:void 0;return t.call(this,i)}return i(n,[{key:"map",get:function(){return this.uniforms.map.value}}]),n}(l.RawShaderMaterial);t.IconMaterial=u},57506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LuminosityHighPassShader=void 0;var r=n(34585);t.LuminosityHighPassShader={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new r.Color(0)},defaultOpacity:{value:0}},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform vec3 defaultColor;\n    uniform float defaultOpacity;\n    uniform float luminosityThreshold;\n    uniform float smoothWidth;\n    varying vec2 vUv;\n    void main() {\n        vec4 texel = texture2D( tDiffuse, vUv );\n        vec3 luma = vec3( 0.299, 0.587, 0.114 );\n        float v = dot( texel.xyz, luma );\n        vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n        float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n        gl_FragColor = mix( outputColor, texel, alpha );\n    }"}},14969:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MSAAMaterial=void 0;var s=n(34585),l=n(35531),u=function(e){o(n,e);var t=a(n);function n(e){return i(this,n),t.call(this,{uniforms:e,vertexShader:l.CopyShader.vertexShader,fragmentShader:l.CopyShader.fragmentShader,premultipliedAlpha:!0,transparent:!0,blending:s.AdditiveBlending,depthTest:!1,depthWrite:!1})}return r(n)}(s.ShaderMaterial);t.MSAAMaterial=u},67129:function(e,t,n){"use strict";var r=n(16525).default,i=n(29754).default,o=n(2205).default,a=n(99842).default,s=n(34575).default,l=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MapMeshStandardMaterial=t.MapMeshDepthMaterial=t.MapMeshBasicMaterial=t.ExtrusionFeatureMixin=t.ExtrusionFeature=t.FadingFeatureMixin=t.FadingFeature=t.DisplacementFeatureMixin=t.hasExtrusionFeature=void 0;var u,c=n(15739),f=n(34585),d=n(32116),h=n(99918),p=n(6599),m=n(35234),v=n(85070),g=new f.Texture;function y(e,t){return e*t.maximum}function E(e,t){void 0===t.defines&&(t.defines={}),e.shaderDefines=t.defines,void 0===e.shaderUniforms&&(e.shaderUniforms={})}function A(e,t){Object.assign(t.uniforms,e.shaderUniforms),e.shaderUniforms=t.uniforms}t.hasExtrusionFeature=function(e){return"extrusionRatio"in e},function(e){function t(e){return null!==e.displacementMap}e.isEnabled=t,e.updateDisplacementFeature=function(e){c.assert(void 0!==e.shaderDefines),c.assert(void 0!==e.shaderUniforms);var n=t(e),r=v.setShaderDefine(e.shaderDefines,"USE_DISPLACEMENTMAP",n);if(e.needsUpdate=r,n){var i=e.displacementMap;i.needsUpdate=!0,e.shaderUniforms.displacementMap.value=i}else r&&(e.shaderUniforms.displacementMap.value=g)},e.onBeforeCompile=function(e,n){t(e)&&(c.assert(void 0!==e.shaderUniforms),A(e,n),n.vertexShader=n.vertexShader.replace("#include <skinbase_vertex>","#include <skinbase_vertex>\n#ifndef USE_ENVMAP\n    vec3 objectNormal = vec3( normal );\n#endif"),n.vertexShader=v.insertShaderInclude(n.vertexShader,"uv2_pars_vertex","displacementmap_pars_vertex"),n.vertexShader=v.insertShaderInclude(n.vertexShader,"skinning_vertex","displacementmap_vertex",!0))}}(u||(u={}));var T,O=function(){function e(){s(this,e),this.m_displacementMap=null}return l(e,[{key:"displacementMap",get:function(){return this.m_displacementMap},set:function(e){this.setDisplacementMap(e)}},{key:"getDisplacementMap",value:function(){return this.m_displacementMap}},{key:"setDisplacementMap",value:function(e){e!==this.m_displacementMap&&(this.m_displacementMap=e,u.updateDisplacementFeature(this))}},{key:"addDisplacementProperties",value:function(){var e=this;Object.defineProperty(this,"displacementMap",{get:function(){return e.getDisplacementMap()},set:function(t){e.setDisplacementMap(t)}})}},{key:"applyDisplacementParameters",value:function(e){var t=this;E(this,this),c.assert(void 0!==this.shaderDefines),c.assert(void 0!==this.shaderUniforms);var n=this.shaderUniforms;n.displacementMap=new f.Uniform(g),n.displacementScale=new f.Uniform(1),n.displacementBias=new f.Uniform(0),void 0!==e&&void 0!==e.displacementMap&&this.setDisplacementMap(e.displacementMap),this.onBeforeCompile=c.chainCallbacks(this.onBeforeCompile,(function(e){u.onBeforeCompile(t,e)})),this.needsUpdate=u.isEnabled(this)}},{key:"copyDisplacementParameters",value:function(e){return this.setDisplacementMap(e.displacementMap),this}}]),e}();t.DisplacementFeatureMixin=O,function(e){function t(e){return void 0!==e.fadeNear&&void 0!==e.fadeFar&&e.fadeFar>0}e.DEFAULT_FADE_NEAR=-1,e.DEFAULT_FADE_FAR=-1,e.isEnabled=t,e.isDefined=function(e){return void 0!==e.fadeNear&&void 0!==e.fadeFar},e.patchGlobalShaderChunks=function(){void 0===f.ShaderChunk.fading_pars_vertex&&Object.assign(f.ShaderChunk,p.default)},e.updateFadingFeature=function(n){c.assert(void 0!==n.shaderDefines),c.assert(void 0!==n.shaderUniforms);var r=t(n),i=v.setShaderDefine(n.shaderDefines,"FADING_MATERIAL",r);n.needsUpdate=i,c.assert(void 0!==n.shaderUniforms.fadeNear&&void 0!==n.shaderUniforms.fadeFar),r?(n.shaderUniforms.fadeNear.value=n.fadeNear,n.shaderUniforms.fadeFar.value=n.fadeFar,i&&v.enableBlending(n)):i&&(n.shaderUniforms.fadeNear.value=e.DEFAULT_FADE_NEAR,n.shaderUniforms.fadeFar.value=e.DEFAULT_FADE_FAR,v.disableBlending(n))},e.onBeforeCompile=function(e,n){t(e)&&(c.assert(void 0!==e.shaderUniforms),A(e,n),n.vertexShader=v.insertShaderInclude(n.vertexShader,"fog_pars_vertex","fading_pars_vertex"),n.vertexShader=v.insertShaderInclude(n.vertexShader,"fog_vertex","fading_vertex",!0),n.fragmentShader=v.insertShaderInclude(n.fragmentShader,"fog_pars_fragment","fading_pars_fragment"),n.fragmentShader=v.insertShaderInclude(n.fragmentShader,"fog_fragment","fading_fragment",!0))},e.addRenderHelper=function(t,n,r,i,o,a){t.onBeforeRender=c.chainCallbacks(t.onBeforeRender,(function(t,o,s,l,u,c){var f=u;f.fadeNear=void 0===r||r===e.DEFAULT_FADE_NEAR?e.DEFAULT_FADE_NEAR:y(r,n),f.fadeFar=void 0===i||i===e.DEFAULT_FADE_FAR?e.DEFAULT_FADE_FAR:y(i,n),void 0!==a&&a(t,u)}))}}(T=t.FadingFeature||(t.FadingFeature={}));var R,L=function(){function e(){s(this,e),this.m_fadeNear=T.DEFAULT_FADE_NEAR,this.m_fadeFar=T.DEFAULT_FADE_FAR}return l(e,[{key:"getFadeNear",value:function(){return this.m_fadeNear}},{key:"setFadeNear",value:function(e){e!==this.m_fadeNear&&(this.m_fadeNear=e,T.updateFadingFeature(this))}},{key:"getFadeFar",value:function(){return this.m_fadeFar}},{key:"setFadeFar",value:function(e){e!==this.m_fadeFar&&(this.m_fadeFar=e,T.updateFadingFeature(this))}},{key:"addFadingProperties",value:function(){var e=this;Object.defineProperty(this,"fadeNear",{get:function(){return e.getFadeNear()},set:function(t){e.setFadeNear(t)}}),Object.defineProperty(this,"fadeFar",{get:function(){return e.getFadeFar()},set:function(t){e.setFadeFar(t)}})}},{key:"applyFadingParameters",value:function(e){var t=this;E(this,this),c.assert(void 0!==this.shaderDefines),c.assert(void 0!==this.shaderUniforms),this.shaderUniforms.fadeNear=new f.Uniform(T.DEFAULT_FADE_NEAR),this.shaderUniforms.fadeFar=new f.Uniform(T.DEFAULT_FADE_FAR),void 0!==e&&(void 0!==e.fadeNear&&this.setFadeNear(e.fadeNear),void 0!==e.fadeFar&&this.setFadeFar(e.fadeFar)),this.onBeforeCompile=c.chainCallbacks(this.onBeforeCompile,(function(e){T.onBeforeCompile(t,e)})),this.needsUpdate=T.isEnabled(this)}},{key:"copyFadingParameters",value:function(e){return this.setFadeNear(void 0===e.fadeNear?T.DEFAULT_FADE_NEAR:e.fadeNear),this.setFadeFar(void 0===e.fadeFar?T.DEFAULT_FADE_FAR:e.fadeFar),this}}]),e}();t.FadingFeatureMixin=L,function(e){function t(e){return void 0!==e.extrusionRatio&&e.extrusionRatio>=d.ExtrusionFeatureDefs.DEFAULT_RATIO_MIN}e.isEnabled=t,e.patchGlobalShaderChunks=function(){void 0===f.ShaderChunk.extrusion_pars_vertex&&Object.assign(f.ShaderChunk,h.default)},e.updateExtrusionFeature=function(e){c.assert(void 0!==e.shaderDefines),c.assert(void 0!==e.shaderUniforms);var n=t(e),r=v.setShaderDefine(e.shaderDefines,"EXTRUSION_MATERIAL",n);e.needsUpdate=r,n?e.shaderUniforms.extrusionRatio.value=e.extrusionRatio:r&&(e.shaderUniforms.extrusionRatio.value=d.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX)},e.onBeforeCompile=function(e,n){t(e)&&(c.assert(void 0!==e.shaderUniforms),A(e,n),n.vertexShader=v.insertShaderInclude(n.vertexShader,"common","extrusion_pars_vertex"),n.vertexShader=v.insertShaderInclude(n.vertexShader,"begin_vertex","extrusion_vertex",!0),n.fragmentShader=v.insertShaderInclude(n.fragmentShader,"fog_pars_fragment","extrusion_pars_fragment"),n.fragmentShader=n.fragmentShader.replace("#include <normal_fragment_begin>","#include <extrusion_normal_fragment_begin>"),n.fragmentShader=v.insertShaderInclude(n.fragmentShader,"fog_fragment","extrusion_fragment",!0))}}(R=t.ExtrusionFeature||(t.ExtrusionFeature={}));var S=function(){function e(){s(this,e),this.m_extrusion=d.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX}return l(e,[{key:"getExtrusionRatio",value:function(){return this.m_extrusion}},{key:"setExtrusionRatio",value:function(e){e!==this.m_extrusion&&(this.m_extrusion=e,R.updateExtrusionFeature(this))}},{key:"addExtrusionProperties",value:function(){var e=this;Object.defineProperty(this,"extrusionRatio",{get:function(){return e.getExtrusionRatio()},set:function(t){e.setExtrusionRatio(t)}})}},{key:"applyExtrusionParameters",value:function(e){var t=this;E(this,this),c.assert(void 0!==this.shaderDefines),c.assert(void 0!==this.shaderUniforms),e&&!0===e.zFightingWorkaround&&(this.shaderDefines.ZFIGHTING_WORKAROUND=""),this.shaderUniforms.extrusionRatio=new f.Uniform(d.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX),void 0!==e&&void 0!==e.extrusionRatio&&this.setExtrusionRatio(e.extrusionRatio),this.onBeforeCompile=c.chainCallbacks(this.onBeforeCompile,(function(e){R.onBeforeCompile(t,e)})),this.needsUpdate=R.isEnabled(this)}},{key:"copyExtrusionParameters",value:function(e){return void 0!==e.extrusionRatio&&this.setExtrusionRatio(e.extrusionRatio),this}}]),e}();t.ExtrusionFeatureMixin=S;var b=function(e){o(n,e);var t=a(n);function n(e){var r;return s(this,n),r=t.call(this,e),T.patchGlobalShaderChunks(),r.addFadingProperties(),r.applyFadingParameters(e),R.patchGlobalShaderChunks(),r.addExtrusionProperties(),r.applyExtrusionParameters(Object.assign(Object.assign({},e),{zFightingWorkaround:!0})),r.addDisplacementProperties(),r.applyDisplacementParameters(e),r}return l(n,[{key:"clone",value:function(){return(new n).copy(this)}},{key:"copy",value:function(e){return r(i(n.prototype),"copy",this).call(this,e),this.copyFadingParameters(e),this.copyExtrusionParameters(e),this.copyDisplacementParameters(e),this}},{key:"fadeNear",get:function(){return T.DEFAULT_FADE_NEAR},set:function(e){}},{key:"fadeFar",get:function(){return T.DEFAULT_FADE_FAR},set:function(e){}},{key:"extrusionRatio",get:function(){return d.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX},set:function(e){}},{key:"displacementMap",get:function(){return null},set:function(e){}},{key:"setDisplacementMap",value:function(e){}},{key:"addFadingProperties",value:function(){}},{key:"applyFadingParameters",value:function(e){}},{key:"copyFadingParameters",value:function(e){}},{key:"addExtrusionProperties",value:function(){}},{key:"applyExtrusionParameters",value:function(e){}},{key:"copyExtrusionParameters",value:function(e){}},{key:"addDisplacementProperties",value:function(){}},{key:"applyDisplacementParameters",value:function(e){}},{key:"copyDisplacementParameters",value:function(e){}}]),n}(f.MeshBasicMaterial);t.MapMeshBasicMaterial=b;var I=function(e){o(n,e);var t=a(n);function n(e){var r;return s(this,n),r=t.call(this,e),R.patchGlobalShaderChunks(),r.addExtrusionProperties(),r.applyExtrusionParameters(Object.assign(Object.assign({},e),{zFightingWorkaround:!1})),r}return l(n,[{key:"extrusionRatio",get:function(){return d.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX},set:function(e){}},{key:"addExtrusionProperties",value:function(){}},{key:"applyExtrusionParameters",value:function(e){}},{key:"copyExtrusionParameters",value:function(e){}}]),n}(f.MeshDepthMaterial);t.MapMeshDepthMaterial=I;var N=function(e){o(n,e);var t=a(n);function n(e){var r;return s(this,n),r=t.call(this,e),T.patchGlobalShaderChunks(),r.addFadingProperties(),r.applyFadingParameters(e),R.patchGlobalShaderChunks(),r.addExtrusionProperties(),r.applyExtrusionParameters(Object.assign(Object.assign({},e),{zFightingWorkaround:!0})),!0===(null===e||void 0===e?void 0:e.removeDiffuseLight)&&(r.onBeforeCompile=c.chainCallbacks(r.onBeforeCompile,(function(e){e.fragmentShader=f.ShaderChunk.meshphysical_frag.replace("#include <lights_physical_pars_fragment>",m.simpleLightingShadowChunk)}))),r}return l(n,[{key:"clone",value:function(){return(new n).copy(this)}},{key:"copy",value:function(e){return r(i(n.prototype),"copy",this).call(this,e),this.copyFadingParameters(e),this.copyExtrusionParameters(e),this}},{key:"fadeNear",get:function(){return T.DEFAULT_FADE_NEAR},set:function(e){}},{key:"fadeFar",get:function(){return T.DEFAULT_FADE_FAR},set:function(e){}},{key:"extrusionRatio",get:function(){return d.ExtrusionFeatureDefs.DEFAULT_RATIO_MAX},set:function(e){}},{key:"removeDiffuseLight",get:function(){return!1},set:function(e){}},{key:"addFadingProperties",value:function(){}},{key:"applyFadingParameters",value:function(e){}},{key:"copyFadingParameters",value:function(e){}},{key:"addExtrusionProperties",value:function(){}},{key:"applyExtrusionParameters",value:function(e){}},{key:"copyExtrusionParameters",value:function(e){}}]),n}(f.MeshStandardMaterial);t.MapMeshStandardMaterial=N,c.applyMixinsWithoutProperties(b,[L]),c.applyMixinsWithoutProperties(N,[L]),c.applyMixinsWithoutProperties(b,[S]),c.applyMixinsWithoutProperties(N,[S]),c.applyMixinsWithoutProperties(I,[S]),c.applyMixinsWithoutProperties(b,[O])},32116:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtrusionFeatureDefs=void 0,function(e){e.DEFAULT_RATIO_MIN=0,e.DEFAULT_RATIO_MAX=1,e.MIN_BUILDING_HEIGHT=.1}(t.ExtrusionFeatureDefs||(t.ExtrusionFeatureDefs={}))},50470:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RawShaderMaterial=void 0;var s=n(15739),l=n(34585),u=n(85070),c=function(e){o(n,e);var t=a(n);function n(e){var i;r(this,n);var o=!0===(null===e||void 0===e?void 0:e.rendererCapabilities.isWebGL2),a=e?Object.assign(Object.assign({},e),{glslVersion:o?l.GLSL3:l.GLSL1,vertexShader:o&&e.vertexShader?s.convertVertexShaderToWebGL2(e.vertexShader):e.vertexShader,fragmentShader:o&&e.fragmentShader?s.convertFragmentShaderToWebGL2(e.fragmentShader):e.fragmentShader}):void 0;return a&&delete a.rendererCapabilities,(i=t.call(this,a)).invalidateFog(),i.setOpacity(null===a||void 0===a?void 0:a.opacity),i}return i(n,[{key:"invalidateFog",value:function(){void 0!==this.defines&&this.fog!==u.getShaderMaterialDefine(this,"USE_FOG")&&u.setShaderMaterialDefine(this,"USE_FOG",this.fog)}},{key:"setOpacity",value:function(e){var t;void 0!==e&&(this.opacity=e,(null===(t=this.uniforms)||void 0===t?void 0:t.opacity)&&(this.uniforms.opacity.value=e))}}]),n}(l.RawShaderMaterial);t.RawShaderMaterial=c},84047:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SepiaShader=void 0,t.SepiaShader={uniforms:{tDiffuse:{value:null},amount:{value:1}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }",fragmentShader:"\n        uniform float amount;\n        uniform sampler2D tDiffuse;\n        varying vec2 vUv;\n        void main() {\n            vec4 color = texture2D( tDiffuse, vUv );\n            vec3 c = color.rgb;\n            color.r = dot( c, vec3( 1.0 - 0.607 * amount, 0.769 * amount, 0.189 * amount ) );\n            color.g = dot( c, vec3( 0.349 * amount, 1.0 - 0.314 * amount, 0.168 * amount ) );\n            color.b = dot( c, vec3( 0.272 * amount, 0.534 * amount, 1.0 - 0.869 * amount ) );\n            gl_FragColor = vec4( min( vec3( 1.0 ), color.rgb ), color.a );\n        }"}},7893:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={atmosphere_vertex_utils:"\n\n    const float RayleighScaleDepth = 0.25;\n\n    struct AtmosphereColor\n    {\n        vec3 mie;\n        vec3 rayleigh;\n    };\n\n    float scale(float cosAngle)\n    {\n        float x = 1.0 - cosAngle;\n        return RayleighScaleDepth  * exp(-0.00287 + x*(0.459 + x*(3.83 + x*(-6.80 + x*5.25))));\n    }\n\n    float getNearSphereIntersect(vec3 v3Pos, vec3 v3Ray, float fCameraHeight2, float fOuterRadius2) {\n        // Solve simple square equation for the x0 (first point of intersection).\n#if defined(IMPROVE_INTERSECT_PRECISION)\n        // To improve precision instead of simple projection: b = 2.0 * dot(vPos, v3Ray),\n        // we change the equation that gives better results especially around the poles.\n        float fB = 2.0 * length(v3Pos) * dot(normalize(v3Pos), v3Ray);\n#else\n        float fB = 2.0 * dot(v3Pos, v3Ray);\n#endif\n        float fC = fCameraHeight2 - fOuterRadius2;\n        // det = b^2 - 4*a*c, where a = 1\n        float fDet = max(0.0, fB * fB - 4.0 * fC);\n        // Intersection points distances are defined as follows:\n        // x0 = (-b - sqrt(det)) / 2*a ^ x1 = (-b + sqrt(det)) / 2*a\n        // we search for x0:\n        return 0.5 * (-fB - sqrt(fDet));\n    }\n\n    float getFarSphereIntersect(vec3 v3Pos, vec3 v3Ray, float fCameraHeight2, float fOuterRadius2) {\n        // Solve simple square equation for the x1 (second point of intersection).\n#if defined(IMPROVE_INTERSECT_PRECISION)\n        float fB = 2.0 * length(v3Pos) * dot(normalize(v3Pos), v3Ray);\n#else\n        float fB = 2.0 * dot(v3Pos, v3Ray);\n#endif\n        float fC = fCameraHeight2 - fOuterRadius2;\n        // det = b^2 - 4*a*c, where a = 1\n        float fDet = max(0.0, fB * fB - 4.0 * fC);\n        // Compute second intersection distance:\n        // x1 = (-b + sqrt(det)) / 2*a\n        return 0.5 * (-fB + sqrt(fDet));\n    }\n    ",atmosphere_fragment_utils:"\n\n    // Branch free RGB to HSV conversion.\n    // Based on article:\n    // http://lolengine.net/blog/2013/01/13/fast-rgb-to-hsv\n    // and optimized OpenGL SL algorithm\n    // http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl\n    vec3 rgb2Hsv(vec3 c)\n    {\n        const vec4 RGB_HSV_CONV = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n        // Ternary operator may be used explicitly if compiler can use fast conditional move.\n        // vec4 p = c.g < c.b ? vec4(c.bg, RGB_HSV_CONV.wz) : vec4(c.gb, RGB_HSV_CONV.xy);\n        vec4 p = mix(vec4(c.bg, RGB_HSV_CONV.wz), vec4(c.gb, RGB_HSV_CONV.xy), step(c.b, c.g));\n        // vec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\n        vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n        float d = q.x - min(q.w, q.y);\n        float e = 1.0e-10;\n        return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n    }\n\n    // Branch free HSV to RGB conversion\n    vec3 hsv2Rgb(vec3 c)\n    {\n        const vec4 HSV_RGB_CONV = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n        vec3 p = abs(fract(c.xxx + HSV_RGB_CONV.xyz) * 6.0 - HSV_RGB_CONV.www);\n        return c.z * mix(HSV_RGB_CONV.xxx, clamp(p - HSV_RGB_CONV.xxx, 0.0, 1.0), c.y);\n    }\n\n    vec3 correctExposure(vec3 rgb, float exposure)\n    {\n        const vec3 fullColor = vec3(1.0);\n        return fullColor - exp(-exposure * rgb);\n    }\n\n    vec3 correctColor(vec3 rgb, vec3 hsvShift)\n    {\n        const float e = 0.0000001;\n        // Convert rgb color to hsv\n        vec3 hsv = rgb2Hsv(rgb);\n        // Shift hue value with angle wrapping\n        hsv.x = mod(hsv.x + hsvShift.x, 1.0);\n        // Shift and clamp saturation\n        hsv.y = clamp(hsv.y + hsvShift.y, 0.0, 1.0);\n        // Change value if it is significant (greater then epsilon)\n        hsv.z = hsv.z > e ? clamp(hsv.z + hsvShift.z, 0.0, 1.0) : 0.0;\n        // Convert shifted hsv back to rgb\n        return hsv2Rgb(hsv);\n    }\n    "}},99918:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32116),i=r.ExtrusionFeatureDefs.MIN_BUILDING_HEIGHT*r.ExtrusionFeatureDefs.MIN_BUILDING_HEIGHT;t.default={extrusion_pars_vertex:"\n// Add define so we can check for it in the outline effect (see Outline.ts).\n#define HAS_EXTRUSION_PARS_VERTEX\n// Extrusion axis (xyz: vector, w: factor).\nattribute vec4 extrusionAxis;\nuniform float extrusionRatio;\n#ifdef FLAT_SHADED\nvarying vec4 vExtrusionAxis;\n#endif\n#ifdef ZFIGHTING_WORKAROUND\nvarying float vExtrusionRatio;\n#endif\n",extrusion_vertex:"\n#define HAS_EXTRUSION_VERTEX\n#ifdef ZFIGHTING_WORKAROUND\n// Cancel extrusionRatio (meaning, force to 1) if extrusionAxisLen < MIN_BUILDING_HEIGHT.\nconst float MIN_BUILDING_HEIGHT_SQUARED = ".concat(i,";\nfloat extrusionAxisLenSquared = dot(extrusionAxis.xyz, extrusionAxis.xyz);\nvExtrusionRatio = (extrusionAxisLenSquared < MIN_BUILDING_HEIGHT_SQUARED) ? 1.0 : extrusionRatio;\n#else\nfloat vExtrusionRatio = extrusionRatio;\n#endif\ntransformed = transformed + extrusionAxis.xyz * (vExtrusionRatio - 1.0);\n#ifdef FLAT_SHADED\nvExtrusionAxis = vec4(normalMatrix * extrusionAxis.xyz, extrusionAxis.w);\n#endif\n"),extrusion_normal_fragment_begin:"\n#ifdef FLAT_SHADED\n    // Flattened this divergent path to prevent undefined behaviour in the following derivatives\n    // functions. For more info:\n    // http://www.aclockworkberry.com/shader-derivative-functions/#Derivatives_and_branches\n\n    // Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\n    vec3 fdx = vec3(dFdx(vViewPosition.x), dFdx(vViewPosition.y), dFdx(vViewPosition.z));\n    vec3 fdy = vec3(dFdy(vViewPosition.x), dFdy(vViewPosition.y), dFdy(vViewPosition.z));\n    vec3 normal = cross( fdx, fdy );\n    if (vExtrusionAxis.w > 0.999999) {\n        normal = vExtrusionAxis.xyz;\n    }\n    normal = normalize(normal);\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * (float(gl_FrontFacing) * 2.0 - 1.0);\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * (float(gl_FrontFacing) * 2.0 - 1.0);\n\t\t\tbitangent = bitangent * (float(gl_FrontFacing) * 2.0 - 1.0);\n\t\t#endif\n\t#endif\n#endif\n// non perturbed normal for clearcoat among others\nvec3 geometryNormal = normal;\n",extrusion_pars_fragment:"\n#ifdef ZFIGHTING_WORKAROUND\nvarying float vExtrusionRatio;\n#else\nuniform float extrusionRatio;\n#endif\nvarying vec4 vExtrusionAxis;\n",extrusion_fragment:"\n#ifndef ZFIGHTING_WORKAROUND\nfloat vExtrusionRatio = extrusionRatio;\n#endif\ngl_FragColor.a *= smoothstep( 0.0, 0.25, vExtrusionRatio );\n"}},6599:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fading_pars_vertex:"\nvarying float fadingDepth;\n",fading_vertex:"\nfadingDepth = -mvPosition.z;\n",fading_pars_fragment:"\nvarying float fadingDepth;\nuniform float fadeNear;\nuniform float fadeFar;\n",fading_fragment:'\n\n// lerp with "hard" edges\n//float fadingFactor = 1.0 - clamp((fadingDepth - fadeNear) / (fadeFar - fadeNear), 0.0, 1.0);\n\n// smooth transitions\nfloat fadingFactor = smoothstep( fadeNear, fadeFar, fadingDepth );\n\ngl_FragColor.a *= 1.0 - fadingFactor;\n\n// debugging color:\n// gl_FragColor = vec4(1., fadingFactor, fadingFactor, 1.0);\n'}},43937:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LineCapsModes=void 0,function(e){e[e.CAPS_NONE=0]="CAPS_NONE",e[e.CAPS_SQUARE=1]="CAPS_SQUARE",e[e.CAPS_ROUND=2]="CAPS_ROUND",e[e.CAPS_TRIANGLE_IN=3]="CAPS_TRIANGLE_IN",e[e.CAPS_TRIANGLE_OUT=4]="CAPS_TRIANGLE_OUT"}(n=t.LineCapsModes||(t.LineCapsModes={})),t.default={extrude_line_vert_func:"\nvec3 extrudeLine(\n        in vec3 vertexPosition,\n        in float linePosition,\n        in float extrusionWidth,\n        in vec4 bitangent,\n        in vec3 tangent,\n        in float tanHalfAngle,\n        inout vec2 uv\n    ) {\n    vec3 result = vertexPosition;\n    // Retrieve the angle between this segment and the previous one (stored in the bitangent w\n    // component).\n    float angle = bitangent.w;\n    // Extrude according to the angle between segments to properly render narrow joints...\n    if (angle != 0.0) {\n        result += uv.y * extrusionWidth * bitangent.xyz / cos(angle / 2.0);\n        uv.x = linePosition + uv.x * extrusionWidth * uv.y * tanHalfAngle;\n    }\n    // ... or extrude in a simple manner for segments that keep the same direction.\n    else {\n        result += uv.y * extrusionWidth * bitangent.xyz + uv.x * extrusionWidth * tangent;\n        uv.x = linePosition + uv.x * extrusionWidth;\n    }\n    uv.y *= extrusionWidth;\n    return result;\n}\n",round_edges_and_add_caps:"\n#define CAPS_NONE ".concat(n.CAPS_NONE,"\n#define CAPS_SQUARE ").concat(n.CAPS_SQUARE,"\n#define CAPS_ROUND ").concat(n.CAPS_ROUND,"\n#define CAPS_TRIANGLE_IN ").concat(n.CAPS_TRIANGLE_IN,"\n#define CAPS_TRIANGLE_OUT ").concat(n.CAPS_TRIANGLE_OUT,"\n\nfloat roundEdgesAndAddCaps(in vec4 coords, in vec3 range) {\n    // Compute the line's width to length ratio.\n    float widthRatio = range.y / range.x;\n\n    // Compute the inner segment distance (same for all cap mode).\n    float dist = abs(coords.y);\n    float segmentBeginMask = clamp(ceil(coords.z - coords.x), 0.0, 1.0);\n    float segmentEndMask = clamp(ceil(coords.x - coords.w), 0.0, 1.0);\n    dist = max(dist, segmentBeginMask * length(vec2((coords.x - coords.z) / widthRatio, coords.y)));\n    dist = max(dist, segmentEndMask * length(vec2((coords.x - coords.w) / widthRatio, coords.y)));\n\n    #if CAPS_MODE != CAPS_ROUND\n    // Compute the caps mask.\n    float capRangeMask = clamp(1.0 - ceil(range.z - drawRange.y), 0.0, 1.0);\n    float beginCapMask = clamp(ceil(drawRange.x - coords.x), 0.0, 1.0);\n    float endCapMask = clamp(ceil(coords.x - drawRange.y), 0.0, 1.0);\n    float capMask = capRangeMask * max(beginCapMask, endCapMask);\n\n    // Compute the outer segment distance (specific for each cap mode).\n    float capDist = max(coords.x - drawRange.y, drawRange.x - coords.x) / widthRatio;\n    #if CAPS_MODE == CAPS_NONE\n    dist = mix(dist, max(abs(coords.y), (capDist + 0.1) / 0.1), capMask);\n    #elif CAPS_MODE == CAPS_SQUARE\n    dist = mix(dist, max(abs(coords.y), capDist), capMask);\n    #elif CAPS_MODE == CAPS_TRIANGLE_OUT\n    dist = mix(dist, abs(coords.y) + capDist, capMask);\n    #elif CAPS_MODE == CAPS_TRIANGLE_IN\n    dist = mix(dist, max(abs(coords.y), (capDist - abs(coords.y)) + capDist), capMask);\n    #endif\n    #endif // CAPS_MODE != CAPS_ROUND\n\n    return dist;\n}\n"),tile_clip_func:"\nvoid tileClip(vec2 tilePos, vec2 tileSize) {\n    if (tileSize.x > 0.0 && (tilePos.x < -tileSize.x / 2.0 || tilePos.x > tileSize.x / 2.0))\n        discard;\n    if (tileSize.y > 0.0 && (tilePos.y < -tileSize.y / 2.0 || tilePos.y > tileSize.y / 2.0))\n        discard;\n}\n",high_precision_vert_func:"\nvec3 subtractDblEyePos( const in vec3 pos ) {\n    vec3 t1 = positionLow - u_eyepos_lowpart;\n    vec3 e = t1 - positionLow;\n    vec3 t2 = ((-u_eyepos_lowpart - e) + (positionLow - (t1 - e))) + pos - u_eyepos;\n    vec3 high_delta = t1 + t2;\n    vec3 low_delta = t2 - (high_delta - t1);\n    return (high_delta + low_delta);\n}\n"}},35234:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simpleLightingShadowChunk=void 0,t.simpleLightingShadowChunk="\n    struct PhysicalMaterial {\n        vec3\tdiffuseColor;\n        float\tspecularRoughness;\n        vec3\tspecularColor;\n    };\n\n    #define DEFAULT_SPECULAR_COEFFICIENT 0.04\n\n    void RE_Direct_Physical( const in IncidentLight directLight,\n        const in GeometricContext geometry,\n        const in PhysicalMaterial material,\n        inout ReflectedLight reflectedLight ) {\n        // directLight.color is the light color * shadow, internally three.js uses a step function, so\n        // this value is either the light color or black. in order to lighten up the shadows, we\n        // take add 50% of the color to grey (to give us either pure white or grey) and multiply this to\n        // the material's diffuse color.\n        #if defined(USE_SHADOWMAP)\n            reflectedLight.directDiffuse = (0.5 * directLight.color +\n                vec3(0.5,0.5,0.5)) * material.diffuseColor;\n        #else\n            reflectedLight.directDiffuse = material.diffuseColor;\n        #endif\n    }\n\n    void RE_IndirectDiffuse_Physical( const in vec3 irradiance,\n        const in GeometricContext geometry,\n        const in PhysicalMaterial material,\n        inout ReflectedLight reflectedLight ) {\n            // Disable influence of indirect light (it is handled in the RE_Direct_Physical function)\n    }\n\n    void RE_IndirectSpecular_Physical( const in vec3 radiance,\n        const in vec3 irradiance,\n        const in vec3 clearcoatRadiance,\n        const in GeometricContext geometry,\n        const in PhysicalMaterial material,\n        inout ReflectedLight reflectedLight) {\n            // Disable specular reflection of light.\n    }\n\n    #define RE_Direct               RE_Direct_Physical\n    #define RE_IndirectDiffuse      RE_IndirectDiffuse_Physical\n    #define RE_IndirectSpecular     RE_IndirectSpecular_Physical\n"},10657:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SkyAtmosphereMaterial=t.SkyAtmosphereShader=void 0;var s=n(34585),l=n(50470),u=n(7893),c=n(85070),f=6378137;t.SkyAtmosphereShader={uniforms:{u_eyePositionWorld:new s.Uniform(new s.Vector3),u_lightDirectionWorld:new s.Uniform(new s.Vector3(0,1,0)),u_modelViewProjection:new s.Uniform(new s.Matrix4),u_atmosphereEnv:new s.Uniform(new s.Vector3(f,6537590.425,0)),u_hsvCorrection:new s.Uniform(new s.Vector3(0,0,0)),topColor:new s.Uniform(new s.Color(30719)),bottomColor:new s.Uniform(new s.Color(16777215)),offset:new s.Uniform(33),exponent:new s.Uniform(.6),fogColor:new s.Uniform(new s.Color(30719)),fogNear:new s.Uniform(new s.Color(30719)),fogFar:new s.Uniform(new s.Color(16777215))},vertexShader:"\n    precision highp float;\n    precision highp int;\n\n    attribute vec4 position;\n\n    uniform mat4 u_modelViewProjection;\n    uniform vec3 u_eyePositionWorld;\n    uniform vec3 u_lightDirectionWorld;\n\n    uniform vec3 u_atmosphereEnv; // Atmosphere inner and outer radius, camera height\n    uniform vec3 u_hsvCorrection;\n\n    const float Pi = 3.141592653589793;\n    const float Kr = 0.0025;\n    const float Kr4PI = Kr * 4.0 * Pi;\n    const float Km = 0.0015;\n    const float Km4PI = Km * 4.0 * Pi;\n    const float ESun = 15.0; // should be 15.0\n    const float KmESun = Km * ESun;\n    const float KrESun = Kr * ESun;\n    const vec3 InvWavelength = vec3(\n        5.60204474633241,  // Red = 1.0 / Math.pow(0.650, 4.0)\n        9.473284437923038, // Green = 1.0 / Math.pow(0.570, 4.0)\n        19.643802610477206); // Blue = 1.0 / Math.pow(0.475, 4.0)\n\n    const int nSamples = 2;\n    const float fSamples = 2.0;\n\n    varying vec3 v_rayleighColor;\n    varying vec3 v_mieColor;\n    varying vec3 v_vertToCamera;\n\n    ".concat(u.default.atmosphere_vertex_utils,"\n\n    //\n    // Computes rayleight and mia atmosphere factors for sky.\n    //\n    // Code based on GPU Gems article.\n    //\n    // Author: Sean O'Neil\n    //\n    // Copyright (c) 2004 Sean O'Neil\n    //\n    // https://developer.nvidia.com/gpugems/gpugems2/part-ii-shading-lighting-and-shadows/chapter-16-accurate-atmospheric-scattering\n    //\n    // Further modifications by HERE\n    //\n    AtmosphereColor computeSkyAtmosphere(vec3 v3Pos, vec3 vLightDir)\n    {\n        // Unpack attributes\n        float fInnerRadius = u_atmosphereEnv.x;\n        float fOuterRadius = u_atmosphereEnv.y;\n        float fCameraHeight = u_atmosphereEnv.z;\n\n        // All that may be const or define(s) at further optimization:\n        float fScale = 1.0 / (fOuterRadius - fInnerRadius);\n        float fScaleOverScaleDepth = (fScale / RayleighScaleDepth);\n        float fCameraHeight2 = fCameraHeight * fCameraHeight;\n        float fOuterRadius2 = fOuterRadius * fOuterRadius;\n\n        // Get the ray from the camera to the vertex and its length (which is the far point of the ray passing through the atmosphere)\n        vec3 v3Ray = v3Pos - u_eyePositionWorld;\n        float fFar = length(v3Ray);\n        v3Ray /= fFar;\n\n    #ifdef CAMERA_IN_SPACE\n\n        // Calculate the closest intersection of the ray with the outer\n        // atmosphere, this is the first point of the ray passing through the atmosphere dome.\n        float fNear = getNearSphereIntersect(u_eyePositionWorld, v3Ray, fCameraHeight2, fOuterRadius2);\n        // Make far relative to first atmosphere intersection\n        fFar -= fNear;\n\n        // Compute the ray's starting position within the atmosphere, then\n        // calculate its scattering offset\n        vec3 v3Start = u_eyePositionWorld + v3Ray * fNear;\n\n        float fStartAngle = dot(v3Ray, v3Start) / fOuterRadius;\n        float fStartDepth = exp(-1.0 / RayleighScaleDepth );\n        float fStartOffset = fStartDepth * scale(fStartAngle);\n\n    #else // CAMERA_IN_ATMOSPHERE\n\n        // The ray starts already in atmosphere\n        vec3 v3Start = u_eyePositionWorld;\n        float height = length(v3Start);\n        float depth = exp(fScaleOverScaleDepth * (fInnerRadius - fCameraHeight));\n        float fStartAngle = dot(v3Ray, v3Start) / height;\n        float fStartOffset = depth * scale(fStartAngle);\n\n    #endif\n\n        // Initialize the scattering loop variables\n        float fSampleLength = fFar / fSamples;\n        float fScaledLength = fSampleLength * fScale;\n        vec3 v3SampleRay = v3Ray * fSampleLength;\n        vec3 v3SamplePoint = v3Start + v3SampleRay * 0.5;\n\n        // Now loop through the sample rays\n        vec3 v3BaseColor = vec3(0.0);\n        vec3 v3Attenuate = vec3(0.0);\n        for(int i=0; i < nSamples; i++)\n        {\n            float height = length(v3SamplePoint);\n            float depth = exp(fScaleOverScaleDepth * (fInnerRadius - height));\n            float fLightAngle = dot(vLightDir, v3SamplePoint) / height;\n            float fCameraAngle = dot(v3Ray, v3SamplePoint) / height;\n            float fScatter = (fStartOffset + depth * (scale(fLightAngle) - scale(fCameraAngle)));\n            v3Attenuate = exp(-fScatter * (InvWavelength * Kr4PI + Km4PI));\n            v3BaseColor += v3Attenuate * (depth * fScaledLength);\n            v3SamplePoint += v3SampleRay;\n        }\n\n        // Scale the Mie and Rayleigh colors and set up output of the function\n        AtmosphereColor color;\n        color.mie = v3BaseColor * KmESun;\n        color.rayleigh = v3BaseColor * (InvWavelength * KrESun);\n        return color;\n    }\n\n    void main(void)\n    {\n        #ifdef DYNAMIC_LIGHT\n            vec3 vLightDir = u_lightDirectionWorld;\n        #else\n            vec3 vLightDir = u_eyePositionWorld;\n        #endif\n        vLightDir = normalize(vLightDir);\n\n        AtmosphereColor atmColor = computeSkyAtmosphere(position.xyz, vLightDir);\n        v_mieColor = atmColor.mie;\n        v_rayleighColor = atmColor.rayleigh;\n        v_vertToCamera = u_eyePositionWorld - position.xyz;\n\n        gl_Position = u_modelViewProjection * position;\n    }\n    "),fragmentShader:"\n    // Because of harsh light distribution the exposure correction is always enabled for the sky.\n    #define CORRECT_EXPOSURE 1\n\n    precision highp float;\n    precision highp int;\n\n    #ifdef CORRECT_COLOR\n    uniform vec3 u_hsvCorrection; // Hue, saturation, brightness\n    #endif\n\n    uniform vec3 u_atmosphereEnv; // Atmosphere inner and outer radius, camera height\n    uniform vec3 u_eyePositionWorld;\n    uniform vec3 u_lightDirectionWorld;\n\n    const float g = -0.95;\n    const float g2 = g * g;\n\n    varying vec3 v_rayleighColor;\n    varying vec3 v_mieColor;\n    varying vec3 v_vertToCamera;\n\n    ".concat(u.default.atmosphere_fragment_utils,"\n\n    void main(void)\n    {\n        float fInnerRadius = u_atmosphereEnv.x;\n        float fOuterRadius = u_atmosphereEnv.y;\n        float fCameraHeight = u_atmosphereEnv.z;\n\n        #ifdef DYNAMIC_LIGHT\n            vec3 vLightDir = u_lightDirectionWorld;\n            // Alter alpha based on time of day (0.0 = night , 1.0 = day)\n            float fNightAlpha = clamp(dot(normalize(u_eyePositionWorld), vLightDir), 0.0, 1.0);\n        #else\n            vec3 vLightDir = u_eyePositionWorld;\n            float fNightAlpha = 1.0;\n        #endif\n        vLightDir = normalize(vLightDir);\n\n        // NOTE:\n        // For better precision normalization may be added on fragment (for mobile devices)\n        // while in vertex shader may be left un-normalized\n        // dot(vLightDir, normalize(v_vertToCamera)) / length(v_vertToCamera);\n        float fCosAngle = dot(vLightDir, v_vertToCamera) / length(v_vertToCamera);\n        float fRayleighPhase = 0.75 * (1.0 + fCosAngle * fCosAngle);\n        float fMiePhase = 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + fCosAngle * fCosAngle) / pow(1.0 + g2 - 2.0 * g * fCosAngle, 1.5);\n\n        vec3 cRgb = fRayleighPhase * v_rayleighColor + fMiePhase * v_mieColor;\n\n        // Sky produces very harsh lighting effect so exposure correction is always enabled.\n    #if !defined(HDR_FRAME_BUFFER) && defined(CORRECT_EXPOSURE)\n        // Exposure factor may be exposed to uniform variable.\n        cRgb = correctExposure(cRgb, 2.0);\n    #endif\n\n    #ifdef CORRECT_COLOR\n        cRgb = correctColor(cRgb, u_hsvCorrection);\n    #endif\n\n        // Alter alpha based on how close the viewer is to the ground (1.0 = on ground, 0.0 = at edge of atmosphere)\n        float fAtmosphereAlpha = clamp((fOuterRadius - fCameraHeight) /\n            (fOuterRadius - fInnerRadius), 0.0, 1.0);\n        fAtmosphereAlpha *= pow(fNightAlpha, 0.5);\n\n        gl_FragColor = vec4(cRgb, mix(cRgb.b, 1.0, fAtmosphereAlpha));\n    }\n    ")};var d=function(e){o(l,e);var n=a(l);function l(e){var i;if(r(this,l),e){i={name:"SkyAtmosphereMaterial",vertexShader:t.SkyAtmosphereShader.vertexShader,fragmentShader:t.SkyAtmosphereShader.fragmentShader,uniforms:t.SkyAtmosphereShader.uniforms,transparent:!0,depthTest:!0,depthWrite:!1,side:s.BackSide,blending:s.NormalBlending,fog:!1,rendererCapabilities:e.rendererCapabilities}}return n.call(this,i)}return i(l,[{key:"setDynamicLighting",value:function(e){c.setShaderMaterialDefine(this,"DYNAMIC_LIGHT",e)}},{key:"outerRadius",get:function(){return this.uniforms.u_atmosphereEnv.value.y},set:function(e){this.uniforms.u_atmosphereEnv.value.y=e}},{key:"innerRadius",get:function(){return this.uniforms.u_atmosphereEnv.value.x},set:function(e){this.uniforms.u_atmosphereEnv.value.x=e}},{key:"updateUniforms",value:function(e,t,n,r){var i=this.getCameraInfo(t,n);if(void 0===e||!e.isMaterial)throw Error("Wrong object used, only Material objects are supported");if(!(e.uniforms&&e.uniforms.u_atmosphereEnv&&e.uniforms.u_hsvCorrection&&e.uniforms.u_eyePositionWorld&&e.uniforms.u_modelViewProjection&&e.uniforms.u_lightDirectionWorld))throw Error("Atmosphere material has missing uniforms");var o=i.eyePos,a=i.modelViewProjection,s=i.eyeHeight;e.uniforms.u_eyePositionWorld.value.copy(o),e.uniforms.u_modelViewProjection.value.copy(a),e.uniforms.u_atmosphereEnv.value.z=s,e.uniforms.u_lightDirectionWorld.value=r.clone();var l=s>this.outerRadius,u=c.setShaderDefine(e.defines,"CAMERA_IN_SPACE",l),f=c.setShaderDefine(e.defines,"CAMERA_IN_ATMOSPHERE",!l);e.needsUpdate=e.needsUpdate||u||f}},{key:"getCameraInfo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=(new s.Matrix4).identity(),i=(new s.Matrix4).copy(e.matrixWorld).invert().transpose(),o=t.projectionMatrix,a=new s.Matrix4;a.multiplyMatrices(i,r),a.multiplyMatrices(o,a);var l=new s.Vector3;e.getWorldPosition(l);var u=new s.Vector3;t.getWorldPosition(u);var c=u.distanceTo(l);return{modelViewProjection:a,eyePos:l,eyeHeight:c}}var f=e.matrixWorld,d=t.matrixWorldInverse,h=t.projectionMatrix,p=new s.Matrix4;p.multiplyMatrices(d,f),p.multiplyMatrices(h,p);var m=new s.Vector3;t.getWorldPosition(m);var v=new s.Vector3;e.getWorldPosition(v);var g=v.distanceTo(m);return m.sub(v),{modelViewProjection:p,eyePos:m,eyeHeight:g}}}]),l}(l.RawShaderMaterial);t.SkyAtmosphereMaterial=d},59702:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(81506).default,a=n(16525).default,s=n(29754).default,l=n(2205).default,u=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SolidLineMaterial=t.LineDashesModes=void 0;var c,f=n(34585),d=n(67129),h=n(50470),p=n(43937),m=n(85070),v={None:p.LineCapsModes.CAPS_NONE,Square:p.LineCapsModes.CAPS_SQUARE,Round:p.LineCapsModes.CAPS_ROUND,TriangleIn:p.LineCapsModes.CAPS_TRIANGLE_IN,TriangleOut:p.LineCapsModes.CAPS_TRIANGLE_OUT},g=Object.keys(v).reduce((function(e,t){var n=t;return e[v[n]]=n,e}),{});!function(e){e[e.DASHES_SQUARE=0]="DASHES_SQUARE",e[e.DASHES_ROUND=1]="DASHES_ROUND",e[e.DASHES_DIAMOND=2]="DASHES_DIAMOND"}(c=t.LineDashesModes||(t.LineDashesModes={}));var y={Square:c.DASHES_SQUARE,Round:c.DASHES_ROUND,Diamond:c.DASHES_DIAMOND},E=Object.keys(y).reduce((function(e,t){var n=t;return e[y[n]]=n,e}),{}),A=new f.Color,T="\nprecision highp float;\nprecision highp int;\n\nuniform vec3 diffuse;\nuniform vec3 outlineColor;\nuniform float opacity;\nuniform float extrusionWidth;\nuniform float outlineWidth;\nuniform vec2 tileSize;\nuniform vec2 drawRange;\n\n#ifdef USE_DASHED_LINE\nuniform float dashSize;\nuniform float gapSize;\nuniform vec3 dashColor;\n\n#define DASHES_SQUARE ".concat(c.DASHES_SQUARE,"\n#define DASHES_ROUND ").concat(c.DASHES_ROUND,"\n#define DASHES_DIAMOND ").concat(c.DASHES_DIAMOND,"\n#endif\n\n#ifdef USE_TILE_CLIP\nvarying vec3 vPosition;\n#endif\n\nvarying vec3 vRange;\nvarying vec4 vCoords;\n#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif\n\n#include <round_edges_and_add_caps>\n#include <tile_clip_func>\n\n#ifdef USE_FADING\n#include <fading_pars_fragment>\n#endif\n\n#include <fog_pars_fragment>\n\nvoid main() {\n    float alpha = opacity;\n    vec3 outputDiffuse = diffuse;\n\n    #ifdef USE_TILE_CLIP\n    tileClip(vPosition.xy, tileSize);\n    #endif\n\n    // Calculate distance to center (0.0: lineCenter, 1.0: lineEdge).\n    float distToCenter = roundEdgesAndAddCaps(vCoords, vRange);\n    // Calculate distance to edge (-1.0: lineCenter, 0.0: lineEdge).\n    float distToEdge = distToCenter - (extrusionWidth + outlineWidth) / extrusionWidth;\n\n    // Decrease the line opacity by the distToEdge, making the transition steeper when the slope\n    // of distToChange increases (i.e. the line is further away).\n    float width = fwidth(distToEdge);\n\n    float s = opacity < 0.98\n        ? clamp((distToEdge + width) / (2.0 * width), 0.0, 1.0) // prefer a boxstep\n        : smoothstep(-width, width, distToEdge);\n\n    if (opacity < 0.98 && 1.0 - s < opacity) {\n        // drop the fragment when the line is using opacity.\n        discard;\n    }\n\n    alpha *= 1.0 - s;\n\n    #ifdef USE_DASHED_LINE\n    // Compute the distance to the dash origin (0.0: dashOrigin, 1.0: dashEnd, (d+g)/d: gapEnd).\n    float d = dashSize / vRange.x;\n    float g = gapSize / vRange.x;\n    float distToDashOrigin = mod(vCoords.x, d + g) / d;\n\n    // Compute distance to dash edge (0.5: dashCenter, 0.0: dashEdge) and compute the\n    // dashBlendFactor similarly on how we did it for the line opacity.\n    float distToDashEdge = 0.5 - distance(distToDashOrigin, (d + g) / d * 0.5);\n    #if DASHES_MODE == DASHES_ROUND\n    distToDashEdge = 0.5 - distance(vec2(distToCenter * 0.5, distToDashEdge), vec2(0.0, 0.5));\n    #elif DASHES_MODE == DASHES_DIAMOND\n    distToDashEdge -= distToCenter * 0.5;\n    #endif\n    float dashWidth = fwidth(distToDashEdge);\n    float dashBlendFactor = 1.0 - smoothstep(-dashWidth, dashWidth, distToDashEdge);\n\n    #ifdef USE_DASH_COLOR\n    outputDiffuse = mix(diffuse, dashColor, dashBlendFactor);\n    #endif\n    #endif\n\n    #ifdef USE_OUTLINE\n    // Calculate distance to outline (0.0: lineEdge, outlineWidth/lineWidth: outlineEdge) and\n    // compute the outlineBlendFactor (used to mix line and outline colors).\n    float distToOutline = distToCenter - 1.0;\n    float outlineWidth = fwidth(distToOutline);\n    float outlineBlendFactor = smoothstep(-outlineWidth, outlineWidth, distToOutline);\n\n    // Mix the colors using the different computed factors.\n    #if defined(USE_DASHED_LINE) && !defined(USE_DASH_COLOR)\n    float colorBlendFactor = smoothstep(-1.0, 1.0, dashBlendFactor - outlineBlendFactor);\n    outputDiffuse = mix(\n      mix(\n        mix(outlineColor, diffuse, colorBlendFactor),\n        outputDiffuse,\n        dashBlendFactor\n      ),\n      outlineColor,\n      outlineBlendFactor\n    );\n    #else\n    outputDiffuse = mix(outputDiffuse, outlineColor, outlineBlendFactor);\n    #endif\n    #endif\n\n    #if defined(USE_DASHED_LINE) && !defined(USE_DASH_COLOR)\n    // Multiply the alpha by the dashBlendFactor.\n    #if defined(USE_OUTLINE)\n    alpha *= clamp(dashBlendFactor + outlineBlendFactor, 0.0, 1.0);\n    #else\n    alpha *= 1.0 - dashBlendFactor;\n    #endif\n    #endif\n\n    #ifdef USE_COLOR\n    gl_FragColor = vec4( outputDiffuse * vColor, alpha );\n    #else\n    gl_FragColor = vec4( outputDiffuse, alpha );\n    #endif\n\n    #include <fog_fragment>\n\n    #ifdef USE_FADING\n    #include <fading_fragment>\n    #endif\n}"),O=function(e){l(n,e);var t=u(n);function n(e){var i,a;r(this,n),Object.assign(f.ShaderChunk,p.default),d.FadingFeature.patchGlobalShaderChunks();var s,l,u={CAPS_MODE:p.LineCapsModes.CAPS_ROUND,DASHES_MODE:c.DASHES_SQUARE},h=!0,v=1;e&&((h=!0===e.fog)&&m.setShaderDefine(u,"USE_FOG",!0),v=void 0!==e.opacity?e.opacity:v,void 0!==(s=e.displacementMap)&&m.setShaderDefine(u,"USE_DISPLACEMENTMAP",!0),void 0!==e.outlineWidth&&e.outlineWidth>0&&m.setShaderDefine(u,"USE_OUTLINE",!0),l={name:"SolidLineMaterial",vertexShader:"\n#define SEGMENT_OFFSET 0.1\n\nattribute vec3 extrusionCoord;\nattribute vec3 position;\nattribute vec4 bitangent;\nattribute vec3 tangent;\nattribute vec2 uv;\nattribute vec3 normal;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float extrusionWidth;\nuniform float outlineWidth;\nuniform float offset;\nuniform vec2 drawRange;\n\n#ifdef USE_DISPLACEMENTMAP\nuniform sampler2D displacementMap;\n#endif\n\n#ifdef USE_TILE_CLIP\nvarying vec3 vPosition;\n#endif\nvarying vec3 vRange;\nvarying vec4 vCoords;\n#ifdef USE_COLOR\nattribute vec3 color;\nvarying vec3 vColor;\n#endif\n\n#ifdef USE_FADING\n#include <fading_pars_vertex>\n#endif\n\n#include <fog_pars_vertex>\n\n#include <extrude_line_vert_func>\n\nvoid main() {\n    // Calculate the segment.\n    vec2 segment = abs(extrusionCoord.xy) - SEGMENT_OFFSET;\n    float segmentPos = sign(extrusionCoord.x) / 2.0 + 0.5;\n\n    // Calculate the vertex position inside the line (segment) and extrusion direction and factor.\n    float linePos = mix(segment.x, segment.y, segmentPos);\n    vec2 extrusionDir = sign(extrusionCoord.xy);\n    // Precompute to avoid computing multiple times\n    float tanHalfAngle = tan(bitangent.w / 2.0);\n    float extrusionFactor = extrusionDir.y * tanHalfAngle;\n\n    // Calculate the extruded vertex position (and scale the extrusion direction).\n    vec3 pos = extrudeLine(\n        position, linePos, extrusionWidth + outlineWidth, bitangent, tangent, tanHalfAngle,\n        extrusionDir);\n\n    // Store the normalized extrusion coordinates in vCoords (with their ranges in vRange).\n    vRange = vec3(extrusionCoord.z, extrusionWidth, extrusionFactor);\n    vCoords = vec4(extrusionDir / vRange.xy, segment / vRange.x);\n\n    // Adjust the segment to fit the drawRange.\n    float capDist = (extrusionWidth + outlineWidth) / extrusionCoord.z;\n    if ((vCoords.w + capDist) < drawRange.x || (vCoords.z - capDist) > drawRange.y) {\n        vCoords.zw += 1.0;\n    }\n    if (vCoords.z < drawRange.x) {\n        vCoords.zw += vec2(drawRange.x - vCoords.z, 0.0);\n    }\n    if (vCoords.w > drawRange.y) {\n        vCoords.zw -= vec2(0.0, vCoords.w - drawRange.y);\n    }\n\n    // Transform position.\n    #ifdef USE_DISPLACEMENTMAP\n    pos += normalize( normal ) * texture2D( displacementMap, uv ).x;\n    #endif\n\n    // Shift the line based on the offset, where the bitangent is the cross product of the average\n    // of the two direction vectors (the previous and next segment directions) and the normal of\n    // the line (facing into the sky). The w component is the angle between the two segments.\n    // Note, we need to take the angle into consideration, so we use trigonometry to calculate how\n    // much we need to extend the offset. Note, orthough this looks complicated we are doing this\n    // in the vertex shader, so it should not cause a performance issue.\n    pos += bitangent.xyz * offset * sqrt(1.0 + pow(abs(tanHalfAngle), 2.0));\n\n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n    gl_Position = projectionMatrix * mvPosition;\n\n    // Pass extruded position to fragment shader.\n    #ifdef USE_TILE_CLIP\n    vPosition = pos;\n    #endif\n\n    #ifdef USE_COLOR\n    // Pass vertex color to fragment shader.\n    vColor = color;\n    #endif\n\n    #ifdef USE_FADING\n    #include <fading_vertex>\n    #endif\n\n    #include <fog_vertex>\n}",fragmentShader:T,uniforms:f.UniformsUtils.merge([{diffuse:new f.Uniform(new f.Color(n.DEFAULT_COLOR)),dashColor:new f.Uniform(new f.Color(n.DEFAULT_COLOR)),outlineColor:new f.Uniform(new f.Color(n.DEFAULT_COLOR)),extrusionWidth:new f.Uniform(n.DEFAULT_WIDTH),outlineWidth:new f.Uniform(n.DEFAULT_OUTLINE_WIDTH),offset:new f.Uniform(n.DEFAULT_OFFSET),opacity:new f.Uniform(n.DEFAULT_OPACITY),tileSize:new f.Uniform(new f.Vector2),fadeNear:new f.Uniform(d.FadingFeature.DEFAULT_FADE_NEAR),fadeFar:new f.Uniform(d.FadingFeature.DEFAULT_FADE_FAR),displacementMap:new f.Uniform(void 0!==s?s:new f.Texture),drawRange:new f.Uniform(new f.Vector2(n.DEFAULT_DRAW_RANGE_START,n.DEFAULT_DRAW_RANGE_END)),dashSize:new f.Uniform(n.DEFAULT_DASH_SIZE),gapSize:new f.Uniform(n.DEFAULT_GAP_SIZE)},f.UniformsLib.fog]),defines:u,fog:h,opacity:v,rendererCapabilities:e.rendererCapabilities});return(i=t.call(this,l)).fog=h,i.setOpacity(v),i.stencilFunc=f.NotEqualStencilFunc,i.stencilZPass=f.ReplaceStencilOp,i.stencilRef=1,i.stencilWrite=!1,m.enforceBlending(o(i)),i.extensions.derivatives=!0,e&&(void 0!==e.color&&(A.set(e.color),i.color=A),void 0!==e.outlineColor&&(A.set(e.outlineColor),i.outlineColor=A),void 0!==e.lineWidth&&(i.lineWidth=e.lineWidth),void 0!==e.outlineWidth&&(i.outlineWidth=e.outlineWidth),void 0!==e.opacity&&i.setOpacity(e.opacity),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.fadeNear&&(i.fadeNear=e.fadeNear),void 0!==e.fadeFar&&(i.fadeFar=e.fadeFar),void 0!==e.displacementMap&&(i.displacementMap=e.displacementMap),void 0!==e.caps&&(i.caps=e.caps),void 0!==e.drawRangeStart&&(i.drawRangeStart=e.drawRangeStart),void 0!==e.drawRangeEnd&&(i.drawRangeEnd=e.drawRangeEnd),void 0!==e.dashes&&(i.dashes=e.dashes),void 0!==e.dashColor&&(A.set(e.dashColor),i.dashColor=A),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.fog&&(i.fog=e.fog,i.invalidateFog()),i.offset=null!==(a=e.offset)&&void 0!==a?a:0),i}return i(n,[{key:"offset",get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}},{key:"outline",get:function(){return!0===m.getShaderMaterialDefine(this,"USE_OUTLINE")},set:function(e){m.setShaderMaterialDefine(this,"USE_OUTLINE",e)}},{key:"setOpacity",value:function(e){a(s(n.prototype),"setOpacity",this).call(this,e),void 0!==e&&(this.stencilWrite=e<.98)}},{key:"color",get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value.copy(e)}},{key:"outlineColor",get:function(){return this.uniforms.outlineColor.value},set:function(e){this.uniforms.outlineColor.value.copy(e)}},{key:"dashColor",get:function(){return this.uniforms.dashColor.value},set:function(e){this.uniforms.dashColor.value.copy(e),m.setShaderMaterialDefine(this,"USE_DASH_COLOR",!0)}},{key:"lineWidth",get:function(){return 2*this.uniforms.extrusionWidth.value},set:function(e){this.uniforms.extrusionWidth.value=e/2}},{key:"outlineWidth",get:function(){return this.uniforms.outlineWidth.value},set:function(e){this.uniforms.outlineWidth.value=e,this.outline=e>0}},{key:"dashSize",get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},{key:"gapSize",get:function(){return this.uniforms.gapSize.value},set:function(e){var t,n;this.uniforms.gapSize.value=e,m.setShaderMaterialDefine(this,"USE_DASHED_LINE",e>0),0===(null===(n=null===(t=this.uniforms)||void 0===t?void 0:t.gapSize)||void 0===n?void 0:n.value)&&(this.stencilWrite=this.opacity<.98)}},{key:"caps",get:function(){var e="Round",t=m.getShaderMaterialDefine(this,"CAPS_MODE");return"number"===typeof t&&g.hasOwnProperty(t)&&(e=g[t]),e},set:function(e){v.hasOwnProperty(e)&&m.setShaderMaterialDefine(this,"CAPS_MODE",v[e])}},{key:"dashes",get:function(){var e="Square",t=m.getShaderMaterialDefine(this,"DASHES_MODE");return"number"===typeof t&&E.hasOwnProperty(t)&&(e=E[t]),e},set:function(e){y.hasOwnProperty(e)&&m.setShaderMaterialDefine(this,"DASHES_MODE",y[e])}},{key:"fadeNear",get:function(){return this.uniforms.fadeNear.value},set:function(e){this.uniforms.fadeNear.value=e}},{key:"fadeFar",get:function(){return this.uniforms.fadeFar.value},set:function(e){this.uniforms.fadeFar.value=e,m.setShaderMaterialDefine(this,"USE_FADING",e>0)}},{key:"displacementMap",get:function(){return this.uniforms.displacementMap.value},set:function(e){if(this.uniforms.displacementMap.value!==e){this.uniforms.displacementMap.value=e;var t=null!==e;t&&(this.uniforms.displacementMap.value.needsUpdate=!0),m.setShaderMaterialDefine(this,"USE_DISPLACEMENTMAP",t)}}},{key:"drawRangeStart",get:function(){return this.uniforms.drawRange.value.x},set:function(e){this.uniforms.drawRange.value.x=e}},{key:"drawRangeEnd",get:function(){return this.uniforms.drawRange.value.y},set:function(e){this.uniforms.drawRange.value.y=e}},{key:"clipTileSize",get:function(){return this.uniforms.tileSize.value},set:function(e){this.uniforms.tileSize.value.copy(e);var t=e.x>0&&e.y>0;m.setShaderMaterialDefine(this,"USE_TILE_CLIP",t)}},{key:"copy",value:function(e){return a(s(n.prototype),"copy",this).call(this,e),this.invalidateFog(),this.setOpacity(e.opacity),this}}]),n}(h.RawShaderMaterial);t.SolidLineMaterial=O,O.DEFAULT_COLOR=16711680,O.DEFAULT_WIDTH=1,O.DEFAULT_OUTLINE_WIDTH=0,O.DEFAULT_OPACITY=1,O.DEFAULT_DRAW_RANGE_START=0,O.DEFAULT_DRAW_RANGE_END=1,O.DEFAULT_DASH_SIZE=1,O.DEFAULT_GAP_SIZE=1,O.DEFAULT_OFFSET=0},85070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShaderDefine=t.setShaderDefine=t.getShaderMaterialDefine=t.setShaderMaterialDefine=t.disableBlending=t.enableBlending=t.enforceBlending=t.insertShaderInclude=t.DEFINE_BOOL_FALSE=t.DEFINE_BOOL_TRUE=void 0;var r=n(15739),i=n(34585);function o(e){!0!==e.transparent&&!0!==e.forcedBlending&&(e.blending=i.CustomBlending,!0===e.premultipliedAlpha?(e.blendSrc=i.OneFactor,e.blendDst=i.OneMinusSrcAlphaFactor,e.blendSrcAlpha=i.OneFactor,e.blendDstAlpha=i.OneMinusSrcAlphaFactor):(e.blendSrc=i.SrcAlphaFactor,e.blendDst=i.OneMinusSrcAlphaFactor,e.blendSrcAlpha=i.OneFactor,e.blendDstAlpha=i.OneMinusSrcAlphaFactor))}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return void 0===e.defines?n:l(e.defines,t)}function s(e,n,r){var i=!1;return"number"===typeof r?(i=e[n]!==r,e[n]=r):!0===r?(i=e[n]!==t.DEFINE_BOOL_TRUE,e[n]=t.DEFINE_BOOL_TRUE):!1===r&&void 0!==e[n]&&(delete e[n],i=!0),i}function l(e,n){var r=e[n];return r!==t.DEFINE_BOOL_FALSE&&(r===t.DEFINE_BOOL_TRUE||r)}t.DEFINE_BOOL_TRUE="",t.DEFINE_BOOL_FALSE=void 0,t.insertShaderInclude=function(e,t,n,r){var i=!0===r?"\t":"";return e.replace("#include <".concat(t,">"),"#include <".concat(t,">\n").concat(i,"#include <").concat(n,">"))},t.enforceBlending=function(e){e.transparent||(o(e),e.forcedBlending=!0)},t.enableBlending=o,t.disableBlending=function(e){!0!==e.transparent&&!0!==e.forcedBlending&&(e.blending=i.NormalBlending)},t.setShaderMaterialDefine=function(e,t,n){r.assert(void 0!==e.defines,"Do not use this function in ShaderMaterial derived c-tor.");var i=n!==a(e,t);return!!i&&(s(e.defines,t,n),e.needsUpdate=i,!0)},t.getShaderMaterialDefine=a,t.setShaderDefine=s,t.getShaderDefine=l},3879:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VignetteShader=void 0,t.VignetteShader={uniforms:{tDiffuse:{value:null},offset:{value:1},darkness:{value:1}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }",fragmentShader:"\n        uniform float offset;\n        uniform float darkness;\n        uniform sampler2D tDiffuse;\n        varying vec2 vUv;\n        void main() {\n            vec4 texel = texture2D( tDiffuse, vUv );\n            vec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );\n            gl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );\n        }"}},21690:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(43869),t),i(n(45709),t),i(n(80549),t),i(n(68275),t),i(n(18067),t),i(n(59616),t),i(n(11153),t),i(n(76729),t),i(n(67747),t)},18067:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextCanvas=t.DEFAULT_TEXT_CANVAS_LAYER=void 0;var a=n(34585),s=n(68275),l=n(30903),u=n(80549),c=n(95529),f=n(64584),d=n(11153),h=new a.Vector3,p={array:[new a.Box2],offset:0},m=new Float32Array;t.DEFAULT_TEXT_CANVAS_LAYER=0;var v=function(){function e(n){i(this,e),this.m_renderer=n.renderer,this.m_fontCatalog=n.fontCatalog,this.minGlyphCount=n.minGlyphCount,this.maxGlyphCount=n.maxGlyphCount,this.name=n.name,void 0===n.material?(this.m_ownsMaterial=!0,this.m_material=d.createSdfTextMaterial({fontCatalog:n.fontCatalog,rendererCapabilities:this.m_renderer.capabilities})):(this.m_ownsMaterial=!1,this.m_material=n.material),void 0===n.backgroundMaterial?(this.m_ownsBgMaterial=!0,this.m_bgMaterial=d.createSdfTextMaterial({fontCatalog:n.fontCatalog,isBackground:!0,rendererCapabilities:this.m_renderer.capabilities})):(this.m_ownsBgMaterial=!1,this.m_bgMaterial=n.backgroundMaterial),this.m_defaultLayer={id:t.DEFAULT_TEXT_CANVAS_LAYER,storage:new l.TextGeometry(new a.Scene,this.m_material,this.m_bgMaterial,this.minGlyphCount,this.maxGlyphCount)},this.m_layers=[this.m_defaultLayer],this.m_currentTextRenderStyle=(new u.TextRenderStyle).copy(e.defaultTextRenderStyle),this.m_currentTextLayoutStyle=(new u.TextLayoutStyle).copy(e.defaultTextLayoutStyle),this.m_lineTypesetter=new c.LineTypesetter,this.m_pathTypesetter=new f.PathTypesetter}return o(e,[{key:"fontCatalog",get:function(){return this.m_fontCatalog},set:function(e){this.m_fontCatalog=e;var t=this.m_material;t.uniforms.sdfTexture.value=this.m_fontCatalog.texture,t.uniforms.sdfParams.value=new a.Vector4(this.m_fontCatalog.textureSize.x,this.m_fontCatalog.textureSize.y,this.m_fontCatalog.size,this.m_fontCatalog.distanceRange),t.defines.MSDF="msdf"===this.m_fontCatalog.type?1:0;var n=this.m_bgMaterial;n.uniforms.sdfTexture.value=this.m_fontCatalog.texture,n.uniforms.sdfParams.value=new a.Vector4(this.m_fontCatalog.textureSize.x,this.m_fontCatalog.textureSize.y,this.m_fontCatalog.size,this.m_fontCatalog.distanceRange),n.defines.MSDF="msdf"===this.m_fontCatalog.type?1:0}},{key:"material",get:function(){return this.m_material},set:function(e){this.m_ownsMaterial&&(this.m_material.dispose(),this.m_ownsMaterial=!1),this.m_material=e;var t,n=r(this.m_layers);try{for(n.s();!(t=n.n()).done;){t.value.storage.mesh.material=this.m_material}}catch(i){n.e(i)}finally{n.f()}}},{key:"backgroundMaterial",get:function(){return this.m_bgMaterial},set:function(e){this.m_ownsBgMaterial&&(this.m_bgMaterial.dispose(),this.m_ownsBgMaterial=!1),this.m_bgMaterial=e;var t,n=r(this.m_layers);try{for(n.s();!(t=n.n()).done;){t.value.storage.backgroundMesh.material=this.m_bgMaterial}}catch(i){n.e(i)}finally{n.f()}}},{key:"textRenderStyle",get:function(){return this.m_currentTextRenderStyle},set:function(e){this.m_currentTextRenderStyle.copy(e)}},{key:"textLayoutStyle",get:function(){return this.m_currentTextLayoutStyle},set:function(e){this.m_currentTextLayoutStyle.copy(e)}},{key:"clear",value:function(){var t,n=r(this.m_layers);try{for(n.s();!(t=n.n()).done;){t.value.storage.clear()}}catch(i){n.e(i)}finally{n.f()}this.m_currentTextRenderStyle.copy(e.defaultTextRenderStyle),this.m_currentTextLayoutStyle.copy(e.defaultTextLayoutStyle)}},{key:"render",value:function(e,t,n,r,i){this.m_fontCatalog.update(this.m_renderer);var o=null;void 0!==r&&(o=this.m_renderer.getRenderTarget(),this.m_renderer.setRenderTarget(r)),!0===i&&this.m_renderer.clear(!0);for(var a=0;a<this.m_layers.length;a++){var s=this.m_layers[a];if(s.id>=(null!==t&&void 0!==t?t:0)){if(!(void 0===n||s.id<n))break;s.storage.update(),this.m_renderer.render(s.storage.scene,e)}}void 0!==r&&this.m_renderer.setRenderTarget(o)}},{key:"addLayer",value:function(e){var t=this.getLayer(e);return void 0===t&&(t={id:e,storage:new l.TextGeometry(new a.Scene,this.m_material,this.m_bgMaterial,this.minGlyphCount,this.maxGlyphCount)},this.m_layers.push(t),this.m_layers.sort((function(e,t){return e.id-t.id}))),t}},{key:"getLayer",value:function(e){return this.m_layers.find((function(t){return t.id===e}))}},{key:"getAllLayers",value:function(){return this.m_layers}},{key:"measureText",value:function(e,t,n){var r,i,o,a;if(h.set(0,0,0),void 0!==n){if(r=n.path,i=n.pathOverflow,a=n.outputCharacterBounds,void 0!==n.path){var s=n.path.getPoint(0);if(null===s)return!1;h.set(s.x,s.y,0)}n.letterCaseArray&&(o=n.letterCaseArray)}return this.placeText({input:e,layer:this.m_defaultLayer,textPath:r,textPathOverflow:i,bounds:t,individualBounds:a,letterCaseArray:o})}},{key:"addText",value:function(e,t,n){var r,i,o;h.copy(t);var a=this.m_defaultLayer;if(void 0!==n){if(r=n.path,i=n.pathOverflow,void 0!==n.layer){var s=this.getLayer(n.layer);void 0===s&&(s=this.addLayer(n.layer)),a=s}void 0!==n.path&&h.set(0,0,h.z),n.letterCaseArray&&(o=n.letterCaseArray)}var l=a.storage.drawCount,u=this.placeText({input:e,textPath:r,textPathOverflow:i,layer:a,letterCaseArray:o});return u&&void 0!==n?(!0===n.updatePosition&&t.copy(h),void 0!==n.pickingData&&a.storage.addPickingData(l,a.storage.drawCount,n.pickingData)):u||(a.storage.m_drawCount=l),u}},{key:"createTextBufferObject",value:function(e,t){var n,r;h.set(0,0,0);var i,o,l,c,f,d,p=this.m_currentTextRenderStyle.fontVariant===u.FontVariant.SmallCaps;if("string"!==typeof e)n=e,void 0!==t&&t.letterCaseArray&&(r=t.letterCaseArray);else if(r=[],void 0===(n=this.m_fontCatalog.getGlyphs(e,this.m_currentTextRenderStyle,p?r:void 0)))return;return void 0!==t&&(i=t.path,o=t.pathOverflow,!0===t.outputBounds&&(l=new a.Box2),!0===t.outputCharacterBounds&&(c=[]),!0===t.storeStyles&&(f=this.m_currentTextRenderStyle.clone(),d=this.m_currentTextLayoutStyle.clone())),this.placeText({input:e,layer:this.m_defaultLayer,computeTextBuffer:!0,textPath:i,textPathOverflow:o,bounds:l,individualBounds:c,letterCaseArray:r}),new s.TextBufferObject(n,new Float32Array(m),l,c,f,d)}},{key:"addTextBufferObject",value:function(e,t){var n,r,i,o,a,s,l,u,c=this.m_defaultLayer;if(void 0!==t){if(void 0!==t.layer){var f=this.getLayer(t.layer);void 0===f&&(f=this.addLayer(t.layer)),c=f}r=null===(n=t.position)||void 0===n?void 0:n.clone(),i=t.scale,o=t.rotation,a=t.color,s=t.opacity,l=t.backgroundColor,u=t.backgroundOpacity}var d=c.storage.drawCount,h=c.storage.addTextBufferObject(e,r,i,o,a,s,l,u);return h&&void 0!==t?void 0!==t.pickingData&&c.storage.addPickingData(d,c.storage.drawCount,t.pickingData):h||(c.storage.m_drawCount=d),h}},{key:"pickText",value:function(e,t){var n,i=r(this.m_layers);try{for(i.s();!(n=i.n()).done;){n.value.storage.pick(e,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"getMemoryUsage",value:function(e){this.m_fontCatalog.updateMemoryUsage(e);var t,n=r(this.m_layers);try{for(n.s();!(t=n.n()).done;){t.value.storage.updateMemoryUsage(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"placeText",value:function(e){if(0===e.input.length||0===this.m_currentTextLayoutStyle.maxLines)return void 0!==e.bounds&&(e.bounds.min.set(0,0),e.bounds.max.set(0,0)),void 0!==e.individualBounds&&(e.individualBounds.length=0),!0;var t,n,r,i=this.m_currentTextRenderStyle.fontVariant===u.FontVariant.SmallCaps;if("string"!==typeof e.input)t=e.input,e.letterCaseArray&&(n=e.letterCaseArray);else if(n=[],void 0===(t=this.m_fontCatalog.getGlyphs(e.input,this.m_currentTextRenderStyle,i?n:void 0)))return!1;void 0!==e.individualBounds&&(p.array=e.individualBounds,p.offset=0,r=p),void 0!==e.bounds&&(e.bounds.min.set(1/0,1/0),e.bounds.max.set(-1/0,-1/0)),!0===e.computeTextBuffer&&(m=new Float32Array(t.length*l.QUAD_VERTEX_MEMORY_FOOTPRINT));var o=void 0!==e.textPath,a={glyphs:t,fontCatalog:this.m_fontCatalog,textRenderStyle:this.m_currentTextRenderStyle,textLayoutStyle:this.m_currentTextLayoutStyle,position:h,geometry:e.layer.storage,smallCapsArray:i?n:void 0,globalBounds:e.bounds,individualBounds:r,vertexBuffer:!0===e.computeTextBuffer?m:void 0},s=!0;return o?(Object.assign(a,{path:e.textPath,pathOverflow:!0===e.textPathOverflow}),s=this.m_pathTypesetter.arrangeGlyphs(a)):s=this.m_lineTypesetter.arrangeGlyphs(a),void 0!==r&&(r.array.length=r.offset),s}}]),e}();t.TextCanvas=v,v.defaultTextRenderStyle=new u.TextRenderStyle,v.defaultTextLayoutStyle=new u.TextLayoutStyle},43869:function(e,t,n){"use strict";var r=n(87757),i=n(43269).default,o=n(48926).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FontCatalog=void 0;var l=n(34585),u=n(67747),c=n(45709),f=n(85329),d=n(80549),h="_BoldAssets/",p="_ItalicAssets/",m=function(){function e(t,n,r,i,o,s,l,u,c,d,h){a(this,e),this.url=t,this.name=n,this.type=r,this.size=i,this.maxWidth=o,this.maxHeight=s,this.distanceRange=l,this.fonts=u,this.unicodeBlocks=c,this.maxCodePointCount=d,this.m_replacementGlyph=h,this.showReplacementGlyphs=!1,this.m_glyphTextureCache=new f.GlyphTextureCache(d,this.maxWidth+1,this.maxHeight+1),this.m_loadingJson=new Map,this.m_loadingPages=new Map,this.m_loadingGlyphs=new Map,this.m_loadedJson=new Map,this.m_loadedPages=new Map,this.m_loadedGlyphs=new Map}return s(e,[{key:"dispose",value:function(){this.fonts.length=0,this.unicodeBlocks.length=0,this.m_glyphTextureCache.dispose(),this.m_loadingJson.clear(),this.m_loadingPages.clear(),this.m_loadingGlyphs.clear(),this.m_loadedJson.clear(),this.m_loadedPages.clear(),this.m_loadedGlyphs.clear()}},{key:"clear",value:function(){this.m_glyphTextureCache.clear(),this.m_loadingJson.clear(),this.m_loadingPages.clear(),this.m_loadingGlyphs.clear(),this.m_loadedJson.clear(),this.m_loadedPages.clear(),this.m_loadedGlyphs.clear()}},{key:"update",value:function(e){this.m_glyphTextureCache.update(e)}},{key:"texture",get:function(){return this.m_glyphTextureCache.texture}},{key:"textureSize",get:function(){return this.m_glyphTextureCache.textureSize}},{key:"isLoading",get:function(){return this.m_loadingJson.size>0||this.m_loadingPages.size>0||this.m_loadingGlyphs.size>0}},{key:"loadBlock",value:function(){var t=o(r.mark((function t(n,o,a,s){var l,u,c,f,d,h,p,m;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=this.getAssetsPath(a,o),u="".concat(l,"/").concat(n.name.replace(/ /g,"_"),".json"),void 0!==(c=this.m_loadedJson.get(u))){t.next=25;break}if(void 0!==(f=this.m_loadingJson.get(u))){t.next=22;break}return t.prev=6,f=e.loadJSON(u),this.m_loadingJson.set(u,f),t.next=11,f;case 11:c=t.sent,this.m_loadingJson.delete(u),this.m_loadedJson.set(u,c),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),console.error(t.t0),this.m_loadingJson.delete(u);case 20:t.next=25;break;case 22:return t.next=24,f;case 24:c=t.sent;case 25:if(d=[],!0===s){h=i(c.pages);try{for(h.s();!(p=h.n()).done;)m=p.value,d.push(this.loadPage("".concat(l,"/").concat(m)))}catch(r){h.e(r)}finally{h.f()}}return t.next=29,Promise.all(d);case 29:return t.abrupt("return",c);case 30:case"end":return t.stop()}}),t,this,[[6,16]])})));return function(e,n,r,i){return t.apply(this,arguments)}}()},{key:"removeBlock",value:function(e,t,n){var r=this.getAssetsPath(n,t),o="".concat(r,"/").concat(e.name.replace(/ /g,"_"),".json"),a=this.m_loadedJson.get(o);if(void 0!==a){var s,l=i(a.pages);try{for(l.s();!(s=l.n()).done;){var u=s.value,c="".concat(r,"/").concat(u);this.m_loadingPages.delete(c),this.m_loadedPages.delete(c)}}catch(f){l.e(f)}finally{l.f()}this.m_loadingJson.delete(o),this.m_loadedJson.delete(o)}}},{key:"loadCharset",value:function(){var e=o(r.mark((function e(t,n){var o,a,s,l,u,c,f,h,p=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.fontName,a=n.fontStyle,s=n.fontVariant===d.FontVariant.AllCaps||n.fontVariant===d.FontVariant.SmallCaps,l=(s?t.toUpperCase():t).replace(/[\s\S](?=([\s\S]+))/g,(function(e,t){return t.indexOf(e)+1?"":e})),u=[],c=i(l),e.prev=6,h=function(){var e=f.value,t=e.codePointAt(0),n=p.getFont(t,o),r="".concat(n.name,"_").concat(a),s="".concat(r,"_").concat(t),l=p.m_loadedGlyphs.get(r);void 0===l&&(l=new Map,p.m_loadedGlyphs.set(r,l));var c=l.get(t);if(void 0===c){var d=p.m_loadingGlyphs.get(s);if(void 0===d){if(!n.charset.includes(String.fromCodePoint(t))){var h=p.createReplacementGlyph(t,e,n);return l.set(t,h),p.m_glyphTextureCache.add(s,h),"continue"}var m,v,g=i(p.unicodeBlocks);try{for(g.s();!(v=g.n()).done;){var y=v.value;if(t>=y.min&&t<=y.max){m=y;break}}}catch(E){g.e(E)}finally{g.f()}d=p.loadAssets(t,a,m,n),p.m_loadingGlyphs.set(s,d),d.then((function(e){p.m_loadingGlyphs.delete(s),l.set(t,e),p.m_glyphTextureCache.add(s,e)}))}u.push(d)}else p.m_glyphTextureCache.has(s)||(u.push(Promise.resolve(c)),p.m_glyphTextureCache.add(s,c))},c.s();case 9:if((f=c.n()).done){e.next=15;break}if("continue"!==h()){e.next=13;break}return e.abrupt("continue",13);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),c.e(e.t0);case 20:return e.prev=20,c.f(),e.finish(20);case 23:return e.abrupt("return",Promise.all(u));case 24:case"end":return e.stop()}}),e,null,[[6,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getGlyph",value:function(e,t,n){var r=this.m_loadedGlyphs.get("".concat(t.name,"_").concat(n));if(void 0!==r)return r.get(e)}},{key:"getGlyphs",value:function(e,t,n){var r,o=[],a=t.fontName,s=t.fontStyle,l=t.fontVariant,u=l===d.FontVariant.AllCaps||l===d.FontVariant.SmallCaps,c=i(e);try{for(c.s();!(r=c.n()).done;){var f,h=r.value,p=u?h.toUpperCase():h,m=i(p);try{for(m.s();!(f=m.n()).done;){var v=f.value,g=v.codePointAt(0),y=this.getFont(g,a),E=this.getGlyph(g,y,s);if(void 0===E||E.isReplacement&&!this.showReplacementGlyphs)return;o.push(E),void 0!==n&&n.push(v!==h)}}catch(A){m.e(A)}finally{m.f()}}}catch(A){c.e(A)}finally{c.f()}return o}},{key:"getFont",value:function(e,t){var n,r=this.fonts[0].name,o=i(this.unicodeBlocks);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(e>=a.min&&e<=a.max){r=void 0!==t&&void 0!==a.fonts.find((function(e){return e===t}))?t:a.fonts[0];break}}}catch(s){o.e(s)}finally{o.f()}return this.fonts.find((function(e){return e.name===r}))}},{key:"updateMemoryUsage",value:function(e){var t,n=0,r=i(this.unicodeBlocks);try{for(r.s();!(t=r.n()).done;){var o=t.value;n+=2*(o.max-o.min)}}catch(u){r.e(u)}finally{r.f()}var a=this.m_glyphTextureCache.textureSize.x*this.m_glyphTextureCache.textureSize.y*4;for(var s in this.m_loadedPages.entries)if(void 0!==this.m_loadedPages.get(s)){var l=this.m_loadedPages.get(s);void 0!==l&&(a+=l.image.width*l.image.height*4)}e.heapSize+=n+a,e.gpuSize+=a}},{key:"createReplacementGlyph",value:function(e,t,n){var r=this.m_replacementGlyph.clone();return r.codePoint=e,r.character=t,r.font=n,r.isReplacement=u.UnicodeUtils.isPrintable(e),r}},{key:"loadAssets",value:function(){var e=o(r.mark((function e(t,n,i,o){var a,s,l,u,f,d;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadBlock(i,o,n);case 2:if(void 0!==(a=e.sent)){e.next=5;break}return e.abrupt("return",this.m_replacementGlyph);case 5:return s=a.chars.find((function(e){return e.id===t})),l=this.getAssetsPath(n,o),u="".concat(l,"/").concat(a.pages[s.page]),e.next=10,this.loadPage(u);case 10:return f=e.sent,d=new c.GlyphData(s.id,i.name,s.width,s.height,s.xadvance,s.xoffset,s.yoffset,s.x/f.image.width,1-(s.y+s.height)/f.image.height,(s.x+s.width)/f.image.width,1-s.y/f.image.height,f,o),e.abrupt("return",d);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"loadPage",value:function(){var t=o(r.mark((function t(n){var i,o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(i=this.m_loadedPages.get(n))){t.next=20;break}if(void 0!==(o=this.m_loadingPages.get(n))){t.next=17;break}return o=e.loadTexture(n),this.m_loadingPages.set(n,o),t.next=8,o;case 8:(i=t.sent).wrapS=l.ClampToEdgeWrapping,i.wrapT=l.ClampToEdgeWrapping,i.minFilter=l.NearestFilter,i.needsUpdate=!0,this.m_loadingPages.delete(n)&&this.m_loadedPages.set(n,i),this.m_loadingPages.delete(n),t.next=20;break;case 17:return t.next=19,o;case 19:i=t.sent;case 20:return t.abrupt("return",i);case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAssetsPath",value:function(e,t){var n="_Assets/";switch(e){case d.FontStyle.Bold:void 0!==t.bold&&(n=h);break;case d.FontStyle.Italic:void 0!==t.italic&&(n=p);break;case d.FontStyle.BoldItalic:void 0!==t.boldItalic?n="_BoldItalicAssets/":void 0!==t.italic?n=p:void 0!==t.bold&&(n=h)}return"".concat(this.url,"/").concat(this.name).concat(n).concat(t.name)}}],[{key:"load",value:function(){var t=o(r.mark((function t(n,i){var o,a,s,u,f,d,h,p;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new URL(n,window.location.href),t.next=3,e.loadJSON(o.href);case 3:return a=t.sent,s=new URL("".concat(a.name).concat("_Assets/Extra/"),o),t.next=7,e.loadJSON(s.href+"Specials.json");case 7:return u=t.sent,t.next=10,e.loadTexture(s.href+"Specials.png");case 10:return(f=t.sent).wrapS=l.ClampToEdgeWrapping,f.wrapT=l.ClampToEdgeWrapping,f.minFilter=l.NearestFilter,f.needsUpdate=!0,d=a.fonts.find((function(e){return"Extra"===e.name})),h=new c.GlyphData(65533,"Specials",u.chars[0].width,u.chars[0].height,u.chars[0].xadvance,u.chars[0].xoffset,u.chars[0].yoffset,0,0,1,1,f,d,!0),p=new e(o.href.substr(0,o.href.lastIndexOf("/")),a.name,a.type,a.size,a.maxWidth,a.maxHeight,a.distanceRange,a.fonts,a.supportedBlocks,i,h),t.abrupt("return",p);case 19:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"loadTexture",value:function(){var e=o(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){(new l.TextureLoader).load(t,e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadJSON",value:function(){var e=o(r.mark((function e(t){var n,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(t," Status Text:  ").concat(n.statusText));case 5:return e.next=7,n.text();case 7:return i=e.sent,e.abrupt("return",JSON.parse(i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.FontCatalog=m},45709:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphData=void 0;var o=n(34585),a=n(67747),s=function(){function e(t,n,i,s,l,u,c,f,d,h,p,m,v){var g=arguments.length>13&&void 0!==arguments[13]&&arguments[13];r(this,e),this.codePoint=t,this.block=n,this.width=i,this.height=s,this.advanceX=l,this.offsetX=u,this.offsetY=c,this.texture=m,this.font=v,this.isReplacement=g,this.positions=[],this.sourceTextureCoordinates=[],this.dynamicTextureCoordinates=[],this.copyIndex=0,this.isInCache=!1,this.character=String.fromCodePoint(t),this.direction=a.UnicodeUtils.getDirection(t,n);var y=this.offsetX,E=y+this.width,A=v.metrics.lineHeight-this.offsetY,T=A-this.height;this.positions.push(new o.Vector3(y,T,1),new o.Vector3(E,T,1),new o.Vector3(y,A,1),new o.Vector3(E,A,1)),this.sourceTextureCoordinates.push(new o.Vector2(f,d),new o.Vector2(h,d),new o.Vector2(f,p),new o.Vector2(h,p)),this.dynamicTextureCoordinates.push(new o.Vector2(0,0),new o.Vector2(1,0),new o.Vector2(0,1),new o.Vector2(1,1))}return i(e,[{key:"clone",value:function(){return new e(this.codePoint,this.block,this.width,this.height,this.advanceX,this.offsetX,this.offsetY,this.sourceTextureCoordinates[0].x,this.sourceTextureCoordinates[0].y,this.sourceTextureCoordinates[3].x,this.sourceTextureCoordinates[3].y,this.texture,this.font,this.isReplacement)}}]),e}();t.GlyphData=s},85329:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphTextureCache=void 0;var a=n(51106),s=n(34585),l=n(45709),u=n(9499),c=4096,f=function(){function e(t,n,r){i(this,e),this.capacity=t,this.entryWidth=n,this.entryHeight=r;var o=Math.floor(Math.sqrt(t));this.m_cacheHeight=o*o<t?o+1:o,this.m_cacheWidth=o*this.m_cacheHeight<t?o+1:o,this.m_textureSize=new s.Vector2(this.m_cacheWidth*n,this.m_cacheHeight*r),(this.m_textureSize.y>c||this.m_textureSize.x>c)&&console.warn("GlyphTextureCache texture size ("+this.m_textureSize.x+", "+this.m_textureSize.y+") exceeds WebGL's widely supported MAX_TEXTURE_SIZE ("+"4096).\nThis could result in rendering errors on some devices.\nPlease consider reducing its capacity or input assets size."),this.m_entryCache=new a.LRUCache(t),this.initCacheEntries(),this.m_scene=new s.Scene,this.m_camera=new s.OrthographicCamera(0,this.m_textureSize.x,this.m_textureSize.y,0),this.m_camera.position.z=1,this.m_camera.updateMatrixWorld(!1),this.m_rt=new s.WebGLRenderTarget(this.m_textureSize.x,this.m_textureSize.y,{wrapS:s.ClampToEdgeWrapping,wrapT:s.ClampToEdgeWrapping,depthBuffer:!1,stencilBuffer:!1}),this.m_copyTextureSet=new Set,this.m_copyTransform=new s.Matrix3,this.m_copyPositions=[],this.m_copyPositions.push(new s.Vector2,new s.Vector2,new s.Vector2,new s.Vector2),this.m_copyVertexBuffer=new s.InterleavedBuffer(new Float32Array(20*t),5),this.m_copyVertexBuffer.setUsage(s.DynamicDrawUsage),this.m_copyPositionAttribute=new s.InterleavedBufferAttribute(this.m_copyVertexBuffer,3,0),this.m_copyUVAttribute=new s.InterleavedBufferAttribute(this.m_copyVertexBuffer,2,3),this.m_copyGeometry=new s.BufferGeometry,this.m_copyGeometry.setAttribute("position",this.m_copyPositionAttribute),this.m_copyGeometry.setAttribute("uv",this.m_copyUVAttribute);var l=new s.BufferAttribute(new Uint32Array(6*t),1);l.setUsage(s.DynamicDrawUsage),this.m_copyGeometry.setIndex(l),this.m_copyMesh=new s.Mesh(this.m_copyGeometry),this.m_copyMesh.frustumCulled=!1,this.m_copyGeometryDrawCount=0,this.m_clearPositionAttribute=new s.BufferAttribute(new Float32Array(8*t),2),this.m_clearPositionAttribute.setUsage(s.DynamicDrawUsage),this.m_clearGeometry=new s.BufferGeometry,this.m_clearGeometry.setAttribute("position",this.m_clearPositionAttribute);var u=new s.BufferAttribute(new Uint32Array(6*t),1);u.setUsage(s.DynamicDrawUsage),this.m_clearGeometry.setIndex(u),this.m_clearMesh=new s.Mesh(this.m_clearGeometry),this.m_clearMesh.frustumCulled=!1,this.m_clearGeometryDrawCount=0,this.m_scene.add(this.m_clearMesh,this.m_copyMesh)}return o(e,[{key:"dispose",value:function(){var e,t;this.m_entryCache.clear(),this.m_scene.remove(this.m_clearMesh,this.m_copyMesh),this.m_rt.dispose(),null===(e=this.m_clearMaterial)||void 0===e||e.dispose(),null===(t=this.m_copyMaterial)||void 0===t||t.dispose(),this.m_copyTextureSet.clear(),this.m_clearGeometry.dispose(),this.m_copyGeometry.dispose()}},{key:"texture",get:function(){return this.m_rt.texture}},{key:"textureSize",get:function(){return this.m_textureSize}},{key:"add",value:function(e,t){if(void 0===this.m_entryCache.get(e)){var n=this.m_entryCache.oldest;if(null===n)throw new Error("GlyphTextureCache is uninitialized!");this.clearCacheEntry(n.value),this.copyGlyphToCache(e,t,n.value.location)}}},{key:"has",value:function(e){return this.m_entryCache.has(e)}},{key:"get",value:function(e){return this.m_entryCache.get(e)}},{key:"clear",value:function(){this.m_copyGeometryDrawCount=0,this.m_clearGeometryDrawCount=0,this.m_entryCache.clear(),this.m_copyTextureSet.clear(),this.initCacheEntries()}},{key:"update",value:function(e){var t=null,n=this.m_clearGeometryDrawCount>0,r=this.m_copyGeometryDrawCount>0;if((n||r)&&(t=e.getRenderTarget(),e.setRenderTarget(this.m_rt)),n){if(this.m_clearMaterial||(this.m_clearMaterial=new u.GlyphClearMaterial({rendererCapabilities:e.capabilities}),this.m_clearMesh.material=this.m_clearMaterial),null===this.m_clearGeometry.index)throw new Error("GlyphTextureCache clear geometry index is uninitialized!");this.m_clearPositionAttribute.needsUpdate=!0,this.m_clearPositionAttribute.updateRange.offset=0,this.m_clearPositionAttribute.updateRange.count=8*this.m_clearGeometryDrawCount,this.m_clearGeometry.index.needsUpdate=!0,this.m_clearGeometry.index.updateRange.offset=0,this.m_clearGeometry.index.updateRange.count=6*this.m_clearGeometryDrawCount,this.m_clearGeometry.setDrawRange(0,6*this.m_clearGeometryDrawCount),this.m_clearMesh.visible=!0,this.m_copyMesh.visible=!1,e.render(this.m_scene,this.m_camera),this.m_clearGeometryDrawCount=0,this.m_clearMesh.visible=!1}if(r){if(this.m_copyMaterial||(this.m_copyMaterial=new u.GlyphCopyMaterial({rendererCapabilities:e.capabilities}),this.m_copyMesh.material=this.m_copyMaterial),null===this.m_copyGeometry.index)throw new Error("GlyphTextureCache copy geometry index is uninitialized!");this.m_copyVertexBuffer.needsUpdate=!0,this.m_copyVertexBuffer.updateRange.offset=0,this.m_copyVertexBuffer.updateRange.count=20*this.m_copyGeometryDrawCount,this.m_copyGeometry.index.needsUpdate=!0,this.m_copyGeometry.index.updateRange.offset=0,this.m_copyGeometry.index.updateRange.count=6*this.m_copyGeometryDrawCount,this.m_copyGeometry.setDrawRange(0,6*this.m_copyGeometryDrawCount),this.m_copyMesh.visible=!0;for(var i=Array.from(this.m_copyTextureSet),o=Math.ceil(this.m_copyTextureSet.size/8),a=0;a<o;a++){var s=8*a;this.m_copyMaterial.uniforms.pageOffset.value=s;for(var l=0;l<8;l++){var c=s+l;c<this.m_copyTextureSet.size&&(this.m_copyMaterial.uniforms["page"+l].value=i[c])}e.render(this.m_scene,this.m_camera)}this.m_copyTextureSet.clear(),this.m_copyGeometryDrawCount=0}(n||r)&&e.setRenderTarget(t)}},{key:"initCacheEntries",value:function(){for(var e={name:"",metrics:{size:0,distanceRange:0,base:0,lineHeight:0,lineGap:0,capHeight:0,xHeight:0},charset:""},t=new l.GlyphData(0,"",0,0,0,0,0,0,0,0,0,s.Texture.DEFAULT_IMAGE,e),n=0;n<this.m_cacheHeight;n++)for(var r=0;r<this.m_cacheWidth;r++){var i={glyphData:t,location:new s.Vector2(r,n)};this.m_entryCache.set("Dummy_".concat(n*this.m_cacheHeight+r),i)}}},{key:"copyGlyphToCache",value:function(e,t,n){this.m_copyTextureSet.add(t.texture);var i,o=0,a=r(this.m_copyTextureSet.values());try{for(a.s();!(i=a.n()).done;){if(i.value===t.texture)break;o++}}catch(m){a.e(m)}finally{a.f()}t.copyIndex=o,this.m_copyTransform.set(1,0,n.x*this.entryWidth-t.offsetX,0,1,n.y*this.entryHeight-t.positions[0].y,0,0,0);for(var s=0;s<4;++s)this.m_copyPositions[s].set(t.positions[s].x,t.positions[s].y),this.m_copyPositions[s].applyMatrix3(this.m_copyTransform);if(!(this.m_copyGeometryDrawCount>=this.capacity)){for(var l=4*this.m_copyGeometryDrawCount,u=6*this.m_copyGeometryDrawCount,c=0;c<4;++c)this.m_copyPositionAttribute.setXYZ(l+c,this.m_copyPositions[c].x,this.m_copyPositions[c].y,t.copyIndex),this.m_copyUVAttribute.setXY(l+c,t.sourceTextureCoordinates[c].x,t.sourceTextureCoordinates[c].y);if(null===this.m_copyGeometry.index)throw new Error("GlyphTextureCache copy geometry index is uninitialized!");this.m_copyGeometry.index.setX(u,l),this.m_copyGeometry.index.setX(u+1,l+1),this.m_copyGeometry.index.setX(u+2,l+2),this.m_copyGeometry.index.setX(u+3,l+2),this.m_copyGeometry.index.setX(u+4,l+1),this.m_copyGeometry.index.setX(u+5,l+3),++this.m_copyGeometryDrawCount;var f=this.m_copyPositions[0].x/this.m_textureSize.x,d=this.m_copyPositions[0].y/this.m_textureSize.y,h=this.m_copyPositions[3].x/this.m_textureSize.x,p=this.m_copyPositions[3].y/this.m_textureSize.y;t.dynamicTextureCoordinates[0].set(f,d),t.dynamicTextureCoordinates[1].set(h,d),t.dynamicTextureCoordinates[2].set(f,p),t.dynamicTextureCoordinates[3].set(h,p),t.isInCache=!0,this.m_entryCache.set(e,{glyphData:t,location:n})}}},{key:"clearCacheEntry",value:function(e){if(e.glyphData.isInCache=!1,this.m_copyPositions[0].set(e.location.x*this.entryWidth,e.location.y*this.entryHeight),this.m_copyPositions[1].set((e.location.x+1)*this.entryWidth,e.location.y*this.entryHeight),this.m_copyPositions[2].set(e.location.x*this.entryWidth,(e.location.y+1)*this.entryHeight),this.m_copyPositions[3].set((e.location.x+1)*this.entryWidth,(e.location.y+1)*this.entryHeight),!(this.m_clearGeometryDrawCount>=this.capacity)){for(var t=4*this.m_clearGeometryDrawCount,n=6*this.m_clearGeometryDrawCount,r=0;r<4;++r)this.m_clearPositionAttribute.setXY(t+r,this.m_copyPositions[r].x,this.m_copyPositions[r].y);if(null===this.m_clearGeometry.index)throw new Error("GlyphTextureCache clear geometry index is uninitialized!");this.m_clearGeometry.index.setX(n,t),this.m_clearGeometry.index.setX(n+1,t+1),this.m_clearGeometry.index.setX(n+2,t+2),this.m_clearGeometry.index.setX(n+3,t+2),this.m_clearGeometry.index.setX(n+4,t+1),this.m_clearGeometry.index.setX(n+5,t+3),++this.m_clearGeometryDrawCount}}}]),e}();t.GlyphTextureCache=f},68275:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextBufferObject=void 0;var o=r((function e(t,n,r,o,a,s){i(this,e),this.glyphs=t,this.buffer=n,this.bounds=r,this.characterBounds=o,this.textRenderStyle=a,this.textLayoutStyle=s}));t.TextBufferObject=o},30903:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TextGeometry=t.QUAD_INDEX_MEMORY_FOOTPRINT=t.QUAD_VERTEX_MEMORY_FOOTPRINT=t.INDICES_PER_QUAD=t.VERTICES_PER_QUAD=t.INDEX_BUFFER_STRIDE=t.VERTEX_BUFFER_STRIDE=t.MAX_CAPACITY=void 0;var a=n(34585);t.MAX_CAPACITY=65536,t.VERTEX_BUFFER_STRIDE=16,t.INDEX_BUFFER_STRIDE=1,t.VERTICES_PER_QUAD=4,t.INDICES_PER_QUAD=6,t.QUAD_VERTEX_MEMORY_FOOTPRINT=t.VERTICES_PER_QUAD*t.VERTEX_BUFFER_STRIDE,t.QUAD_INDEX_MEMORY_FOOTPRINT=t.INDICES_PER_QUAD*t.INDEX_BUFFER_STRIDE;var s=function(){function e(n,r,o,s,l){i(this,e),this.scene=n,this.m_pickingDataArray=[],this.capacity=Math.min(l,t.MAX_CAPACITY),this.m_currentCapacity=Math.min(s,l),this.m_drawCount=0,this.m_updateOffset=0,this.m_vertexBuffer=new a.InterleavedBuffer(new Float32Array(this.m_currentCapacity*t.QUAD_VERTEX_MEMORY_FOOTPRINT),t.VERTEX_BUFFER_STRIDE),this.m_vertexBuffer.setUsage(a.DynamicDrawUsage),this.m_positionAttribute=new a.InterleavedBufferAttribute(this.m_vertexBuffer,4,0),this.m_uvAttribute=new a.InterleavedBufferAttribute(this.m_vertexBuffer,4,4),this.m_colorAttribute=new a.InterleavedBufferAttribute(this.m_vertexBuffer,4,8),this.m_bgColorAttribute=new a.InterleavedBufferAttribute(this.m_vertexBuffer,4,12),this.m_indexBuffer=new a.BufferAttribute(new Uint32Array(this.m_currentCapacity*t.QUAD_INDEX_MEMORY_FOOTPRINT),t.INDEX_BUFFER_STRIDE),this.m_indexBuffer.setUsage(a.DynamicDrawUsage),this.m_geometry=new a.BufferGeometry,this.m_geometry.setAttribute("position",this.m_positionAttribute),this.m_geometry.setAttribute("uv",this.m_uvAttribute),this.m_geometry.setAttribute("color",this.m_colorAttribute),this.m_geometry.setAttribute("bgColor",this.m_bgColorAttribute),this.m_geometry.setIndex(this.m_indexBuffer),this.m_mesh=new a.Mesh(this.m_geometry,r),this.m_bgMesh=new a.Mesh(this.m_geometry,o),this.m_mesh.renderOrder=Number.MAX_SAFE_INTEGER,this.m_bgMesh.renderOrder=Number.MAX_SAFE_INTEGER-1,this.m_mesh.frustumCulled=!1,this.m_bgMesh.frustumCulled=!1,this.scene.add(this.m_bgMesh,this.m_mesh)}return o(e,[{key:"drawCount",get:function(){return this.m_drawCount}},{key:"mesh",get:function(){return this.m_mesh}},{key:"backgroundMesh",get:function(){return this.m_bgMesh}},{key:"dispose",value:function(){this.scene.remove(this.m_bgMesh,this.m_mesh),this.m_geometry.dispose()}},{key:"clear",value:function(){this.m_drawCount=0,this.m_updateOffset=0,this.m_pickingDataArray.length=0}},{key:"update",value:function(){this.drawCount>this.m_updateOffset&&(this.m_vertexBuffer.needsUpdate=!0,this.m_vertexBuffer.updateRange.offset=this.m_updateOffset*t.QUAD_VERTEX_MEMORY_FOOTPRINT,this.m_vertexBuffer.updateRange.count=(this.m_drawCount-this.m_updateOffset)*t.QUAD_VERTEX_MEMORY_FOOTPRINT,this.m_indexBuffer.needsUpdate=!0,this.m_indexBuffer.updateRange.offset=this.m_updateOffset*t.QUAD_INDEX_MEMORY_FOOTPRINT,this.m_indexBuffer.updateRange.count=(this.m_drawCount-this.m_updateOffset)*t.QUAD_INDEX_MEMORY_FOOTPRINT),this.m_updateOffset=this.m_drawCount,this.m_geometry.setDrawRange(0,this.m_drawCount*t.INDICES_PER_QUAD)}},{key:"add",value:function(e,n,r,i,o,a){if(this.m_drawCount>=this.capacity)return!1;if(this.m_drawCount>=this.m_currentCapacity){var s=Math.min(2*this.m_currentCapacity,this.capacity);this.resizeBuffers(s)}for(var l=this.m_drawCount*t.VERTICES_PER_QUAD,u=this.m_drawCount*t.INDICES_PER_QUAD,c=0;c<t.VERTICES_PER_QUAD;++c){this.m_positionAttribute.setXYZW(l+c,n[c].x,n[c].y,n[c].z,(o?-1:1)*a.rotation);var f=o?(c+1)%2+2*Math.floor(c/2):c;this.m_uvAttribute.setXYZW(l+c,e.dynamicTextureCoordinates[f].x,e.dynamicTextureCoordinates[f].y,r,i),this.m_colorAttribute.setXYZW(l+c,a.color.r,a.color.g,a.color.b,a.opacity),this.m_bgColorAttribute.setXYZW(l+c,a.backgroundColor.r,a.backgroundColor.g,a.backgroundColor.b,a.backgroundOpacity)}return this.m_indexBuffer.setX(u,l),this.m_indexBuffer.setX(u+1,l+1),this.m_indexBuffer.setX(u+2,l+2),this.m_indexBuffer.setX(u+3,l+2),this.m_indexBuffer.setX(u+4,l+1),this.m_indexBuffer.setX(u+5,l+3),++this.m_drawCount,!0}},{key:"addToBuffer",value:function(e,n,r,i,o,a,s,l){for(var u=0;u<t.VERTICES_PER_QUAD;++u){var c=n+t.VERTEX_BUFFER_STRIDE*u;e[c]=i[u].x,e[c+1]=i[u].y,e[c+2]=i[u].z,e[c+3]=(s?-1:1)*l.rotation;var f=s?(u+1)%2+2*Math.floor(u/2):u;e[c+4]=r.dynamicTextureCoordinates[f].x,e[c+5]=r.dynamicTextureCoordinates[f].y,e[c+6]=o,e[c+7]=a,e[c+8]=l.color.r,e[c+9]=l.color.g,e[c+10]=l.color.b,e[c+11]=l.opacity,e[c+12]=l.backgroundColor.r,e[c+13]=l.backgroundColor.g,e[c+14]=l.backgroundColor.b,e[c+15]=l.backgroundOpacity}}},{key:"addTextBufferObject",value:function(e,n,r,i,o,a,s,l){if(this.m_drawCount+e.glyphs.length>=this.capacity)return!1;if(this.m_drawCount+e.glyphs.length>=this.m_currentCapacity){var u=Math.min(2*this.m_currentCapacity,this.capacity);this.resizeBuffers(u)}for(var c=null!==r&&void 0!==r?r:1,f=null!==i&&void 0!==i?i:0,d=Math.cos(f),h=Math.sin(f),p=void 0!==n?n.x:0,m=void 0!==n?n.y:0,v=e.buffer,g=v[3]<0?-1:1,y=void 0!==o?o.r:v[8],E=void 0!==o?o.g:v[9],A=void 0!==o?o.b:v[10],T=void 0!==a?a:v[11],O=void 0!==s?s.r:v[12],R=void 0!==s?s.g:v[13],L=void 0!==s?s.b:v[14],S=void 0!==l?l:v[15],b=this.m_drawCount*t.VERTICES_PER_QUAD,I=0;I<e.glyphs.length;++I){var N=I*t.QUAD_VERTEX_MEMORY_FOOTPRINT,x=e.glyphs[I];if(!x.isInCache)return!1;for(var _=v[N+4]>v[N+t.VERTEX_BUFFER_STRIDE+4],M=v[N+6],w=v[N+7],C=0;C<t.VERTICES_PER_QUAD;++C){var P=v[N+C*t.VERTEX_BUFFER_STRIDE],D=v[N+C*t.VERTEX_BUFFER_STRIDE+1];this.m_positionAttribute.setXYZW(b+I*t.VERTICES_PER_QUAD+C,P*c*d+D*c*-h+p,P*c*h+D*c*d+m,v[N+C*t.VERTEX_BUFFER_STRIDE+2]+0,v[N+C*t.VERTEX_BUFFER_STRIDE+3]+g*f);var k=_?(C+1)%2+2*Math.floor(C/2):C;this.m_uvAttribute.setXYZW(b+I*t.VERTICES_PER_QUAD+C,x.dynamicTextureCoordinates[k].x,x.dynamicTextureCoordinates[k].y,M,(w-M)/c+M),this.m_colorAttribute.setXYZW(b+I*t.VERTICES_PER_QUAD+C,y,E,A,T),this.m_bgColorAttribute.setXYZW(b+I*t.VERTICES_PER_QUAD+C,O,R,L,S)}this.m_indexBuffer.setX((this.m_drawCount+I)*t.INDICES_PER_QUAD,(this.m_drawCount+I)*t.VERTICES_PER_QUAD),this.m_indexBuffer.setX((this.m_drawCount+I)*t.INDICES_PER_QUAD+1,(this.m_drawCount+I)*t.VERTICES_PER_QUAD+1),this.m_indexBuffer.setX((this.m_drawCount+I)*t.INDICES_PER_QUAD+2,(this.m_drawCount+I)*t.VERTICES_PER_QUAD+2),this.m_indexBuffer.setX((this.m_drawCount+I)*t.INDICES_PER_QUAD+3,(this.m_drawCount+I)*t.VERTICES_PER_QUAD+2),this.m_indexBuffer.setX((this.m_drawCount+I)*t.INDICES_PER_QUAD+4,(this.m_drawCount+I)*t.VERTICES_PER_QUAD+1),this.m_indexBuffer.setX((this.m_drawCount+I)*t.INDICES_PER_QUAD+5,(this.m_drawCount+I)*t.VERTICES_PER_QUAD+3)}return this.m_drawCount+=e.glyphs.length,!0}},{key:"addPickingData",value:function(e,t,n){return!(this.m_pickingDataArray.length>=this.m_currentCapacity)&&(this.m_pickingDataArray.push({start:Math.min(e,this.capacity),end:Math.min(t,this.capacity),data:n}),!0)}},{key:"pick",value:function(e,n){var i,o=r(this.m_pickingDataArray);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(void 0===a)return;for(var s=a.start;s<a.end;++s){var l=s*t.VERTICES_PER_QUAD,u=Math.min(this.m_positionAttribute.getX(l+2),this.m_positionAttribute.getX(l+1));if(!(e.x<u)){var c=Math.max(this.m_positionAttribute.getX(l+2),this.m_positionAttribute.getX(l+1));if(!(e.x>c)){var f=Math.min(this.m_positionAttribute.getY(l+2),this.m_positionAttribute.getY(l+1));if(!(e.y<f)){var d=Math.max(this.m_positionAttribute.getY(l+2),this.m_positionAttribute.getY(l+1));if(!(e.y>d)){n(a.data);break}}}}}}}catch(h){o.e(h)}finally{o.f()}}},{key:"updateMemoryUsage",value:function(e){var t=4*this.m_vertexBuffer.count+4*this.m_indexBuffer.count;e.heapSize+=t,e.gpuSize+=t}},{key:"resizeBuffers",value:function(e){this.m_currentCapacity=e;var n=new Float32Array(e*t.QUAD_VERTEX_MEMORY_FOOTPRINT);n.set(this.m_vertexBuffer.array),this.m_vertexBuffer=new a.InterleavedBuffer(n,t.VERTEX_BUFFER_STRIDE),this.m_vertexBuffer.setUsage(a.DynamicDrawUsage),this.m_positionAttribute=new a.InterleavedBufferAttribute(this.m_vertexBuffer,4,0),this.m_uvAttribute=new a.InterleavedBufferAttribute(this.m_vertexBuffer,4,4),this.m_colorAttribute=new a.InterleavedBufferAttribute(this.m_vertexBuffer,4,8),this.m_bgColorAttribute=new a.InterleavedBufferAttribute(this.m_vertexBuffer,4,12);var r=new Uint32Array(e*t.QUAD_INDEX_MEMORY_FOOTPRINT);r.set(this.m_indexBuffer.array),this.m_indexBuffer=new a.BufferAttribute(r,t.INDEX_BUFFER_STRIDE),this.m_indexBuffer.setUsage(a.DynamicDrawUsage),this.m_geometry.dispose(),this.m_geometry=new a.BufferGeometry,this.m_geometry.setAttribute("position",this.m_positionAttribute),this.m_geometry.setAttribute("uv",this.m_uvAttribute),this.m_geometry.setAttribute("color",this.m_colorAttribute),this.m_geometry.setAttribute("bgColor",this.m_bgColorAttribute),this.m_geometry.setIndex(this.m_indexBuffer),this.m_pickingDataArray.length=this.m_currentCapacity,this.scene.remove(this.m_bgMesh,this.m_mesh),this.m_mesh=new a.Mesh(this.m_geometry,this.m_mesh.material),this.m_bgMesh=new a.Mesh(this.m_geometry,this.m_bgMesh.material),this.m_mesh.renderOrder=Number.MAX_SAFE_INTEGER,this.m_bgMesh.renderOrder=Number.MAX_SAFE_INTEGER-1,this.m_mesh.frustumCulled=!1,this.m_bgMesh.frustumCulled=!1,this.scene.add(this.m_bgMesh,this.m_mesh)}}]),e}();t.TextGeometry=s},9499:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SdfTextMaterial=t.GlyphCopyMaterial=t.GlyphClearMaterial=void 0;var s=n(15739),l=n(34585);Object.assign(l.ShaderChunk,{sdf_attributes:"\n        attribute vec4 position;\n        attribute vec4 uv;\n        attribute vec4 color;\n        attribute vec4 bgColor;\n        ",sdf_varying:"\n        varying vec4 vColor;\n        varying float vWeight;\n        varying vec2 vUv;\n        varying float vRotation;\n        ",sdf_varying_computation:"\n        #if BG_TEXT\n        vColor = bgColor;\n        vWeight = uv.w;\n        #else\n        vColor = color;\n        vWeight = uv.z;\n        #endif\n        vUv = vec2(uv.xy);\n        vRotation = position.w;\n        ",sdf_frag_uniforms:"\n        uniform sampler2D sdfTexture;\n        uniform vec4 sdfParams;\n        ",sdf_sampling_functions:"\n        float median(float r, float g, float b) {\n            return max(min(r, g), min(max(r, g), b));\n        }\n\n        float getDistance(vec2 uvOffset) {\n            vec3 texSample = texture2D(sdfTexture, vUv.xy + uvOffset).rgb;\n            #if MSDF\n            return median(texSample.r, texSample.g, texSample.b);\n            #else\n            return texSample.r;\n            #endif\n        }\n\n        float getOpacity(vec2 uvOffset, float weight) {\n            vec2 uv = vUv + uvOffset;\n            vec2 rotatedUVs = abs(vec2(\n                cos(vRotation) * uv.x - sin(vRotation) * uv.y,\n                sin(vRotation) * uv.x + cos(vRotation) * uv.y));\n\n            float dx = dFdx(rotatedUVs.x) * sdfParams.x;\n            float dy = dFdy(rotatedUVs.y) * sdfParams.y;\n            float toPixels = sdfParams.w * inversesqrt( dx * dx + dy * dy );\n\n            float dist = getDistance(uvOffset) + min(weight, 0.5 - 1.0 / sdfParams.w) - 0.5;\n            return clamp(dist * toPixels + 0.5, 0.0, 1.0);\n        }\n        "});var u=function(e){o(n,e);var t=a(n);function n(e){i(this,n);var r=!0===(null===e||void 0===e?void 0:e.rendererCapabilities.isWebGL2),o=e?Object.assign(Object.assign({},e),{glslVersion:r?l.GLSL3:l.GLSL1,vertexShader:r&&e.vertexShader?s.convertVertexShaderToWebGL2(e.vertexShader):e.vertexShader,fragmentShader:r&&e.fragmentShader?s.convertFragmentShaderToWebGL2(e.fragmentShader):e.fragmentShader}):void 0;return o&&delete o.rendererCapabilities,t.call(this,o)}return r(n)}(l.RawShaderMaterial),c=function(e){o(n,e);var t=a(n);function n(e){i(this,n);var r=e?{name:"GlyphClearMaterial",vertexShader:"\n    attribute vec2 position;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    void main() {\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xy, 0.0, 1.0);\n    }",fragmentShader:"\n    precision highp float;\n    precision highp int;\n\n    void main() {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }",uniforms:{},depthTest:!1,depthWrite:!1,rendererCapabilities:e.rendererCapabilities}:void 0;return t.call(this,r)}return r(n)}(u);t.GlyphClearMaterial=c;var f=function(e){o(n,e);var t=a(n);function n(e){i(this,n);var r=e?{name:"GlyphCopyMaterial",vertexShader:"\n    attribute vec3 position;\n    attribute vec2 uv;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    varying vec3 vUv;\n\n    void main() {\n        vUv = vec3(uv.xy, position.z);\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xy, 0.0, 1.0);\n    }",fragmentShader:"\n    precision highp float;\n    precision highp int;\n\n    uniform float pageOffset;\n    uniform sampler2D page0;\n    uniform sampler2D page1;\n    uniform sampler2D page2;\n    uniform sampler2D page3;\n    uniform sampler2D page4;\n    uniform sampler2D page5;\n    uniform sampler2D page6;\n    uniform sampler2D page7;\n\n    varying vec3 vUv;\n\n    void main() {\n        vec4 texSample = vec4(0.0);\n        if (vUv.z < pageOffset || vUv.z > (pageOffset + 7.0)) discard;\n        else if (vUv.z < pageOffset + 1.0) texSample = texture2D(page0, vUv.xy);\n        else if (vUv.z < pageOffset + 2.0) texSample = texture2D(page1, vUv.xy);\n        else if (vUv.z < pageOffset + 3.0) texSample = texture2D(page2, vUv.xy);\n        else if (vUv.z < pageOffset + 4.0) texSample = texture2D(page3, vUv.xy);\n        else if (vUv.z < pageOffset + 5.0) texSample = texture2D(page4, vUv.xy);\n        else if (vUv.z < pageOffset + 6.0) texSample = texture2D(page5, vUv.xy);\n        else if (vUv.z < pageOffset + 7.0) texSample = texture2D(page6, vUv.xy);\n        else texSample = texture2D(page7, vUv.xy);\n\n        gl_FragColor = texSample;\n    }",uniforms:{pageOffset:new l.Uniform(0),page0:new l.Uniform(l.Texture.DEFAULT_IMAGE),page1:new l.Uniform(l.Texture.DEFAULT_IMAGE),page2:new l.Uniform(l.Texture.DEFAULT_IMAGE),page3:new l.Uniform(l.Texture.DEFAULT_IMAGE),page4:new l.Uniform(l.Texture.DEFAULT_IMAGE),page5:new l.Uniform(l.Texture.DEFAULT_IMAGE),page6:new l.Uniform(l.Texture.DEFAULT_IMAGE),page7:new l.Uniform(l.Texture.DEFAULT_IMAGE)},depthTest:!1,depthWrite:!1,rendererCapabilities:e.rendererCapabilities}:void 0;return t.call(this,r)}return r(n)}(u);t.GlyphCopyMaterial=f;var d=function(e){o(n,e);var t=a(n);function n(e){var r;i(this,n);var o=e?{name:"SdfTextMaterial",vertexShader:void 0!==e.vertexSource?e.vertexSource:"\n    #include <sdf_attributes>\n    #include <sdf_varying>\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    void main() {\n        #include <sdf_varying_computation>\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xyz, 1.0);\n    }",fragmentShader:void 0!==e.fragmentSource?e.fragmentSource:"\n    precision highp float;\n    precision highp int;\n\n    #include <sdf_varying>\n    #include <sdf_frag_uniforms>\n    #include <sdf_sampling_functions>\n\n    void main() {\n        vec4 color = vColor;\n        color.a *= getOpacity(vec2(0.0), vWeight);\n        if (color.a < 0.05) {\n            discard;\n        }\n        gl_FragColor = color;\n    }",uniforms:{sdfTexture:new l.Uniform(e.texture),sdfParams:new l.Uniform(new l.Vector4(e.textureSize.x,e.textureSize.y,e.size,e.distanceRange))},defines:{MSDF:e.isMsdf?1:0,BG_TEXT:e.isBackground?1:0},depthTest:!0,depthWrite:!1,side:l.DoubleSide,transparent:!0,rendererCapabilities:e.rendererCapabilities}:void 0;return(r=t.call(this,o)).extensions.derivatives=!0,r}return r(n)}(u);t.SdfTextMaterial=d},80549:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePlacementAndAlignment=t.TextLayoutStyle=t.TextRenderStyle=t.DefaultTextStyle=t.vPlacementFromAlignment=t.hPlacementFromAlignment=t.vAlignFromPlacement=t.hAlignFromPlacement=t.WrappingMode=t.HorizontalPlacement=t.VerticalPlacement=t.HorizontalAlignment=t.VerticalAlignment=t.FontVariant=t.FontStyle=t.FontUnit=void 0;var o,a,s,l,u,c,f,d=n(34585);function h(e){return e}function p(e){return e}!function(e){e[e.Em=0]="Em",e[e.Pixel=1]="Pixel",e[e.Point=2]="Point",e[e.Percent=3]="Percent"}(o=t.FontUnit||(t.FontUnit={})),function(e){e[e.Regular=0]="Regular",e[e.Bold=1]="Bold",e[e.Italic=2]="Italic",e[e.BoldItalic=3]="BoldItalic"}(a=t.FontStyle||(t.FontStyle={})),function(e){e[e.Regular=0]="Regular",e[e.AllCaps=1]="AllCaps",e[e.SmallCaps=2]="SmallCaps"}(s=t.FontVariant||(t.FontVariant={})),function(e){e[e.Above=0]="Above",e[e.Center=-.5]="Center",e[e.Below=-1]="Below"}(l=t.VerticalAlignment||(t.VerticalAlignment={})),function(e){e[e.Left=0]="Left",e[e.Center=-.5]="Center",e[e.Right=-1]="Right"}(u=t.HorizontalAlignment||(t.HorizontalAlignment={})),function(e){e[e.Top=0]="Top",e[e.Center=-.5]="Center",e[e.Bottom=-1]="Bottom"}(t.VerticalPlacement||(t.VerticalPlacement={})),function(e){e[e.Left=-1]="Left",e[e.Center=-.5]="Center",e[e.Right=0]="Right"}(t.HorizontalPlacement||(t.HorizontalPlacement={})),function(e){e[e.None=0]="None",e[e.Character=1]="Character",e[e.Word=2]="Word"}(c=t.WrappingMode||(t.WrappingMode={})),t.hAlignFromPlacement=h,t.vAlignFromPlacement=p,t.hPlacementFromAlignment=function(e){return e},t.vPlacementFromAlignment=function(e){return e},function(e){e.DEFAULT_FONT_NAME="",e.DEFAULT_FONT_SIZE={unit:Object.freeze(o.Pixel),size:Object.freeze(16),backgroundSize:Object.freeze(0)},e.DEFAULT_FONT_STYLE=a.Regular,e.DEFAULT_FONT_VARIANT=s.Regular,e.DEFAULT_ROTATION=0,e.DEFAULT_COLOR=new d.Color(0),e.DEFAULT_OPACITY=1,e.DEFAULT_BACKGROUND_COLOR=new d.Color(0),e.DEFAULT_BACKGROUND_OPACITY=0,e.DEFAULT_TRACKING=0,e.DEFAULT_LEADING=0,e.DEFAULT_MAX_LINES=1/0,e.DEFAULT_LINE_WIDTH=1/0,e.DEFAULT_CANVAS_ROTATION=0,e.DEFAULT_LINE_ROTATION=0,e.DEFAULT_WRAPPING_MODE=c.Word,e.DEFAULT_VERTICAL_ALIGNMENT=l.Above,e.DEFAULT_HORIZONTAL_ALIGNMENT=u.Left,e.DEFAULT_PLACEMENTS=[]}(f=t.DefaultTextStyle||(t.DefaultTextStyle={}));var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.m_params={fontName:void 0!==t.fontName?t.fontName:f.DEFAULT_FONT_NAME,fontSize:void 0!==t.fontSize?Object.assign({},t.fontSize):{unit:f.DEFAULT_FONT_SIZE.unit,size:f.DEFAULT_FONT_SIZE.size,backgroundSize:f.DEFAULT_FONT_SIZE.backgroundSize},fontStyle:void 0!==t.fontStyle?t.fontStyle:f.DEFAULT_FONT_STYLE,fontVariant:void 0!==t.fontVariant?t.fontVariant:f.DEFAULT_FONT_VARIANT,rotation:void 0!==t.rotation?t.rotation:f.DEFAULT_ROTATION,color:void 0!==t.color?t.color.clone():f.DEFAULT_COLOR.clone(),opacity:void 0!==t.opacity?t.opacity:f.DEFAULT_OPACITY,backgroundColor:void 0!==t.backgroundColor?t.backgroundColor.clone():f.DEFAULT_BACKGROUND_COLOR.clone(),backgroundOpacity:void 0!==t.backgroundOpacity?t.backgroundOpacity:f.DEFAULT_BACKGROUND_OPACITY}}return i(e,[{key:"params",get:function(){return this.m_params},set:function(e){this.m_params=Object.assign(Object.assign({},this.m_params),e)}},{key:"fontName",get:function(){return this.m_params.fontName},set:function(e){this.m_params.fontName=e}},{key:"fontSize",get:function(){return this.m_params.fontSize},set:function(e){this.m_params.fontSize=Object.assign({},e)}},{key:"fontStyle",get:function(){return this.m_params.fontStyle},set:function(e){this.m_params.fontStyle=e}},{key:"fontVariant",get:function(){return this.m_params.fontVariant},set:function(e){this.m_params.fontVariant=e}},{key:"rotation",get:function(){return this.m_params.rotation},set:function(e){this.m_params.rotation=e}},{key:"color",get:function(){return this.m_params.color},set:function(e){this.m_params.color.copy(e)}},{key:"backgroundColor",get:function(){return this.m_params.backgroundColor},set:function(e){this.m_params.backgroundColor.copy(e)}},{key:"opacity",get:function(){return this.m_params.opacity},set:function(e){this.m_params.opacity=e}},{key:"backgroundOpacity",get:function(){return this.m_params.backgroundOpacity},set:function(e){this.m_params.backgroundOpacity=e}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(Object.assign(Object.assign({},this.m_params),t))}},{key:"copy",value:function(e){return this.m_params.fontName=e.fontName,this.m_params.fontSize=Object.assign({},e.fontSize),this.m_params.fontStyle=e.fontStyle,this.m_params.fontVariant=e.fontVariant,this.m_params.rotation=e.rotation,this.m_params.color.copy(e.color),this.m_params.backgroundColor.copy(e.backgroundColor),this.m_params.opacity=e.opacity,this.m_params.backgroundOpacity=e.backgroundOpacity,this}}]),e}();t.TextRenderStyle=m;var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=g(t.horizontalAlignment,t.verticalAlignment,t.placements),i=n.horizontalAlignment,o=n.verticalAlignment,a=n.placements;this.m_params={tracking:void 0!==t.tracking?t.tracking:f.DEFAULT_TRACKING,leading:void 0!==t.leading?t.leading:f.DEFAULT_LEADING,maxLines:void 0!==t.maxLines?t.maxLines:f.DEFAULT_MAX_LINES,lineWidth:void 0!==t.lineWidth?t.lineWidth:f.DEFAULT_LINE_WIDTH,canvasRotation:void 0!==t.canvasRotation?t.canvasRotation:f.DEFAULT_CANVAS_ROTATION,lineRotation:void 0!==t.lineRotation?t.lineRotation:f.DEFAULT_LINE_ROTATION,wrappingMode:void 0!==t.wrappingMode?t.wrappingMode:f.DEFAULT_WRAPPING_MODE,verticalAlignment:o,horizontalAlignment:i,placements:a}}return i(e,[{key:"params",get:function(){return this.m_params},set:function(e){this.m_params=Object.assign(Object.assign({},this.m_params),e)}},{key:"tracking",get:function(){return this.m_params.tracking},set:function(e){this.m_params.tracking=e}},{key:"leading",get:function(){return this.m_params.leading},set:function(e){this.m_params.leading=e}},{key:"maxLines",get:function(){return this.m_params.maxLines},set:function(e){this.m_params.maxLines=e}},{key:"lineWidth",get:function(){return this.m_params.lineWidth},set:function(e){this.m_params.lineWidth=e}},{key:"canvasRotation",get:function(){return this.m_params.canvasRotation},set:function(e){this.m_params.canvasRotation=e}},{key:"lineRotation",get:function(){return this.m_params.lineRotation},set:function(e){this.m_params.lineRotation=e}},{key:"wrappingMode",get:function(){return this.m_params.wrappingMode},set:function(e){this.m_params.wrappingMode=e}},{key:"verticalAlignment",get:function(){return this.m_params.verticalAlignment},set:function(e){this.m_params.verticalAlignment=e}},{key:"horizontalAlignment",get:function(){return this.m_params.horizontalAlignment},set:function(e){this.m_params.horizontalAlignment=e}},{key:"placements",get:function(){return this.m_params.placements},set:function(e){var t=g(this.horizontalAlignment,this.verticalAlignment,e),n=t.horizontalAlignment,r=t.verticalAlignment,i=t.placements;this.m_params.horizontalAlignment=n,this.m_params.verticalAlignment=r,this.m_params.placements=i}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(Object.assign(Object.assign({},this.m_params),t))}},{key:"copy",value:function(e){return this.params=Object.assign({},e.params),this}}]),e}();function g(e,t,n){var r,i=null!==(r=null===n||void 0===n?void 0:n.map((function(e){return Object.assign({},e)})))&&void 0!==r?r:f.DEFAULT_PLACEMENTS.map((function(e){return Object.assign({},e)}));return{horizontalAlignment:i.length>0?i[0].h:null!==e&&void 0!==e?e:f.DEFAULT_HORIZONTAL_ALIGNMENT,verticalAlignment:i.length>0?i[0].v:null!==t&&void 0!==t?t:f.DEFAULT_VERTICAL_ALIGNMENT,placements:i}}t.TextLayoutStyle=v,t.resolvePlacementAndAlignment=g},95529:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LineTypesetter=void 0;var o=n(34585),a=n(30903),s=n(80549),l=n(76729),u=n(67747),c=function(){function e(){r(this,e),this.m_tempTransform=new o.Matrix3,this.m_tempCorners=[new o.Vector3,new o.Vector3,new o.Vector3,new o.Vector3],this.m_tempLineDirection=u.UnicodeUtils.Direction.LTR,this.m_tempRunDirection=u.UnicodeUtils.Direction.LTR,this.m_tempPixelSize=1,this.m_tempPixelBgSize=1,this.m_tempScale=1,this.m_tempSmallCaps=!1}return i(e,[{key:"arrangeGlyphs",value:function(e){this.m_currentParams=e,this.m_tempLineDirection=l.TypesettingUtils.getDirection(this.m_currentParams.glyphs,0),this.m_tempRunDirection=this.m_tempLineDirection,this.m_tempPixelSize=l.TypesettingUtils.getPixelSize(this.m_currentParams.textRenderStyle.fontSize.size,this.m_currentParams.textRenderStyle.fontSize.unit,this.m_currentParams.fontCatalog.size),this.m_tempScale=this.m_tempPixelSize/this.m_currentParams.fontCatalog.size,this.m_tempPixelBgSize=Math.min(l.TypesettingUtils.getPixelSize(this.m_currentParams.textRenderStyle.fontSize.backgroundSize,this.m_currentParams.textRenderStyle.fontSize.unit,this.m_currentParams.fontCatalog.size),this.m_currentParams.fontCatalog.distanceRange*this.m_tempScale),this.m_tempSmallCaps=void 0!==this.m_currentParams.smallCapsArray,this.m_currentParams.position.y+=this.m_currentParams.textLayoutStyle.verticalAlignment*this.m_currentParams.glyphs[0].font.metrics.capHeight*this.m_tempScale;for(var t=void 0!==this.m_currentParams.globalBounds&&void 0===this.m_currentParams.vertexBuffer,n=this.m_currentParams.position.x,r=this.m_currentParams.glyphs[0].font.metrics.lineHeight+this.m_currentParams.textLayoutStyle.leading,i=0,o=0,a=0,c=0,f=0,d=0,h=0,p=0,m=!1,v=0;v<this.m_currentParams.glyphs.length&&!(p>this.m_currentParams.textLayoutStyle.maxLines-1);++v){var g=this.m_currentParams.glyphs[v];if(!g.isInCache&&!t)return!1;var y=u.UnicodeUtils.isNewLine(g.codePoint),E=u.UnicodeUtils.isWhiteSpace(g.codePoint);if(m||g.direction!==-this.m_tempLineDirection||(m=!0),u.UnicodeUtils.isPrintable(g.codePoint)&&(f+=(g.advanceX+this.m_currentParams.textLayoutStyle.tracking)*this.m_tempScale*(this.m_tempSmallCaps?l.TypesettingUtils.getSmallCapsScale(this.m_currentParams.glyphs,this.m_currentParams.smallCapsArray,v,this.m_currentParams.textRenderStyle.fontVariant):1)),v===i&&(c=f,d=f,h=f),y||this.m_currentParams.textLayoutStyle.wrappingMode===s.WrappingMode.Character&&f>this.m_currentParams.textLayoutStyle.lineWidth||this.m_currentParams.textLayoutStyle.wrappingMode===s.WrappingMode.Word&&f>this.m_currentParams.textLayoutStyle.lineWidth&&h!==c){if(this.m_currentParams.textLayoutStyle.wrappingMode!==s.WrappingMode.None){var A=o,T=d;this.m_currentParams.textLayoutStyle.wrappingMode===s.WrappingMode.Word&&h!==c&&(A=a,T=h),f=T,v=Math.min(y?i===v?A:v:A,this.m_currentParams.glyphs.length-1)}var O=this.m_tempLineDirection===u.UnicodeUtils.Direction.RTL&&m?1+this.m_currentParams.textLayoutStyle.horizontalAlignment:this.m_currentParams.textLayoutStyle.horizontalAlignment;if(this.m_currentParams.position.x=this.m_currentParams.position.x+f*O,!this.placeLine(i,v,this.m_tempLineDirection,m))return!1;for(this.m_currentParams.position.y-=r*this.m_tempScale,this.m_currentParams.position.x=n;v!==i&&v+1<this.m_currentParams.glyphs.length&&u.UnicodeUtils.isWhiteSpace(this.m_currentParams.glyphs[v+1].codePoint);)++v;if((i=v+1)===this.m_currentParams.glyphs.length)break;y&&(this.m_tempLineDirection=l.TypesettingUtils.getDirection(this.m_currentParams.glyphs,i),this.m_tempRunDirection=this.m_tempLineDirection),c=0,f=0,o=i,d=0,a=i,h=0,m=!1,p++}else this.m_currentParams.textLayoutStyle.wrappingMode===s.WrappingMode.None||E||(o=v,d=f,this.m_currentParams.textLayoutStyle.wrappingMode===s.WrappingMode.Word&&v+1<this.m_currentParams.glyphs.length&&(u.UnicodeUtils.isWhiteSpace(this.m_currentParams.glyphs[v+1].codePoint)||u.UnicodeUtils.isNewLine(this.m_currentParams.glyphs[v+1].codePoint))&&(a=v,h=f))}if(p<=this.m_currentParams.textLayoutStyle.maxLines-1&&i<=this.m_currentParams.glyphs.length-1){var R=this.m_tempLineDirection===u.UnicodeUtils.Direction.RTL&&m?1+this.m_currentParams.textLayoutStyle.horizontalAlignment:this.m_currentParams.textLayoutStyle.horizontalAlignment;if(this.m_currentParams.position.setX(this.m_currentParams.position.x+f*R),!this.placeLine(i,this.m_currentParams.glyphs.length-1,this.m_tempLineDirection,m))return!1}return!0}},{key:"placeLine",value:function(e,t,n,r){if(!r)return this.placeRun(e,t,n);for(var i=this.m_currentParams.glyphs,o=this.m_currentParams.smallCapsArray,a=this.m_currentParams.textRenderStyle,s=this.m_currentParams.textLayoutStyle,c=this.m_currentParams.position,f=n===u.UnicodeUtils.Direction.RTL,d=c.x,h=0,p=e,m=e;m<=t;++m){var v=i[m];if(v.direction===-this.m_tempRunDirection){if(f&&(c.x=d+h),!this.placeRun(p,m-1,this.m_tempRunDirection))return!1;f||(c.x=d+h),p=m,this.m_tempRunDirection*=-1}else if(v.direction===u.UnicodeUtils.Direction.Neutral&&this.m_tempRunDirection===-n){for(var g=m;g+1<i.length&&1!==Math.abs(i[g].direction);)++g;if(i[g].direction!==this.m_tempRunDirection){if(f&&(c.x=d+h),!this.placeRun(p,m-1,this.m_tempRunDirection))return!1;f||(c.x=d+h),p=m,this.m_tempRunDirection*=-1}}h+=(v.advanceX+s.tracking)*this.m_tempScale*(this.m_tempSmallCaps?l.TypesettingUtils.getSmallCapsScale(i,o,m,a.fontVariant):1)*n}if(p<=t){if(f&&(c.x=d+h),!this.placeRun(p,t,this.m_tempRunDirection))return!1;f||(c.x=d+h)}return!0}},{key:"placeRun",value:function(e,t,n){for(var r=this.m_currentParams.glyphs,i=this.m_currentParams.smallCapsArray,o=this.m_currentParams.fontCatalog,c=this.m_currentParams.textRenderStyle,f=this.m_currentParams.textLayoutStyle,d=this.m_currentParams.position,h=this.m_currentParams.geometry,p=this.m_currentParams.globalBounds,m=this.m_currentParams.individualBounds,v=this.m_currentParams.vertexBuffer,g=n===u.UnicodeUtils.Direction.LTR?e:t,y=n===u.UnicodeUtils.Direction.LTR?t:e,E=g;n===u.UnicodeUtils.Direction.RTL?E>=y:E<=y;E+=n){var A=r[E];if(u.UnicodeUtils.isPrintable(A.codePoint))if(e===t||0===E||n!==u.UnicodeUtils.Direction.RTL||A.direction!==u.UnicodeUtils.Direction.Weak){var T=A.font,O=T.metrics,R=c.fontStyle,L=R===s.FontStyle.Bold&&void 0===T.bold||R===s.FontStyle.BoldItalic&&void 0===T.bold&&void 0===T.boldItalic,S=R===s.FontStyle.Italic&&void 0===T.italic||R===s.FontStyle.BoldItalic&&void 0===T.italic&&void 0===T.boldItalic,b=!!this.m_tempSmallCaps&&(i[E]&&c.fontVariant===s.FontVariant.SmallCaps),I=b?O.xHeight/O.capHeight:1,N=this.m_tempScale*I,x=((L?.02:0)+(b?.01:0))*(o.size/o.distanceRange),_=.5*this.m_tempPixelBgSize/(o.distanceRange*Math.max(N,1)),M=u.UnicodeUtils.isRtlMirrored(A.codePoint)&&n===u.UnicodeUtils.Direction.RTL,w=O.lineHeight-O.base-.5*O.distanceRange;l.TypesettingUtils.computeGlyphTransform(this.m_tempTransform,d,N,f.canvasRotation,c.rotation);for(var C=0;C<4;++C){var P=A.positions[C],D=S&&C>1?l.TypesettingUtils.OBLIQUE_OFFSET*O.size:0;this.m_tempCorners[C].set(P.x+D,P.y-w,P.z),this.m_tempCorners[C].applyMatrix3(this.m_tempTransform)}if(void 0===p&&void 0===v){if(!h.add(A,this.m_tempCorners,x,x+_,M,c))return!1}else void 0!==p&&l.TypesettingUtils.updateBounds(this.m_tempCorners,p,m),void 0!==v&&h.addToBuffer(v,E*a.QUAD_VERTEX_MEMORY_FOOTPRINT,A,this.m_tempCorners,x,x+_,M,c);d.set(d.x+(A.advanceX+f.tracking)*N*Math.cos(f.lineRotation),d.y+(A.advanceX+f.tracking)*N*Math.sin(f.lineRotation),d.z)}else{for(var k=E,H=r[k-1];k!==e&&(H.direction===u.UnicodeUtils.Direction.Weak||H.direction===u.UnicodeUtils.Direction.Neutral&&!u.UnicodeUtils.isWhiteSpace(H.codePoint));)H=r[--k-1];this.placeRun(Math.max(k,e),E,u.UnicodeUtils.Direction.LTR),E=k}}return!0}}]),e}();t.LineTypesetter=c},64584:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PathTypesetter=void 0;var o=n(34585),a=n(30903),s=n(80549),l=n(76729),u=n(67747),c=function(){function e(){r(this,e),this.m_tempTransform=new o.Matrix3,this.m_tempCorners=[new o.Vector3,new o.Vector3,new o.Vector3,new o.Vector3],this.m_tempLineDirection=u.UnicodeUtils.Direction.LTR,this.m_tempRunDirection=u.UnicodeUtils.Direction.LTR,this.m_tempPixelSize=1,this.m_tempPixelBgSize=1,this.m_tempScale=1,this.m_tempSmallCaps=!1,this.m_tempPathPosition=new o.Vector3,this.m_tempPathLength=0,this.m_tempPathOffset=0}return i(e,[{key:"arrangeGlyphs",value:function(e){this.m_currentParams=e,this.m_tempLineDirection=l.TypesettingUtils.getDirection(this.m_currentParams.glyphs,0),this.m_tempRunDirection=this.m_tempLineDirection,this.m_tempPixelSize=l.TypesettingUtils.getPixelSize(this.m_currentParams.textRenderStyle.fontSize.size,this.m_currentParams.textRenderStyle.fontSize.unit,this.m_currentParams.fontCatalog.size),this.m_tempScale=this.m_tempPixelSize/this.m_currentParams.fontCatalog.size,this.m_tempPixelBgSize=Math.min(l.TypesettingUtils.getPixelSize(this.m_currentParams.textRenderStyle.fontSize.backgroundSize,this.m_currentParams.textRenderStyle.fontSize.unit,this.m_currentParams.fontCatalog.size),this.m_currentParams.fontCatalog.distanceRange*this.m_tempScale),this.m_tempSmallCaps=void 0!==this.m_currentParams.smallCapsArray,this.m_tempPathLength=this.m_currentParams.path.getLength(),this.m_tempPathOffset=0;for(var t=void 0!==this.m_currentParams.globalBounds&&void 0===this.m_currentParams.vertexBuffer,n=!1,r=0,i=0;i<this.m_currentParams.glyphs.length;++i){var o=this.m_currentParams.glyphs[i];if(!o.isInCache&&!t)return!1;u.UnicodeUtils.isPrintable(o.codePoint)&&(n||o.direction!==-this.m_tempLineDirection||(n=!0),r+=(o.advanceX+this.m_currentParams.textLayoutStyle.tracking)*this.m_tempScale*(this.m_tempSmallCaps?l.TypesettingUtils.getSmallCapsScale(this.m_currentParams.glyphs,this.m_currentParams.smallCapsArray,i,this.m_currentParams.textRenderStyle.fontVariant):1))}return this.m_tempPathOffset=Math.min(Math.max(-this.m_currentParams.textLayoutStyle.horizontalAlignment+this.m_currentParams.textLayoutStyle.horizontalAlignment*r/this.m_tempPathLength,0),1),this.placeLine(this.m_tempLineDirection,n)}},{key:"placeLine",value:function(e,t){if(!t)return this.placeRun(0,this.m_currentParams.glyphs.length-1,e);for(var n=this.m_currentParams.glyphs,r=0,i=r;i<n.length;++i){var o=n[i];if(o.direction===-this.m_tempRunDirection){if(!this.placeRun(r,i-1,this.m_tempRunDirection))return!1;r=i,this.m_tempRunDirection*=-1}else if(o.direction===u.UnicodeUtils.Direction.Neutral&&this.m_tempRunDirection===-e){for(var a=i;a+1<n.length&&1!==Math.abs(n[a].direction);)++a;if(n[a].direction!==this.m_tempRunDirection){if(!this.placeRun(r,i-1,this.m_tempRunDirection))return!1;r=i,this.m_tempRunDirection*=-1}}}return!(r<n.length&&!this.placeRun(r,n.length-1,this.m_tempRunDirection))}},{key:"placeRun",value:function(e,t,n){for(var r=this.m_currentParams.glyphs,i=this.m_currentParams.smallCapsArray,c=this.m_currentParams.fontCatalog,f=this.m_currentParams.textRenderStyle,d=this.m_currentParams.textLayoutStyle,h=this.m_currentParams.position,p=this.m_currentParams.geometry,m=this.m_currentParams.globalBounds,v=this.m_currentParams.individualBounds,g=this.m_currentParams.vertexBuffer,y=this.m_currentParams.path,E=f.rotation,A=d.verticalAlignment*r[0].font.metrics.capHeight*this.m_tempScale,T=n===u.UnicodeUtils.Direction.LTR?e:t,O=n===u.UnicodeUtils.Direction.LTR?t:e,R=T;n===u.UnicodeUtils.Direction.RTL?R>=O:R<=O;R+=n){var L=r[R];if(u.UnicodeUtils.isPrintable(L.codePoint))if(e===t||0===R||n!==u.UnicodeUtils.Direction.RTL||L.direction!==u.UnicodeUtils.Direction.Weak){var S=L.font,b=S.metrics,I=f.fontStyle,N=I===s.FontStyle.Bold&&void 0===S.bold||I===s.FontStyle.BoldItalic&&void 0===S.bold&&void 0===S.boldItalic,x=I===s.FontStyle.Italic&&void 0===S.italic||I===s.FontStyle.BoldItalic&&void 0===S.italic&&void 0===S.boldItalic,_=!!this.m_tempSmallCaps&&(i[R]&&f.fontVariant===s.FontVariant.SmallCaps),M=_?b.xHeight/b.capHeight:1,w=this.m_tempScale*M,C=((N?.02:0)+(_?.01:0))*(c.size/c.distanceRange),P=.5*this.m_tempPixelBgSize/(c.distanceRange*Math.max(w,1)),D=u.UnicodeUtils.isRtlMirrored(L.codePoint)&&n===u.UnicodeUtils.Direction.RTL,k=b.lineHeight-b.base-.5*b.distanceRange,H=y.getPoint(this.m_tempPathOffset);if(null===H)return this.m_currentParams.pathOverflow;var U=y.getTangent(this.m_tempPathOffset),B=new o.Vector2(-U.y,U.x).multiplyScalar(A),G=Math.atan2(U.y,U.x);this.m_tempPathPosition.set(B.x+H.x,B.y+H.y,h.z),f.rotation=E+G,l.TypesettingUtils.computeGlyphTransform(this.m_tempTransform,this.m_tempPathPosition,w,0,f.rotation);for(var W=0;W<4;++W){var F=L.positions[W],K=x&&W>1?l.TypesettingUtils.OBLIQUE_OFFSET*b.size:0;this.m_tempCorners[W].set(F.x+K,F.y-k,F.z),this.m_tempCorners[W].applyMatrix3(this.m_tempTransform),this.m_tempCorners[W].x-=h.x,this.m_tempCorners[W].y-=h.y}if(void 0===m&&void 0===g){if(!p.add(L,this.m_tempCorners,C,C+P,D,f))return!1}else void 0!==m&&l.TypesettingUtils.updateBounds(this.m_tempCorners,m,v),void 0!==g&&p.addToBuffer(g,R*a.QUAD_VERTEX_MEMORY_FOOTPRINT,L,this.m_tempCorners,C,C+P,D,f);f.rotation=E,this.m_tempPathOffset+=(L.advanceX+d.tracking)*w/this.m_tempPathLength}else{for(var V=R,z=r[V-1];V!==e&&(z.direction===u.UnicodeUtils.Direction.Weak||z.direction===u.UnicodeUtils.Direction.Neutral&&!u.UnicodeUtils.isWhiteSpace(z.codePoint));)z=r[--V-1];this.placeRun(Math.max(V,e),R,u.UnicodeUtils.Direction.LTR),R=V}}return!0}}]),e}();t.PathTypesetter=c},59616:function(e,t,n){"use strict";var r,i,o=n(43269).default,a=n(34575).default,s=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ContextualArabicConverter=void 0,function(e){e[e.Initial=0]="Initial",e[e.Medial=1]="Medial",e[e.Final=2]="Final"}(r||(r={})),function(e){e[e.Isolated=0]="Isolated",e[e.Connected=1]="Connected"}(i||(i={}));var l=function(){function e(){a(this,e),this.m_singleCharactersMap=new Map,this.m_combinedCharactersMap=new Map,this.m_singleCharactersMap.set(1569,[void 0,void 0,void 0]),this.m_singleCharactersMap.set(1570,[void 0,void 0,65154]),this.m_singleCharactersMap.set(1571,[void 0,void 0,65156]),this.m_singleCharactersMap.set(1572,[void 0,void 0,65158]),this.m_singleCharactersMap.set(1573,[void 0,void 0,65160]),this.m_singleCharactersMap.set(1574,[65163,65164,65162]),this.m_singleCharactersMap.set(1575,[void 0,void 0,65166]),this.m_singleCharactersMap.set(1576,[65169,65170,65168]),this.m_singleCharactersMap.set(1577,[void 0,void 0,65172]),this.m_singleCharactersMap.set(1578,[65175,65176,65174]),this.m_singleCharactersMap.set(1579,[65179,65180,65178]),this.m_singleCharactersMap.set(1580,[65183,65184,65182]),this.m_singleCharactersMap.set(1581,[65187,65188,65186]),this.m_singleCharactersMap.set(1582,[65191,65192,65190]),this.m_singleCharactersMap.set(1583,[void 0,void 0,65194]),this.m_singleCharactersMap.set(1584,[void 0,void 0,65196]),this.m_singleCharactersMap.set(1585,[void 0,void 0,65198]),this.m_singleCharactersMap.set(1586,[void 0,void 0,65200]),this.m_singleCharactersMap.set(1587,[65203,65204,65202]),this.m_singleCharactersMap.set(1588,[65207,65208,65206]),this.m_singleCharactersMap.set(1589,[65211,65212,65210]),this.m_singleCharactersMap.set(1590,[65215,65216,65214]),this.m_singleCharactersMap.set(1591,[65219,65220,65218]),this.m_singleCharactersMap.set(1592,[65223,65224,65222]),this.m_singleCharactersMap.set(1593,[65227,65228,65226]),this.m_singleCharactersMap.set(1594,[65231,65232,65230]),this.m_singleCharactersMap.set(1600,[1600,1600,1600]),this.m_singleCharactersMap.set(1601,[65235,65236,65234]),this.m_singleCharactersMap.set(1602,[65239,65240,65238]),this.m_singleCharactersMap.set(1603,[65243,65244,65242]),this.m_singleCharactersMap.set(1604,[65247,65248,65246]),this.m_singleCharactersMap.set(1605,[65251,65252,65250]),this.m_singleCharactersMap.set(1606,[65255,65256,65254]),this.m_singleCharactersMap.set(1607,[65259,65260,65258]),this.m_singleCharactersMap.set(1608,[void 0,void 0,65262]),this.m_singleCharactersMap.set(1609,[void 0,void 0,65264]),this.m_singleCharactersMap.set(1610,[65267,65268,65266]),this.m_singleCharactersMap.set(1662,[64344,64345,64343]),this.m_singleCharactersMap.set(1740,[64510,64511,64509]),this.m_singleCharactersMap.set(1670,[64380,64381,64379]),this.m_singleCharactersMap.set(1705,[64400,64401,64399]),this.m_singleCharactersMap.set(1711,[64404,64405,64403]),this.m_singleCharactersMap.set(1688,[void 0,void 0,64395]),this.m_combinedCharactersMap.set(1604,new Map),this.m_combinedCharactersMap.get(1604).set(1570,[65269,65270]),this.m_combinedCharactersMap.get(1604).set(1571,[65271,65272]),this.m_combinedCharactersMap.get(1604).set(1573,[65273,65274]),this.m_combinedCharactersMap.get(1604).set(1575,[65275,65276]),this.m_neutralCharacters=[1552,1554,1555,1556,1557,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620,1621,1622,1623,1624,1648,1750,1751,1752,1753,1754,1755,1756,1759,1760,1761,1762,1763,1764,1767,1768,1770,1771,1772,1773]}return s(e,[{key:"convert",value:function(e){for(var t="",n=0;n<e.length;++n){var o=e.charCodeAt(n);if(this.isArabicCharacter(o)){for(var a=n-1;a>=0&&this.isNeutral(e.charCodeAt(a));--a);var s=a>=0?e.charCodeAt(a):void 0;if(void 0!==s){var l=this.getCharacterMap(s);(void 0===l||void 0===l[r.Initial]&&void 0===l[r.Medial])&&(s=void 0)}for(var u=n+1;u<e.length&&this.isNeutral(e.charCodeAt(u));++u);var c=u<e.length?e.charCodeAt(u):void 0;if(void 0!==c){var f=this.getCharacterMap(c);(void 0===f||void 0===f[r.Medial]&&void 0===f[r.Final])&&(c=void 0)}if(1604===o&&void 0!==c&&(1570===c||1571===c||1573===c||1575===c)){var d=this.getCombinedCharacterMap(o,c);t+=void 0!==s?String.fromCharCode(d[i.Connected]):String.fromCharCode(d[i.Isolated]),++n;continue}var h=this.getCharacterMap(o);void 0!==s&&void 0!==c&&void 0!==h[r.Medial]?t+=String.fromCharCode(h[r.Medial]):void 0!==s&&void 0!==h[r.Final]?t+=String.fromCharCode(h[r.Final]):void 0!==c&&void 0!==h[r.Initial]?t+=String.fromCharCode(h[r.Initial]):t+=String.fromCharCode(o)}else t+=String.fromCharCode(o)}return t}},{key:"isArabicCharacter",value:function(e){return this.m_singleCharactersMap.has(e)}},{key:"getCharacterMap",value:function(e){return this.m_singleCharactersMap.get(e)}},{key:"getCombinedCharacterMap",value:function(e,t){var n=this.m_combinedCharactersMap.get(e);if(void 0!==n)return n.get(t)}},{key:"isNeutral",value:function(e){var t,n=o(this.m_neutralCharacters);try{for(n.s();!(t=n.n()).done;){if(t.value===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}}],[{key:"instance",get:function(){return void 0===this.m_instance&&(this.m_instance=new e),this.m_instance}}]),e}();t.ContextualArabicConverter=l},11153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSdfTextMaterial=void 0;var r=n(9499);t.createSdfTextMaterial=function(e){return new r.SdfTextMaterial({texture:e.fontCatalog.texture,textureSize:e.fontCatalog.textureSize,size:e.fontCatalog.size,distanceRange:e.fontCatalog.distanceRange,isMsdf:"msdf"===e.fontCatalog.type,isBackground:!0===e.isBackground,vertexSource:e.vertexSource,fragmentSource:e.fragmentSource,rendererCapabilities:e.rendererCapabilities})}},76729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypesettingUtils=void 0;var r=n(34585),i=n(80549),o=n(67747);!function(e){e.EM_TO_PX=16,e.PT_TO_PX=1.25,e.OBLIQUE_ANGLE=.174533,e.OBLIQUE_OFFSET=Math.tan(e.OBLIQUE_ANGLE),e.getPixelSize=function(t,n,r){var o=t;switch(n){case i.FontUnit.Em:o*=e.EM_TO_PX;break;case i.FontUnit.Point:o*=e.PT_TO_PX;break;case i.FontUnit.Percent:o*=.01*r}return o},e.getSmallCapsScale=function(e,t,n,r){return t[n]&&r===i.FontVariant.SmallCaps?e[n].font.metrics.xHeight/e[n].font.metrics.capHeight:1},e.getDirection=function(e,t){for(var n=o.UnicodeUtils.Direction.LTR,r=t;e[r].direction!==o.UnicodeUtils.Direction.LTR&&e[r].direction!==o.UnicodeUtils.Direction.RTL&&r<e.length-1;)++r;return 1===Math.abs(e[r].direction)&&(n=e[r].direction),n},e.computeGlyphTransform=function(e,t,n,r,i){var o=Math.cos(r),a=Math.sin(r),s=Math.cos(i),l=Math.sin(i);e.set(n*s,n*-l,o*t.x-a*t.y,n*l,n*s,a*t.x+o*t.y,0,0,1)},e.updateBounds=function(e,t,n){var i=Math.min(e[0].x,e[1].x,e[2].x,e[3].x),o=Math.max(e[0].x,e[1].x,e[2].x,e[3].x),a=Math.min(e[0].y,e[1].y,e[2].y,e[3].y),s=Math.max(e[0].y,e[1].y,e[2].y,e[3].y);void 0!==n&&(void 0!==n.array[n.offset]?(n.array[n.offset].min.set(i,a),n.array[n.offset].max.set(o,s)):n.array.push(new r.Box2(new r.Vector2(i,a),new r.Vector2(o,s))),++n.offset),t.min.set(Math.min(t.min.x,i),Math.min(t.min.y,a)),t.max.set(Math.max(t.max.x,o),Math.max(t.max.y,s))}}(t.TypesettingUtils||(t.TypesettingUtils={}))},67747:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeUtils=void 0,function(e){var t;e.whiteSpaceRanges=[[9,9],[32,32],[5760,5760],[8192,8198],[8200,8202],[8287,12288],[6158,6158],[8203,8205]],e.isWhiteSpace=function(t){var n,i=r(e.whiteSpaceRanges);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t>=o[0]&&t<=o[1])return!0}}catch(a){i.e(a)}finally{i.f()}return!1},e.newLineRanges=[[10,13],[133,133],[8232,8233]],e.isNewLine=function(t){var n,i=r(e.newLineRanges);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t>=o[0]&&t<=o[1])return!0}}catch(a){i.e(a)}finally{i.f()}return!1},e.nonPrintableRanges=[[0,31],[127,159]],e.isPrintable=function(t){var n,i=r(e.nonPrintableRanges);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(t>=o[0]&&t<=o[1])return!1}}catch(a){i.e(a)}finally{i.f()}return!0},function(e){e[e.Neutral=0]="Neutral",e[e.Weak=.5]="Weak",e[e.LTR=1]="LTR",e[e.RTL=-1]="RTL"}(t=e.Direction||(e.Direction={})),e.rtlBlocks=["Hebrew","Alphabetic Presentation Forms","Arabic","Arabic Supplement","Arabic Extended-A","Arabic Presentation Forms-A","Arabic Presentation Forms-B","Arabic Mathematical Alphabetic Symbols","Indic Siyaq Numbers","Rumi Numeral Symbols","Syriac","Syriac Supplement","Samaritan","Mandaic","Thaana","Mende Kikakui","NKo","Adlam","Hanifi Rohingya"],e.neutralBidirectionalRanges=[[32,47],[58,64],[91,96],[123,126]],e.weakBidirectionalRanges=[[48,57],[1632,1641],[1776,1785]],e.getDirection=function(n,i){var o,a=r(e.weakBidirectionalRanges);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(n>=s[0]&&n<=s[1])return t.Weak}}catch(f){a.e(f)}finally{a.f()}var l,u=r(e.neutralBidirectionalRanges);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(n>=c[0]&&n<=c[1])return t.Neutral}}catch(f){u.e(f)}finally{u.f()}return void 0!==e.rtlBlocks.find((function(e){return e===i}))?t.RTL:t.LTR},e.rtlMirroredCodePoints=[40,41,60,62,91,93,123,125],e.isRtlMirrored=function(t){return void 0!==e.rtlMirroredCodePoints.find((function(e){return e===t}))}}(t.UnicodeUtils||(t.UnicodeUtils={}))},99383:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(67014),t)},8237:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DeferredPromise=void 0;var o=function(){function e(t){var n=this;r(this,e),this.executor=t,this.promise=new Promise((function(e,t){n.resolveFunc=e,n.rejectFunc=t}))}return i(e,[{key:"exec",value:function(){var e=this;this.executor().then((function(t){return e.resolveFunc(t)})).catch((function(t){return e.rejectFunc(t)}))}}]),e}();t.DeferredPromise=o},67014:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TransferManager=void 0,n(89064);var s=n(8237),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fetch,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;o(this,e),this.fetchFunction=t,this.maxRetries=n,this.activeDownloadCount=0,this.downloadQueue=new Array,this.activeDownloads=new Map}return a(e,[{key:"downloadJson",value:function(e,t){return this.downloadAs((function(e){return e.json()}),e,t)}},{key:"downloadArrayBuffer",value:function(e,t){return this.download(e,t).then((function(e){return e.arrayBuffer()}))}},{key:"download",value:function(t,n){var r=this;if(this.activeDownloadCount>=e.maxParallelDownloads){var i=new s.DeferredPromise((function(){return r.doDownload(t,n)}));return this.downloadQueue.push(i),i.promise}return this.doDownload(t,n)}},{key:"doDownload",value:function(){var t=i(r.mark((function t(n,i){var o;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,++this.activeDownloadCount,t.next=4,e.fetchRepeatedly(this.fetchFunction,0,this.maxRetries,n,i);case 4:return o=t.sent,this.onDownloadDone(),t.abrupt("return",o);case 9:throw t.prev=9,t.t0=t.catch(0),this.onDownloadDone(),t.t0;case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onDownloadDone",value:function(){--this.activeDownloadCount,this.execDeferredDownload()}},{key:"execDeferredDownload",value:function(){var e=this.downloadQueue.pop();void 0!==e&&e.exec()}},{key:"downloadAs",value:function(e,t,n){var r=this,i=t,o=this.activeDownloads.get(i);if(void 0!==o)return Promise.resolve(o);var a=this.download(t,n).then((function(t){if(r.activeDownloads.delete(i),t.ok)return e(t);throw new Error(JSON.stringify(t))})).catch((function(e){throw r.activeDownloads.delete(i),e}));return this.activeDownloads.set(i,a),a}}],[{key:"instance",value:function(){return e.defaultInstance}},{key:"fetchRepeatedly",value:function(){var t=i(r.mark((function t(n,i,o,a,s){var l,u;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(i<o)){t.next=17;break}return t.next=4,n(a,s);case 4:if(200!==(l=t.sent).status&&204!==l.status){t.next=9;break}return t.abrupt("return",l);case 9:if(!(l.status>=400&&l.status<500)){t.next=15;break}return i=o,t.next=13,l.text();case 13:throw u=t.sent,new Error(u);case 15:t.next=18;break;case 17:throw new Error("Max number of retries reached");case 18:t.next=24;break;case 20:if(t.prev=20,t.t0=t.catch(0),!(t.t0.hasOwnProperty("isCancelled")||"AbortError"===t.t0.name||i>=o)){t.next=24;break}throw t.t0;case 24:return t.next=26,e.waitFor(e.retryTimeout*i).then((function(){return e.fetchRepeatedly(n,i+1,o,a,s)}));case 26:return t.abrupt("return",t.sent);case 27:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e,n,r,i,o){return t.apply(this,arguments)}}()},{key:"waitFor",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}}]),e}();t.TransferManager=l,l.retryTimeout=500,l.maxParallelDownloads=16,l.defaultInstance=new l},90087:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(67705),t),i(n(31101),t),i(n(85004),t),i(n(69087),t),i(n(64085),t),i(n(48524),t),i(n(28972),t),i(n(45606),t),i(n(31062),t),i(n(21180),t),i(n(83204),t),i(n(7522),t),i(n(26295),t),i(n(2001),t),i(n(78326),t),i(n(84551),t),i(n(81413),t),i(n(85737),t),i(n(82869),t)},15739:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(90087),t),i(n(25131),t)},85737:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},45606:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},31062:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ContextLogger=void 0;var o=function(){function e(t,n){r(this,e),this.m_logger=t,this.headerMessage=n,this.context=[],this.m_headerLogged=!1,this.warn=this.createLogMethod("warn"),this.info=this.createLogMethod("info"),this.error=this.createLogMethod("error")}return i(e,[{key:"pushAttr",value:function(e){this.context.push("".concat(this.context.length>0?".":"").concat(e))}},{key:"pushIndex",value:function(e){this.context.push("[".concat(e,"]"))}},{key:"pop",value:function(){this.context.pop()}},{key:"createLogMethod",value:function(e){var t=this;return function(n){var r;t.m_headerLogged||(t.m_logger.info(t.headerMessage),t.m_headerLogged=!0);for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];(r=t.m_logger)[e].apply(r,["".concat(t.context.join(""),": ").concat(n)].concat(o))}}}]),e}();t.ContextLogger=o},67705:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DOMUtils=void 0,function(e){function t(e){return e.substring(0,2)}e.getBrowserLanguages=function(){if(void 0!==navigator.languages&&navigator.languages.length>0){var e,n=[],i=r(navigator.languages);try{for(i.s();!(e=i.n()).done;){var o=e.value;n.push(t(o))}}catch(a){i.e(a)}finally{i.f()}return n}if(void 0!==navigator.language)return[t(navigator.language)]}}(t.DOMUtils||(t.DOMUtils={}))},84551:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chainCallbacks=void 0,t.chainCallbacks=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e&&e.apply(this,r),t.apply(this,r)}}},82869:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertFragmentShaderToWebGL2=t.convertVertexShaderToWebGL2=void 0,t.convertVertexShaderToWebGL2=function(e){return["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+e},t.convertFragmentShaderToWebGL2=function(e){return["#define varying in","out highp vec4 pc_fragColor;","#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+e}},31101:function(e,t,n){"use strict";var r=n(63038).default,i=n(43269).default,o=n(34575).default,a=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GroupedPriorityList=t.PriorityListGroup=void 0;var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array;o(this,e),this.priority=t,this.elements=n}return a(e,[{key:"clone",value:function(){return new e(this.priority,this.elements.slice())}},{key:"remove",value:function(e){var t=this.elements.indexOf(e);return-1!==t&&(this.elements.splice(t,1),!0)}}]),e}();t.PriorityListGroup=s;var l=function(){function e(){o(this,e),this.groups=new Map}return a(e,[{key:"add",value:function(e){this.getGroup(e.priority).elements.push(e)}},{key:"remove",value:function(e){var t=this.findGroup(e.priority);return!(void 0===t||!t.remove(e))&&(0===t.elements.length&&this.groups.delete(t.priority),!0)}},{key:"clear",value:function(){this.groups.clear()}},{key:"merge",value:function(e){var t,n=i(e.groups);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.findGroup(r[1].priority);void 0!==o?o.elements=o.elements.concat(r[1].elements):this.groups.set(Math.floor(r[1].priority),r[1].clone())}}catch(a){n.e(a)}finally{n.f()}return this}},{key:"clone",value:function(){var t,n=new e,o=i(this.groups);try{for(o.s();!(t=o.n()).done;){var a=r(t.value,2),s=a[0],l=a[1];n.groups.set(s,l.clone())}}catch(u){o.e(u)}finally{o.f()}return n}},{key:"forEach",value:function(e){var t,n=i(this.groups);try{for(n.s();!(t=n.n()).done;){t.value[1].elements.forEach(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"count",value:function(){var e,t=0,n=i(this.groups);try{for(n.s();!(e=n.n()).done;){t+=e.value[1].elements.length}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"findGroup",value:function(e){var t=Math.floor(e);return this.groups.get(t)}},{key:"getGroup",value:function(e){var t=this.findGroup(e);if(void 0===t){var n=Math.floor(e);t=new s(n),this.groups.set(t.priority,t)}return t}}]),e}();t.GroupedPriorityList=l},27738:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleChannel=void 0;var o=function(){function e(){r(this,e)}return i(e,[{key:"error",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).error.apply(t,[e].concat(r))}},{key:"debug",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).debug.apply(t,[e].concat(r))}},{key:"info",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).info.apply(t,[e].concat(r))}},{key:"log",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).log.apply(t,[e].concat(r))}},{key:"trace",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).trace.apply(t,[e].concat(r))}},{key:"warn",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).warn.apply(t,[e].concat(r))}}]),e}();t.ConsoleChannel=o},2302:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6312:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerOptions=t.LogLevel=void 0,function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Log=2]="Log",e[e.Info=3]="Info",e[e.Warn=4]="Warn",e[e.Error=5]="Error",e[e.None=6]="None"}(t.LogLevel||(t.LogLevel={}));var o=r((function e(){i(this,e)}));t.LoggerOptions=o},22612:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var o=n(6312),a=function(){function e(t,n,i){r(this,e),this.name=t,this.m_channel=n,this.enabled=!0,this.level=o.LogLevel.Trace,void 0!==i&&this.update(i)}return i(e,[{key:"error",value:function(e){if(this.enabled&&this.level<=o.LogLevel.Error){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.m_channel).error.apply(t,[this.prefix,e].concat(r))}}},{key:"debug",value:function(e){if(this.enabled&&this.level<=o.LogLevel.Debug){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.m_channel).debug.apply(t,[this.prefix,e].concat(r))}}},{key:"info",value:function(e){if(this.enabled&&this.level<=o.LogLevel.Info){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.m_channel).info.apply(t,[this.prefix,e].concat(r))}}},{key:"log",value:function(e){if(this.enabled&&this.level<=o.LogLevel.Log){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.m_channel).log.apply(t,[this.prefix,e].concat(r))}}},{key:"trace",value:function(e){if(this.enabled&&this.level<=o.LogLevel.Trace){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.m_channel).trace.apply(t,[this.prefix,e].concat(r))}}},{key:"warn",value:function(e){if(this.enabled&&this.level<=o.LogLevel.Warn){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.m_channel).warn.apply(t,[this.prefix,e].concat(r))}}},{key:"update",value:function(e){this.enabled=void 0===e.enabled?this.enabled:e.enabled,this.level=void 0===e.level?this.level:e.level}},{key:"prefix",get:function(){return this.name+":"}}]),e}();t.Logger=a},10623:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerManager=void 0;var o=n(51563),a=function(){function e(){r(this,e)}return i(e,null,[{key:"instance",get:function(){return this.m_instance||(this.m_instance=new o.LoggerManagerImpl)}}]),e}();t.LoggerManager=a},51563:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerManagerImpl=void 0;var a=n(27738),s=n(22612),l=n(19153),u=function(){function e(){i(this,e),this.m_loggers=[],this.channel="undefined"===typeof self||"undefined"!==typeof self.document?new a.ConsoleChannel:new l.WorkerChannel}return o(e,[{key:"getLoggerNames",value:function(){return this.m_loggers.map((function(e){return e.name}))}},{key:"getLogger",value:function(e){return this.m_loggers.find((function(t){return t.name===e}))}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.m_levelSetForAll&&(void 0===t.level||t.level<this.m_levelSetForAll)&&(t.level=this.m_levelSetForAll);var n=new s.Logger(e,this.channel,t);return this.m_loggers.push(n),n}},{key:"dispose",value:function(e){var t=this.m_loggers.indexOf(e);if(t<0)throw new Error('Cannot unregister "'.concat(e,'" : no such logger registered.'));this.m_loggers.splice(t,1)}},{key:"updateAll",value:function(e){var t,n=r(this.m_loggers);try{for(n.s();!(t=n.n()).done;){t.value.update(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"update",value:function(e,t){var n,i=r(this.m_loggers);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.name===e&&o.update(t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"enableAll",value:function(e){var t,n=r(this.m_loggers);try{for(n.s();!(t=n.n()).done;){t.value.enabled=e}}catch(i){n.e(i)}finally{n.f()}}},{key:"enable",value:function(e,t){this.update(e,{enabled:t})}},{key:"setLogLevelForAll",value:function(e){this.m_levelSetForAll=e;var t,n=r(this.m_loggers);try{for(n.s();!(t=n.n()).done;){t.value.level=e}}catch(i){n.e(i)}finally{n.f()}}},{key:"setLogLevel",value:function(e,t){this.update(e,{level:t})}},{key:"setChannel",value:function(e){this.channel=e}}]),e}();t.LoggerManagerImpl=u},24945:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MultiChannel=void 0;var a=function(){function e(){i(this,e),this.channels=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.channels=n}return o(e,[{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o,a=r(this.channels);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.error.apply(s,[e].concat(n))}}catch(l){a.e(l)}finally{a.f()}}},{key:"debug",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o,a=r(this.channels);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.debug.apply(s,[e].concat(n))}}catch(l){a.e(l)}finally{a.f()}}},{key:"info",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o,a=r(this.channels);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.info.apply(s,[e].concat(n))}}catch(l){a.e(l)}finally{a.f()}}},{key:"log",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o,a=r(this.channels);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.log.apply(s,[e].concat(n))}}catch(l){a.e(l)}finally{a.f()}}},{key:"trace",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o,a=r(this.channels);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.trace.apply(s,[e].concat(n))}}catch(l){a.e(l)}finally{a.f()}}},{key:"warn",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o,a=r(this.channels);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.warn.apply(s,[e].concat(n))}}catch(l){a.e(l)}finally{a.f()}}}]),e}();t.MultiChannel=a},19153:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerChannel=t.WORKERCHANNEL_MSG_TYPE=void 0;var o=n(6312);t.WORKERCHANNEL_MSG_TYPE="worker-channel-message";var a=function(){function e(){r(this,e)}return i(e,[{key:"error",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a={message:[e].concat(r),type:t.WORKERCHANNEL_MSG_TYPE,level:o.LogLevel.Error};self.postMessage(a)}},{key:"debug",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a={message:[e].concat(r),type:t.WORKERCHANNEL_MSG_TYPE,level:o.LogLevel.Debug};self.postMessage(a)}},{key:"info",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a={message:[e].concat(r),type:t.WORKERCHANNEL_MSG_TYPE,level:o.LogLevel.Info};self.postMessage(a)}},{key:"log",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a={message:[e].concat(r),type:t.WORKERCHANNEL_MSG_TYPE,level:o.LogLevel.Log};self.postMessage(a)}},{key:"trace",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a={message:[e].concat(r),type:t.WORKERCHANNEL_MSG_TYPE,level:o.LogLevel.Trace};self.postMessage(a)}},{key:"warn",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a={message:[e].concat(r),type:t.WORKERCHANNEL_MSG_TYPE,level:o.LogLevel.Warn};self.postMessage(a)}}]),e}();t.WorkerChannel=a},85004:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(27738),t),i(n(2302),t),i(n(6312),t),i(n(22612),t),i(n(10623),t),i(n(24945),t),i(n(19153),t)},69087:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Math2D=void 0,function(e){var t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this.x=t,this.y=n,this.w=i,this.h=o}return i(e,[{key:"set",value:function(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}},{key:"copy",value:function(e){this.x=e.x,this.y=e.y,this.w=e.w,this.h=e.h}},{key:"contains",value:function(e,t){return this.x<=e&&this.x+this.w>=e&&this.y<=t&&this.y+this.h>=t}},{key:"containsBox",value:function(e){var t=e.x+e.w,n=e.y+e.h;return this.contains(e.x,e.y)&&this.contains(t,e.y)&&this.contains(e.x,n)&&this.contains(t,n)}},{key:"intersects",value:function(e){return this.x<=e.x+e.w&&this.x+this.w>=e.x&&this.y<=e.y+e.h&&this.y+this.h>=e.y}}]),e}();function n(e,t,n,r){return(e-n)*(e-n)+(t-r)*(t-r)}e.Box=t,e.distSquared=n,e.computeSquaredLineLength=function(e){for(var t=0,n=e.length-4,r=0;r<n;r+=3){var i=e[r+3]-e[r],o=e[r+4]-e[r+1];t+=i*i+o*o}return t},e.distToSegmentSquared=function(e,t,r,i,o,a){var s=n(r,i,o,a);if(0===s)return n(e,t,r,i);var l=((e-r)*(o-r)+(t-i)*(a-i))/s;return n(e,t,r+(l=Math.max(0,Math.min(1,l)))*(o-r),i+l*(a-i))},e.intersectLineAndCircle=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=1e-10,l=n-e,u=r-t,c=l*l+u*u,f=i*i,d=e*r-n*t,h=d-u*o+l*a,p=f*c-h*h;if(!(p<-s)){var m=h*u,v=-h*l;if(p<s)return{x1:o+m/c,y1:a+v/c};var g=Math.sqrt(p),y=u<0?-1:1,E=Math.abs(u),A=y*l*g,T=E*g;return{x1:o+(m+A)/c,y1:a+(v+T)/c,x2:o+(m-A)/c,y2:a+(v-T)/c}}},e.intersectLines=function(e,t,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{x:0,y:0},u=(e-n)*(o-s)-(t-r)*(i-a);if(0!==u){var c=((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/u,f=((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/u;return l.x=c,l.y=f,l}}}(t.Math2D||(t.Math2D={}))},64085:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathUtils=void 0,function(e){function t(e,t,n){return e<t?t:e>n?n:e}e.clamp=t,e.smoothStep=function(e,n,r){return(r=t((r-e)/(n-e),0,1))*r*(3-2*r)},e.smootherStep=function(e,n,r){return(r=t((r-e)/(n-e),0,1))*r*r*(r*(6*r-15)+10)},e.map=function(e,t,n,r,i){return(e-t)*(i-r)/(n-t)+r},e.min2=function(e,t){var n;return void 0!==e&&(n=e),void 0!==t&&(n=void 0===n?t:Math.min(n,t)),n},e.max2=function(e,t){var n;return void 0!==e&&(n=e),void 0!==t&&(n=void 0===n?t:Math.max(n,t)),n},e.isClamped=function(e,t,n){return!(void 0!==t&&e<t)&&!(void 0!==n&&e>n)},e.easeInOutCubic=function(e,t,n){return e+(t-e)*(n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1)}}(t.MathUtils||(t.MathUtils={}))},48524:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMixinsWithoutProperties=t.applyMixins=void 0,t.applyMixins=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){e.prototype[n]=t.prototype[n]}))}))},t.applyMixinsWithoutProperties=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t.prototype,n);void 0!==r&&void 0===r.get&&"constructor"!==n&&(e.prototype[n]=t.prototype[n])}))}))}},83204:function(e,t,n){"use strict";var r=n(43269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.pick=t.cloneDeep=void 0,t.cloneDeep=function(e){var t=new Map,n=function e(n){if(null===n)return null;if("object"===typeof n){var r=t.get(n);if(void 0!==r)return r;if(Array.isArray(n)){var i=[];t.set(n,i),i.length=n.length;for(var o=0;o<i.length;++o)i[o]=e(n[o]);return i}if(n instanceof Date){var a=new Date(n.getTime());return t.set(n,a),a}if(n instanceof RegExp){var s=new RegExp(n.source,n.flags);return t.set(n,s),s}if(n.constructor!==Object)throw new Error("cloneDeep doesn't support objects with custom prototypes");var l={};for(var u in t.set(n,l),n)n.hasOwnProperty(u)&&(l[u]=e(n[u]));return l}return n}(e);return t.clear(),n},t.pick=function(e,t){var n,i={},o=r(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;e.hasOwnProperty(a)&&(i[a]=e[a])}}catch(s){o.e(s)}finally{o.f()}return i}},7522:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOptionValue=void 0,t.getOptionValue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(void 0!==o&&null!==o)return o}}},21180:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceTimer=void 0;var o=function(){function e(){r(this,e)}return i(e,null,[{key:"now",value:function(){return e.nowFunc()}},{key:"getNowFunc",value:function(){return"undefined"!==typeof performance&&"undefined"!==typeof performance.now?function(){return performance.now()}:function(){return(new Date).getTime()}}}]),e}();t.PerformanceTimer=o,o.instance=new o,o.nowFunc=o.getNowFunc()},81413:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleBilinear=void 0,t.sampleBilinear=function(e,t,n,r,i){var o=t-1,a=n-1,s=r*o,l=Math.floor(s),u=i*a,c=Math.floor(u),f=c*t+l,d=l<o?f+1:f,h=c<a?f+t:f,p=l<o?h+1:h,m=e[f],v=e[d],g=e[h],y=e[p],E=Number.isInteger(s)?0:s-l,A=1-E,T=Number.isInteger(u)?0:u-c,O=1-T;return m*A*O+v*E*O+g*A*T+y*E*T}},26295:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TaskQueue=void 0;var o=function(){function e(t){var n,i=this;r(this,e),this.m_options=t,this.m_taskLists=new Map,null===(n=this.m_options.groups)||void 0===n||n.forEach((function(e){i.m_taskLists.set(e,[])})),this.m_options.prioSortFn&&(this.sort=this.m_options.prioSortFn)}return i(e,[{key:"update",value:function(e){var t=this;if(void 0===e)this.m_taskLists.forEach((function(e){t.updateTaskList(e)}));else{var n=this.getTaskList(e);n&&this.updateTaskList(n)}}},{key:"add",value:function(e){var t;if(this.m_taskLists.has(e.group)){var n=this.m_taskLists.get(e.group);if(!(null===n||void 0===n?void 0:n.includes(e)))return null===(t=this.m_taskLists.get(e.group))||void 0===t||t.push(e),!0}return!1}},{key:"remove",value:function(e){var t,n;if(this.m_taskLists.has(e.group)){var r=null===(t=this.m_taskLists.get(e.group))||void 0===t?void 0:t.indexOf(e);if(-1!==r)return null===(n=this.m_taskLists.get(e.group))||void 0===n||n.splice(r,1),!0}return!1}},{key:"numItemsLeft",value:function(e){var t,n,r=0;return void 0===e?this.m_taskLists.forEach((function(e){r+=e.length})):r+=null!==(n=null===(t=this.getTaskList(e))||void 0===t?void 0:t.length)&&void 0!==n?n:0,r}},{key:"processNext",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!this.getTaskList(e)||this.numItemsLeft(e)<=0)return!1;for(var r=0;r<n&&this.numItemsLeft(e)>0;r++){var i=this.pull(e,!0);void 0!==i&&(!t||(null===t||void 0===t?void 0:t(i))?i.execute():this.add(i))}return!0}},{key:"clear",value:function(){this.m_taskLists.clear()}},{key:"pull",value:function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.getTaskList(e);return o&&(r=null===(t=this.getTaskList(e))||void 0===t?void 0:t.pop(),i&&r&&(null===(n=r.isExpired)||void 0===n?void 0:n.call(r)))?this.pull(e,i):r}},{key:"sort",value:function(e,t){return t.getPriority()-e.getPriority()}},{key:"getTaskList",value:function(e){return this.m_taskLists.get(e)}},{key:"updateTaskList",value:function(e){for(var t,n=0;n<e.length;n++){var r=e[n];(null===(t=null===r||void 0===r?void 0:r.isExpired)||void 0===t?void 0:t.call(r))&&(e.splice(n,1),n--)}e.sort(this.sort)}}]),e}();t.TaskQueue=o},2001:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.composeUriResolvers=t.RelativeUriResolver=t.PrefixMapUriResolver=void 0;var o=n(78326),a=function(){function e(t){r(this,e),this.definitions=t}return i(e,[{key:"resolveUri",value:function(e){var t=this;return Object.keys(this.definitions).reduce((function(e,n){return n.endsWith("/")&&e.startsWith(n)?t.definitions[n]+e.substr(n.length):e===n?t.definitions[n]:e}),e)}}]),e}();t.PrefixMapUriResolver=a;var s=function(){function e(t){r(this,e),this.parentUri=t}return i(e,[{key:"resolveUri",value:function(e){return o.resolveReferenceUri(this.parentUri,e)}}]),e}();t.RelativeUriResolver=s,t.composeUriResolvers=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{resolveUri:function(e){return t.reduce((function(e,t){return void 0!==t?t.resolveUri(e):e}),e)}}}},25131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppBaseUrl=void 0;var r=n(78326);t.getAppBaseUrl=function(){return"undefined"===typeof window?"file://".concat(process.cwd(),"/"):r.baseUrl(window.location.href)}},78326:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlHostAndProtocol=t.getUrlOrigin=t.baseUrl=t.resolveReferenceUri=void 0,t.resolveReferenceUri=function(e,t){return n.test(t)?t:t.startsWith("/")?i(e)+t:(t.startsWith("./")&&(t=t.substr(2)),r(e)+t)};var n=new RegExp("^(((?:[a-z]+:)?//)|(file:/)|(data:))","i");function r(e){if(void 0===e)return"./";var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),-1!==(t=e.indexOf("?"))&&(e=e.slice(0,t)),-1===(t=e.lastIndexOf("/"))?"./":e.substring(0,t+1)}function i(e){if(void 0===e)return"";var t=o(e);return"file:"===t.protocol?"file://":t.host&&t.protocol?t.protocol+"//"+t.host:t.host?"//"+t.host:t.protocol?t.protocol+"//":""}function o(e){var t=new RegExp(/^(?:([a-z]+:))?\/\/([^\/]*)/,"i"),n=e.match(t);if(!n)throw new Error("getUrlHostAndProtocol: unable to parse URL '".concat(e,"'"));return{protocol:n[1],host:n[2]}}t.baseUrl=r,t.getUrlOrigin=i,t.getUrlHostAndProtocol=o},28972:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertExists=t.assert=void 0;t.assert=function(e,t){0},t.assertExists=function(e,t){return e}},91490:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(72766),t),i(n(42138),t),i(n(11586),t),i(n(3290),t),i(n(79717),t),i(n(59483),t)},59483:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.GeoJsonDataProvider=void 0,n(89064);var u=n(26309),c=n(48991),f=n(36676),d=n(15739),h=n(11586),p=d.LoggerManager.instance.create("GeoJsonDataProvider"),m="invalidated",v=!1,g=function(e){s(n,e);var t=l(n);function n(e,r,i){var a,s;return o(this,n),(a=t.call(this)).name=e,a.input=r,a.m_registered=!1,a.m_tiler=null!==(s=null===i||void 0===i?void 0:i.tiler)&&void 0!==s?s:c.ConcurrentTilerFacade.getTiler(h.GEOJSON_TILER_SERVICE_TYPE,null===i||void 0===i?void 0:i.workerTilerUrl,null===i||void 0===i?void 0:i.workerConnectionTimeout),a}return a(n,[{key:"connect",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.m_tiler.connect();case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),u.WorkerServiceProtocol.isUnknownServiceError(e.t0)&&!v&&(p.info("Unable to start GeoJson tiler service in worker. Use  'OmvTilerService.start();' in decoder script."),v=!0),e.t0;case 9:return e.next=11,this.m_tiler.registerIndex(this.name,this.input);case 11:this.m_registered=!0;case 12:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateInput",value:function(e){this.input=e,this.m_tiler.updateIndex(this.name,this.input),this.dispatchEvent({type:m})}},{key:"ready",value:function(){return this.m_registered}},{key:"getTile",value:function(){var e=i(r.mark((function e(t){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.m_tiler.getTile(this.name,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDidInvalidate",value:function(e){var t=this;return this.addEventListener(m,e),function(){return t.removeEventListener(m,e)}}},{key:"dispose",value:function(){this.m_tiler.dispose()}}]),n}(f.DataProvider);t.GeoJsonDataProvider=g},72766:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OmvGenericFeatureModifier=t.ComposedDataFilter=t.OmvGenericFeatureFilter=t.OmvFeatureFilterDescriptionBuilder=void 0;var a=n(26309),s=n(11586),l=function(){function e(t){i(this,e),this.m_processLayersDefault=!0,this.m_processPointsDefault=!0,this.m_processLinesDefault=!0,this.m_processPolygonsDefault=!0,this.m_layersToProcess=new Array,this.m_layersToIgnore=new Array,this.m_pointsToProcess=new Array,this.m_ignoredPoints=new Array,this.m_linesToProcess=new Array,this.m_linesToIgnore=new Array,this.m_polygonsToProcess=new Array,this.m_polygonsToIgnore=new Array,this.m_kindsToProcess=[],this.m_kindsToIgnore=[],t&&(this.m_processLayersDefault=void 0===t.processLayersDefault||t.processLayersDefault,this.m_processPointsDefault=void 0===t.processPointsDefault||t.processPointsDefault,this.m_processLinesDefault=void 0===t.processLinesDefault||t.processLinesDefault,this.m_processPolygonsDefault=void 0===t.processPolygonsDefault||t.processPolygonsDefault)}return o(e,[{key:"processLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.OmvFilterString.StringMatch.Match,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.m_layersToProcess.push({name:{value:e,match:t},minLevel:n,maxLevel:r})}},{key:"ignoreLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.OmvFilterString.StringMatch.Match,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.m_layersToIgnore.push({name:{value:e,match:t},minLevel:n,maxLevel:r})}},{key:"processPoint",value:function(e){this.addItem(this.m_pointsToProcess,e)}},{key:"processPoints",value:function(e){this.addItems(this.m_pointsToProcess,e)}},{key:"ignorePoint",value:function(e){this.addItem(this.m_ignoredPoints,e)}},{key:"ignorePoints",value:function(e){this.addItems(this.m_ignoredPoints,e)}},{key:"processLine",value:function(e){this.addItem(this.m_linesToProcess,e)}},{key:"processLines",value:function(e){this.addItems(this.m_linesToProcess,e)}},{key:"ignoreLine",value:function(e){this.addItem(this.m_linesToIgnore,e)}},{key:"ignoreLines",value:function(e){this.addItems(this.m_linesToIgnore,e)}},{key:"processPolygon",value:function(e){this.addItem(this.m_polygonsToProcess,e)}},{key:"processPolygons",value:function(e){this.addItems(this.m_polygonsToProcess,e)}},{key:"ignorePolygon",value:function(e){this.addItem(this.m_polygonsToIgnore,e)}},{key:"ignorePolygons",value:function(e){this.addItems(this.m_polygonsToIgnore,e)}},{key:"processKinds",value:function(e){this.m_kindsToProcess=this.m_kindsToProcess.concat(e)}},{key:"ignoreKinds",value:function(e){this.m_kindsToIgnore=this.m_kindsToIgnore.concat(e)}},{key:"createDescription",value:function(){return{processLayersDefault:this.m_processLayersDefault,processPointsDefault:this.m_processPointsDefault,processLinesDefault:this.m_processLinesDefault,processPolygonsDefault:this.m_processPolygonsDefault,layersToProcess:this.m_layersToProcess,layersToIgnore:this.m_layersToIgnore,pointsToProcess:this.m_pointsToProcess,pointsToIgnore:this.m_ignoredPoints,linesToProcess:this.m_linesToProcess,linesToIgnore:this.m_linesToIgnore,polygonsToProcess:this.m_polygonsToProcess,polygonsToIgnore:this.m_polygonsToIgnore,kindsToProcess:this.m_kindsToProcess,kindsToIgnore:this.m_kindsToIgnore}}},{key:"addItem",value:function(e,t){(void 0===t.minLevel||isNaN(t.minLevel))&&(t.minLevel=0),(void 0===t.maxLevel||isNaN(t.maxLevel))&&(t.maxLevel=1/0);var n={layerName:{value:t.layer,match:void 0===t.matchLayer?s.OmvFilterString.StringMatch.Match:t.matchLayer},geometryTypes:void 0!==t.geomType?Array.isArray(t.geomType)?t.geomType:[t.geomType]:void 0,classes:[{value:t.featureClass,match:void 0===t.matchClass?s.OmvFilterString.StringMatch.Match:t.matchClass}],minLevel:t.minLevel,maxLevel:t.maxLevel,featureAttribute:t.featureAttribute};e.push(n)}},{key:"addItems",value:function(e,t){(void 0===t.minLevel||isNaN(t.minLevel))&&(t.minLevel=0),(void 0===t.maxLevel||isNaN(t.maxLevel))&&(t.maxLevel=1/0);var n={layerName:{value:t.layer,match:void 0===t.matchLayer?s.OmvFilterString.StringMatch.Match:t.matchLayer},geometryTypes:void 0!==t.geomTypes?Array.isArray(t.geomTypes)?t.geomTypes:[t.geomTypes]:void 0,classes:t.featureClasses,minLevel:t.minLevel,maxLevel:t.maxLevel,featureAttribute:t.featureAttribute};e.push(n)}}]),e}();t.OmvFeatureFilterDescriptionBuilder=l;var u=function(){function e(t){i(this,e),this.description=t,this.description.kindsToProcess.length>0&&(this.enabledKinds=new a.GeometryKindSet(this.description.kindsToProcess)),this.description.kindsToIgnore.length>0&&(this.disabledKinds=new a.GeometryKindSet(this.description.kindsToIgnore))}return o(e,[{key:"wantsLayer",value:function(t,n){return!!e.matchLayer(t,this.description.layersToProcess,n)||!e.matchLayer(t,this.description.layersToIgnore,n)&&this.description.processLayersDefault}},{key:"wantsPointFeature",value:function(e,t,n){return this.wantsFeature(this.description.pointsToProcess,this.description.pointsToIgnore,e,t,n,this.description.processPointsDefault)}},{key:"wantsLineFeature",value:function(e,t,n){return this.wantsFeature(this.description.linesToProcess,this.description.linesToIgnore,e,t,n,this.description.processLinesDefault)}},{key:"wantsPolygonFeature",value:function(e,t,n){return this.wantsFeature(this.description.polygonsToProcess,this.description.polygonsToIgnore,e,t,n,this.description.processPolygonsDefault)}},{key:"wantsKind",value:function(e){return void 0===e||(!(void 0!==this.disabledKinds&&this.disabledKinds.hasOrIntersects(e))||void 0!==this.enabledKinds&&this.enabledKinds.hasOrIntersects(e))}},{key:"hasKindFilter",get:function(){return void 0!==this.enabledKinds||void 0!==this.disabledKinds}},{key:"wantsFeature",value:function(e,t,n,i,o,a){var l,u=r(e);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(!(o<c.minLevel||o>c.maxLevel)&&(s.OmvFilterString.matchString(n,c.layerName)&&void 0!==c.geometryTypes&&c.geometryTypes.includes(i)))return!0}}catch(p){u.e(p)}finally{u.f()}var f,d=r(t);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(s.OmvFilterString.matchString(n,h.layerName)&&(void 0!==h.geometryTypes&&h.geometryTypes.includes(i)))return!1}}catch(p){d.e(p)}finally{d.f()}return a}}],[{key:"matchLayer",value:function(e,t,n){var i,o=r(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!(n<a.minLevel||n>a.maxLevel)&&s.OmvFilterString.matchString(e,a.name))return!0}}catch(l){o.e(l)}finally{o.f()}return!1}}]),e}();t.OmvGenericFeatureFilter=u;var c=function(){function e(t){i(this,e),this.filters=t}return o(e,[{key:"hasKindFilter",get:function(){return this.filters.reduce((function(e,t){return e||t.hasKindFilter}),!0)}},{key:"wantsLayer",value:function(e,t){return this.filters.reduce((function(n,r){return n&&r.wantsLayer(e,t)}),!0)}},{key:"wantsPointFeature",value:function(e,t,n){return this.filters.reduce((function(r,i){return r&&i.wantsPointFeature(e,t,n)}),!0)}},{key:"wantsLineFeature",value:function(e,t,n){return this.filters.reduce((function(r,i){return r&&i.wantsLineFeature(e,t,n)}),!0)}},{key:"wantsPolygonFeature",value:function(e,t,n){return this.filters.reduce((function(r,i){return r&&i.wantsPolygonFeature(e,t,n)}),!0)}},{key:"wantsKind",value:function(e){return this.filters.reduce((function(t,n){return t&&n.wantsKind(e)}),!0)}}]),e}();t.ComposedDataFilter=c;var f=function(){function e(t){i(this,e),this.description=t}return o(e,[{key:"doProcessPointFeature",value:function(e,t){return this.doProcessFeature(this.description.pointsToProcess,this.description.pointsToIgnore,e,t,this.description.processPointsDefault)}},{key:"doProcessLineFeature",value:function(e,t){return this.doProcessFeature(this.description.linesToProcess,this.description.linesToIgnore,e,t,this.description.processLinesDefault)}},{key:"doProcessPolygonFeature",value:function(e,t){return this.doProcessFeature(this.description.polygonsToProcess,this.description.polygonsToIgnore,e,t,this.description.processPolygonsDefault)}},{key:"doProcessFeature",value:function(t,n,r,i,o){if(void 0===r||0===t.length&&0===n.length)return o;var a,s=i.lookup("class");return void 0!==s&&null!==s&&(a=s.toString()),!(!a||!e.matchItems(r,a,t))||(!a||!e.matchItems(r,a,n))&&(!!e.matchAttribute(r,i,t)||!e.matchAttribute(r,i,n)&&o)}}],[{key:"matchItems",value:function(e,t,n){var i,o=r(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(void 0!==a.classes){if(!s.OmvFilterString.matchString(e,a.layerName))continue;var l,u=r(a.classes);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(s.OmvFilterString.matchString(t,c))return!0}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){o.e(f)}finally{o.f()}return!1}},{key:"matchAttribute",value:function(e,t,n){var i,o=r(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(void 0!==a.featureAttribute&&s.OmvFilterString.matchString(e,a.layerName)&&t.lookup(a.featureAttribute.key)===a.featureAttribute.value)return!0}}catch(l){o.e(l)}finally{o.f()}return!1}}]),e}();t.OmvGenericFeatureModifier=f},3290:function(e,t,n){"use strict";var r=n(43269).default,i=n(2205).default,o=n(99842).default,a=n(93913).default,s=n(34575).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OmvDebugLabelsTile=void 0;var l=n(26309),u=n(48991),c=n(60396),f=n(15663),d=n(25557),h=n(21690),p=n(34585),m=new p.LineBasicMaterial({color:0,linewidth:1,depthTest:!1,depthFunc:p.NeverDepth}),v=new p.MeshBasicMaterial({color:16711680,depthTest:!1,depthFunc:p.NeverDepth});new p.MeshBasicMaterial({color:16711680,depthTest:!1,depthFunc:p.NeverDepth}).wireframe=!0,new p.MeshBasicMaterial({color:8421631,depthTest:!1,depthFunc:p.NeverDepth}).wireframe=!0;var g=new p.MeshBasicMaterial({color:0,depthTest:!1,depthFunc:p.NeverDepth}),y=new p.MeshBasicMaterial({color:255,depthTest:!1,depthFunc:p.NeverDepth,opacity:.75,transparent:!0}),E=new p.MeshBasicMaterial({color:10514432,depthTest:!1,depthFunc:p.NeverDepth,opacity:.75,transparent:!0}),A=new h.TextRenderStyle,T=new h.TextLayoutStyle;A.fontSize={unit:h.FontUnit.Point,size:9,backgroundSize:0},A.opacity=.75,A.backgroundOpacity=.75,A.color=new p.Color(.8,.2,.2);var O=Number.MAX_SAFE_INTEGER,R=a((function e(){s(this,e),this.geometry=new p.BufferGeometry,this.indices=new Array,this.positions=new Array}));function L(e,t,n,r,i){i.positions.push(e,t-r,n),i.positions.push(e+r,t,n),i.positions.push(e,t+r,n),i.positions.push(e-r,t,n);var o=i.positions.length/3;i.indices.push(o-4),i.indices.push(o-3),i.indices.push(o-2),i.indices.push(o-4),i.indices.push(o-2),i.indices.push(o-1)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(t.indices.length>0){t.geometry.addGroup(0,t.indices.length,0),t.geometry.setAttribute("position",new p.BufferAttribute(new Float32Array(t.positions),3)),t.geometry.setIndex(new p.BufferAttribute(new Uint32Array(t.indices),1));var i=r(t.geometry);i.renderOrder=O-n,e.push(i)}}var b=function(e){i(n,e);var t=o(n);function n(e,r){return s(this,n),t.call(this,e,r)}return a(n,[{key:"loadingFinished",value:function(){var e,t,n,i=c.debugContext.getValue("DEBUG_TEXT_PATHS"),o=c.debugContext.getValue("DEBUG_TEXT_PATHS_FULL"),a=c.debugContext.getValue("DEBUG_TEXT_POIS_FULL"),s=c.debugContext.getValue("DEBUG_TEXT_LINE_MARKER");if((i||o||s)&&void 0!==this.decodedTile){var b=f.TileGeometryCreator.instance,I=this.decodedTile,N=new Map,x=c.debugContext.getValue("DEBUG_TEXT_PATHS.FILTER.TEXT"),_=c.debugContext.getValue("DEBUG_TEXT_PATHS.FILTER.INDEX"),M=this.mapView.env;void 0!==I.textPathGeometries&&(this.preparedTextPaths=b.prepareTextPaths(I.textPathGeometries,I));var w=this.center.x,C=this.center.y,P=this.center.z,D=this.mapView.pixelToWorld,k=this.computeWorldOffsetX(),H=0;if(this.textElementGroups.count()>0){var U=new R,B=new R,G=[];this.textElementGroups.forEach((function(e){if(e.type===d.TextElementType.LineMarker||e.type===d.TextElementType.PoiLabel){var t=e.type===d.TextElementType.LineMarker?B:U,n=5*D,r=function(r,i,o){if(L(r,i,o,n,t),a||s){var l=.5*n,c="".concat(e.text," [").concat(H,"]"),f=new u.TextElement(h.ContextualArabicConverter.instance.convert(c),new p.Vector3(r+k+w+l,i+C+l,o+P),A,T,O,0,0);f.minZoomLevel=0,f.mayOverlap=!0,f.reserveSpace=!1,f.alwaysOnTop=!0,f.ignoreDistance=!0,f.priority=u.TextElement.HIGHEST_PRIORITY,f._isDebug=!0,G.push(f)}H++};if(void 0!==e.path&&Array.isArray(e.path))for(var i=0;i<e.path.length;i++){var o=e.path[i];r(o.x-w,o.y-C,10+o.z+5*i-P)}else if(a){r(e.position.x-w,e.position.y-C,5-P)}}}));for(var W=0,F=G;W<F.length;W++){var K=F[W];this.addTextElement(K)}S(this.objects,U,0,(function(e){return new p.Mesh(e,y)})),S(this.objects,B,0,(function(e){return new p.Mesh(e,E)}))}if(void 0!==this.preparedTextPaths){var V,z=new R,j=new R,Z=new R,Y=0,q=r(this.preparedTextPaths);try{for(q.s();!(V=q.n()).done;){var X=V.value,Q=I.techniques[X.technique];if(l.isTextTechnique(Q)&&void 0===X._isDebug){void 0!==Q.color&&N.set(X.technique,new p.Color(l.getPropertyValue(Q.color,M))),Y=z.positions.length/3;var J=X.text,$=this.preparedTextPaths.indexOf(X);if((!x||J&&J.includes(x))&&(void 0===_||_===$)){for(var ee=0;ee<X.path.length;ee+=3){var te=ee/3,ne=X.path[ee]-w,re=X.path[ee+1]-C,ie=10+X.path[ee+2]+ee/3-P;i&&z.positions.push(ne,re,ie);var oe=0===ee&&i;if(o||oe)if(L(ne,re,ie,D*(oe?6:4),oe?j:Z),o){var ae=null!==(e=Q.xOffset)&&void 0!==e?e:0,se=null!==(t=Q.yOffset)&&void 0!==t?t:0,le=Q.minZoomLevel,ue=te%5===0?J+":"+te:Number(te).toString(),ce=new u.TextElement(h.ContextualArabicConverter.instance.convert(ue),new p.Vector3(ne+k+w,re+C,ie+P),A,T,l.getPropertyValue(null!==(n=Q.priority)&&void 0!==n?n:0,M),ae,se);ce.minZoomLevel=l.getPropertyValue(le,M),ce.mayOverlap=!0,ce.reserveSpace=!1,ce.alwaysOnTop=!0,ce.ignoreDistance=!0,ce.priority=u.TextElement.HIGHEST_PRIORITY,this.addTextElement(ce)}}for(var fe=X.path.length/3,de=0;de<fe;++de)de>0&&z.indices.push(Y+de),de+1<fe&&z.indices.push(Y+de)}}}}catch(he){q.e(he)}finally{q.f()}S(this.objects,z,-2,(function(e){return new p.LineSegments(e,m)})),S(this.objects,j,0,(function(e){return new p.Mesh(e,v)})),S(this.objects,Z,-1,(function(e){return new p.Mesh(e,g)}))}}}}]),n}(u.Tile);t.OmvDebugLabelsTile=b},11586:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GEOJSON_TILER_SERVICE_TYPE=t.VECTOR_TILE_DECODER_SERVICE_TYPE=t.OmvGeometryType=t.OmvFilterString=t.FeatureModifierId=void 0,function(e){e[e.default=0]="default"}(t.FeatureModifierId||(t.FeatureModifierId={})),function(e){!function(e){e[e.Any=0]="Any",e[e.Match=1]="Match",e[e.StartsWith=2]="StartsWith",e[e.Contains=3]="Contains",e[e.EndsWith=4]="EndsWith"}(e.StringMatch||(e.StringMatch={})),e.matchString=function(t,n){switch(n.match){case e.StringMatch.Any:return!0;case e.StringMatch.Match:return t===n.value;case e.StringMatch.StartsWith:return n.value.startsWith(t);case e.StringMatch.EndsWith:return n.value.endsWith(t);default:return t.includes(n.value)}}}(t.OmvFilterString||(t.OmvFilterString={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.POINT=1]="POINT",e[e.LINESTRING=2]="LINESTRING",e[e.POLYGON=3]="POLYGON"}(t.OmvGeometryType||(t.OmvGeometryType={})),t.VECTOR_TILE_DECODER_SERVICE_TYPE="vector-tile-decoder",t.GEOJSON_TILER_SERVICE_TYPE="geojson-tiler"},79717:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default,s=n(2205).default,l=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OmvRestClient=t.AuthenticationTypeAccessToken=t.AuthenticationTypeTomTomV1=t.AuthenticationTypeBearer=t.AuthenticationMethod=t.APIFormat=void 0,n(89064);var u,c,f=n(36676),d=n(99383),h=n(15739).LoggerManager.instance.create("OmvRestClient");!function(e){e[e.HereV1=0]="HereV1",e[e.MapboxV4=1]="MapboxV4",e[e.XYZMVT=2]="XYZMVT",e[e.XYZJson=3]="XYZJson",e[e.XYZOMV=4]="XYZOMV",e[e.TomtomV1=5]="TomtomV1",e[e.XYZSpace=6]="XYZSpace"}(u=t.APIFormat||(t.APIFormat={})),function(e){e[e.QueryString=0]="QueryString",e[e.AuthorizationHeader=1]="AuthorizationHeader"}(c=t.AuthenticationMethod||(t.AuthenticationMethod={})),t.AuthenticationTypeBearer={method:c.AuthorizationHeader,name:"Bearer"},t.AuthenticationTypeTomTomV1={method:c.QueryString,name:"key"},t.AuthenticationTypeAccessToken={method:c.QueryString,name:"access_token"};var p=function(e){s(f,e);var n=l(f);function f(e){var t;return o(this,f),(t=n.call(this)).params=e,t.downloadManager=void 0===e.downloadManager?d.TransferManager.instance():e.downloadManager,t.urlParams=void 0===e.urlParams?{}:e.urlParams,t}return a(f,[{key:"connect",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"ready",value:function(){return!0}},{key:"getTile",value:function(){var e=i(r.mark((function e(t,n){var i,o,a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={signal:n},o=this.dataUrl(t),e.next=4,this.getActualAuthenticationCode();case 4:if(a=e.sent,o=this.applyAuthCode(o,i,a),o=this.addQueryParams(o,this.urlParams),this.params.apiFormat!==u.XYZJson){e.next=11;break}return e.next=10,this.downloadManager.downloadJson(o,i);case 10:case 13:return e.abrupt("return",e.sent);case 11:return e.next=13,this.downloadManager.downloadArrayBuffer(o,i);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){}},{key:"getActualAuthenticationCode",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof this.params.authenticationCode){e.next=4;break}return e.abrupt("return",this.params.authenticationCode);case 4:if(void 0===this.params.authenticationCode){e.next=10;break}return e.next=7,this.params.authenticationCode();case 7:case 13:return e.abrupt("return",e.sent);case 10:if(void 0===this.params.getBearerToken){e.next=16;break}return e.next=13,this.params.getBearerToken();case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDefaultAuthMethod",value:function(){if(void 0!==this.params.getBearerToken)return t.AuthenticationTypeBearer;switch(this.params.apiFormat){case u.HereV1:return t.AuthenticationTypeBearer;case u.MapboxV4:case u.XYZOMV:case u.XYZMVT:case u.XYZSpace:case u.XYZJson:return t.AuthenticationTypeAccessToken;case u.TomtomV1:return t.AuthenticationTypeTomTomV1;default:return void h.warn("#getDefaultAuthMethod: Not supported API format: ".concat(this.params.apiFormat))}}},{key:"applyAuthCode",value:function(e,t,n){var r,i,o;if(void 0===n)return e;var a=null!==(r=this.params.authenticationMethod)&&void 0!==r?r:this.getDefaultAuthMethod();if(void 0===a)return e;if(a.method===c.AuthorizationHeader){void 0===t.headers&&(t.headers=new Headers);var s=null!==(i=a.name)&&void 0!==i?i:"Bearer";t.headers.append("Authorization","".concat(s," ").concat(n))}else if(a.method===c.QueryString){var l={};l[null!==(o=a.name)&&void 0!==o?o:"access_token"]=n,e=this.addQueryParams(e,l)}return e}},{key:"dataUrl",value:function(e){if(void 0!==this.params.url)return this.params.url.replace("{x}",String(e.column)).replace("{y}",String(e.row)).replace("{z}",String(e.level));var t=["/".concat(e.level),e.column,e.row].join(this.params.apiFormat===u.XYZSpace||this.params.apiFormat===u.XYZJson?"_":"/");switch(this.params.apiFormat){case u.HereV1:case u.XYZOMV:t+="/omv";break;case u.MapboxV4:case u.XYZMVT:t+=".mvt";break;case u.XYZJson:break;case u.XYZSpace:t+=".mvt";break;case u.TomtomV1:t+=".pbf";break;default:h.warn("Not supported API format: ".concat(this.params.apiFormat))}return this.params.baseUrl+t}},{key:"addQueryParams",value:function(e,t){var n="",r=e.includes("?")?"&":"?";for(var i in t)t.hasOwnProperty(i)&&(n+="".concat(r).concat(encodeURIComponent(i),"=").concat(encodeURIComponent(t[i])),"?"===r&&(r="&"));return e+n}}]),f}(f.DataProvider);t.OmvRestClient=p},42138:function(e,t,n){"use strict";var r=n(87757),i=n(48926).default,o=n(34575).default,a=n(93913).default,s=n(2911).default,l=n(16525).default,u=n(29754).default,c=n(2205).default,f=n(99842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.VectorTileDataSource=void 0;var d=n(26309),h=n(31201),p=n(48991),m=n(36676),v=n(15739),g=n(11586),y=n(79717),E=v.LoggerManager.instance.create("VectorTileDataSource");function A(e){var t;if(e.dataProvider)return e.dataProvider;if(null!==(t=e.baseUrl)&&void 0!==t?t:e.url)return new y.OmvRestClient(e);throw new Error("OmvDataSource: missing url, baseUrl or dataProvider params")}var T=!1,O="https://vector.hereapi.com/v2/vectortiles/base/mc",R={baseUrl:O,apiFormat:y.APIFormat.XYZOMV,styleSetName:"tilezen",authenticationMethod:{method:y.AuthenticationMethod.QueryString,name:"apikey"},copyrightInfo:[{id:"here.com",year:(new Date).getFullYear(),label:"HERE",link:"https://legal.here.com/terms"}]},L=new Map([[O,R]]);var S=function(e){c(n,e);var t=f(n);function n(e){var r,i,a,s,l,u,c,f,d;o(this,n),(r=t.call(this,null!==(i=e.tileFactory)&&void 0!==i?i:new m.TileFactory(p.Tile),Object.assign({styleSetName:null!==(a=e.styleSetName)&&void 0!==a?a:"omv",concurrentDecoderServiceName:null!==(s=e.concurrentDecoderServiceName)&&void 0!==s?s:g.VECTOR_TILE_DECODER_SERVICE_TYPE,minDataLevel:null!==(l=e.minDataLevel)&&void 0!==l?l:1,maxDataLevel:null!==(u=e.maxDataLevel)&&void 0!==u?u:17,storageLevelOffset:null!==(c=e.storageLevelOffset)&&void 0!==c?c:-1},function(e){var t;if(void 0===e.dataProvider&&void 0===e.url){var n=null!==(t=e.baseUrl)&&void 0!==t?t:O,r=Object.assign(Object.assign({},L.get(n)),e);return Object.assign(Object.assign({},r),{tilingScheme:h.webMercatorTilingScheme,dataProvider:new y.OmvRestClient(r)})}return Object.assign(Object.assign({},e),{tilingScheme:h.webMercatorTilingScheme,dataProvider:A(e)})}(e)))).m_params=e,r.cacheable=!0,r.addGroundPlane=void 0===e.addGroundPlane||!0===e.addGroundPlane;var E=e.roundUpCoordinatesIfNeeded;return void 0===E&&(null===(f=e)||void 0===f?void 0:f.baseUrl)===O&&(E=!0),r.m_decoderOptions={showMissingTechniques:!0===r.m_params.showMissingTechniques,filterDescription:r.m_params.filterDescr,gatherFeatureAttributes:!0===r.m_params.gatherFeatureAttributes,featureModifiers:r.m_params.featureModifierId?[r.m_params.featureModifierId]:void 0,politicalView:r.m_params.politicalView,skipShortLabels:r.m_params.skipShortLabels,storageLevelOffset:null!==(d=e.storageLevelOffset)&&void 0!==d?d:-1,enableElevationOverlay:!0===r.m_params.enableElevationOverlay,roundUpCoordinatesIfNeeded:E},r.maxGeometryHeight=v.getOptionValue(e.maxGeometryHeight,h.EarthConstants.MAX_BUILDING_HEIGHT),r.minGeometryHeight=v.getOptionValue(e.minGeometryHeight,0),r}return a(n,[{key:"connect",value:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(u(n.prototype),"connect",this).call(this);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0.message&&d.WorkerServiceProtocol.isUnknownServiceError(e.t0)&&!T&&(E.info("Unable to create decoder service in worker. Use  'OmvTileDecoderService.start();' in decoder script."),T=!0),"string"===typeof e.t0?new Error(e.t0):e.t0;case 9:this.configureDecoder(void 0,this.m_decoderOptions);case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"removeDataFilter",value:function(){this.configureDecoder(void 0,{filterDescription:null})}},{key:"setDataFilter",value:function(e){this.m_decoderOptions.filterDescription=null!==e?e:void 0,this.configureDecoder(void 0,{filterDescription:e,featureModifiers:this.m_decoderOptions.featureModifiers,politicalView:this.m_decoderOptions.politicalView})}},{key:"shouldPreloadTiles",value:function(){return!0}},{key:"setPoliticalView",value:function(e){e=null===e||void 0===e?void 0:e.toLowerCase(),this.m_decoderOptions.politicalView!==e&&(this.m_decoderOptions.politicalView=e,this.configureDecoder(void 0,{filterDescription:this.m_decoderOptions.filterDescription,featureModifiers:this.m_decoderOptions.featureModifiers,politicalView:void 0!==e?e:""}))}},{key:"storageLevelOffset",get:function(){return l(u(n.prototype),"storageLevelOffset",this)},set:function(e){s(u(n.prototype),"storageLevelOffset",e,this,!0),this.m_decoderOptions.storageLevelOffset=this.storageLevelOffset,this.configureDecoder(void 0,{storageLevelOffset:this.storageLevelOffset})}},{key:"setEnableElevationOverlay",value:function(e){this.m_decoderOptions.enableElevationOverlay!==e&&(this.m_decoderOptions.enableElevationOverlay=e,this.configureDecoder(void 0,{enableElevationOverlay:e}))}},{key:"configureDecoder",value:function(e,t){this.clearCache(),this.decoder.configure(e,t),this.mapView.markTilesDirty(this)}}]),n}(m.TileDataSource);t.VectorTileDataSource=S},90767:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},87125:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},95159:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87125),i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function o(e,t){return i[t]||"".concat(r.Z.generate(e),"-").concat(t)}},30208:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(95159);function i(e,t){var n={};return t.forEach((function(t){n[t]=(0,r.Z)(e,t)})),n}},77907:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");t.Z=a},98937:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");t.Z=a},14642:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"}),"Map");t.Z=a},59737:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart");t.Z=a},8529:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut");t.Z=a},45649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(54421)},81314:function(e,t,n){"use strict";n.d(t,{x9:function(){return s},ZP:function(){return c}});var r=n(63366),i=n(87462),o=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return"".concat(Math.round(e),"ms")}function u(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function c(e){var t=(0,i.Z)({},a,e.easing),n=(0,i.Z)({},s,e.duration);return(0,i.Z)({getAutoHeightDuration:u,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.duration,s=void 0===a?n.standard:a,u=i.easing,c=void 0===u?t.easeInOut:u,f=i.delay,d=void 0===f?0:f;(0,r.Z)(i,o);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:l(s)," ").concat(c," ").concat("string"===typeof d?d:l(d))})).join(",")}},e,{easing:t,duration:n})}},99691:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(87462),i=n(63366),o=n(82466),a=n(85080),s=n(4942);function l(e,t,n){var i;return(0,r.Z)({toolbar:(i={minHeight:56},(0,s.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,s.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var u=n(46189),c=n(12065),f={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},E=["mode","contrastThreshold","tonalOffset"],A={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},T={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function O(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.$n)(e.main,i):"dark"===t&&(e.dark=(0,c._j)(e.main,o)))}function R(e){var t=e.mode,n=void 0===t?"light":t,a=e.contrastThreshold,s=void 0===a?3:a,l=e.tonalOffset,R=void 0===l?.2:l,L=(0,i.Z)(e,E),S=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[700],light:v[400],dark:v[800]}}(n),b=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(n),I=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),N=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(n),x=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(n),_=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(n);function M(e){return(0,c.mi)(e,T.text.primary)>=s?T.text.primary:A.text.primary}var w=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,a=e.lightShade,s=void 0===a?300:a,l=e.darkShade,c=void 0===l?700:l;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,u.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,u.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return O(t,"light",s,R),O(t,"dark",c,R),t.contrastText||(t.contrastText=M(t.main)),t},C={dark:T,light:A};return(0,o.Z)((0,r.Z)({common:f,mode:n,primary:w({color:S,name:"primary"}),secondary:w({color:b,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:w({color:I,name:"error"}),warning:w({color:_,name:"warning"}),info:w({color:N,name:"info"}),success:w({color:x,name:"success"}),grey:d,contrastThreshold:s,getContrastText:M,augmentColor:w,tonalOffset:R},C[n]),L)}var L=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var S={textTransform:"uppercase"},b='"Roboto", "Helvetica", "Arial", sans-serif';function I(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,s=void 0===a?b:a,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,f=void 0===c?300:c,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,m=void 0===p?500:p,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,E=void 0===y?16:y,A=n.allVariants,T=n.pxToRem,O=(0,i.Z)(n,L);var R=u/14,I=T||function(e){return"".concat(e/E*R,"rem")},N=function(e,t,n,i,o){return(0,r.Z)({fontFamily:s,fontWeight:e,fontSize:I(t),lineHeight:n},s===b?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},o,A);var a},x={h1:N(f,96,1.167,-1.5),h2:N(f,60,1.2,-.5),h3:N(h,48,1.167,0),h4:N(h,34,1.235,.25),h5:N(h,24,1.334,0),h6:N(m,20,1.6,.15),subtitle1:N(h,16,1.75,.15),subtitle2:N(m,14,1.57,.1),body1:N(h,16,1.5,.15),body2:N(h,14,1.43,.15),button:N(m,14,1.75,.4,S),caption:N(h,12,1.66,.4),overline:N(h,12,2.66,1,S)};return(0,o.Z)((0,r.Z)({htmlFontSize:E,pxToRem:I,fontFamily:s,fontSize:u,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:g},x),O,{clone:!1})}function N(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var x=["none",N(0,2,1,-1,0,1,1,0,0,1,3,0),N(0,3,1,-2,0,2,2,0,0,1,5,0),N(0,3,3,-2,0,3,4,0,0,1,8,0),N(0,2,4,-1,0,4,5,0,0,1,10,0),N(0,3,5,-1,0,5,8,0,0,1,14,0),N(0,3,5,-1,0,6,10,0,0,1,18,0),N(0,4,5,-2,0,7,10,1,0,2,16,1),N(0,5,5,-3,0,8,10,1,0,3,14,2),N(0,5,6,-3,0,9,12,1,0,3,16,2),N(0,6,6,-3,0,10,14,1,0,4,18,3),N(0,6,7,-4,0,11,15,1,0,4,20,3),N(0,7,8,-4,0,12,17,2,0,5,22,4),N(0,7,8,-4,0,13,19,2,0,5,24,4),N(0,7,9,-4,0,14,21,2,0,5,26,4),N(0,8,9,-5,0,15,22,2,0,6,28,5),N(0,8,10,-5,0,16,24,2,0,6,30,5),N(0,8,11,-5,0,17,26,2,0,6,32,5),N(0,9,11,-5,0,18,28,2,0,7,34,6),N(0,9,12,-6,0,19,29,2,0,7,36,6),N(0,10,13,-6,0,20,31,3,0,8,38,7),N(0,10,13,-6,0,21,33,3,0,8,40,7),N(0,10,14,-6,0,22,35,3,0,8,42,7),N(0,11,14,-7,0,23,36,3,0,9,44,8),N(0,11,15,-7,0,24,38,3,0,9,46,8)],_=n(81314),M={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},w=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,s=e.palette,u=void 0===s?{}:s,c=e.transitions,f=void 0===c?{}:c,d=e.typography,h=void 0===d?{}:d,p=(0,i.Z)(e,w),m=R(u),v=(0,a.Z)(e),g=(0,o.Z)(v,{mixins:l(v.breakpoints,v.spacing,n),palette:m,shadows:x.slice(),typography:I(m,h),transitions:(0,_.ZP)(f),zIndex:(0,r.Z)({},M)});g=(0,o.Z)(g,p);for(var y=arguments.length,E=new Array(y>1?y-1:0),A=1;A<y;A++)E[A-1]=arguments[A];return g=E.reduce((function(e,t){return(0,o.Z)(e,t)}),g)}var P=C()},86481:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ke},FO:function(){return Ce},Dz:function(){return Pe}});var r=n(42982),i=n(87462),o=n(63366),a=n(72791),s=n(50620),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=(0,s.Z)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=n(91672),f=n(95438),d=n(84804),h=u,p=function(e){return"theme"!==e},m=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},v=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(){return null},y=function e(t,n){var r,o,s=t.__emotion_real===t,l=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var u=v(t,n,s),h=u||m(l),p=!h("as");return function(){var y=arguments,E=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&E.push("label:"+r+";"),null==y[0]||void 0===y[0].raw)E.push.apply(E,y);else{0,E.push(y[0][0]);for(var A=y.length,T=1;T<A;T++)E.push(y[T],y[0][T])}var O=(0,c.w)((function(e,t,n){var r=p&&e.as||l,i="",s=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=(0,a.useContext)(c.T)}"string"===typeof e.className?i=(0,f.f)(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var A=(0,d.O)(E.concat(s),t.registered,v);(0,f.M)(t,A,"string"===typeof r);i+=t.key+"-"+A.name,void 0!==o&&(i+=" "+o);var T=p&&void 0===u?m(r):h,O={};for(var R in e)p&&"as"===R||T(R)&&(O[R]=e[R]);O.className=i,O.ref=n;var L=(0,a.createElement)(r,O),S=(0,a.createElement)(g,null);return(0,a.createElement)(a.Fragment,null,S,L)}));return O.displayName=void 0!==r?r:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=l,O.__emotion_styles=E,O.__emotion_forwardProp=u,Object.defineProperty(O,"toString",{value:function(){return"."+o}}),O.withComponent=function(t,r){return e(t,(0,i.Z)({},n,r,{shouldForwardProp:v(O,r,!0)})).apply(void 0,E)},O}},E=y.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){E[e]=E(e)}));var A=E;function T(e,t){return A(e,t)}var O=n(85080),R=n(4942),L=n(98247),S=n(18529);var b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,L.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},I=n(45682),N=n(51184);function x(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var _=(0,S.Z)({prop:"border",themeKey:"borders",transform:x}),M=(0,S.Z)({prop:"borderTop",themeKey:"borders",transform:x}),w=(0,S.Z)({prop:"borderRight",themeKey:"borders",transform:x}),C=(0,S.Z)({prop:"borderBottom",themeKey:"borders",transform:x}),P=(0,S.Z)({prop:"borderLeft",themeKey:"borders",transform:x}),D=(0,S.Z)({prop:"borderColor",themeKey:"palette"}),k=(0,S.Z)({prop:"borderTopColor",themeKey:"palette"}),H=(0,S.Z)({prop:"borderRightColor",themeKey:"palette"}),U=(0,S.Z)({prop:"borderBottomColor",themeKey:"palette"}),B=(0,S.Z)({prop:"borderLeftColor",themeKey:"palette"}),G=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,I.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,N.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,I.NA)(t,e)}}))}return null};G.propTypes={},G.filterProps=["borderRadius"];var W=b(_,M,w,C,P,D,k,H,U,B,G),F=b((0,S.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,S.Z)({prop:"display"}),(0,S.Z)({prop:"overflow"}),(0,S.Z)({prop:"textOverflow"}),(0,S.Z)({prop:"visibility"}),(0,S.Z)({prop:"whiteSpace"})),K=b((0,S.Z)({prop:"flexBasis"}),(0,S.Z)({prop:"flexDirection"}),(0,S.Z)({prop:"flexWrap"}),(0,S.Z)({prop:"justifyContent"}),(0,S.Z)({prop:"alignItems"}),(0,S.Z)({prop:"alignContent"}),(0,S.Z)({prop:"order"}),(0,S.Z)({prop:"flex"}),(0,S.Z)({prop:"flexGrow"}),(0,S.Z)({prop:"flexShrink"}),(0,S.Z)({prop:"alignSelf"}),(0,S.Z)({prop:"justifyItems"}),(0,S.Z)({prop:"justifySelf"})),V=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,I.eI)(e.theme,"spacing",8,"gap");return(0,N.k9)(e,e.gap,(function(e){return{gap:(0,I.NA)(t,e)}}))}return null};V.propTypes={},V.filterProps=["gap"];var z=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,I.eI)(e.theme,"spacing",8,"columnGap");return(0,N.k9)(e,e.columnGap,(function(e){return{columnGap:(0,I.NA)(t,e)}}))}return null};z.propTypes={},z.filterProps=["columnGap"];var j=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,I.eI)(e.theme,"spacing",8,"rowGap");return(0,N.k9)(e,e.rowGap,(function(e){return{rowGap:(0,I.NA)(t,e)}}))}return null};j.propTypes={},j.filterProps=["rowGap"];var Z=b(V,z,j,(0,S.Z)({prop:"gridColumn"}),(0,S.Z)({prop:"gridRow"}),(0,S.Z)({prop:"gridAutoFlow"}),(0,S.Z)({prop:"gridAutoColumns"}),(0,S.Z)({prop:"gridAutoRows"}),(0,S.Z)({prop:"gridTemplateColumns"}),(0,S.Z)({prop:"gridTemplateRows"}),(0,S.Z)({prop:"gridTemplateAreas"}),(0,S.Z)({prop:"gridArea"})),Y=b((0,S.Z)({prop:"position"}),(0,S.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,S.Z)({prop:"top"}),(0,S.Z)({prop:"right"}),(0,S.Z)({prop:"bottom"}),(0,S.Z)({prop:"left"})),q=b((0,S.Z)({prop:"color",themeKey:"palette"}),(0,S.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,S.Z)({prop:"backgroundColor",themeKey:"palette"})),X=(0,S.Z)({prop:"boxShadow",themeKey:"shadows"});function Q(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var J=(0,S.Z)({prop:"width",transform:Q}),$=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,N.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||N.VO[t]||Q(t)}}))}return null};$.filterProps=["maxWidth"];var ee=(0,S.Z)({prop:"minWidth",transform:Q}),te=(0,S.Z)({prop:"height",transform:Q}),ne=(0,S.Z)({prop:"maxHeight",transform:Q}),re=(0,S.Z)({prop:"minHeight",transform:Q}),ie=((0,S.Z)({prop:"size",cssProperty:"width",transform:Q}),(0,S.Z)({prop:"size",cssProperty:"height",transform:Q}),b(J,$,ee,te,ne,re,(0,S.Z)({prop:"boxSizing"}))),oe=(0,S.Z)({prop:"fontFamily",themeKey:"typography"}),ae=(0,S.Z)({prop:"fontSize",themeKey:"typography"}),se=(0,S.Z)({prop:"fontStyle",themeKey:"typography"}),le=(0,S.Z)({prop:"fontWeight",themeKey:"typography"}),ue=(0,S.Z)({prop:"letterSpacing"}),ce=(0,S.Z)({prop:"lineHeight"}),fe=(0,S.Z)({prop:"textAlign"}),de=b((0,S.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),oe,ae,se,le,ue,ce,fe),he={borders:W.filterProps,display:F.filterProps,flexbox:K.filterProps,grid:Z.filterProps,positions:Y.filterProps,palette:q.filterProps,shadows:X.filterProps,sizing:ie.filterProps,spacing:I.ZP.filterProps,typography:de.filterProps},pe={borders:W,display:F,flexbox:K,grid:Z,positions:Y,palette:q,shadows:X,sizing:ie,spacing:I.ZP,typography:de},me=Object.keys(he).reduce((function(e,t){return he[t].forEach((function(n){e[n]=pe[t]})),e}),{});var ve=function(e,t,n){var r,i=(r={},(0,R.Z)(r,e,t),(0,R.Z)(r,"theme",n),r),o=me[e];return o?o(i):(0,R.Z)({},e,t)};function ge(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;function o(e){var t=e;if("function"===typeof e)t=e(i);else if("object"!==typeof e)return e;var n=(0,N.W8)(i.breakpoints),r=Object.keys(n),o=n;return Object.keys(t).forEach((function(e){var n,r,a=(n=t[e],r=i,"function"===typeof n?n(r):n);if(null!==a&&void 0!==a)if("object"===typeof a)if(me[e])o=(0,L.Z)(o,ve(e,a,i));else{var s=(0,N.k9)({theme:i},a,(function(t){return(0,R.Z)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(s,a)?o=(0,L.Z)(o,s):o[e]=ge({sx:a,theme:i})}else o=(0,L.Z)(o,ve(e,a,i))})),(0,N.L7)(r,o)}return Array.isArray(n)?n.map(o):o(n)}ge.filterProps=["sx"];var ye=ge,Ee=n(27312),Ae=["variant"];function Te(e){return 0===e.length}function Oe(e){var t=e.variant,n=(0,o.Z)(e,Ae),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Te(r)?e[t]:(0,Ee.Z)(e[t]):"".concat(Te(r)?t:(0,Ee.Z)(t)).concat((0,Ee.Z)(e[t].toString()))})),r}var Re=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Le=["theme"],Se=["theme"];function be(e){return 0===Object.keys(e).length}var Ie=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Ne=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Oe(e.props);r[t]=e.style})),r},xe=function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,l=[],u=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return u&&u.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&l.push(t[Oe(n.props)])})),l};function _e(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Me=(0,O.Z)();var we=n(99691),Ce=function(e){return _e(e)&&"classes"!==e},Pe=_e,De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Me:t,a=e.rootShouldForwardProp,s=void 0===a?_e:a,l=e.slotShouldForwardProp,u=void 0===l?_e:l;return function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.name,c=a.slot,f=a.skipVariantsResolver,d=a.skipSx,h=a.overridesResolver,p=(0,o.Z)(a,Re),m=void 0!==f?f:c&&"Root"!==c||!1,v=d||!1;var g=_e;"Root"===c?g=s:c&&(g=u);var y=T(e,(0,i.Z)({shouldForwardProp:g,label:t},p)),E=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var u=a?a.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,a=(0,o.Z)(t,Le);return e((0,i.Z)({theme:be(r)?n:r},a))}:e})):[],c=e;l&&h&&u.push((function(e){var t=be(e.theme)?n:e.theme,r=Ie(l,t);return r?h(e,r):null})),l&&!m&&u.push((function(e){var t=be(e.theme)?n:e.theme;return xe(e,Ne(l,t),t,l)})),v||u.push((function(e){var t=be(e.theme)?n:e.theme;return ye((0,i.Z)({},e,{theme:t}))}));var f=u.length-a.length;if(Array.isArray(e)&&f>0){var d=new Array(f).fill("");(c=[].concat((0,r.Z)(e),(0,r.Z)(d))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(d))}else"function"===typeof e&&(c=function(t){var r=t.theme,a=(0,o.Z)(t,Se);return e((0,i.Z)({theme:be(r)?n:r},a))});var p=y.apply(void 0,[c].concat((0,r.Z)(u)));return p};return E}}({defaultTheme:we.Z,rootShouldForwardProp:Ce}),ke=De},10551:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(87462);function i(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,i):i}var o=n(30418);var a=n(99691);function s(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return i({theme:(0,o.Z)(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:a.Z})}},14036:function(e,t,n){"use strict";var r=n(27312);t.Z=r.Z},76189:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(87462),i=n(72791),o=n(63366),a=(n(52007),n(28182)),s=n(90767),l=n(14036),u=n(10551),c=n(86481),f=n(95159);function d(e){return(0,f.Z)("MuiSvgIcon",e)}(0,n(30208).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var h=n(80184),p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.Z)(n.color))],t["fontSize".concat((0,l.Z)(n.fontSize))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[i.fontSize],color:null!=(t=null==(n=r.palette[i.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[i.color]}})),v=i.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,c=n.className,f=n.color,v=void 0===f?"inherit":f,g=n.component,y=void 0===g?"svg":g,E=n.fontSize,A=void 0===E?"medium":E,T=n.htmlColor,O=n.inheritViewBox,R=void 0!==O&&O,L=n.titleAccess,S=n.viewBox,b=void 0===S?"0 0 24 24":S,I=(0,o.Z)(n,p),N=(0,r.Z)({},n,{color:v,component:y,fontSize:A,inheritViewBox:R,viewBox:b}),x={};R||(x.viewBox=b);var _=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,l.Z)(t)),"fontSize".concat((0,l.Z)(n))]};return(0,s.Z)(i,d,r)}(N);return(0,h.jsxs)(m,(0,r.Z)({as:y,className:(0,a.Z)(_.root,c),ownerState:N,focusable:"false",color:T,"aria-hidden":!L||void 0,role:L?"img":void 0,ref:t},x,I,{children:[i,L?(0,h.jsx)("title",{children:L}):null]}))}));v.muiName="SvgIcon";var g=v;function y(e,t){var n=function(n,i){return(0,h.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},83199:function(e,t,n){"use strict";var r=n(93981);t.Z=r.Z},54421:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return o.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return f},setRef:function(){return d},unstable_ClassNameGenerator:function(){return A.Z},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return p.Z},unsupportedProp:function(){return m},useControlled:function(){return v.Z},useEventCallback:function(){return g.Z},useForkRef:function(){return y.Z},useIsFocusVisible:function(){return E.Z}});var r=n(14036),i=n(78949).Z,o=n(76189),a=n(83199);var s=function(e,t){return function(){return null}},l=n(19103),u=n(98301),c=n(17602);n(87462);var f=function(e,t){return function(){return null}},d=n(62971).Z,h=n(40162),p=n(67384);var m=function(e,t,n,r,i){return null},v=n(98278),g=n(89683),y=n(42071),E=n(23031),A=n(87125)},19103:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);var i=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},98301:function(e,t,n){"use strict";var r=n(99723);t.Z=r.Z},17602:function(e,t,n){"use strict";var r=n(27979);t.Z=r.Z},98278:function(e,t,n){"use strict";var r=n(58959);t.Z=r.Z},40162:function(e,t,n){"use strict";var r=n(75721);t.Z=r.Z},89683:function(e,t,n){"use strict";var r=n(58956);t.Z=r.Z},42071:function(e,t,n){"use strict";var r=n(47563);t.Z=r.Z},67384:function(e,t,n){"use strict";var r=n(96248);t.Z=r.Z},23031:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,i=n(72791),o=!0,a=!1,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function u(){o=!1}function c(){"hidden"===this.visibilityState&&a&&(o=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var d=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",c,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(r),r=window.setTimeout((function(){a=!1}),100),t.current=!1,!0)},ref:e}}},51184:function(e,t,n){"use strict";n.d(t,{VO:function(){return r},k9:function(){return o},W8:function(){return a},L7:function(){return s}});n(52007);var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function o(e,t,n){var o=e.theme||{};if(Array.isArray(t)){var a=o.breakpoints||i;return t.reduce((function(e,r,i){return e[a.up(a.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var s=o.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(s.values||r).indexOf(i)){e[s.up(i)]=n(t[i],i)}else{var o=i;e[o]=t[o]}return e}),{})}return n(t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function s(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},12065:function(e,t,n){"use strict";n.d(t,{mi:function(){return l},Fq:function(){return u},_j:function(){return c},$n:function(){return f}});var r=n(46189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,a=e.substring(t+1,e.length-1);if("color"===n){if(i=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else a=a.split(",");return{type:n,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:i}}function a(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),a({type:u,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function c(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function f(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return a(e)}},85080:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(87462),i=n(63366),o=n(82466),a=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,o=e.unit,s=void 0===o?"px":o,l=e.step,u=void 0===l?5:l,c=(0,i.Z)(e,a),f=Object.keys(n);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-u/100).concat(s,")")}function p(e,t){var r=f.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[f[r]]?n[f[r]]:t)-u/100).concat(s,")")}return(0,r.Z)({keys:f,values:n,up:d,down:h,between:p,only:function(e){return f.indexOf(e)+1<f.length?p(e,f[f.indexOf(e)+1]):d(e)},not:function(e){var t=f.indexOf(e);return 0===t?d(f[1]):t===f.length-1?h(f[t]):p(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},c)}var l={borderRadius:4},u=n(45682);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,u.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var f=["breakpoints","palette","spacing","shape"];var d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.palette,u=void 0===a?{}:a,d=e.spacing,h=e.shape,p=void 0===h?{}:h,m=(0,i.Z)(e,f),v=s(n),g=c(d),y=(0,o.Z)({breakpoints:v,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},u),spacing:g,shape:(0,r.Z)({},l,p)},m),E=arguments.length,A=new Array(E>1?E-1:0),T=1;T<E;T++)A[T-1]=arguments[T];return y=A.reduce((function(e,t){return(0,o.Z)(e,t)}),y)}},98247:function(e,t,n){"use strict";var r=n(82466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},45682:function(e,t,n){"use strict";n.d(t,{hB:function(){return m},eI:function(){return p},ZP:function(){return O},NA:function(){return v}});var r=n(70885),i=n(51184),o=n(18529),a=n(98247);var s={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],o=n[1],a=s[i],c=l[o]||"";return Array.isArray(c)?c.map((function(e){return a+e})):[a+c]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(f,d);function p(e,t,n,r){var i=(0,o.D)(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function m(e){return p(e,"spacing",8)}function v(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var o=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=v(t,n),e}),{})}}(c(n),r),a=e[n];return(0,i.k9)(e,a,o)}function y(e,t){var n=m(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(a.Z,{})}function E(e){return y(e,f)}function A(e){return y(e,d)}function T(e){return y(e,h)}E.propTypes={},E.filterProps=f,A.propTypes={},A.filterProps=d,T.propTypes={},T.filterProps=h;var O=T},18529:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(4942),i=n(27312),o=n(51184);function a(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function s(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:a(e,n)||i,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,l=void 0===n?e.prop:n,u=e.themeKey,c=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=a(e.theme,u)||{};return(0,o.k9)(e,n,(function(e){var n=s(f,c,e);return e===n&&"string"===typeof e&&(n=s(f,c,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===l?n:(0,r.Z)({},l,n)}))};return f.propTypes={},f.filterProps=[t],f}},30418:function(e,t,n){"use strict";var r=n(85080),i=n(27301),o=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.Z)(e)}},27301:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791);var i=r.createContext(null);function o(){return r.useContext(i)}function a(e){return 0===Object.keys(e).length}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=o();return!t||a(t)?e:t}},27312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(46189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},78949:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},93981:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},82466:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},a=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=o(e[r],t[r],n):a[r]=t[r])})),a}},46189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},99723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},27979:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(99723);function i(e){return(0,r.Z)(e).defaultView||window}},62971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},58959:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(70885),i=n(72791);function o(e){var t=e.controlled,n=e.default,o=(e.name,e.state,i.useRef(void 0!==t).current),a=i.useState(n),s=(0,r.Z)(a,2),l=s[0],u=s[1];return[o?t:l,i.useCallback((function(e){o||u(e)}),[])]}},75721:function(e,t,n){"use strict";var r=n(72791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},58956:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72791),i=n(75721);function o(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},47563:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72791),i=n(62971);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},96248:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(70885),i=n(72791),o=0;function a(e){var t=i.useState(e),n=(0,r.Z)(t,2),a=n[0],s=n[1],l=e||a;return i.useEffect((function(){null==a&&s("mui-".concat(o+=1))}),[a]),l}},88926:function(e,t,n){"use strict";n.r(t),n.d(t,{Easing:function(){return r},Group:function(){return o},Interpolation:function(){return a},Sequence:function(){return s},Tween:function(){return u},VERSION:function(){return c},add:function(){return m},getAll:function(){return h},nextId:function(){return f},now:function(){return i},remove:function(){return v},removeAll:function(){return p},update:function(){return g}});var r={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-r.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*r.Bounce.In(2*e):.5*r.Bounce.Out(2*e-1)+.5}}},i="undefined"===typeof self&&"undefined"!==typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},o=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=i()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var o=this._tweens[n[r]],a=!t;o&&!1===o.update(e,a)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),a={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=a.Utils.Linear;return t<0?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,o=a.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-t,r-s)*i(t,s)*e[s]*o(r,s);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=a.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),o(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):o(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=a.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i;return(2*t-2*n+o+a)*(i*s)+(-3*t+3*n-2*o-a)*s+o*i+t}}},s=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),l=new o,u=function(){function e(e,t){void 0===t&&(t=l),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=r.Linear.None,this._interpolationFunction=a.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=s.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"===typeof e?i()+parseFloat(e):e:i(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,r){for(var i in n){var o=e[i],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(l){var u=n[i];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,o)),n[i]=[o].concat(u)}if("object"!==s&&!a||!o||l)"undefined"===typeof t[i]&&(t[i]=o),a||(t[i]*=1),r[i]=l?n[i].slice().reverse():t[i]||0;else{for(var c in t[i]=a?[]:{},o)t[i][c]=o[c];r[i]=a?[]:{},this._setupProperties(o,t[i],n[i],r[i])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=i()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=i()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=i()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var a=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var o=t[i]||0,a=n[i],s=Array.isArray(e[i]),l=Array.isArray(a);!s&&l?e[i]=this._interpolationFunction(a,r):"object"===typeof a&&a?this._updateProperties(e[i],o,a,r):"number"===typeof(a=this._handleRelativeValue(o,a))&&(e[i]=o+(a-o)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),c="18.6.4",f=s.nextId,d=l,h=d.getAll.bind(d),p=d.removeAll.bind(d),m=d.add.bind(d),v=d.remove.bind(d),g=d.update.bind(d),y={Easing:r,Group:o,Interpolation:a,now:i,Sequence:s,nextId:f,Tween:u,VERSION:c,getAll:h,removeAll:p,add:m,remove:v,update:g};t.default=y},81694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},28182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},74890:function(e){var t={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};e.exports=function(e,n,r,i){if(!t.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!t[r].hasOwnProperty(n))throw new Error("Cannot convert from "+n+" to "+r);var o=t[r][n]*e;return!1!==i?(i=Math.pow(10,parseInt(i)||5),Math.round(o*i)/i):o}},10173:function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return e<0?0:e>1?1:e}function o(e){return"%"===e[e.length-1]?r(parseFloat(e)/100*255):r(parseInt(e))}function a(e){return"%"===e[e.length-1]?i(parseFloat(e)/100):i(parseFloat(e))}function s(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,i=e.replace(/ /g,"").toLowerCase();if(i in n)return n[i].slice();if("#"===i[0])return 4===i.length?(t=parseInt(i.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===i.length&&(t=parseInt(i.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=i.indexOf("("),u=i.indexOf(")");if(-1!==l&&u+1===i.length){var c=i.substr(0,l),f=i.substr(l+1,u-(l+1)).split(","),d=1;switch(c){case"rgba":if(4!==f.length)return null;d=a(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),d];case"hsla":if(4!==f.length)return null;d=a(f.pop());case"hsl":if(3!==f.length)return null;var h=(parseFloat(f[0])%360+360)%360/360,p=a(f[1]),m=a(f[2]),v=m<=.5?m*(p+1):m+p-m*p,g=2*m-v;return[r(255*s(g,v,h+1/3)),r(255*s(g,v,h)),r(255*s(g,v,h-1/3)),d];default:return null}}return null}}catch(l){}},4234:function(e,t,n){var r;!function(i){"use strict";var o,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l=!0,u="[DecimalError] ",c=u+"Invalid argument: ",f=u+"Exponent out of range: ",d=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,v=9007199254740991,g=d(1286742750677284.5),y={};function E(e,t){var n,r,i,o,a,s,u,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),l?x(t,d):t;if(u=e.d,c=t.d,a=e.e,i=t.e,u=u.slice(),o=a-i){for(o<0?(r=u,o=-o,s=c.length):(r=c,i=a,s=u.length),o>(s=(a=Math.ceil(d/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=u.length)-(o=c.length)<0&&(o=s,r=c,c=u,u=r),n=0;o;)n=(u[--o]=u[o]+c[o]+n)/m|0,u[o]%=m;for(n&&(u.unshift(n),++i),s=u.length;0==u[--s];)u.pop();return t.d=u,t.e=i,l?x(t,d):t}function A(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function T(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=b(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=b(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return O(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return x(O(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return L(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(u+"NaN");if(n.s<1)throw Error(u+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(l=!1,t=O(I(n,a),I(e,a),a),l=!0,x(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_(t,e):E(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(u+"NaN");return n.s?(l=!1,t=O(n,e,0,1).times(e),l=!0,n.minus(t)):x(new r(n),i)},y.naturalExponential=y.exp=function(){return R(this)},y.naturalLogarithm=y.ln=function(){return I(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E(t,e):_(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=L(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(u+"NaN")}for(e=L(s),l=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=T(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(i.toString()),i=a=(n=c.precision)+3;;)if(r=(o=r).plus(O(s,o,a+2)).times(.5),T(o.d).slice(0,a)===(t=T(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(x(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return l=!0,x(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,s,u,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,n=f.e+e.e,(u=h.length)<(c=p.length)&&(o=h,h=p,p=o,a=u,u=c,c=a),o=[],r=a=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)s=o[i]+p[r]*h[i-r-1]+t,o[i--]=s%m|0,t=s/m|0;o[i]=(o[i]+t)%m|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,l?x(e,d.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(A(e,0,a),void 0===t?t=r.rounding:A(t,0,8),x(n,e+L(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=M(r,!0):(A(e,0,a),void 0===t?t=i.rounding:A(t,0,8),n=M(r=x(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?M(i):(A(e,0,a),void 0===t?t=o.rounding:A(t,0,8),n=M((r=x(new o(i),e+L(i)+1,t)).abs(),!1,e+L(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return x(new t(e),L(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,a,s,c=this,f=c.constructor,h=+(e=new f(e));if(!e.s)return new f(o);if(!(c=new f(c)).s){if(e.s<1)throw Error(u+"Infinity");return c}if(c.eq(o))return c;if(r=f.precision,e.eq(o))return x(c,r);if(s=(t=e.e)>=(n=e.d.length-1),a=c.s,s){if((n=h<0?-h:h)<=v){for(i=new f(o),t=Math.ceil(r/7+4),l=!1;n%2&&w((i=i.times(c)).d,t),0!==(n=d(n/2));)w((c=c.times(c)).d,t);return l=!0,e.s<0?new f(o).div(i):x(i,r)}}else if(a<0)throw Error(u+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,c.s=1,l=!1,i=e.times(I(c,r+12)),l=!0,(i=R(i)).s=a,i},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=M(i,(n=L(i))<=o.toExpNeg||n>=o.toExpPos):(A(e,1,a),void 0===t?t=o.rounding:A(t,0,8),r=M(i=x(new o(i),e,t),e<=(n=L(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(A(e,1,a),void 0===t?t=n.rounding:A(t,0,8)),x(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=L(e),n=e.constructor;return M(e,t<=n.toExpNeg||t>=n.toExpPos)};var O=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,c,f,d,h,p,v,g,y,E,A,T,O,R,S,b,I,N=r.constructor,_=r.s==i.s?1:-1,M=r.d,w=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(u+"Division by zero");for(l=r.e-i.e,b=w.length,R=M.length,v=(p=new N(_)).d=[],c=0;w[c]==(M[c]||0);)++c;if(w[c]>(M[c]||0)&&--l,(A=null==o?o=N.precision:a?o+(L(r)-L(i))+1:o)<0)return new N(0);if(A=A/7+2|0,c=0,1==b)for(f=0,w=w[0],A++;(c<R||f)&&A--;c++)T=f*m+(M[c]||0),v[c]=T/w|0,f=T%w|0;else{for((f=m/(w[0]+1)|0)>1&&(w=e(w,f),M=e(M,f),b=w.length,R=M.length),O=b,y=(g=M.slice(0,b)).length;y<b;)g[y++]=0;(I=w.slice()).unshift(0),S=w[0],w[1]>=m/2&&++S;do{f=0,(s=t(w,g,b,y))<0?(E=g[0],b!=y&&(E=E*m+(g[1]||0)),(f=E/S|0)>1?(f>=m&&(f=m-1),1==(s=t(d=e(w,f),g,h=d.length,y=g.length))&&(f--,n(d,b<h?I:w,h))):(0==f&&(s=f=1),d=w.slice()),(h=d.length)<y&&d.unshift(0),n(g,d,y),-1==s&&(s=t(w,g,b,y=g.length))<1&&(f++,n(g,b<y?I:w,y)),y=g.length):0===s&&(f++,g=[0]),v[c++]=f,s&&g[0]?g[y++]=M[O]||0:(g=[M[O]],y=1)}while((O++<R||void 0!==g[0])&&A--)}return v[0]||v.shift(),p.e=l,x(p,a?o+L(p)+1:o)}}();function R(e,t){var n,r,i,a,s,u=0,c=0,d=e.constructor,p=d.precision;if(L(e)>16)throw Error(f+L(e));if(!e.s)return new d(o);for(null==t?(l=!1,s=p):s=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(s+=Math.log(h(2,c))/Math.LN10*2+5|0,n=r=i=new d(o),d.precision=s;;){if(r=x(r.times(e),s),n=n.times(++u),T((a=i.plus(O(r,n,s))).d).slice(0,s)===T(i.d).slice(0,s)){for(;c--;)i=x(i.times(i),s);return d.precision=p,null==t?(l=!0,x(i,p)):i}i=a}}function L(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw l=!0,n&&(e.precision=n),Error(u+"LN10 precision limit exceeded");return x(new e(e.LN10),t)}function b(e){for(var t="";e--;)t+="0";return t}function I(e,t){var n,r,i,a,s,c,f,d,h,p=1,m=e,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(u+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new g(0);if(null==t?(l=!1,d=y):d=t,m.eq(10))return null==t&&(l=!0),S(g,d);if(d+=10,g.precision=d,r=(n=T(v)).charAt(0),a=L(m),!(Math.abs(a)<15e14))return f=S(g,d+2,y).times(a+""),m=I(new g(r+"."+n.slice(1)),d-10).plus(f),g.precision=y,null==t?(l=!0,x(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=T((m=m.times(e)).d)).charAt(0),p++;for(a=L(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1)),c=s=m=O(m.minus(o),m.plus(o),d),h=x(m.times(m),d),i=3;;){if(s=x(s.times(h),d),T((f=c.plus(O(s,new g(i),d))).d).slice(0,d)===T(c.d).slice(0,d))return c=c.times(2),0!==a&&(c=c.plus(S(g,d+2,y).times(a+""))),c=O(c,new g(p),d),g.precision=y,null==t?(l=!0,x(c,y)):c;c=f,i+=2}}function N(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),l&&(e.e>g||e.e<-g))throw Error(f+n)}else e.s=0,e.e=0,e.d=[0];return e}function x(e,t,n){var r,i,o,a,s,u,c,p,v=e.d;for(a=1,o=v[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=v[p=0];else{if((p=Math.ceil((r+1)/7))>=(o=v.length))return e;for(c=o=v[p],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=c/(o=h(10,a-i-1))%10|0,u=t<0||void 0!==v[p+1]||c%o,u=n<4?(s||u)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||u||6==n&&(r>0?i>0?c/h(10,a-i):0:v[p-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return u?(o=L(e),v.length=1,t=t-o-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=p,o=1,p--):(v.length=p+1,o=h(10,7-r),v[p]=i>0?(c/h(10,a-i)%h(10,i)|0)*o:0),u)for(;;){if(0==p){(v[0]+=o)==m&&(v[0]=1,++e.e);break}if(v[p]+=o,v[p]!=m)break;v[p--]=0,o=1}for(r=v.length;0===v[--r];)v.pop();if(l&&(e.e>g||e.e<-g))throw Error(f+L(e));return e}function _(e,t){var n,r,i,o,a,s,u,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),l?x(t,p):t;if(u=e.d,d=t.d,r=t.e,c=e.e,u=u.slice(),a=c-r){for((f=a<0)?(n=u,a=-a,s=d.length):(n=d,r=c,s=u.length),a>(i=Math.max(Math.ceil(p/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((f=(i=u.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(u[i]!=d[i]){f=u[i]<d[i];break}a=0}for(f&&(n=u,u=d,d=n,t.s=-t.s),s=u.length,i=d.length-s;i>0;--i)u[s++]=0;for(i=d.length;i>a;){if(u[--i]<d[i]){for(o=i;o&&0===u[--o];)u[o]=m-1;--u[o],u[i]+=m}u[i]-=d[i]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,l?x(t,p):t):new h(0)}function M(e,t,n){var r,i=L(e),o=T(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+b(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+b(-i-1)+o,n&&(r=n-a)>0&&(o+=b(r))):i>=a?(o+=b(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+b(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=b(r))),e.s<0?"-"+o:o}function w(e,t){if(e.length>t)return e.length=t,!0}function C(e){if(!e||"object"!==typeof e)throw Error(u+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}s=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):N(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);N(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=C,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(s),s.default=s.Decimal=s,o=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},97143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},25244:function(e,t){!function(e){"use strict";var t="function"===typeof WeakSet,n=Object.keys;function r(e,t){return e===t||e!==e&&t!==t}function i(e){return e.constructor===Object||null==e.constructor}function o(e){return!!e&&"function"===typeof e.then}function a(e){return!(!e||!e.$$typeof)}function s(){var e=[];return{add:function(t){e.push(t)},has:function(t){return-1!==e.indexOf(t)}}}var l=t?function(){return new WeakSet}:s;function u(e){return function(t){var n=e||t;return function(e,t,r){void 0===r&&(r=l());var i=!!e&&"object"===typeof e,o=!!t&&"object"===typeof t;if(i||o){var a=i&&r.has(e),s=o&&r.has(t);if(a||s)return a&&s;i&&r.add(e),o&&r.add(t)}return n(e,t,r)}}}function c(e,t,n,r){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n(e[i],t[i],r))return!1;return!0}function f(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var o={};e.forEach((function(e,a){if(i){var s=!1,l=0;t.forEach((function(t,i){s||o[l]||(s=n(a,i,r)&&n(e,t,r))&&(o[l]=!0),l++})),i=s}}))}return i}var d="_owner",h=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function p(e,t,r,i){var o=n(e),s=o.length;if(n(t).length!==s)return!1;if(s)for(var l=void 0;s-- >0;){if((l=o[s])===d){var u=a(e),c=a(t);if((u||c)&&u!==c)return!1}if(!h(t,l)||!r(e[l],t[l],i))return!1}return!0}function m(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex}function v(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var o={};e.forEach((function(e){if(i){var a=!1,s=0;t.forEach((function(t){a||o[s]||(a=n(e,t,r))&&(o[s]=!0),s++})),i=a}}))}return i}var g="function"===typeof Map,y="function"===typeof Set;function E(e){var t="function"===typeof e?e(n):n;function n(e,n,a){if(e===n)return!0;if(e&&n&&"object"===typeof e&&"object"===typeof n){if(i(e)&&i(n))return p(e,n,t,a);var s=Array.isArray(e),l=Array.isArray(n);return s||l?s===l&&c(e,n,t,a):(s=e instanceof Date,l=n instanceof Date,s||l?s===l&&r(e.getTime(),n.getTime()):(s=e instanceof RegExp,l=n instanceof RegExp,s||l?s===l&&m(e,n):o(e)||o(n)?e===n:g&&(s=e instanceof Map,l=n instanceof Map,s||l)?s===l&&f(e,n,t,a):y&&(s=e instanceof Set,l=n instanceof Set,s||l)?s===l&&v(e,n,t,a):p(e,n,t,a)))}return e!==e&&n!==n}return n}var A=E(),T=E((function(){return r})),O=E(u()),R=E(u(r));e.circularDeepEqual=O,e.circularShallowEqual=R,e.createCustomEqual=E,e.deepEqual=A,e.sameValueZeroEqual=r,e.shallowEqual=T,Object.defineProperty(e,"__esModule",{value:!0})}(t)},62110:function(e,t,n){"use strict";var r=n(48309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=d(n,g);try{u(t,g,y)}catch(E){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function T(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case d:case v:case m:case l:return e;default:return t}}case i:return t}}}function O(e){return T(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return O(e)||T(e)===c},t.isConcurrentMode=O,t.isContextConsumer=function(e){return T(e)===u},t.isContextProvider=function(e){return T(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return T(e)===d},t.isFragment=function(e){return T(e)===o},t.isLazy=function(e){return T(e)===v},t.isMemo=function(e){return T(e)===m},t.isPortal=function(e){return T(e)===i},t.isProfiler=function(e){return T(e)===s},t.isStrictMode=function(e){return T(e)===a},t.isSuspense=function(e){return T(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===E||e.$$typeof===A||e.$$typeof===g)},t.typeOf=T},48309:function(e,t,n){"use strict";e.exports=n(746)},50908:function(e,t,n){var r=n(68136)(n(97009),"DataView");e.exports=r},29676:function(e,t,n){var r=n(85403),i=n(62747),o=n(16037),a=n(94154),s=n(77728);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},38384:function(e,t,n){var r=n(43894),i=n(8699),o=n(64957),a=n(87184),s=n(87109);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},95797:function(e,t,n){var r=n(68136)(n(97009),"Map");e.exports=r},78059:function(e,t,n){var r=n(34086),i=n(9255),o=n(29186),a=n(13423),s=n(73739);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},78319:function(e,t,n){var r=n(68136)(n(97009),"Promise");e.exports=r},23924:function(e,t,n){var r=n(68136)(n(97009),"Set");e.exports=r},20692:function(e,t,n){var r=n(78059),i=n(35774),o=n(41596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},22854:function(e,t,n){var r=n(38384),i=n(20511),o=n(50835),a=n(90707),s=n(18832),l=n(35077);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},87197:function(e,t,n){var r=n(97009).Symbol;e.exports=r},46219:function(e,t,n){var r=n(97009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(68136)(n(97009),"WeakMap");e.exports=r},13665:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},18573:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},84903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},59055:function(e,t,n){var r=n(24842);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},32683:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},47538:function(e,t,n){var r=n(86478),i=n(34963),o=n(93629),a=n(5174),s=n(26800),l=n(19102),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&l(e),h=n||c||f||d,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},68950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},41705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},47897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},54622:function(e){e.exports=function(e){return e.split("")}},27112:function(e,t,n){var r=n(29231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},32526:function(e,t,n){var r=n(48528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},87927:function(e,t,n){var r=n(15358),i=n(67056)(r);e.exports=i},39863:function(e,t,n){var r=n(87927);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},43079:function(e,t,n){var r=n(70152);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,u=a}return u}},2045:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},55182:function(e,t,n){var r=n(41705),i=n(73529);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},85099:function(e,t,n){var r=n(30372)();e.exports=r},15358:function(e,t,n){var r=n(85099),i=n(12742);e.exports=function(e,t){return e&&r(e,t,i)}},98667:function(e,t,n){var r=n(43082),i=n(69793);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},61986:function(e,t,n){var r=n(41705),i=n(93629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},39066:function(e,t,n){var r=n(87197),i=n(81587),o=n(43581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},81954:function(e){e.exports=function(e,t){return e>t}},90529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},24842:function(e,t,n){var r=n(2045),i=n(50505),o=n(77167);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4906:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},71848:function(e,t,n){var r=n(93355),i=n(43141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},93355:function(e,t,n){var r=n(22854),i=n(15305),o=n(92206),a=n(88078),s=n(88383),l=n(93629),u=n(5174),c=n(19102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=l(e),E=l(t),A=y?d:s(e),T=E?d:s(t),O=(A=A==f?h:A)==h,R=(T=T==f?h:T)==h,L=A==T;if(L&&u(e)){if(!u(t))return!1;y=!0,O=!1}if(L&&!O)return g||(g=new r),y||c(e)?i(e,t,n,m,v,g):o(e,t,A,n,m,v,g);if(!(1&n)){var S=O&&p.call(e,"__wrapped__"),b=R&&p.call(t,"__wrapped__");if(S||b){var I=S?e.value():e,N=b?t.value():t;return g||(g=new r),v(I,N,n,m,g)}}return!!L&&(g||(g=new r),a(e,t,n,m,v,g))}},8856:function(e,t,n){var r=n(22854),i=n(71848);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],f=e[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var h=new r;if(o)var p=o(f,d,c,e,t,h);if(!(void 0===p?i(d,f,3,o,h):p))return!1}}return!0}},50505:function(e){e.exports=function(e){return e!==e}},26703:function(e,t,n){var r=n(74786),i=n(257),o=n(8092),a=n(27907),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},68150:function(e,t,n){var r=n(39066),i=n(24635),o=n(43141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},56025:function(e,t,n){var r=n(97080),i=n(24322),o=n(2100),a=n(93629),s=n(10038);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},43654:function(e,t,n){var r=n(62936),i=n(75964),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},92580:function(e){e.exports=function(e,t){return e<t}},53849:function(e,t,n){var r=n(87927),i=n(21473);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},97080:function(e,t,n){var r=n(8856),i=n(79091),o=n(50284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},24322:function(e,t,n){var r=n(71848),i=n(26181),o=n(75658),a=n(25823),s=n(25072),l=n(50284),u=n(69793);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},93226:function(e,t,n){var r=n(68950),i=n(98667),o=n(56025),a=n(53849),s=n(19179),l=n(16194),u=n(94480),c=n(2100),f=n(93629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var d=-1;t=r(t,l(o));var h=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return s(h,(function(e,t){return u(e,t,n)}))}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(98667);e.exports=function(e){return function(t){return r(t,e)}}},7255:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},58794:function(e,t,n){var r=n(2100),i=n(64262),o=n(79156);e.exports=function(e,t){return o(i(e,t,r),e+"")}},7532:function(e,t,n){var r=n(71547),i=n(48528),o=n(2100),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},59204:function(e,t,n){var r=n(87927);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},19179:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},86478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(87197),i=n(68950),o=n(93629),a=n(70152),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},20821:function(e,t,n){var r=n(26050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},16194:function(e){e.exports=function(e){return function(t){return e(t)}}},39602:function(e,t,n){var r=n(20692),i=n(59055),o=n(32683),a=n(60075),s=n(77730),l=n(22230);e.exports=function(e,t,n){var u=-1,c=i,f=e.length,d=!0,h=[],p=h;if(n)d=!1,c=o;else if(f>=200){var m=t?null:s(e);if(m)return l(m);d=!1,c=a,p=new r}else p=t?[]:h;e:for(;++u<f;){var v=e[u],g=t?t(v):v;if(v=n||0!==v?v:0,d&&g===g){for(var y=p.length;y--;)if(p[y]===g)continue e;t&&p.push(g),h.push(v)}else c(p,g,n)||(p!==h&&p.push(g),h.push(v))}return h}},60075:function(e){e.exports=function(e,t){return e.has(t)}},43082:function(e,t,n){var r=n(93629),i=n(25823),o=n(10170),a=n(63518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},69813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},88558:function(e,t,n){var r=n(70152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},94480:function(e,t,n){var r=n(88558);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},65525:function(e,t,n){var r=n(97009)["__core-js_shared__"];e.exports=r},67056:function(e,t,n){var r=n(21473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},30372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},10322:function(e,t,n){var r=n(69813),i=n(47302),o=n(27580),a=n(63518);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},95481:function(e,t,n){var r=n(56025),i=n(21473),o=n(12742);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},56381:function(e,t,n){var r=n(7255),i=n(3195),o=n(91495);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},77730:function(e,t,n){var r=n(23924),i=n(19694),o=n(22230),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},48528:function(e,t,n){var r=n(68136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},15305:function(e,t,n){var r=n(20692),i=n(47897),o=n(60075);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e),h=l.get(t);if(d&&h)return d==t&&h==e;var p=-1,m=!0,v=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var g=e[p],y=t[p];if(a)var E=u?a(y,g,p,t,e,l):a(g,y,p,e,t,l);if(void 0!==E){if(E)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(g===e||s(g,e,n,a,l)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},92206:function(e,t,n){var r=n(87197),i=n(46219),o=n(29231),a=n(15305),s=n(90234),l=n(22230),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var v=a(h(e),h(t),r,u,f,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},88078:function(e,t,n){var r=n(38248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:i.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=l;++f<c;){var g=e[d=u[f]],y=t[d];if(o)var E=l?o(y,g,d,t,e,s):o(g,y,d,e,t,s);if(!(void 0===E?g===y||a(g,y,n,o,s):E)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var A=e.constructor,T=t.constructor;A==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof T&&T instanceof T||(m=!1)}return s.delete(e),s.delete(t),m}},31032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},38248:function(e,t,n){var r=n(61986),i=n(65918),o=n(12742);e.exports=function(e){return r(e,o,i)}},32799:function(e,t,n){var r=n(55964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},79091:function(e,t,n){var r=n(25072),i=n(12742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},68136:function(e,t,n){var r=n(26703),i=n(30040);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},81587:function(e,t,n){var r=n(87197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},65918:function(e,t,n){var r=n(84903),i=n(68174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},88383:function(e,t,n){var r=n(50908),i=n(95797),o=n(78319),a=n(23924),s=n(7091),l=n(39066),u=n(27907),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",m=u(r),v=u(i),g=u(o),y=u(a),E=u(s),A=l;(r&&A(new r(new ArrayBuffer(1)))!=p||i&&A(new i)!=c||o&&A(o.resolve())!=f||a&&A(new a)!=d||s&&A(new s)!=h)&&(A=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case v:return c;case g:return f;case y:return d;case E:return h}return t}),e.exports=A},30040:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},86417:function(e,t,n){var r=n(43082),i=n(34963),o=n(93629),a=n(26800),s=n(24635),l=n(69793);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(o(e)||i(e))}},47302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},85403:function(e,t,n){var r=n(49620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},62747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},16037:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},94154:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},77728:function(e,t,n){var r=n(49620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},73529:function(e,t,n){var r=n(87197),i=n(34963),o=n(93629),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},26800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3195:function(e,t,n){var r=n(29231),i=n(21473),o=n(26800),a=n(8092);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},25823:function(e,t,n){var r=n(93629),i=n(70152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},55964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(65525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},62936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},25072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},43894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(27112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},64957:function(e,t,n){var r=n(27112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},87184:function(e,t,n){var r=n(27112);e.exports=function(e){return r(this.__data__,e)>-1}},87109:function(e,t,n){var r=n(27112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},34086:function(e,t,n){var r=n(29676),i=n(38384),o=n(95797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(32799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},29186:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).get(e)}},13423:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).has(e)}},73739:function(e,t,n){var r=n(32799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},90234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},50284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},14634:function(e,t,n){var r=n(49151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},49620:function(e,t,n){var r=n(68136)(Object,"create");e.exports=r},75964:function(e,t,n){var r=n(12709)(Object.keys,Object);e.exports=r},49494:function(e,t,n){e=n.nmd(e);var r=n(31032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},12709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},64262:function(e,t,n){var r=n(13665),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},97009:function(e,t,n){var r=n(31032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},35774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},41596:function(e){e.exports=function(e){return this.__data__.has(e)}},22230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},79156:function(e,t,n){var r=n(7532),i=n(83197)(r);e.exports=i},83197:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},20511:function(e,t,n){var r=n(38384);e.exports=function(){this.__data__=new r,this.size=0}},50835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},90707:function(e){e.exports=function(e){return this.__data__.get(e)}},18832:function(e){e.exports=function(e){return this.__data__.has(e)}},35077:function(e,t,n){var r=n(38384),i=n(95797),o=n(78059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},77167:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},27580:function(e,t,n){var r=n(54622),i=n(47302),o=n(42110);e.exports=function(e){return i(e)?o(e):r(e)}},10170:function(e,t,n){var r=n(14634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},69793:function(e,t,n){var r=n(70152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},27907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},42110:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+s+("(?:\\u200d(?:"+[i,o,a].join("|")+")"+l+s+")*"),c="(?:"+[i+n+"?",n,o,a,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+c+u,"g");e.exports=function(e){return e.match(f)||[]}},71547:function(e){e.exports=function(e){return function(){return e}}},48573:function(e,t,n){var r=n(8092),i=n(50072),o=n(42582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,h,p=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,p=t,f=e.apply(r,n)}function E(e){return p=e,d=setTimeout(T,t),m?y(e):f}function A(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-p>=c}function T(){var e=i();if(A(e))return O(e);d=setTimeout(T,function(e){var n=t-(e-h);return v?s(n,c-(e-p)):n}(e))}function O(e){return d=void 0,g&&l?y(e):(l=u=void 0,f)}function R(){var e=i(),n=A(e);if(l=arguments,u=this,h=e,n){if(void 0===d)return E(h);if(v)return clearTimeout(d),d=setTimeout(T,t),y(h)}return void 0===d&&(d=setTimeout(T,t)),f}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),R.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=h=u=d=void 0},R.flush=function(){return void 0===d?f:O(i())},R}},29231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},82730:function(e,t,n){var r=n(18573),i=n(39863),o=n(56025),a=n(93629),s=n(3195);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},61211:function(e,t,n){var r=n(95481)(n(51475));e.exports=r},51475:function(e,t,n){var r=n(2045),i=n(56025),o=n(39753),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},5008:function(e,t,n){var r=n(55182),i=n(72034);e.exports=function(e,t){return r(i(e,t),1)}},26181:function(e,t,n){var r=n(98667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},75658:function(e,t,n){var r=n(90529),i=n(86417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},34963:function(e,t,n){var r=n(4906),i=n(43141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},93629:function(e){var t=Array.isArray;e.exports=t},21473:function(e,t,n){var r=n(74786),i=n(24635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},65127:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(97009),i=n(49488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},18111:function(e,t,n){var r=n(71848);e.exports=function(e,t){return r(e,t)}},74786:function(e,t,n){var r=n(39066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},24635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},82066:function(e,t,n){var r=n(30298);e.exports=function(e){return r(e)&&e!=+e}},42854:function(e){e.exports=function(e){return null==e}},30298:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},26769:function(e,t,n){var r=n(39066),i=n(93629),o=n(43141);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},70152:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},19102:function(e,t,n){var r=n(68150),i=n(16194),o=n(49494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},12742:function(e,t,n){var r=n(47538),i=n(43654),o=n(21473);e.exports=function(e){return o(e)?r(e):i(e)}},15727:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},72034:function(e,t,n){var r=n(68950),i=n(56025),o=n(53849),a=n(93629);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},37702:function(e,t,n){var r=n(32526),i=n(15358),o=n(56025);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},29627:function(e,t,n){var r=n(43079),i=n(81954),o=n(2100);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},49151:function(e,t,n){var r=n(78059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},66452:function(e,t,n){var r=n(43079),i=n(92580),o=n(2100);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},19694:function(e){e.exports=function(){}},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},10038:function(e,t,n){var r=n(9586),i=n(4084),o=n(25823),a=n(69793);e.exports=function(e){return o(e)?r(a(e)):i(e)}},66222:function(e,t,n){var r=n(56381)();e.exports=r},14064:function(e,t,n){var r=n(47897),i=n(56025),o=n(59204),a=n(93629),s=n(3195);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},64286:function(e,t,n){var r=n(55182),i=n(93226),o=n(58794),a=n(3195),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},68174:function(e){e.exports=function(){return[]}},49488:function(e){e.exports=function(){return!1}},33038:function(e,t,n){var r=n(48573),i=n(8092);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},91495:function(e,t,n){var r=n(42582),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},39753:function(e,t,n){var r=n(91495);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},42582:function(e,t,n){var r=n(20821),i=n(8092),o=n(70152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},63518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},66339:function(e,t,n){var r=n(56025),i=n(39602);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},52085:function(e,t,n){var r=n(10322)("toUpperCase");e.exports=r},31725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(l[s[f]]=a[s[f]])}}return l}},48872:function(e){(function(){var t,n,r,i,o,a;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),o=i-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},55475:function(e,t,n){for(var r=n(48872),i="undefined"===typeof window?n.g:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=i[o[u]+"Request"+a],l=i[o[u]+"Cancel"+a]||i[o[u]+"CancelRequest"+a];if(!s||!l){var c=0,f=0,d=[];s=function(e){if(0===d.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return d.push({handle:++f,callback:e,cancelled:!1}),f},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},15950:function(e){e.exports=function(){"use strict";function e(e,r,i,o,a){!function e(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-l*c/s+f)),Math.min(o,Math.floor(r+(s-l)*c/s+f)),a)}var d=n[r],h=i,p=o;for(t(n,i,r),a(n[o],d)>0&&t(n,i,o);h<p;){for(t(n,h,p),h++,p--;a(n[h],d)<0;)h++;for(;a(n[p],d)>0;)p--}0===a(n[i],d)?t(n,i,p):t(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(e,r,i||0,o||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];s(i,e.leaf?r(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!h(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?r(a):a;h(e,s)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!h(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(h(e,o)){if(t.leaf||d(e,o))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf){var c=i(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!d(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,a=n-t+1,s=this._maxEntries;if(a<=s)return o(i=p(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=p([])).leaf=!1,i.height=r;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));m(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var f=Math.min(c+u-1,n);m(e,c,f,l,this.compareMinY);for(var d=c;d<=f;d+=l){var h=Math.min(d+l-1,f);i.children.push(this._build(e,d,h,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),f=(d=e,h=l,(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-u);f<o?(o=f,i=u<i?u:i,a=l):f===o&&u<i&&(i=u,a=l)}t=a||t.children[0]}var d,h;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),s(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=p(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,o,s,l,u,f,d=1/0,h=1/0,p=t;p<=n-t;p++){var m=a(e,0,p,this.toBBox),v=a(e,p,n,this.toBBox),g=(i=m,o=v,s=void 0,l=void 0,u=void 0,f=void 0,s=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),f=Math.min(i.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,f-l)),y=c(m)+c(v);g<d?(d=g,r=p,h=y<h?y:h):g===d&&y<h&&(h=y,r=p)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=a(e,0,t,i),l=a(e,n-t,n,i),u=f(o)+f(l),c=t;c<n-t;c++){var d=e.children[c];s(o,e.leaf?i(d):d),u+=f(o)}for(var h=n-t-1;h>=t;h--){var p=e.children[h];s(l,e.leaf?i(p):p),u+=f(l)}return u},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},r}()},34463:function(e,t,n){"use strict";var r=n(72791),i=n(31725),o=n(45296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}function A(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(m,e)||!h.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,E);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,E);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,E);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=60103,R=60106,L=60107,S=60108,b=60114,I=60109,N=60110,x=60112,_=60113,M=60120,w=60115,C=60116,P=60121,D=60128,k=60129,H=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;O=B("react.element"),R=B("react.portal"),L=B("react.fragment"),S=B("react.strict_mode"),b=B("react.profiler"),I=B("react.provider"),N=B("react.context"),x=B("react.forward_ref"),_=B("react.suspense"),M=B("react.suspense_list"),w=B("react.memo"),C=B("react.lazy"),P=B("react.block"),B("react.scope"),D=B("react.opaque.id"),k=B("react.debug_trace_mode"),H=B("react.offscreen"),U=B("react.legacy_hidden")}var G,W="function"===typeof Symbol&&Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=W&&e[W]||e["@@iterator"])?e:null}function K(e){if(void 0===G)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);G=t&&t[1]||""}return"\n"+G+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function j(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 22:return e=z(e.type._render,!1);case 1:return e=z(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case L:return"Fragment";case R:return"Portal";case b:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case w:return Z(e.type);case P:return Z(e._render);case C:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ue(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ee={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];function Te(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ee.hasOwnProperty(e)&&Ee[e]?(""+t).trim():t+"px"}function Oe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Te(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ee).forEach((function(e){Ae.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ee[t]=Ee[e]}))}));var Re=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Le(e,t){if(t){if(Re[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ne=null,xe=null;function _e(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ie(e.stateNode,e.type,t))}}function Me(e){Ne?xe?xe.push(e):xe=[e]:Ne=e}function we(){if(Ne){var e=Ne,t=xe;if(xe=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var ke=Ce,He=!1,Ue=!1;function Be(){null===Ne&&null===xe||(De(),we())}function Ge(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var We=!1;if(f)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){We=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ve){We=!1}function Ke(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ve=!1,ze=null,je=!1,Ze=null,Ye={onError:function(e){Ve=!0,ze=e}};function qe(e,t,n,r,i,o,a,s,l){Ve=!1,ze=null,Ke.apply(Ye,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(a(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,lt=null,ut=null,ct=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function Et(e,t,n){yt(e)&&n.delete(t)}function At(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(Et),ft.forEach(Et)}function Tt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,At)))}function Ot(e){function t(t){return Tt(t,e)}if(0<at.length){Tt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&Tt(st,e),null!==lt&&Tt(lt,e),null!==ut&&Tt(ut,e),ct.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function Rt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lt={animationend:Rt("Animation","AnimationEnd"),animationiteration:Rt("Animation","AnimationIteration"),animationstart:Rt("Animation","AnimationStart"),transitionend:Rt("Transition","TransitionEnd")},St={},bt={};function It(e){if(St[e])return St[e];if(!Lt[e])return e;var t,n=Lt[e];for(t in n)if(n.hasOwnProperty(t)&&t in bt)return St[e]=n[t];return e}f&&(bt=document.createElement("div").style,"AnimationEvent"in window||(delete Lt.animationend.animation,delete Lt.animationiteration.animation,delete Lt.animationstart.animation),"TransitionEvent"in window||delete Lt.transitionend.transition);var Nt=It("animationend"),xt=It("animationiteration"),_t=It("animationstart"),Mt=It("transitionend"),wt=new Map,Ct=new Map,Pt=["abort","abort",Nt,"animationEnd",xt,"animationIteration",_t,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Mt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ct.set(r,t),wt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var kt=8;function Ht(e){if(0!==(1&e))return kt=15,1;if(0!==(2&e))return kt=14,2;if(0!==(4&e))return kt=13,4;var t=24&e;return 0!==t?(kt=12,t):0!==(32&e)?(kt=11,32):0!==(t=192&e)?(kt=10,t):0!==(256&e)?(kt=9,256):0!==(t=3584&e)?(kt=8,t):0!==(4096&e)?(kt=7,4096):0!==(t=4186112&e)?(kt=6,t):0!==(t=62914560&e)?(kt=5,t):67108864&e?(kt=4,67108864):0!==(134217728&e)?(kt=3,134217728):0!==(t=805306368&e)?(kt=2,t):0!==(1073741824&e)?(kt=1,1073741824):(kt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return kt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=kt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Ht(l),i=kt):0!==(s&=o)&&(r=Ht(s),i=kt)}else 0!==(o=n&~a)?(r=Ht(o),i=kt):0!==s&&(r=Ht(s),i=kt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Ht(t),i<=kt)return t;kt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Gt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Wt(24&~t))?Gt(10,t):e;case 10:return 0===(e=Wt(192&~t))?Gt(8,t):e;case 8:return 0===(e=Wt(3584&~t))&&(0===(e=Wt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Wt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Wt(e){return e&-e}function Ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/jt|0)|0},zt=Math.log,jt=Math.LN2;var Zt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,qt=!0;function Xt(e,t,n,r){He||De();var i=Jt,o=He;He=!0;try{Pe(i,e,t,n,r)}finally{(He=o)||Be()}}function Qt(e,t,n,r){Yt(Zt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(qt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=$t(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return lt=vt(lt,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Dr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=be(r);if(null!==(i=ni(i))){var o=Xe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=ln(dn),pn=i({},dn,{view:0,detail:0}),mn=ln(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(un=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=un=0,fn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=ln(vn),yn=ln(i({},vn,{dataTransfer:0})),En=ln(i({},pn,{relatedTarget:0})),An=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),On=ln(Tn),Rn=ln(i({},dn,{data:0})),Ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function Nn(){return In}var xn=i({},pn,{key:function(e){if(e.key){var t=Ln[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=ln(xn),Mn=ln(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Cn=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=ln(Pn),kn=[9,13,27,32],Hn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Bn=f&&"TextEvent"in window&&!Un,Gn=f&&(!Hn||Un&&8<Un&&11>=Un),Wn=String.fromCharCode(32),Fn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Yn(e,t,n,r){Me(r),0<(t=Hr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Xn=null;function Qn(e){xr(e,0)}function Jn(e){if(Q(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){qn&&(qn.detachEvent("onpropertychange",or),Xn=qn=null)}function or(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Yn(t,Xn,e,be(e)),e=Qn,He)e(t);else{He=!0;try{Ce(e,t)}finally{He=!1,Be()}}}}function ar(e,t,n){"focusin"===e?(ir(),Xn=n,(qn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function lr(e,t){if("click"===e)return Jn(t)}function ur(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,Er=null,Ar=null,Tr=null,Or=!1;function Rr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Or||null==Er||Er!==J(r)||("selectionStart"in(r=Er)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&dr(Tr,r)||(Tr=r,0<(r=Hr(Ar,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var Lr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Lr.length;Sr++)Ct.set(Lr[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(qe.apply(this,arguments),Ve){if(!Ve)throw Error(a(198));var c=ze;Ve=!1,ze=null,je||(je=!0,Ze=c)}}(r,t,void 0,e),e.currentTarget=null}function xr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,s,u),o=l}}}if(je)throw e=Ze,je=!1,Ze=null,e}function _r(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Mr="_reactListening"+Math.random().toString(36).slice(2);function wr(e){e[Mr]||(e[Mr]=!0,s.forEach((function(t){Ir.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Ct.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Qt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{ke(e,t,n)}finally{Ue=!1,Be()}}((function(){var r=o,i=be(n),a=[];e:{var s=wt.get(e);if(void 0!==s){var l=hn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":u="focus",l=En;break;case"focusout":u="blur",l=En;break;case"beforeblur":case"afterblur":l=En;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=wn;break;case Nt:case xt:case _t:l=An;break;case Mt:l=Cn;break;case"scroll":l=mn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=Ge(p,d))&&c.push(kr(p,m,h)))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(f=Xe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==l?s:ii(l),h=null==u?s:ii(u),(s=new c(m,p+"leave",l,n,i)).target=f,s.relatedTarget=h,m=null,ni(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=h,c.relatedTarget=f,m=c),f=m,l&&u)e:{for(d=u,p=0,h=c=l;h;h=Ur(h))p++;for(h=0,m=d;m;m=Ur(m))h++;for(;0<p-h;)c=Ur(c),p--;for(;0<h-p;)d=Ur(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Ur(c),d=Ur(d)}c=null}else c=null;null!==l&&Br(a,s,l,c,!1),null!==u&&null!==f&&Br(a,f,u,c,!0)}if("select"===(l=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=$n;else if(Zn(s))if(er)v=ur;else{v=sr;var g=ar}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=lr);switch(v&&(v=v(e,r))?Yn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Zn(g)||"true"===g.contentEditable)&&(Er=g,Ar=r,Tr=null);break;case"focusout":Tr=Ar=Er=null;break;case"mousedown":Or=!0;break;case"contextmenu":case"mouseup":case"dragend":Or=!1,Rr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Rr(a,n,i)}var y;if(Hn)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else zn?Kn(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(Gn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==E?"onCompositionEnd"===E&&zn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(g=Hr(r,E)).length&&(E=new Rn(E,e,null,n,i),a.push({event:E,listeners:g}),y?E.data=y:null!==(y=Vn(n))&&(E.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Wn);case"textInput":return(e=t.data)===Wn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Hn&&Kn(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new Rn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}xr(a,t)}))}function kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ge(e,n))&&r.unshift(kr(e,o,i)),null!=(o=Ge(e,t))&&r.push(kr(e,o,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Br(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ge(n,o))&&a.unshift(kr(n,l,s)):i||null!=(l=Ge(n,o))&&a.push(kr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Gr(){}var Wr=null,Fr=null;function Kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,jr="function"===typeof clearTimeout?clearTimeout:void 0;function Zr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Qr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Qr,$r="__reactProps$"+Qr,ei="__reactContainer$"+Qr,ti="__reactEvents$"+Qr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Jr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[$r]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],li=-1;function ui(e){return{current:e}}function ci(e){0>li||(e.current=si[li],si[li]=null,li--)}function fi(e,t){li++,si[li]=e.current,e.current=t}var di={},hi=ui(di),pi=ui(!1),mi=di;function vi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(pi),ci(hi)}function Ei(e,t,n){if(hi.current!==di)throw Error(a(168));fi(hi,t),fi(pi,n)}function Ai(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Z(t)||"Unknown",o));return i({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,mi=hi.current,fi(hi,e),fi(pi,pi.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ai(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(hi),fi(hi,e)):ci(pi),fi(pi,n)}var Ri=null,Li=null,Si=o.unstable_runWithPriority,bi=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ni=o.unstable_shouldYield,xi=o.unstable_requestPaint,_i=o.unstable_now,Mi=o.unstable_getCurrentPriorityLevel,wi=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Di=o.unstable_LowPriority,ki=o.unstable_IdlePriority,Hi={},Ui=void 0!==xi?xi:function(){},Bi=null,Gi=null,Wi=!1,Fi=_i(),Ki=1e4>Fi?_i:function(){return _i()-Fi};function Vi(){switch(Mi()){case wi:return 99;case Ci:return 98;case Pi:return 97;case Di:return 96;case ki:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return wi;case 98:return Ci;case 97:return Pi;case 96:return Di;case 95:return ki;default:throw Error(a(332))}}function ji(e,t){return e=zi(e),Si(e,t)}function Zi(e,t,n){return e=zi(e),bi(e,t,n)}function Yi(){if(null!==Gi){var e=Gi;Gi=null,Ii(e)}qi()}function qi(){if(!Wi&&null!==Bi){Wi=!0;var e=0;try{var t=Bi;ji(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(e+1)),bi(wi,Yi),n}finally{Wi=!1}}}var Xi=T.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ui(null),$i=null,eo=null,to=null;function no(){to=eo=$i=null}function ro(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){$i=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ha=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===$i)throw Error(a(308));eo=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=u)}}if(null!==a){for(d=o.baseState,s=0,f=c=u=null;;){l=a.lane;var h=a.eventTime;if((r&l)===l){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(l=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(h,d,l):p)||void 0===l)break e;d=i({},d,l);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else h={eventTime:h,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=h,u=d):f=f.next=h,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===f&&(u=d),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=f,Ws|=s,e.lanes=s,e.memoizedState=d}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dl(),i=hl(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dl(),i=hl(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dl(),r=hl(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pl(e,r,n)}};function Eo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function Ao(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?mi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function To(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function Oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?mi:hi.current,i.context=vi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ro=Array.isArray;function Lo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function bo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Lo(e,t,n),r.return=e,r):((r=Zl(n.type,n.key,n.props,null,e.mode,r)).ref=Lo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case O:return(n=Zl(t.type,t.key,t.props,null,e.mode,n)).ref=Lo(e,null,t),n.return=e,n;case R:return(t=Ql(t,e.mode,n)).return=e,t}if(Ro(t)||F(t))return(t=Yl(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case O:return n.key===i?n.type===L?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case R:return n.key===i?c(e,t,n,r):null}if(Ro(n)||F(n))return null!==i?null:f(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case O:return e=e.get(null===r.key?n:r.key)||null,r.type===L?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case R:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ro(r)||F(r))return f(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(i,f,s[m],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(i,f),u;if(null===f){for(;m<s.length;m++)null!==(f=d(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),u}function v(i,s,l,u){var c=F(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var E=h(i,m,y.value,u);if(null===E){null===m&&(m=g);break}e&&m&&null===E.alternate&&t(i,m),s=o(E,s,v),null===f?c=E:f.sibling=E,f=E,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=d(i,y.value,u))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=p(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===L&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case O:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===L){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Lo(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===L?((r=Yl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Zl(o.type,o.key,o.props,null,e.mode,l)).ref=Lo(e,r,o),l.return=e,e=l)}return s(e);case R:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ql(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xl(o,e.mode,l)).return=e,e=r),s(e);if(Ro(o))return m(e,r,o,l);if(F(o))return v(e,r,o,l);if(c&&So(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Z(e.type)||"Component"))}return n(e,r)}}var Io=bo(!0),No=bo(!1),xo={},_o=ui(xo),Mo=ui(xo),wo=ui(xo);function Co(e){if(e===xo)throw Error(a(174));return e}function Po(e,t){switch(fi(wo,t),fi(Mo,e),fi(_o,xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(_o),fi(_o,t)}function Do(){ci(_o),ci(Mo),ci(wo)}function ko(e){Co(wo.current);var t=Co(_o.current),n=pe(t,e.type);t!==n&&(fi(Mo,e),fi(_o,n))}function Ho(e){Mo.current===e&&(ci(_o),ci(Mo))}var Uo=ui(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Go=null,Wo=null,Fo=!1;function Ko(e,t){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function zo(e){if(Fo){var t=Wo;if(t){var n=t;if(!Vo(e,t)){if(!(t=Yr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(Go=e);Ko(Go,n)}Go=e,Wo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,Go=e}}function jo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Go=e}function Zo(e){if(e!==Go)return!1;if(!Fo)return jo(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Wo;t;)Ko(e,t),t=Yr(t.nextSibling);if(jo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Wo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Wo=null}}else Wo=Go?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){Wo=Go=null,Fo=!1}var qo=[];function Xo(){for(var e=0;e<qo.length;e++)qo[e]._workInProgressVersionPrimary=null;qo.length=0}var Qo=T.ReactCurrentDispatcher,Jo=T.ReactCurrentBatchConfig,$o=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if($o=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Ca:Pa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Qo.current=Da,e=n(r,i)}while(ia)}if(Qo.current=wa,t=null!==ta&&null!==ta.next,$o=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ua(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if(($o&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,ea.lanes|=c,Ws|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,cr(r,t.memoizedState)||(Ha=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Ha=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,qo.push(t))),e)return n(t._source);throw qo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Cs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Qo.current,u=l.useState((function(){return ha(i,t,n)})),c=u[1],f=u[0];u=na;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,m=d.source;d=d.subscribe;var v=ea;return e.memoizedState={refs:h,source:t,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(c(e),e=hl(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Vt(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hl(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=c=Ma.bind(null,ea,e),u.queue=e,u.baseQueue=null,f=ha(i,t,n),u.memoizedState=u.baseState=f),f}function ma(e,t,n){return pa(ua(),e,t,n)}function va(e){var t=la();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Ma.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},la().memoizedState=e}function Ea(){return ua().memoizedState}function Aa(e,t,n,r){var i=la();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function Ta(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function Oa(e,t){return Aa(516,4,e,t)}function Ra(e,t){return Ta(516,4,e,t)}function La(e,t){return Ta(4,2,e,t)}function Sa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ta(4,2,Sa.bind(null,t,e),n)}function Ia(){}function Na(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _a(e,t){var n=Vi();ji(98>n?98:n,(function(){e(!0)})),ji(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Ma(e,t,n){var r=dl(),i=hl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,cr(l,s))return}catch(u){}pl(e,i,r)}}var wa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ca={readContext:ao,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4,2,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=la();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=la();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ma.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:Ia,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return Oa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=_a.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=la();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return va(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:Na,useContext:ao,useEffect:Ra,useImperativeHandle:ba,useLayoutEffect:La,useMemo:xa,useReducer:fa,useRef:Ea,useState:function(){return fa(ca)},useDebugValue:Ia,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return Ra((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[Ea().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Na,useContext:ao,useEffect:Ra,useImperativeHandle:ba,useLayoutEffect:La,useMemo:xa,useReducer:da,useRef:Ea,useState:function(){return da(ca)},useDebugValue:Ia,useDeferredValue:function(e){var t=da(ca),n=t[0],r=t[1];return Ra((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=da(ca)[0];return[Ea().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},ka=T.ReactCurrentOwner,Ha=!1;function Ua(e,t,n,r){t.child=null===e?No(t,null,n,r):Io(t,e.child,n,r)}function Ba(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ha?(t.flags|=1,Ua(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ga(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Wa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=jl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Wa(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ha=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ha=!0)}return Va(e,t,n,r,o)}function Fa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Ol(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ol(t,e),null;t.memoizedState={baseLanes:0},Ol(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ol(t,r);return Ua(e,t,i,n),t.child}function Ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=gi(n)?mi:hi.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ha?(t.flags|=1,Ua(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function za(e,t,n,r,i){if(gi(n)){var o=!0;Ti(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ao(t,n,r),Oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ao(u):u=vi(t,u=gi(n)?mi:hi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&To(t,a,r,u),so=!1;var d=t.memoizedState;a.state=d,po(t,r,a,i),l=t.memoizedState,s!==r||d!==l||pi.current||so?("function"===typeof c&&(go(t,n,c,r),l=t.memoizedState),(s=so||Eo(t,n,s,r,d,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Qi(t.type,s),a.props=u,f=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ao(l):l=vi(t,l=gi(n)?mi:hi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==l)&&To(t,a,r,l),so=!1,d=t.memoizedState,a.state=d,po(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||pi.current||so?("function"===typeof h&&(go(t,n,h,r),p=t.memoizedState),(u=so||Eo(t,n,u,r,d,p,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return ja(e,t,n,r,o,i)}function ja(e,t,n,r,i,o){Ka(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Oi(t,n,!1),os(e,t,o);r=t.stateNode,ka.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):Ua(e,t,s,o),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Za(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),Po(e,t.containerInfo)}var Ya,qa,Xa,Qa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Uo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Uo,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"===typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=ql(t,i,0,null),n=Yl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=jl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=jl(a,s),null!==e?r=jl(e,r):(r=Yl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ua(e,t,r.children,n),0!==(2&(r=Uo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Uo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ws|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Do(),ci(pi),ci(hi),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ho(t);var o=Co(wo.current);if(n=t.type,null!==e&&null!=t.stateNode)qa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Co(_o.current),Zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[$r]=s,n){case"dialog":_r("cancel",r),_r("close",r);break;case"iframe":case"object":case"embed":_r("load",r);break;case"video":case"audio":for(e=0;e<br.length;e++)_r(br[e],r);break;case"source":_r("error",r);break;case"img":case"image":case"link":_r("error",r),_r("load",r);break;case"details":_r("toggle",r);break;case"input":ee(r,s),_r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_r("invalid",r);break;case"textarea":le(r,s),_r("invalid",r)}for(var u in Le(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&_r("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Gr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Jr]=t,e[$r]=r,Ya(e,t),t.stateNode=e,u=Se(n,r),n){case"dialog":_r("cancel",e),_r("close",e),o=r;break;case"iframe":case"object":case"embed":_r("load",e),o=r;break;case"video":case"audio":for(o=0;o<br.length;o++)_r(br[o],e);o=r;break;case"source":_r("error",e),o=r;break;case"img":case"image":case"link":_r("error",e),_r("load",e),o=r;break;case"details":_r("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),_r("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),_r("invalid",e);break;case"textarea":le(e,r),o=se(e,r),_r("invalid",e);break;default:o=r}Le(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?Oe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=f&&"onScroll"===s&&_r("scroll",e):null!=f&&A(e,s,f,u))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Gr)}Kr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Co(wo.current),Co(_o.current),Zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(Uo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Zo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Uo.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Cs||0===(134217727&Ws)&&0===(134217727&Fs)||yl(Cs,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&wr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ci(Uo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)as(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Bo(e))){for(t.flags|=64,as(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Uo,1&Uo.current|2),t.child}e=e.sibling}null!==r.tail&&Ki()>js&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Bo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-r.renderingStartTime>js&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ki(),n.sibling=null,t=Uo.current,fi(Uo,s?1&t|2:1&t),n):null;case 23:case 24:return Rl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ls(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ci(pi),ci(hi),Xo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ho(e),null;case 13:return ci(Uo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Uo),null;case 4:return Do(),null;case 10:return ro(e),null;case 23:case 24:return Rl(),null;default:return null}}function us(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Co(_o.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Gr)}for(f in Le(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var u=o[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(null!=c||null!=u))if("style"===f)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&_r("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Qs=r),cs(0,t)},n}function hs(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cs(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Gl(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Zr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Hl(n,e),kl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ot(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Te("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Es(e,t){if(Li&&"function"===typeof Li.onCommitFiberUnmount)try{Li.onCommitFiberUnmount(Ri,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Hl(t,n);else{r=t;try{i()}catch(o){Gl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Gl(t,o)}break;case 5:ms(t);break;case 4:Ss(e,t)}}function As(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ts(e){return 5===e.tag||3===e.tag||4===e.tag}function Os(e){e:{for(var t=e.return;null!==t;){if(Ts(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ts(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Rs(e,n,t):Ls(e,n,t)}function Rs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Gr));else if(4!==r&&null!==(e=e.child))for(Rs(e,t,n),e=e.sibling;null!==e;)Rs(e,t,n),e=e.sibling}function Ls(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ls(e,t,n),e=e.sibling;null!==e;)Ls(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(Es(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Es(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Oe(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ye(n,l):A(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ot(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=Ki(),ys(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Fl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ns(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var xs=Math.ceil,_s=T.ReactCurrentDispatcher,Ms=T.ReactCurrentOwner,ws=0,Cs=null,Ps=null,Ds=0,ks=0,Hs=ui(0),Us=0,Bs=null,Gs=0,Ws=0,Fs=0,Ks=0,Vs=null,zs=0,js=1/0;function Zs(){js=Ki()+500}var Ys,qs=null,Xs=!1,Qs=null,Js=null,$s=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,al=null,sl=-1,ll=0,ul=0,cl=null,fl=!1;function dl(){return 0!==(48&ws)?Ki():-1!==sl?sl:sl=Ki()}function hl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===ll&&(ll=Gs),0!==Xi.transition){0!==ul&&(ul=null!==Vs?Vs.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&ws)&&98===e?e=Gt(12,ll):e=Gt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<ol)throw ol=0,al=null,Error(a(185));if(null===(e=ml(e,t)))return null;Kt(e,t,n),e===Cs&&(Fs|=t,4===Us&&yl(e,Ds));var r=Vi();1===t?0!==(8&ws)&&0===(48&ws)?El(e):(vl(e,n),0===ws&&(Zs(),Yi())):(0===(4&ws)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),vl(e,n)),Vs=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Vt(s),u=1<<l,c=o[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Ht(u);var f=kt;o[l]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Ut(e,e===Cs?Ds:0),t=kt,0===r)null!==n&&(n!==Hi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Hi&&Ii(n)}15===t?(n=El.bind(null,e),null===Bi?(Bi=[n],Gi=bi(wi,qi)):Bi.push(n),n=Hi):14===t?n=Zi(99,El.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Zi(n,gl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gl(e){if(sl=-1,ul=ll=0,0!==(48&ws))throw Error(a(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=Ut(e,e===Cs?Ds:0);if(0===n)return null;var r=n,i=ws;ws|=16;var o=bl();for(Cs===e&&Ds===r||(Zs(),Ll(e,r));;)try{xl();break}catch(l){Sl(e,l)}if(no(),_s.current=o,ws=i,null!==Ps?r=0:(Cs=null,Ds=0,r=Us),0!==(Gs&Fs))Ll(e,0);else if(0!==r){if(2===r&&(ws|=64,e.hydrate&&(e.hydrate=!1,Zr(e.containerInfo)),0!==(n=Bt(e))&&(r=Il(e,n))),1===r)throw t=Bs,Ll(e,0),yl(e,n),vl(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e);break;case 3:if(yl(e,n),(62914560&n)===n&&10<(r=zs+500-Ki())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){dl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(wl.bind(null,e),r);break}wl(e);break;case 4:if(yl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ki()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xs(n/1960))-n)){e.timeoutHandle=zr(wl.bind(null,e),n);break}wl(e);break;default:throw Error(a(329))}}return vl(e,Ki()),e.callbackNode===t?gl.bind(null,e):null}function yl(e,t){for(t&=~Ks,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function El(e){if(0!==(48&ws))throw Error(a(327));if(Dl(),e===Cs&&0!==(e.expiredLanes&Ds)){var t=Ds,n=Il(e,t);0!==(Gs&Fs)&&(n=Il(e,t=Ut(e,t)))}else n=Il(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(ws|=64,e.hydrate&&(e.hydrate=!1,Zr(e.containerInfo)),0!==(t=Bt(e))&&(n=Il(e,t))),1===n)throw n=Bs,Ll(e,0),yl(e,t),vl(e,Ki()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e),vl(e,Ki()),null}function Al(e,t){var n=ws;ws|=1;try{return e(t)}finally{0===(ws=n)&&(Zs(),Yi())}}function Tl(e,t){var n=ws;ws&=-2,ws|=8;try{return e(t)}finally{0===(ws=n)&&(Zs(),Yi())}}function Ol(e,t){fi(Hs,ks),ks|=t,Gs|=t}function Rl(){ks=Hs.current,ci(Hs)}function Ll(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,jr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Do(),ci(pi),ci(hi),Xo();break;case 5:Ho(r);break;case 4:Do();break;case 13:case 19:ci(Uo);break;case 10:ro(r);break;case 23:case 24:Rl()}n=n.return}Cs=e,Ps=jl(e.current,null),Ds=ks=Gs=t,Us=0,Bs=null,Ks=Fs=Ws=0}function Sl(e,t){for(;;){var n=Ps;try{if(no(),Qo.current=wa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if($o=0,na=ta=ea=null,ia=!1,Ms.current=null,null===n||null===n.return){Us=1,Bs=t,Ps=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Uo.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=d.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var g=new Set;g.add(u),d.updateQueue=g}else v.add(u);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}l=void 0,s=t;var E=o.pingCache;if(null===E?(E=o.pingCache=new fs,l=new Set,E.set(u,l)):void 0===(l=E.get(u))&&(l=new Set,E.set(u,l)),!l.has(s)){l.add(s);var A=Wl.bind(null,o,u,s);u.then(A,A)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((Z(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),l=us(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,ho(d,ds(0,o,t));break e;case 1:o=l;var T=d.type,O=d.stateNode;if(0===(64&d.flags)&&("function"===typeof T.getDerivedStateFromError||null!==O&&"function"===typeof O.componentDidCatch&&(null===Js||!Js.has(O)))){d.flags|=4096,t&=-t,d.lanes|=t,ho(d,hs(d,o,t));break e}}d=d.return}while(null!==d)}Ml(n)}catch(R){t=R,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function bl(){var e=_s.current;return _s.current=wa,null===e?wa:e}function Il(e,t){var n=ws;ws|=16;var r=bl();for(Cs===e&&Ds===t||Ll(e,t);;)try{Nl();break}catch(i){Sl(e,i)}if(no(),ws=n,_s.current=r,null!==Ps)throw Error(a(261));return Cs=null,Ds=0,Us}function Nl(){for(;null!==Ps;)_l(Ps)}function xl(){for(;null!==Ps&&!Ni();)_l(Ps)}function _l(e){var t=Ys(e.alternate,e,ks);e.memoizedProps=e.pendingProps,null===t?Ml(e):Ps=t,Ms.current=null}function Ml(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,ks)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&ks)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ls(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Us&&(Us=5)}function wl(e){var t=Vi();return ji(99,Cl.bind(null,e,t)),null}function Cl(e,t){do{Dl()}while(null!==el);if(0!==(48&ws))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Vt(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Cs&&(Ps=Cs=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ws,ws|=32,Ms.current=null,Wr=qt,gr(s=vr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(b){l=null;break e}var f=0,d=-1,h=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==l||0!==o&&3!==v.nodeType||(d=f+o),v!==u||0!==c&&3!==v.nodeType||(h=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===l&&++p===o&&(d=f),g===u&&++m===c&&(h=f),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}l=-1===d||-1===h?null:{start:d,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;Fr={focusedElem:s,selectionRange:l},qt=!1,cl=null,fl=!1,qs=r;do{try{Pl()}catch(b){if(null===qs)throw Error(a(330));Gl(qs,b),qs=qs.nextEffect}}while(null!==qs);cl=null,qs=r;do{try{for(s=e;null!==qs;){var E=qs.flags;if(16&E&&ye(qs.stateNode,""),128&E){var A=qs.alternate;if(null!==A){var T=A.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(1038&E){case 2:Os(qs),qs.flags&=-3;break;case 6:Os(qs),qs.flags&=-3,bs(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,bs(qs.alternate,qs);break;case 4:bs(qs.alternate,qs);break;case 8:Ss(s,l=qs);var O=l.alternate;As(l),null!==O&&As(O)}qs=qs.nextEffect}}catch(b){if(null===qs)throw Error(a(330));Gl(qs,b),qs=qs.nextEffect}}while(null!==qs);if(T=Fr,A=vr(),E=T.focusedElem,s=T.selectionRange,A!==E&&E&&E.ownerDocument&&mr(E.ownerDocument.documentElement,E)){null!==s&&gr(E)&&(A=s.start,void 0===(T=s.end)&&(T=A),"selectionStart"in E?(E.selectionStart=A,E.selectionEnd=Math.min(T,E.value.length)):(T=(A=E.ownerDocument||document)&&A.defaultView||window).getSelection&&(T=T.getSelection(),l=E.textContent.length,O=Math.min(s.start,l),s=void 0===s.end?O:Math.min(s.end,l),!T.extend&&O>s&&(l=s,s=O,O=l),l=pr(E,O),o=pr(E,s),l&&o&&(1!==T.rangeCount||T.anchorNode!==l.node||T.anchorOffset!==l.offset||T.focusNode!==o.node||T.focusOffset!==o.offset)&&((A=A.createRange()).setStart(l.node,l.offset),T.removeAllRanges(),O>s?(T.addRange(A),T.extend(o.node,o.offset)):(A.setEnd(o.node,o.offset),T.addRange(A))))),A=[];for(T=E;T=T.parentNode;)1===T.nodeType&&A.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof E.focus&&E.focus(),E=0;E<A.length;E++)(T=A[E]).element.scrollLeft=T.left,T.element.scrollTop=T.top}qt=!!Wr,Fr=Wr=null,e.current=n,qs=r;do{try{for(E=e;null!==qs;){var R=qs.flags;if(36&R&&gs(E,qs.alternate,qs),128&R){A=void 0;var L=qs.ref;if(null!==L){var S=qs.stateNode;qs.tag,A=S,"function"===typeof L?L(A):L.current=A}}qs=qs.nextEffect}}catch(b){if(null===qs)throw Error(a(330));Gl(qs,b),qs=qs.nextEffect}}while(null!==qs);qs=null,Ui(),ws=i}else e.current=n;if($s)$s=!1,el=e,tl=t;else for(qs=r;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((R=qs).sibling=null,R.stateNode=null),qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===al?ol++:(ol=0,al=e):ol=0,n=n.stateNode,Li&&"function"===typeof Li.onCommitFiberRoot)try{Li.onCommitFiberRoot(Ri,n,void 0,64===(64&n.current.flags))}catch(b){}if(vl(e,Ki()),Xs)throw Xs=!1,e=Qs,Qs=null,e;return 0!==(8&ws)||Yi(),null}function Pl(){for(;null!==qs;){var e=qs.alternate;fl||null===cl||(0!==(8&qs.flags)?et(qs,cl)&&(fl=!0):13===qs.tag&&Ns(e,qs)&&et(qs,cl)&&(fl=!0));var t=qs.flags;0!==(256&t)&&vs(e,qs),0===(512&t)||$s||($s=!0,Zi(97,(function(){return Dl(),null}))),qs=qs.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,ji(e,Ul)}return!1}function kl(e,t){nl.push(t,e),$s||($s=!0,Zi(97,(function(){return Dl(),null})))}function Hl(e,t){rl.push(t,e),$s||($s=!0,Zi(97,(function(){return Dl(),null})))}function Ul(){if(null===el)return!1;var e=el;if(el=null,0!==(48&ws))throw Error(a(331));var t=ws;ws|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));Gl(o,u)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(a(330));Gl(o,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return ws=t,Yi(),!0}function Bl(e,t,n){fo(e,t=ds(0,t=us(n,t),1)),t=dl(),null!==(e=ml(e,1))&&(Kt(e,1,t),vl(e,t))}function Gl(e,t){if(3===e.tag)Bl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=hs(n,e=us(t,e),1);if(fo(n,i),i=dl(),null!==(n=ml(n,1)))Kt(n,1,i),vl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Wl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ds&n)===n&&(4===Us||3===Us&&(62914560&Ds)===Ds&&500>Ki()-zs?Ll(e,0):Ks|=n),vl(e,t)}function Fl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===ll&&(ll=Gs),0===(t=Wt(62914560&~ll))&&(t=4194304))),n=dl(),null!==(e=ml(e,t))&&(Kt(e,t,n),vl(e,n))}function Kl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,n,r){return new Kl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)zl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case L:return Yl(n.children,i,o,t);case k:s=8,i|=16;break;case S:s=8,i|=1;break;case b:return(e=Vl(12,n,t,8|i)).elementType=b,e.type=b,e.lanes=o,e;case _:return(e=Vl(13,n,t,i)).type=_,e.elementType=_,e.lanes=o,e;case M:return(e=Vl(19,n,t,i)).elementType=M,e.lanes=o,e;case H:return ql(n,i,o,t);case U:return(e=Vl(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case N:s=9;break e;case x:s=11;break e;case w:s=14;break e;case C:s=16,r=null;break e;case P:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Vl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yl(e,t,n,r){return(e=Vl(7,e,r,t)).lanes=n,e}function ql(e,t,n,r){return(e=Vl(23,e,r,t)).elementType=H,e.lanes=n,e}function Xl(e,t,n){return(e=Vl(6,e,null,t)).lanes=n,e}function Ql(e,t,n){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function $l(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:R,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,r){var i=t.current,o=dl(),s=hl(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=Ai(n,u,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pl(i,s,o),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jl(e,t,null!=n&&!0===n.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[ei]=n.current,wr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tu(a);s.call(e)}}eu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tu(a);l.call(e)}}Tl((function(){eu(t,a,e,i)}))}return tu(a)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ou(t))throw Error(a(200));return $l(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ha=!0;else{if(0===(n&r)){switch(Ha=!1,t.tag){case 3:Za(t),Yo();break;case 5:ko(t);break;case 1:gi(t.type)&&Ti(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fi(Uo,1&Uo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(Uo,1&Uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Uo,Uo.current),r)break;return null;case 23:case 24:return t.lanes=0,Fa(e,t,n)}return os(e,t,n)}Ha=0!==(16384&e.flags)}else Ha=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;Ti(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,Oo(t,r,e,n),t=ja(null,t,r,!0,o,n)}else t.tag=0,Ua(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return zl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===w)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=Ba(null,t,i,e,n);break e;case 14:t=Ga(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Wo=Yr(t.stateNode.containerInfo.firstChild),Go=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],qo.push(o);for(n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ua(e,t,r,n),Yo();t=t.child}return t;case 5:return ko(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),Ka(e,t),Ua(e,t,s,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Ja(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Ua(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Ua(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ua(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(fi(Ji,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=cr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=co(-1,n&-n)).tag=2,fo(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),io(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ua(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ua(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ga(e,t,i,o=Qi(i.type,o),r,n);case 15:return Wa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,Ti(t)):e=!1,oo(t,n),Ao(t,r,i),Oo(t,r,i,n),ja(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Fa(e,t,n)}throw Error(a(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pl(e,4,dl()),ru(e,4))},nt=function(e){13===e.tag&&(pl(e,67108864,dl()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=dl(),n=hl(e);pl(e,n,t),ru(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Q(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ce=Al,Pe=function(e,t,n,r,i){var o=ws;ws|=4;try{return ji(98,e.bind(null,t,n,r,i))}finally{0===(ws=o)&&(Zs(),Yi())}},De=function(){0===(49&ws)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vl(e,Ki())}))}Yi()}(),Dl())},ke=function(e,t){var n=ws;ws|=2;try{return e(t)}finally{0===(ws=n)&&(Zs(),Yi())}};var lu={Events:[ri,ii,oi,Me,we,Dl,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{Ri=fu.inject(cu),Li=fu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ws;if(0!==(48&n))return e(t);ws|=1;try{if(e)return ji(99,e.bind(null,t))}finally{ws=n,Yi()}},t.hydrate=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!0,n)},t.render=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(Tl((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=Al,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,n,!1,r)},t.version="17.0.2"},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},11372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,u=60112,c=60113,f=60120,d=60115,h=60116,p=60121,m=60122,v=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var E=Symbol.for;n=E("react.element"),r=E("react.portal"),i=E("react.fragment"),o=E("react.strict_mode"),a=E("react.profiler"),s=E("react.provider"),l=E("react.context"),u=E("react.forward_ref"),c=E("react.suspense"),f=E("react.suspense_list"),d=E("react.memo"),h=E("react.lazy"),p=E("react.block"),m=E("react.server.block"),v=E("react.fundamental"),g=E("react.debug_trace_mode"),y=E("react.legacy_hidden")}function A(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case f:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case d:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===a||e===g||e===o||e===c||e===f||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===d||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===v||e.$$typeof===p||e[0]===m)},t.typeOf=A},57441:function(e,t,n){"use strict";e.exports=n(11372)},23688:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return a}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},17719:function(e,t,n){"use strict";var r=n(90474),i=n(72791),o=n(54164);function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var l=a(r),u=s(i),c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};function h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var p="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};var m=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},v="object"==typeof p&&p&&p.Object===Object&&p,g="object"==typeof self&&self&&self.Object===Object&&self,y=v||g||Function("return this")(),E=y,A=function(){return E.Date.now()},T=/\s/;var O=function(e){for(var t=e.length;t--&&T.test(e.charAt(t)););return t},R=/^\s+/;var L=function(e){return e?e.slice(0,O(e)+1).replace(R,""):e},S=y.Symbol,b=S,I=Object.prototype,N=I.hasOwnProperty,x=I.toString,_=b?b.toStringTag:void 0;var M=function(e){var t=N.call(e,_),n=e[_];try{e[_]=void 0;var r=!0}catch(o){}var i=x.call(e);return r&&(t?e[_]=n:delete e[_]),i},w=Object.prototype.toString;var C=M,P=function(e){return w.call(e)},D=S?S.toStringTag:void 0;var k=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":D&&D in Object(e)?C(e):P(e)},H=function(e){return null!=e&&"object"==typeof e};var U=L,B=m,G=function(e){return"symbol"==typeof e||H(e)&&"[object Symbol]"==k(e)},W=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,K=/^0o[0-7]+$/i,V=parseInt;var z=m,j=A,Z=function(e){if("number"==typeof e)return e;if(G(e))return NaN;if(B(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=B(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=U(e);var n=F.test(e);return n||K.test(e)?V(e.slice(2),n?2:8):W.test(e)?NaN:+e},Y=Math.max,q=Math.min;var X=function(e,t,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function p(e){return u=e,s=setTimeout(v,t),c?h(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-u>=o}function v(){var e=j();if(m(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-l);return f?q(n,o-(e-u)):n}(e))}function g(e){return s=void 0,d&&r?h(e):(r=i=void 0,a)}function y(){var e=j(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return p(l);if(f)return clearTimeout(s),s=setTimeout(v,t),h(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=Z(t)||0,z(n)&&(c=!!n.leading,o=(f="maxWait"in n)?Y(Z(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:g(j())},y},Q=X,J=m;var $=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return J(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Q(e,t,{leading:r,maxWait:t,trailing:i})},ee=function(e,t,n,r){switch(t){case"debounce":return X(e,n,r);case"throttle":return $(e,n,r);default:return e}},te=function(e){return"function"===typeof e},ne=function(){return"undefined"===typeof window},re=function(e){return e instanceof Element||e instanceof HTMLDocument},ie=function(e,t,n,r){return function(i){var o=i.width,a=i.height;t((function(t){return t.width===o&&t.height===a||t.width===o&&!r||t.height===a&&!n?t:(e&&te(e)&&e(o,a),{width:o,height:a})}))}},oe=function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!ne()){t&&t.current&&(n.targetRef.current=t.current);var i=n.getElement();i&&(n.observableElement&&n.observableElement===i||(n.observableElement=i,n.resizeObserver.observe(i,r)))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(ne())return null;if(t)return document.querySelector(t);if(r&&re(r))return r;if(n.targetRef&&re(n.targetRef.current))return n.targetRef.current;var i=o.findDOMNode(n);if(!i)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,i=void 0===r||r,o=t.handleHeight,a=void 0===o||o,s=t.onResize;if(i||a){var l=ie(s,n.setState.bind(n),i,a);e.forEach((function(e){var t=e&&e.contentRect||{},r=t.width,i=t.height;!n.skipOnMount&&!ne()&&l({width:r,height:i}),n.skipOnMount=!1}))}},n.getRenderType=function(){var e=n.props,t=e.render,r=e.children;return te(t)?"renderProp":te(r)?"childFunction":i.isValidElement(r)?"child":Array.isArray(r)?"childArray":"parent"};var r=t.skipOnMount,a=t.refreshMode,s=t.refreshRate,u=void 0===s?1e3:s,c=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=r,n.targetRef=i.createRef(),n.observableElement=null,ne()||(n.resizeHandler=ee(n.createResizeHandler,a,u,c),n.resizeObserver=new l.default(n.resizeHandler)),n}return f(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){ne()||(this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,n=t.render,r=t.children,o=t.nodeType,a=void 0===o?"div":o,s=this.state,l={width:s.width,height:s.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return n&&n(l);case"childFunction":return(e=r)(l);case"child":if((e=r).type&&"string"===typeof e.type){var c=h(l,["targetRef"]);return i.cloneElement(e,c)}return i.cloneElement(e,l);case"childArray":return(e=r).map((function(e){return!!e&&i.cloneElement(e,l)}));default:return u.createElement(a,null)}},t}(i.PureComponent);var ae=ne()?i.useEffect:i.useLayoutEffect;t.ZP=oe},62690:function(e,t,n){"use strict";var r=n(95318);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(80019));e.exports=t.default},80019:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},60891:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},59745:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(52007));var r=s(n(62690)),i=s(n(60891)),o=s(n(72791)),a=s(n(55580));n(74987);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&c(e,r),i&&c(e,i),o&&c(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},i.render=function(){var e=l({},this.props);return delete e.classNames,o.default.createElement(a.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);f.defaultProps={classNames:""},f.propTypes={};var d=f;t.default=d,e.exports=t.default},66492:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(52007));var r=a(n(72791)),i=n(54164),o=a(n(42584));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],l=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},55580:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(52007)),i=s(n(72791)),o=s(n(54164)),a=n(23688);n(74987);function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var u="exited";t.EXITED=u;var c="entering";t.ENTERING=c;var f="entered";t.ENTERED=f;var d="exiting";t.EXITING=d;var h=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=u,r.appearStatus=c):i=f:i=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==f&&(t=c):n!==c&&n!==f||(t=d)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:c},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:f},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:f},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function p(){}h.contextTypes={transitionGroup:r.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var m=(0,a.polyfill)(h);t.default=m},42584:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(52007)),i=s(n(72791)),o=n(23688),a=n(46970);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(u(u(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,o.polyfill)(f);t.default=d,e.exports=t.default},25937:function(e,t,n){"use strict";var r=s(n(59745)),i=s(n(66492)),o=s(n(42584)),a=s(n(55580));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},46970:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),l=o(t,s);return Object.keys(l).forEach((function(i){var o=l[i];if((0,r.isValidElement)(o)){var u=i in t,c=i in s,f=t[i],d=(0,r.isValidElement)(f)&&!f.props.in;!c||u&&!d?c||!u||d?c&&u&&(0,r.isValidElement)(f)&&(l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:f.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[i]=(0,r.cloneElement)(o,{in:!1}):l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var r=n(72791);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},74987:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(52007))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},66374:function(e,t,n){"use strict";n(31725);var r=n(72791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},59117:function(e,t,n){"use strict";var r=n(31725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),l=f("react.forward_ref"),t.Suspense=f("react.suspense"),u=f("react.memo"),c=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var E=y.prototype=new g;E.constructor=y,r(E,v.prototype),E.isPureReactComponent=!0;var A={current:null},T=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!O.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:A.current}}function L(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function b(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+b(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),I(a,t,n,"",(function(e){return e}))):null!=a&&(L(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+b(s=e[u],u);l+=I(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=I(s=s.value,t,n,c=r+b(s,u++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var _={current:null};function M(){var e=_.current;if(null===e)throw Error(h(321));return e}var w={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!L(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)T.call(t,c)&&!O.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=L,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.2"},72791:function(e,t,n){"use strict";e.exports=n(59117)},80184:function(e,t,n){"use strict";e.exports=n(66374)},89609:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function T(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case d:case v:case m:case l:return e;default:return t}}case i:return t}}}function O(e){return T(e)===f}t.isFragment=function(e){return T(e)===o}},8493:function(e,t,n){"use strict";e.exports=n(89609)},72692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(40082)),i=n(7905),o=s(n(34849)),a=s(n(94170));function s(e){return e&&e.__esModule?e:{default:e}}var l=/((?:\-[a-z]+\-)?calc)/;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(0,r.default)(e).walk((function(e){if("function"===e.type&&l.test(e.value)){var n=r.default.stringify(e.nodes);if(!(n.indexOf("constant")>=0||n.indexOf("env")>=0)){var s=i.parser.parse(n),u=(0,o.default)(s,t);e.type="word",e.value=(0,a.default)(e.value,u,t)}}}),!0).toString()},e.exports=t.default},78334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(74890),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){switch(e.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return function(e,t,n){t.type===e.type&&(t={type:e.type,value:(0,o.default)(t.value,t.unit,e.unit,n),unit:e.unit});return{left:e,right:t}}(e,t,n);default:return{left:e,right:t}}},e.exports=t.default},34849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flip=u;var r,i=n(78334),o=(r=i)&&r.__esModule?r:{default:r};function a(e,t){return"MathExpression"===e.type?function(e,t){switch(e=function(e,t){var n=(0,o.default)(e.left,e.right,t),r=a(n.left,t),i=a(n.right,t);"MathExpression"===r.type&&"MathExpression"===i.type&&("/"===r.operator&&"*"===i.operator||"-"===r.operator&&"+"===i.operator||"*"===r.operator&&"/"===i.operator||"+"===r.operator&&"-"===i.operator)&&(s(r.right,i.right)?n=(0,o.default)(r.left,i.left,t):s(r.right,i.left)&&(n=(0,o.default)(r.left,i.right,t)),r=a(n.left,t),i=a(n.right,t));return e.left=r,e.right=i,e}(e,t),e.operator){case"+":case"-":return function(e,t){var n=e,r=n.left,i=n.right,o=n.operator;if("CssVariable"===r.type||"CssVariable"===i.type)return e;if(0===i.value)return r;if(0===r.value&&"+"===o)return i;if(0===r.value&&"-"===o)return c(i);r.type===i.type&&l(r.type)&&((e=Object.assign({},r)).value="+"===o?r.value+i.value:r.value-i.value);if(l(r.type)&&("+"===i.operator||"-"===i.operator)&&"MathExpression"===i.type){if(r.type===i.left.type)return(e=Object.assign({},e)).left=a({type:"MathExpression",operator:o,left:r,right:i.left},t),e.right=i.right,e.operator="-"===o?u(i.operator):i.operator,a(e,t);if(r.type===i.right.type)return(e=Object.assign({},e)).left=a({type:"MathExpression",operator:"-"===o?u(i.operator):i.operator,left:r,right:i.right},t),e.right=i.left,a(e,t)}if("MathExpression"===r.type&&("+"===r.operator||"-"===r.operator)&&l(i.type)){if(i.type===r.left.type)return(e=Object.assign({},r)).left=a({type:"MathExpression",operator:o,left:r.left,right:i},t),a(e,t);if(i.type===r.right.type)return e=Object.assign({},r),"-"===r.operator?(e.right=a({type:"MathExpression",operator:"-"===o?"+":"-",left:i,right:r.right},t),e.operator="-"===o?"-":"+"):e.right=a({type:"MathExpression",operator:o,left:r.right,right:i},t),e.right.value<0&&(e.right.value*=-1,e.operator="-"===e.operator?"+":"-"),a(e,t)}return e}(e,t);case"/":return function(e,t){if(!l(e.right.type))return e;if("Value"!==e.right.type)throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(0===e.right.value)throw new Error("Cannot divide by zero");if("MathExpression"===e.left.type)return l(e.left.left.type)&&l(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,a(e.left,t)):e;if(l(e.left.type))return e.left.value/=e.right.value,e.left;return e}(e,t);case"*":return function(e){if("MathExpression"===e.left.type&&"Value"===e.right.type){if(l(e.left.left.type)&&l(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(l(e.left.type)&&"Value"===e.right.type)return e.left.value*=e.right.value,e.left;if("Value"===e.left.type&&"MathExpression"===e.right.type){if(l(e.right.left.type)&&l(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if("Value"===e.left.type&&l(e.right.type))return e.right.value*=e.left.value,e.right}return e}(e)}return e}(e,t):"Calc"===e.type?a(e.value,t):e}function s(e,t){return e.type===t.type&&e.value===t.value}function l(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function u(e){return"+"===e?"-":"+"}function c(e){return l(e.type)?e.value=-e.value:"MathExpression"==e.type&&(e.left=c(e.left),e.right=c(e.right)),e}t.default=a},94170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=a(t,n);return"MathExpression"===t.type&&(r=e+"("+r+")"),r};var r=n(34849),i={"*":0,"/":0,"+":1,"-":1};function o(e,t){if(!1!==t){var n=Math.pow(10,t);return Math.round(e*n)/n}return e}function a(e,t){switch(e.type){case"MathExpression":var n=e.left,s=e.right,l=e.operator,u="";return"MathExpression"===n.type&&i[l]<i[n.operator]?u+="("+a(n,t)+")":u+=a(n,t),u+=" "+e.operator+" ","MathExpression"===s.type&&i[l]<i[s.operator]?u+="("+a(s,t)+")":"MathExpression"===s.type&&"-"===l&&["+","-"].includes(s.operator)?(s.operator=(0,r.flip)(s.operator),u+=a(s,t)):u+=a(s,t),u;case"Value":return o(e.value,t);case"CssVariable":return e.fallback?"var("+e.value+", "+a(e.fallback,t)+")":"var("+e.value+")";case"Calc":return e.prefix?"-"+e.prefix+"-calc("+a(e.value,t)+")":"calc("+a(e.value,t)+")";default:return o(e.value,t)+e.unit}}e.exports=t.default},7905:function(e,t){var n=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}function t(e,t,n){n=n||0;for(var r=0;r<t;r++)this.push(e),e+=n}function n(e,t){for(t+=e=this.length-e;e<t;e++)this.push(this[e])}function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];"function"===typeof i?(n++,i.apply(t,e[n])):t.push(i)}return t}"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonParserError";var i={trace:function(){},JisonParserError:e,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(e){return'"'+e+'"'},getSymbolName:function(e){if(this.terminals_[e])return this.terminals_[e];var t=this.symbols_;for(var n in t)if(t[n]===e)return n;return null},describeSymbol:function(e){if(e!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[e])return this.terminal_descriptions_[e];if(e===this.EOF)return"end of input";var t=this.getSymbolName(e);return t?this.quoteName(t):null},collect_expected_token_set:function(e,t){var n=this.TERROR,r=[],i={};if(!t&&this.state_descriptions_&&this.state_descriptions_[e])return[this.state_descriptions_[e]];for(var o in this.table[e])if((o=+o)!==n){var a=t?o:this.describeSymbol(o);a&&!i[a]&&(r.push(a),i[a]=!0)}return r},productions_:function(e){for(var t=[],n=e.pop,r=e.rule,i=0,o=n.length;i<o;i++)t.push([n[i],r[i]]);return t}({pop:r([29,t,[30,10],31,31,32,32,t,[33,15]]),rule:r([2,t,[3,5],4,7,t,[1,4],2,4,6,t,[1,14],2])}),performAction:function(e,t,n){var r=this.yy;r.parser,r.lexer;switch(e){case 0:case 6:this.$=n[t-1];break;case 1:return this.$=n[t-1],n[t-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:n[t-1],left:n[t-2],right:n[t]};break;case 7:this.$={type:"Calc",value:n[t-1]};break;case 8:this.$={type:"Calc",value:n[t-1],prefix:n[t-5]};break;case 9:case 10:case 11:this.$=n[t];break;case 12:this.$={type:"Value",value:parseFloat(n[t])};break;case 13:this.$={type:"Value",value:-1*parseFloat(n[t])};break;case 14:this.$={type:"CssVariable",value:n[t-1]};break;case 15:this.$={type:"CssVariable",value:n[t-3],fallback:n[t-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(n[t]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(n[t]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(n[t]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(n[t]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(n[t]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(n[t]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(n[t]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(n[t]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(n[t]),unit:"%"};break;case 30:var i=n[t];i.value*=-1,this.$=i}},table:function(e){for(var t=[],n=e.len,r=e.symbol,i=e.type,o=e.state,a=e.mode,s=e.goto,l=0,u=n.length;l<u;l++){for(var c=n[l],f={},d=0;d<c;d++){var h=r.shift();switch(i.shift()){case 2:f[h]=[a.shift(),s.shift()];break;case 0:f[h]=o.shift();break;default:f[h]=[3]}}t.push(f)}return t}({len:r([24,1,5,23,1,18,t,[0,3],1,t,[0,16],t,[23,4],n,[28,3],0,0,16,1,6,6,t,[0,3],5,1,2,n,[37,3],n,[20,3],5,0,0]),symbol:r([4,7,9,11,12,t,[15,19,1],1,1,t,[3,4,1],n,[30,19],n,[29,4],7,4,10,11,n,[22,14],n,[19,3],n,[43,22],n,[23,69],n,[139,4],8,n,[51,24],4,n,[138,15],13,n,[186,5],8,n,[6,6],n,[5,5],9,8,14,n,[159,47],n,[60,10]]),type:r([t,[2,19],t,[0,5],1,t,[2,24],t,[0,4],n,[22,19],n,[43,42],n,[23,70],n,[28,25],n,[45,25],n,[113,54]]),state:r([1,2,8,6,7,30,n,[4,3],33,37,n,[5,3],38,n,[4,3],39,n,[4,3],40,n,[4,3],42,n,[21,4],50,n,[5,3],51,n,[4,3]]),mode:r([t,[1,179],t,[2,3],n,[5,5],n,[6,4],t,[1,57]]),goto:r([5,3,4,24,t,[9,15,1],t,[25,5,1],n,[24,19],31,35,32,34,n,[18,14],36,n,[38,19],n,[19,57],n,[118,4],41,n,[24,19],43,35,n,[16,14],44,t,[2,3],28,29,2,t,[3,3],28,29,3,n,[53,4],t,[45,5,1],n,[100,42],52,n,[5,4],53])}),defaultActions:function(e){for(var t={},n=e.idx,r=e.goto,i=0,o=n.length;i<o;i++){t[n[i]]=r[i]}return t}({idx:r([6,7,8,t,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:r([9,10,11,t,[16,14,1],12,1,30,13,t,[4,4,1],14,15,8])}),parseError:function(e,t,n){if(!t.recoverable)throw"function"===typeof this.trace&&this.trace(e),n||(n=this.JisonParserError),new n(e,t);"function"===typeof this.trace&&this.trace(e),t.destroy()},parse:function(e){var t,n=this,r=new Array(128),i=new Array(128),o=new Array(128),a=this.table,s=0,l=0,u=(this.TERROR,this.EOF),c=(this.options.errorRecoveryTokenDiscardCount,[0,54]);t=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var f={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};function d(){var e=t.fastLex();return"number"!==typeof e&&(e=n.symbols_[e]||e),e||u}"function"!==typeof assert||assert,this.yyGetSharedState=function(){return f},function(e,t){for(var n in t)"undefined"===typeof e[n]&&Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}(f,this.yy),f.lexer=t,f.parser=this,"function"===typeof f.parseError?this.parseError=function(e,t,n){return n||(n=this.JisonParserError),f.parseError.call(this,e,t,n)}:this.parseError=this.originalParseError,"function"===typeof f.quoteName?this.quoteName=function(e){return f.quoteName.call(this,e)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(e,n,a){var l,u;n&&((f.post_parse||this.post_parse)&&(u=this.constructParseErrorInfo(null,null,null,!1)),f.post_parse&&"undefined"!==typeof(l=f.post_parse.call(this,f,e,u))&&(e=l),this.post_parse&&"undefined"!==typeof(l=this.post_parse.call(this,f,e,u))&&(e=l),u&&u.destroy&&u.destroy());if(this.__reentrant_call_depth>1)return e;if(t.cleanupAfterLex&&t.cleanupAfterLex(a),f&&(f.lexer=void 0,f.parser=void 0,t.yy===f&&(t.yy=void 0)),f=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,r.length=0,i.length=0,o.length=0,s=0,!a){for(var c=this.__error_infos.length-1;c>=0;c--){var d=this.__error_infos[c];d&&"function"===typeof d.destroy&&d.destroy()}this.__error_infos.length=0}return e},this.constructParseErrorInfo=function(e,n,a,u){var c={errStr:e,exception:n,text:t.match,value:t.yytext,token:this.describeSymbol(l)||l,token_id:l,line:t.yylineno,expected:a,recoverable:u,state:h,action:p,new_state:A,symbol_stack:r,state_stack:i,value_stack:o,stack_pointer:s,yy:f,lexer:t,parser:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"===typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(c),c};var h,p,m,v,g,y,E,A,T=function(){var e=t.lex();return"number"!==typeof e&&(e=n.symbols_[e]||e),e||u},O={$:!0,_$:void 0,yy:f},R=!1;try{if(this.__reentrant_call_depth++,t.setInput(e,f),"function"===typeof t.canIUse)t.canIUse().fastLex&&(T=d);for(o[s]=null,i[s]=0,r[s]=0,++s,this.pre_parse&&this.pre_parse.call(this,f),f.pre_parse&&f.pre_parse.call(this,f),A=i[s-1];;){if(h=A,this.defaultActions[h])p=2,A=this.defaultActions[h];else if(l||(l=T()),v=a[h]&&a[h][l]||c,A=v[1],!(p=v[0])){var L,S=this.describeSymbol(l)||l,b=this.collect_expected_token_set(h);L="number"===typeof t.yylineno?"Parse error on line "+(t.yylineno+1)+": ":"Parse error: ","function"===typeof t.showPosition&&(L+="\n"+t.showPosition(69,10)+"\n"),b.length?L+="Expecting "+b.join(", ")+", got unexpected "+S:L+="Unexpected "+S,g=this.constructParseErrorInfo(L,null,b,!1),"undefined"!==typeof(m=this.parseError(g.errStr,g,this.JisonParserError))&&(R=m);break}switch(p){default:if(p instanceof Array){g=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+h+", token: "+l,null,null,!1),"undefined"!==typeof(m=this.parseError(g.errStr,g,this.JisonParserError))&&(R=m);break}g=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),"undefined"!==typeof(m=this.parseError(g.errStr,g,this.JisonParserError))&&(R=m);break;case 1:r[s]=l,o[s]=t.yytext,i[s]=A,++s,l=0;continue;case 2:if(y=(E=this.productions_[A-1])[1],"undefined"!==typeof(m=this.performAction.call(O,A,s-1,o))){R=m;break}s-=y;var I=E[0];r[s]=I,o[s]=O.$,A=a[i[s-1]][I],i[s]=A,++s;continue;case 3:-2!==s&&(R=!0,s--,"undefined"!==typeof o[s]&&(R=o[s]))}break}}catch(N){if(N instanceof this.JisonParserError)throw N;if(t&&"function"===typeof t.JisonLexerError&&N instanceof t.JisonLexerError)throw N;g=this.constructParseErrorInfo("Parsing aborted due to exception.",N,null,!1),R=!1,"undefined"!==typeof(m=this.parseError(g.errStr,g,this.JisonParserError))&&(R=m)}finally{R=this.cleanupAfterParse(R,!0,!0),this.__reentrant_call_depth--}return R}};i.originalParseError=i.parseError,i.originalQuoteName=i.quoteName;var o=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}"function"===typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonLexerError";var t={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(e,t,n){if(e=""+e,void 0==n&&(n=!(e.indexOf("\n")>0&&e.indexOf("^")>0)),this.yylloc&&n)if("function"===typeof this.prettyPrintRange){this.prettyPrintRange(this.yylloc);/\n\s*$/.test(e)||(e+="\n"),e+="\n  Erroneous area:\n"+this.prettyPrintRange(this.yylloc)}else if("function"===typeof this.showPosition){var r=this.showPosition();r&&(e.length&&"\n"!==e[e.length-1]&&"\n"!==r[0]?e+="\n"+r:e+=r)}var i={errStr:e,recoverable:!!t,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"===typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(i),i},parseError:function(e,t,n){if(n||(n=this.JisonLexerError),this.yy){if(this.yy.parser&&"function"===typeof this.yy.parser.parseError)return this.yy.parser.parseError.call(this,e,t,n)||this.ERROR;if("function"===typeof this.yy.parseError)return this.yy.parseError.call(this,e,t,n)||this.ERROR}throw new n(e,t)},yyerror:function(e){var t="";this.yylloc&&(t=" on line "+(this.yylineno+1));var n=this.constructLexErrorInfo("Lexical error"+t+": "+e,this.options.lexerErrorsAreRecoverable),r=Array.prototype.slice.call(arguments,1);return r.length&&(n.extra_error_attributes=r),this.parseError(n.errStr,n,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(e){if(this.setInput("",{}),!e){for(var t=this.__error_infos.length-1;t>=0;t--){var n=this.__error_infos[t];n&&"function"===typeof n.destroy&&n.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var e=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:e,last_line:this.yylineno+1,last_column:e,range:[this.offset,this.offset]}},setInput:function(e,t){if(this.yy=t||this.yy||{},!this.__decompressed){for(var n=this.rules,r=0,i=n.length;r<i;r++){"number"===typeof(d=n[r])&&(n[r]=n[d])}var o=this.conditions;for(var a in o){var s=o[a],l=s.rules,u=(i=l.length,new Array(i+1)),c=new Array(i+1);for(r=0;r<i;r++){var f=l[r],d=n[f];u[r+1]=d,c[r+1]=f}s.rules=c,s.__rule_regexes=u,s.__rule_count=i}this.__decompressed=!0}return this._input=e||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(e,t){var n=e.call(this,this._input,t);return"string"!==typeof n?n&&(this._input=""+n):this._input=n,this},input:function(){if(!this._input)return null;var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=1,n=!1;if("\n"===e)n=!0;else if("\r"===e){n=!0;var r=this._input[1];"\n"===r&&(t++,e+=r,this.yytext+=r,this.yyleng++,this.offset++,this.match+=r,this.matched+=r,this.yylloc.range[1]++)}return n?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(t),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);if(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.yyleng=this.yytext.length,this.offset-=t,this.match=this.match.substr(0,this.match.length-t),this.matched=this.matched.substr(0,this.matched.length-t),n.length>1){this.yylineno-=n.length-1,this.yylloc.last_line=this.yylineno+1;var r=this.match,i=r.split(/(?:\r\n?|\n)/g);1===i.length&&(i=(r=this.matched).split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=i[i.length-1].length}else this.yylloc.last_column-=t;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var e="";this.yylloc&&(e=" on line "+(this.yylineno+1));var t=this.constructLexErrorInfo("Lexical error"+e+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(t.errStr,t,this.JisonLexerError)||this.ERROR}return this},less:function(e){return this.unput(this.match.slice(e))},pastInput:function(e,t){var n=this.matched.substring(0,this.matched.length-this.match.length);e<0?e=n.length:e||(e=20),t<0?t=n.length:t||(t=1);var r=(n=n.substr(2*-e-2)).replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(-t)).join("\n")).length>e&&(n="..."+n.substr(-e)),n},upcomingInput:function(e,t){var n=this.match;e<0?e=n.length+this._input.length:e||(e=20),t<0?t=e:t||(t=1),n.length<2*e+2&&(n+=this._input.substring(0,2*e+2));var r=n.replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(0,t)).join("\n")).length>e&&(n=n.substring(0,e)+"..."),n},showPosition:function(e,t){var n=this.pastInput(e).replace(/\s/g," "),r=new Array(n.length+1).join("-");return n+this.upcomingInput(t).replace(/\s/g," ")+"\n"+r+"^"},deriveLocationInfo:function(e,t,n,r){var i={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return e&&(i.first_line=0|e.first_line,i.last_line=0|e.last_line,i.first_column=0|e.first_column,i.last_column=0|e.last_column,e.range&&(i.range[0]=0|e.range[0],i.range[1]=0|e.range[1])),(i.first_line<=0||i.last_line<i.first_line)&&(i.first_line<=0&&t&&(i.first_line=0|t.last_line,i.first_column=0|t.last_column,t.range&&(i.range[0]=0|e.range[1])),(i.last_line<=0||i.last_line<i.first_line)&&n&&(i.last_line=0|n.first_line,i.last_column=0|n.first_column,n.range&&(i.range[1]=0|e.range[0])),i.first_line<=0&&r&&(i.last_line<=0||r.last_line<=i.last_line)&&(i.first_line=0|r.first_line,i.first_column=0|r.first_column,r.range&&(i.range[0]=0|r.range[0])),i.last_line<=0&&r&&(i.first_line<=0||r.first_line>=i.first_line)&&(i.last_line=0|r.last_line,i.last_column=0|r.last_column,r.range&&(i.range[1]=0|r.range[1]))),i.last_line<=0&&(i.first_line<=0?(i.first_line=this.yylloc.first_line,i.last_line=this.yylloc.last_line,i.first_column=this.yylloc.first_column,i.last_column=this.yylloc.last_column,i.range[0]=this.yylloc.range[0],i.range[1]=this.yylloc.range[1]):(i.last_line=this.yylloc.last_line,i.last_column=this.yylloc.last_column,i.range[1]=this.yylloc.range[1])),i.first_line<=0&&(i.first_line=i.last_line,i.first_column=0,i.range[1]=i.range[0]),i.first_column<0&&(i.first_column=0),i.last_column<0&&(i.last_column=i.first_column>0?i.first_column:80),i},prettyPrintRange:function(e,t,n){e=this.deriveLocationInfo(e,t,n);var r=(this.matched+this._input).split("\n"),i=Math.max(1,t?t.first_line:e.first_line-3),o=Math.max(1,n?n.last_line:e.last_line+1),a=1+Math.log10(1|o)|0,s=new Array(a).join(" "),l=[],u=r.slice(i-1,o+1).map((function(t,n){var r=n+i,o=(s+r).substr(-a)+": "+t,u=new Array(a+1).join("^"),c=3,f=0;(r===e.first_line?(c+=e.first_column,f=Math.max(2,(r===e.last_line?e.last_column:t.length)-e.first_column+1)):r===e.last_line?f=Math.max(2,e.last_column+1):r>e.first_line&&r<e.last_line&&(f=Math.max(2,t.length+1)),f)&&(o+="\n"+u+new Array(c).join(".")+new Array(f).join("^"),t.trim().length>0&&l.push(n));return o=o.replace(/\t/g," ")}));if(l.length>4){var c=l[1]+1,f=l[l.length-2]-1,d=new Array(a+1).join(" ")+"  (...continued...)";d+="\n"+new Array(a+1).join("-")+"  (---------------)",u.splice(c,f-c+1,d)}return u.join("\n")},describeYYLLOC:function(e,t){var n,r=e.first_line,i=e.last_line,o=e.first_column,a=e.last_column;if(0===i-r?(n="line "+r+", ",n+=a-o<=1?"column "+o:"columns "+o+" .. "+a):n="lines "+r+"(column "+o+") .. "+i+"(column "+a+")",e.range&&t){var s=e.range[0],l=e.range[1]-1;n+=l<=s?" {String Offset: "+s+"}":" {String Offset range: "+s+" .. "+l+"}"}return n},test_match:function(e,t){var n,r,i,o,a;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),a=(o=e[0]).length,(r=o.split(/(?:\r\n?|\n)/g)).length>1?(this.yylineno+=r.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=r[r.length-1].length):this.yylloc.last_column+=a,this.yytext+=o,this.match+=o,this.matched+=o,this.matches=e,this.yyleng=this.yytext.length,this.yylloc.range[1]+=a,this.offset+=a,this._more=!1,this._backtrack=!1,this._input=this._input.slice(a),n=this.performAction.call(this,this.yy,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in i)this[s]=i[s];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(n=this._signaled_error_token,this._signaled_error_token=!1,n)},next:function(){if(this.done)return this.clear(),this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||this.clear();var i=this.__currentRuleSet__;if(!i&&(!(i=this.__currentRuleSet__=this._currentRules())||!i.rules)){var o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));var a=this.constructLexErrorInfo("Internal lexer engine error"+o+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(a.errStr,a,this.JisonLexerError)||this.ERROR}for(var s=i.rules,l=i.__rule_regexes,u=i.__rule_count,c=1;c<=u;c++)if((n=this._input.match(l[c]))&&(!t||n[0].length>t[0].length)){if(t=n,r=c,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,s[c])))return e;if(this._backtrack){t=void 0;continue}return!1}if(!this.options.flex)break}if(t)return!1!==(e=this.test_match(t,s[r]))&&e;if(this._input){o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));a=this.constructLexErrorInfo("Lexical error"+o+": Unrecognized text.",this.options.lexerErrorsAreRecoverable);var f=this._input,d=this.topState(),h=this.conditionStack.length;return(e=this.parseError(a.errStr,a,this.JisonLexerError)||this.ERROR)===this.ERROR&&(this.matches||f!==this._input||d!==this.topState()||h!==this.conditionStack.length||this.input()),e}return this.done=!0,this.clear(),this.EOF},lex:function(){var e;for("function"===typeof this.pre_lex&&(e=this.pre_lex.call(this,0)),"function"===typeof this.options.pre_lex&&(e=this.options.pre_lex.call(this,e)||e),this.yy&&"function"===typeof this.yy.pre_lex&&(e=this.yy.pre_lex.call(this,e)||e);!e;)e=this.next();return this.yy&&"function"===typeof this.yy.post_lex&&(e=this.yy.post_lex.call(this,e)||e),"function"===typeof this.options.post_lex&&(e=this.options.post_lex.call(this,e)||e),"function"===typeof this.post_lex&&(e=this.post_lex.call(this,e)||e),e},fastLex:function(){for(var e;!e;)e=this.next();return e},canIUse:function(){return{fastLex:!("function"===typeof this.pre_lex||"function"===typeof this.options.pre_lex||this.yy&&"function"===typeof this.yy.pre_lex||this.yy&&"function"===typeof this.yy.post_lex||"function"===typeof this.options.post_lex||"function"===typeof this.post_lex)&&"function"===typeof this.fastLex}},begin:function(e){return this.pushState(e)},pushState:function(e){return this.conditionStack.push(e),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:e,performAction:function(e,t,n){if(1!==t)return this.simpleCaseActionClusters[t]},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return t}();function a(){this.yy={}}return i.lexer=o,a.prototype=i,i.Parser=a,new a}();t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)}},40082:function(e,t,n){var r=n(83257),i=n(42993),o=n(19581);function a(e){return this instanceof a?(this.nodes=r(e),this):new a(e)}a.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},a.prototype.walk=function(e,t){return i(this.nodes,e,t),this},a.unit=n(54119),a.walk=i,a.stringify=o,e.exports=a},83257:function(e){var t="(".charCodeAt(0),n=")".charCodeAt(0),r="'".charCodeAt(0),i='"'.charCodeAt(0),o="\\".charCodeAt(0),a="/".charCodeAt(0),s=",".charCodeAt(0),l=":".charCodeAt(0),u="*".charCodeAt(0);e.exports=function(e){for(var c,f,d,h,p,m,v,g,y=[],E=e,A=0,T=E.charCodeAt(A),O=E.length,R=[{nodes:y}],L=0,S="",b="",I="";A<O;)if(T<=32){c=A;do{c+=1,T=E.charCodeAt(c)}while(T<=32);h=E.slice(A,c),d=y[y.length-1],T===n&&L?I=h:d&&"div"===d.type?d.after=h:T===s||T===l||T===a&&E.charCodeAt(c+1)!==u?b=h:y.push({type:"space",sourceIndex:A,value:h}),A=c}else if(T===r||T===i){c=A,h={type:"string",sourceIndex:A,quote:f=T===r?"'":'"'};do{if(p=!1,~(c=E.indexOf(f,c+1)))for(m=c;E.charCodeAt(m-1)===o;)m-=1,p=!p;else c=(E+=f).length-1,h.unclosed=!0}while(p);h.value=E.slice(A+1,c),y.push(h),A=c+1,T=E.charCodeAt(A)}else if(T===a&&E.charCodeAt(A+1)===u)h={type:"comment",sourceIndex:A},-1===(c=E.indexOf("*/",A))&&(h.unclosed=!0,c=E.length),h.value=E.slice(A+2,c),y.push(h),A=c+2,T=E.charCodeAt(A);else if(T===a||T===s||T===l)h=E[A],y.push({type:"div",sourceIndex:A-b.length,value:h,before:b,after:""}),b="",A+=1,T=E.charCodeAt(A);else if(t===T){c=A;do{c+=1,T=E.charCodeAt(c)}while(T<=32);if(h={type:"function",sourceIndex:A-S.length,value:S,before:E.slice(A+1,c)},A=c,"url"===S&&T!==r&&T!==i){c-=1;do{if(p=!1,~(c=E.indexOf(")",c+1)))for(m=c;E.charCodeAt(m-1)===o;)m-=1,p=!p;else c=(E+=")").length-1,h.unclosed=!0}while(p);v=c;do{v-=1,T=E.charCodeAt(v)}while(T<=32);h.nodes=A!==v+1?[{type:"word",sourceIndex:A,value:E.slice(A,v+1)}]:[],h.unclosed&&v+1!==c?(h.after="",h.nodes.push({type:"space",sourceIndex:v+1,value:E.slice(v+1,c)})):h.after=E.slice(v+1,c),A=c+1,T=E.charCodeAt(A),y.push(h)}else L+=1,h.after="",y.push(h),R.push(h),y=h.nodes=[],g=h;S=""}else if(n===T&&L)A+=1,T=E.charCodeAt(A),g.after=I,I="",L-=1,R.pop(),y=(g=R[L]).nodes;else{c=A;do{T===o&&(c+=1),c+=1,T=E.charCodeAt(c)}while(c<O&&!(T<=32||T===r||T===i||T===s||T===l||T===a||T===t||T===n&&L));h=E.slice(A,c),t===T?S=h:y.push({type:"word",sourceIndex:A,value:h}),A=c}for(A=R.length-1;A;A-=1)R[A].unclosed=!0;return R[0].nodes}},19581:function(e){function t(e,t){var r,i,o=e.type,a=e.value;return t&&void 0!==(i=t(e))?i:"word"===o||"space"===o?a:"string"===o?(r=e.quote||"")+a+(e.unclosed?"":r):"comment"===o?"/*"+a+(e.unclosed?"":"*/"):"div"===o?(e.before||"")+a+(e.after||""):Array.isArray(e.nodes)?(r=n(e.nodes),"function"!==o?r:a+"("+(e.before||"")+r+(e.after||"")+(e.unclosed?"":")")):a}function n(e,n){var r,i;if(Array.isArray(e)){for(r="",i=e.length-1;~i;i-=1)r=t(e[i],n)+r;return r}return t(e,n)}e.exports=n},54119:function(e){var t="-".charCodeAt(0),n="+".charCodeAt(0),r=".".charCodeAt(0),i="e".charCodeAt(0),o="E".charCodeAt(0);e.exports=function(e){for(var a,s=0,l=e.length,u=!1,c=-1,f=!1;s<l;){if((a=e.charCodeAt(s))>=48&&a<=57)f=!0;else if(a===i||a===o){if(c>-1)break;c=s}else if(a===r){if(u)break;u=!0}else{if(a!==n&&a!==t)break;if(0!==s)break}s+=1}return c+1===s&&s--,!!f&&{number:e.slice(0,s),unit:e.slice(s)}}},42993:function(e){e.exports=function e(t,n,r){var i,o,a,s;for(i=0,o=t.length;i<o;i+=1)a=t[i],r||(s=n(a,i,t)),!1!==s&&"function"===a.type&&Array.isArray(a.nodes)&&e(a.nodes,n,r),r&&n(a,i,t)}},19727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(e,t,n){var r=c;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?h:f,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=l;var c="suspendedStart",f="suspendedYield",d="executing",h="completed",p={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var E=Object.getPrototypeOf,A=E&&E(E(N([])));A&&A!==n&&r.call(A,o)&&(y=A);var T=g.prototype=m.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function R(e,t){function n(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return v.prototype=T.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},O(R.prototype),R.prototype[a]=function(){return this},e.AsyncIterator=R,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new R(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(T),T[s]="Generator",T[o]=function(){return this},T.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(b),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}},90474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&l()}function s(){a(o)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=y(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=h(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=h(r.width),l=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=p(r,"left","right")+o),Math.round(l+a)!==n&&(l-=p(r,"top","bottom")+a)),!function(e){return e===f(e).document.documentElement}(e)){var u=Math.round(s+o)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return y(i.left,i.top,s,l)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return i?v(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):d}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var E=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),A=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return c(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);c(this,{target:e,contentRect:n})},T=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new A(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!==typeof WeakMap?new WeakMap:new r,R=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new T(t,n,this);O.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){R.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}));var L="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:R;t.default=L},36813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,f=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,E=0;t.unstable_shouldYield=function(){return t.unstable_now()>=E},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var A=new MessageChannel,T=A.port2;A.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();E=e+y;try{v(!0,e)?T.postMessage(null):(m=!1,v=null)}catch(n){throw T.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,T.postMessage(null))},r=function(e,n){g=d((function(){e(t.unstable_now())}),n)},i=function(){h(g),g=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function R(e){return void 0===(e=e[0])?null:e}function L(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>S(a,n))void 0!==l&&0>S(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var b=[],I=[],N=1,x=null,_=3,M=!1,w=!1,C=!1;function P(e){for(var t=R(I);null!==t;){if(null===t.callback)L(I);else{if(!(t.startTime<=e))break;L(I),t.sortIndex=t.expirationTime,O(b,t)}t=R(I)}}function D(e){if(C=!1,P(e),!w)if(null!==R(b))w=!0,n(k);else{var t=R(I);null!==t&&r(D,t.startTime-e)}}function k(e,n){w=!1,C&&(C=!1,i()),M=!0;var o=_;try{for(P(n),x=R(b);null!==x&&(!(x.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=x.callback;if("function"===typeof a){x.callback=null,_=x.priorityLevel;var s=a(x.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?x.callback=s:x===R(b)&&L(b),P(n)}else L(b);x=R(b)}if(null!==x)var l=!0;else{var u=R(I);null!==u&&r(D,u.startTime-n),l=!1}return l}finally{x=null,_=o,M=!1}}var H=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){w||M||(w=!0,n(k))},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return R(b)},t.unstable_next=function(e){switch(_){case 1:case 2:case 3:var t=3;break;default:t=_}var n=_;_=t;try{return e()}finally{_=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=_;_=e;try{return t()}finally{_=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,O(I,e),null===R(b)&&e===R(I)&&(C?i():C=!0,r(D,a-s))):(e.sortIndex=l,O(b,e),w||M||(w=!0,n(k))),e},t.unstable_wrapCallback=function(e){var t=_;return function(){var n=_;_=t;try{return e.apply(this,arguments)}finally{_=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},79613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],f=t[u];if(!1===(i=n?n.call(r,c,f,u):void 0)||void 0===i&&c!==f)return!1}return!0}},34585:function(e,t,n){"use strict";n.r(t),n.d(t,{ACESFilmicToneMapping:function(){return Te},AddEquation:function(){return V},AddOperation:function(){return ve},AdditiveAnimationBlendMode:function(){return dn},AdditiveBlending:function(){return G},AlphaFormat:function(){return tt},AlwaysDepth:function(){return se},AlwaysStencilFunc:function(){return Kn},AmbientLight:function(){return ed},AmbientLightProbe:function(){return Rd},AnimationClip:function(){return ef},AnimationLoader:function(){return uf},AnimationMixer:function(){return nh},AnimationObjectGroup:function(){return eh},AnimationUtils:function(){return Wc},ArcCurve:function(){return gf},ArrayCamera:function(){return hl},ArrowHelper:function(){return jh},Audio:function(){return Pd},AudioAnalyser:function(){return Gd},AudioContext:function(){return Ad},AudioListener:function(){return Cd},AudioLoader:function(){return Td},AxesHelper:function(){return Zh},AxisHelper:function(){return jp},BackSide:function(){return P},BasicDepthPacking:function(){return Ln},BasicShadowMap:function(){return x},BinaryTextureLoader:function(){return Qp},Bone:function(){return Jl},BooleanKeyframeTrack:function(){return Zc},BoundingBoxHelper:function(){return Zp},Box2:function(){return dh},Box3:function(){return _r},Box3Helper:function(){return Kh},BoxBufferGeometry:function(){return zo},BoxGeometry:function(){return zo},BoxHelper:function(){return Fh},BufferAttribute:function(){return ro},BufferGeometry:function(){return So},BufferGeometryLoader:function(){return ld},ByteType:function(){return Ve},Cache:function(){return nf},Camera:function(){return Xo},CameraHelper:function(){return Hh},CanvasRenderer:function(){return $p},CanvasTexture:function(){return Nu},CatmullRomCurve3:function(){return Rf},CineonToneMapping:function(){return Ae},CircleBufferGeometry:function(){return _u},CircleGeometry:function(){return _u},ClampToEdgeWrapping:function(){return Me},Clock:function(){return Id},Color:function(){return $i},ColorKeyframeTrack:function(){return Yc},CompressedTexture:function(){return Iu},CompressedTextureLoader:function(){return cf},ConeBufferGeometry:function(){return wu},ConeGeometry:function(){return wu},CubeCamera:function(){return $o},CubeReflectionMapping:function(){return Le},CubeRefractionMapping:function(){return Se},CubeTexture:function(){return ea},CubeTextureLoader:function(){return df},CubeUVReflectionMapping:function(){return Ne},CubeUVRefractionMapping:function(){return xe},CubicBezierCurve:function(){return If},CubicBezierCurve3:function(){return Nf},CubicInterpolant:function(){return Kc},CullFaceBack:function(){return b},CullFaceFront:function(){return I},CullFaceFrontBack:function(){return N},CullFaceNone:function(){return S},Curve:function(){return mf},CurvePath:function(){return Df},CustomBlending:function(){return K},CustomToneMapping:function(){return Oe},CylinderBufferGeometry:function(){return Mu},CylinderGeometry:function(){return Mu},Cylindrical:function(){return ch},DataTexture:function(){return $l},DataTexture2DArray:function(){return Sa},DataTexture3D:function(){return ba},DataTextureLoader:function(){return hf},DataUtils:function(){return Xh},DecrementStencilOp:function(){return wn},DecrementWrapStencilOp:function(){return Pn},DefaultLoadingManager:function(){return of},DepthFormat:function(){return st},DepthStencilFormat:function(){return lt},DepthTexture:function(){return xu},DirectionalLight:function(){return $f},DirectionalLightHelper:function(){return Ph},DiscreteInterpolant:function(){return zc},DodecahedronBufferGeometry:function(){return Pu},DodecahedronGeometry:function(){return Pu},DoubleSide:function(){return D},DstAlphaFactor:function(){return te},DstColorFactor:function(){return re},DynamicBufferAttribute:function(){return kp},DynamicCopyUsage:function(){return Qn},DynamicDrawUsage:function(){return zn},DynamicReadUsage:function(){return Yn},EdgesGeometry:function(){return Bu},EdgesHelper:function(){return Yp},EllipseCurve:function(){return vf},EqualDepth:function(){return ce},EqualStencilFunc:function(){return Un},EquirectangularReflectionMapping:function(){return be},EquirectangularRefractionMapping:function(){return Ie},Euler:function(){return pi},EventDispatcher:function(){return tr},ExtrudeBufferGeometry:function(){return pc},ExtrudeGeometry:function(){return pc},FaceColors:function(){return Sp},FileLoader:function(){return lf},FlatShading:function(){return k},Float16BufferAttribute:function(){return fo},Float32Attribute:function(){return Vp},Float32BufferAttribute:function(){return ho},Float64Attribute:function(){return zp},Float64BufferAttribute:function(){return po},FloatType:function(){return qe},Fog:function(){return Ol},FogExp2:function(){return Tl},Font:function(){return md},FontLoader:function(){return Ed},FrontSide:function(){return C},Frustum:function(){return ia},GLBufferAttribute:function(){return oh},GLSL1:function(){return $n},GLSL3:function(){return er},GammaEncoding:function(){return yn},GreaterDepth:function(){return de},GreaterEqualDepth:function(){return fe},GreaterEqualStencilFunc:function(){return Fn},GreaterStencilFunc:function(){return Gn},GridHelper:function(){return xh},Group:function(){return pl},HalfFloatType:function(){return Xe},HemisphereLight:function(){return Bf},HemisphereLightHelper:function(){return Nh},HemisphereLightProbe:function(){return Od},IcosahedronBufferGeometry:function(){return vc},IcosahedronGeometry:function(){return vc},ImageBitmapLoader:function(){return hd},ImageLoader:function(){return ff},ImageUtils:function(){return yr},ImmediateRenderObject:function(){return vh},IncrementStencilOp:function(){return Mn},IncrementWrapStencilOp:function(){return Cn},InstancedBufferAttribute:function(){return sd},InstancedBufferGeometry:function(){return ad},InstancedInterleavedBuffer:function(){return ih},InstancedMesh:function(){return su},Int16Attribute:function(){return Gp},Int16BufferAttribute:function(){return so},Int32Attribute:function(){return Fp},Int32BufferAttribute:function(){return uo},Int8Attribute:function(){return Hp},Int8BufferAttribute:function(){return io},IntType:function(){return Ze},InterleavedBuffer:function(){return Ll},InterleavedBufferAttribute:function(){return bl},Interpolant:function(){return Fc},InterpolateDiscrete:function(){return on},InterpolateLinear:function(){return an},InterpolateSmooth:function(){return sn},InvertStencilOp:function(){return Dn},JSONLoader:function(){return em},KeepStencilOp:function(){return xn},KeyframeTrack:function(){return jc},LOD:function(){return zl},LatheBufferGeometry:function(){return gc},LatheGeometry:function(){return gc},Layers:function(){return mi},LensFlare:function(){return nm},LessDepth:function(){return le},LessEqualDepth:function(){return ue},LessEqualStencilFunc:function(){return Bn},LessStencilFunc:function(){return Hn},Light:function(){return Uf},LightProbe:function(){return rd},Line:function(){return pu},Line3:function(){return mh},LineBasicMaterial:function(){return lu},LineCurve:function(){return xf},LineCurve3:function(){return _f},LineDashedMaterial:function(){return Bc},LineLoop:function(){return yu},LinePieces:function(){return Rp},LineSegments:function(){return gu},LineStrip:function(){return Op},LinearEncoding:function(){return vn},LinearFilter:function(){return Ue},LinearInterpolant:function(){return Vc},LinearMipMapLinearFilter:function(){return Fe},LinearMipMapNearestFilter:function(){return Ge},LinearMipmapLinearFilter:function(){return We},LinearMipmapNearestFilter:function(){return Be},LinearToneMapping:function(){return ye},Loader:function(){return af},LoaderUtils:function(){return od},LoadingManager:function(){return rf},LogLuvEncoding:function(){return An},LoopOnce:function(){return tn},LoopPingPong:function(){return rn},LoopRepeat:function(){return nn},LuminanceAlphaFormat:function(){return ot},LuminanceFormat:function(){return it},MOUSE:function(){return R},Material:function(){return ji},MaterialLoader:function(){return id},Math:function(){return pr},MathUtils:function(){return pr},Matrix3:function(){return gr},Matrix4:function(){return ii},MaxEquation:function(){return Y},Mesh:function(){return Ko},MeshBasicMaterial:function(){return eo},MeshDepthMaterial:function(){return sl},MeshDistanceMaterial:function(){return ll},MeshFaceMaterial:function(){return Ip},MeshLambertMaterial:function(){return Hc},MeshMatcapMaterial:function(){return Uc},MeshNormalMaterial:function(){return kc},MeshPhongMaterial:function(){return Pc},MeshPhysicalMaterial:function(){return Cc},MeshStandardMaterial:function(){return wc},MeshToonMaterial:function(){return Dc},MinEquation:function(){return Z},MirroredRepeatWrapping:function(){return we},MixOperation:function(){return me},MultiMaterial:function(){return Np},MultiplyBlending:function(){return F},MultiplyOperation:function(){return pe},NearestFilter:function(){return Ce},NearestMipMapLinearFilter:function(){return He},NearestMipMapNearestFilter:function(){return De},NearestMipmapLinearFilter:function(){return ke},NearestMipmapNearestFilter:function(){return Pe},NeverDepth:function(){return ae},NeverStencilFunc:function(){return kn},NoBlending:function(){return U},NoColors:function(){return Lp},NoToneMapping:function(){return ge},NormalAnimationBlendMode:function(){return fn},NormalBlending:function(){return B},NotEqualDepth:function(){return he},NotEqualStencilFunc:function(){return Wn},NumberKeyframeTrack:function(){return qc},Object3D:function(){return xi},ObjectLoader:function(){return ud},ObjectSpaceNormalMap:function(){return In},OctahedronBufferGeometry:function(){return yc},OctahedronGeometry:function(){return yc},OneFactor:function(){return X},OneMinusDstAlphaFactor:function(){return ne},OneMinusDstColorFactor:function(){return ie},OneMinusSrcAlphaFactor:function(){return ee},OneMinusSrcColorFactor:function(){return J},OrthographicCamera:function(){return Qf},PCFShadowMap:function(){return _},PCFSoftShadowMap:function(){return M},PMREMGenerator:function(){return mp},ParametricBufferGeometry:function(){return Ec},ParametricGeometry:function(){return Ec},Particle:function(){return _p},ParticleBasicMaterial:function(){return Cp},ParticleSystem:function(){return Mp},ParticleSystemMaterial:function(){return Pp},Path:function(){return kf},PerspectiveCamera:function(){return Qo},Plane:function(){return Ci},PlaneBufferGeometry:function(){return sa},PlaneGeometry:function(){return sa},PlaneHelper:function(){return Vh},PointCloud:function(){return xp},PointCloudMaterial:function(){return wp},PointLight:function(){return Xf},PointLightHelper:function(){return Lh},Points:function(){return Lu},PointsMaterial:function(){return Eu},PolarGridHelper:function(){return _h},PolyhedronBufferGeometry:function(){return Cu},PolyhedronGeometry:function(){return Cu},PositionalAudio:function(){return Bd},PropertyBinding:function(){return $d},PropertyMixer:function(){return Wd},QuadraticBezierCurve:function(){return Mf},QuadraticBezierCurve3:function(){return wf},Quaternion:function(){return br},QuaternionKeyframeTrack:function(){return Qc},QuaternionLinearInterpolant:function(){return Xc},REVISION:function(){return O},RGBADepthPacking:function(){return Sn},RGBAFormat:function(){return rt},RGBAIntegerFormat:function(){return pt},RGBA_ASTC_10x10_Format:function(){return Ht},RGBA_ASTC_10x5_Format:function(){return Pt},RGBA_ASTC_10x6_Format:function(){return Dt},RGBA_ASTC_10x8_Format:function(){return kt},RGBA_ASTC_12x10_Format:function(){return Ut},RGBA_ASTC_12x12_Format:function(){return Bt},RGBA_ASTC_4x4_Format:function(){return bt},RGBA_ASTC_5x4_Format:function(){return It},RGBA_ASTC_5x5_Format:function(){return Nt},RGBA_ASTC_6x5_Format:function(){return xt},RGBA_ASTC_6x6_Format:function(){return _t},RGBA_ASTC_8x5_Format:function(){return Mt},RGBA_ASTC_8x6_Format:function(){return wt},RGBA_ASTC_8x8_Format:function(){return Ct},RGBA_BPTC_Format:function(){return Gt},RGBA_ETC2_EAC_Format:function(){return St},RGBA_PVRTC_2BPPV1_Format:function(){return Ot},RGBA_PVRTC_4BPPV1_Format:function(){return Tt},RGBA_S3TC_DXT1_Format:function(){return vt},RGBA_S3TC_DXT3_Format:function(){return gt},RGBA_S3TC_DXT5_Format:function(){return yt},RGBDEncoding:function(){return Rn},RGBEEncoding:function(){return En},RGBEFormat:function(){return at},RGBFormat:function(){return nt},RGBIntegerFormat:function(){return ht},RGBM16Encoding:function(){return On},RGBM7Encoding:function(){return Tn},RGB_ETC1_Format:function(){return Rt},RGB_ETC2_Format:function(){return Lt},RGB_PVRTC_2BPPV1_Format:function(){return At},RGB_PVRTC_4BPPV1_Format:function(){return Et},RGB_S3TC_DXT1_Format:function(){return mt},RGFormat:function(){return ft},RGIntegerFormat:function(){return dt},RawShaderMaterial:function(){return Mc},Ray:function(){return ri},Raycaster:function(){return ah},RectAreaLight:function(){return td},RedFormat:function(){return ut},RedIntegerFormat:function(){return ct},ReinhardToneMapping:function(){return Ee},RepeatWrapping:function(){return _e},ReplaceStencilOp:function(){return _n},ReverseSubtractEquation:function(){return j},RingBufferGeometry:function(){return Ac},RingGeometry:function(){return Ac},SRGB8_ALPHA8_ASTC_10x10_Format:function(){return Jt},SRGB8_ALPHA8_ASTC_10x5_Format:function(){return qt},SRGB8_ALPHA8_ASTC_10x6_Format:function(){return Xt},SRGB8_ALPHA8_ASTC_10x8_Format:function(){return Qt},SRGB8_ALPHA8_ASTC_12x10_Format:function(){return $t},SRGB8_ALPHA8_ASTC_12x12_Format:function(){return en},SRGB8_ALPHA8_ASTC_4x4_Format:function(){return Wt},SRGB8_ALPHA8_ASTC_5x4_Format:function(){return Ft},SRGB8_ALPHA8_ASTC_5x5_Format:function(){return Kt},SRGB8_ALPHA8_ASTC_6x5_Format:function(){return Vt},SRGB8_ALPHA8_ASTC_6x6_Format:function(){return zt},SRGB8_ALPHA8_ASTC_8x5_Format:function(){return jt},SRGB8_ALPHA8_ASTC_8x6_Format:function(){return Zt},SRGB8_ALPHA8_ASTC_8x8_Format:function(){return Yt},Scene:function(){return Rl},SceneUtils:function(){return tm},ShaderChunk:function(){return la},ShaderLib:function(){return ca},ShaderMaterial:function(){return qo},ShadowMaterial:function(){return _c},Shape:function(){return Hf},ShapeBufferGeometry:function(){return Tc},ShapeGeometry:function(){return Tc},ShapePath:function(){return pd},ShapeUtils:function(){return fc},ShortType:function(){return ze},Skeleton:function(){return nu},SkeletonHelper:function(){return Oh},SkinnedMesh:function(){return Ql},SmoothShading:function(){return H},Sphere:function(){return qr},SphereBufferGeometry:function(){return Oc},SphereGeometry:function(){return Oc},Spherical:function(){return uh},SphericalHarmonics3:function(){return nd},SplineCurve:function(){return Cf},SpotLight:function(){return zf},SpotLightHelper:function(){return yh},Sprite:function(){return Wl},SpriteMaterial:function(){return Nl},SrcAlphaFactor:function(){return $},SrcAlphaSaturateFactor:function(){return oe},SrcColorFactor:function(){return Q},StaticCopyUsage:function(){return Xn},StaticDrawUsage:function(){return Vn},StaticReadUsage:function(){return Zn},StereoCamera:function(){return bd},StreamCopyUsage:function(){return Jn},StreamDrawUsage:function(){return jn},StreamReadUsage:function(){return qn},StringKeyframeTrack:function(){return Jc},SubtractEquation:function(){return z},SubtractiveBlending:function(){return W},TOUCH:function(){return L},TangentSpaceNormalMap:function(){return bn},TetrahedronBufferGeometry:function(){return Rc},TetrahedronGeometry:function(){return Rc},TextBufferGeometry:function(){return Lc},TextGeometry:function(){return Lc},Texture:function(){return Ar},TextureLoader:function(){return pf},TorusBufferGeometry:function(){return Sc},TorusGeometry:function(){return Sc},TorusKnotBufferGeometry:function(){return bc},TorusKnotGeometry:function(){return bc},Triangle:function(){return Vi},TriangleFanDrawMode:function(){return mn},TriangleStripDrawMode:function(){return pn},TrianglesDrawMode:function(){return hn},TubeBufferGeometry:function(){return Ic},TubeGeometry:function(){return Ic},UVMapping:function(){return Re},Uint16Attribute:function(){return Wp},Uint16BufferAttribute:function(){return lo},Uint32Attribute:function(){return Kp},Uint32BufferAttribute:function(){return co},Uint8Attribute:function(){return Up},Uint8BufferAttribute:function(){return oo},Uint8ClampedAttribute:function(){return Bp},Uint8ClampedBufferAttribute:function(){return ao},Uniform:function(){return rh},UniformsLib:function(){return ua},UniformsUtils:function(){return Yo},UnsignedByteType:function(){return Ke},UnsignedInt248Type:function(){return et},UnsignedIntType:function(){return Ye},UnsignedShort4444Type:function(){return Qe},UnsignedShort5551Type:function(){return Je},UnsignedShort565Type:function(){return $e},UnsignedShortType:function(){return je},VSMShadowMap:function(){return w},Vector2:function(){return mr},Vector3:function(){return Ir},Vector4:function(){return Or},VectorKeyframeTrack:function(){return $c},Vertex:function(){return Dp},VertexColors:function(){return bp},VideoTexture:function(){return bu},WebGL1Renderer:function(){return Al},WebGLCubeRenderTarget:function(){return ta},WebGLMultipleRenderTargets:function(){return Lr},WebGLMultisampleRenderTarget:function(){return Sr},WebGLRenderTarget:function(){return Rr},WebGLRenderTargetCube:function(){return Jp},WebGLRenderer:function(){return El},WebGLUtils:function(){return dl},WireframeGeometry:function(){return Nc},WireframeHelper:function(){return qp},WrapAroundEnding:function(){return cn},XHRLoader:function(){return Xp},ZeroCurvatureEnding:function(){return ln},ZeroFactor:function(){return q},ZeroSlopeEnding:function(){return un},ZeroStencilOp:function(){return Nn},sRGBEncoding:function(){return gn}});var r=n(15861),i=n(37762),o=n(4942),a=n(70885);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var l=n(97326);function u(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,l.Z)(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function d(){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}var h=n(1413),p=n(89611);function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,p.Z)(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}for(var g,y=n(15671),E=n(43144),A=n(87757),T=n.n(A),O="129",R={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},L={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},S=0,b=1,I=2,N=3,x=0,_=1,M=2,w=3,C=0,P=1,D=2,k=1,H=2,U=0,B=1,G=2,W=3,F=4,K=5,V=100,z=101,j=102,Z=103,Y=104,q=200,X=201,Q=202,J=203,$=204,ee=205,te=206,ne=207,re=208,ie=209,oe=210,ae=0,se=1,le=2,ue=3,ce=4,fe=5,de=6,he=7,pe=0,me=1,ve=2,ge=0,ye=1,Ee=2,Ae=3,Te=4,Oe=5,Re=300,Le=301,Se=302,be=303,Ie=304,Ne=306,xe=307,_e=1e3,Me=1001,we=1002,Ce=1003,Pe=1004,De=1004,ke=1005,He=1005,Ue=1006,Be=1007,Ge=1007,We=1008,Fe=1008,Ke=1009,Ve=1010,ze=1011,je=1012,Ze=1013,Ye=1014,qe=1015,Xe=1016,Qe=1017,Je=1018,$e=1019,et=1020,tt=1021,nt=1022,rt=1023,it=1024,ot=1025,at=rt,st=1026,lt=1027,ut=1028,ct=1029,ft=1030,dt=1031,ht=1032,pt=1033,mt=33776,vt=33777,gt=33778,yt=33779,Et=35840,At=35841,Tt=35842,Ot=35843,Rt=36196,Lt=37492,St=37496,bt=37808,It=37809,Nt=37810,xt=37811,_t=37812,Mt=37813,wt=37814,Ct=37815,Pt=37816,Dt=37817,kt=37818,Ht=37819,Ut=37820,Bt=37821,Gt=36492,Wt=37840,Ft=37841,Kt=37842,Vt=37843,zt=37844,jt=37845,Zt=37846,Yt=37847,qt=37848,Xt=37849,Qt=37850,Jt=37851,$t=37852,en=37853,tn=2200,nn=2201,rn=2202,on=2300,an=2301,sn=2302,ln=2400,un=2401,cn=2402,fn=2500,dn=2501,hn=0,pn=1,mn=2,vn=3e3,gn=3001,yn=3007,En=3002,An=3003,Tn=3004,On=3005,Rn=3006,Ln=3200,Sn=3201,bn=0,In=1,Nn=0,xn=7680,_n=7681,Mn=7682,wn=7683,Cn=34055,Pn=34056,Dn=5386,kn=512,Hn=513,Un=514,Bn=515,Gn=516,Wn=517,Fn=518,Kn=519,Vn=35044,zn=35048,jn=35040,Zn=35045,Yn=35049,qn=35041,Xn=35046,Qn=35050,Jn=35042,$n="100",er="300 es",tr=function(){function e(){(0,y.Z)(this,e)}return(0,E.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),nr=[],rr=0;rr<256;rr++)nr[rr]=(rr<16?"0":"")+rr.toString(16);var ir=1234567,or=Math.PI/180,ar=180/Math.PI;function sr(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(nr[255&e]+nr[e>>8&255]+nr[e>>16&255]+nr[e>>24&255]+"-"+nr[255&t]+nr[t>>8&255]+"-"+nr[t>>16&15|64]+nr[t>>24&255]+"-"+nr[63&n|128]+nr[n>>8&255]+"-"+nr[n>>16&255]+nr[n>>24&255]+nr[255&r]+nr[r>>8&255]+nr[r>>16&255]+nr[r>>24&255]).toUpperCase()}function lr(e,t,n){return Math.max(t,Math.min(n,e))}function ur(e,t){return(e%t+t)%t}function cr(e,t,n){return(1-n)*e+n*t}function fr(e){return 0===(e&e-1)&&0!==e}function dr(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function hr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var pr=Object.freeze({__proto__:null,DEG2RAD:or,RAD2DEG:ar,generateUUID:sr,clamp:lr,euclideanModulo:ur,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:cr,damp:function(e,t,n,r){return cr(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(ur(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(ir=e%2147483647),((ir=16807*ir%2147483647)-1)/2147483646},degToRad:function(e){return e*or},radToDeg:function(e){return e*ar},isPowerOfTwo:fr,ceilPowerOfTwo:dr,floorPowerOfTwo:hr,setQuaternionFromProperEuler:function(e,t,n,r,i){var o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((t+r)/2),c=a((t+r)/2),f=o((t-r)/2),d=a((t-r)/2),h=o((r-t)/2),p=a((r-t)/2);switch(i){case"XYX":e.set(s*c,l*f,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*f,s*u);break;case"ZXZ":e.set(l*f,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*h,s*u);break;case"YXY":e.set(l*h,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*h,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}}),mr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,y.Z)(this,e),this.x=t,this.y=n}return(0,E.Z)(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}();mr.prototype.isVector2=!0;var vr,gr=function(){function e(){(0,y.Z)(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return(0,E.Z)(e,[{key:"set",value:function(e,t,n,r,i,o,a,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],u=n[4],c=n[7],f=n[2],d=n[5],h=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],E=r[7],A=r[2],T=r[5],O=r[8];return i[0]=o*p+a*g+s*A,i[3]=o*m+a*y+s*T,i[6]=o*v+a*E+s*O,i[1]=l*p+u*g+c*A,i[4]=l*m+u*y+c*T,i[7]=l*v+u*E+c*O,i[2]=f*p+d*g+h*A,i[5]=f*m+d*y+h*T,i[8]=f*v+d*E+h*O,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-n*i*u+n*a*s+r*i*l-r*o*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=u*o-a*l,f=a*s-u*i,d=l*i-o*s,h=t*c+n*f+r*d;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(a*n-r*o)*p,e[3]=f*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-a*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(o*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,o,a){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*l,r[6]=t*a+n*u,r[1]=-n*i+t*s,r[4]=-n*o+t*l,r[7]=-n*a+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();gr.prototype.isMatrix3=!0;var yr=function(){function e(){(0,y.Z)(this,e)}return(0,E.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===vr&&(vr=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),vr.width=e.width,vr.height=e.height;var n=vr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}]),e}(),Er=0,Ar=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Me,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Me,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ue,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:We,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rt,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ke,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:vn;return(0,y.Z)(this,n),e=t.call(this),Object.defineProperty((0,l.Z)(e),"id",{value:Er++}),e.uuid=sr(),e.name="",e.image=r,e.mipmaps=[],e.mapping=i,e.wrapS=o,e.wrapT=a,e.magFilter=s,e.minFilter=u,e.anisotropy=d,e.format=c,e.internalFormat=null,e.type=f,e.offset=new mr(0,0),e.repeat=new mr(1,1),e.center=new mr(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new gr,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.version=0,e.onUpdate=null,e}return(0,E.Z)(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=sr()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)r[o].isDataTexture?i.push(Tr(r[o].image)):i.push(Tr(r[o]))}else i=Tr(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==Re)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _e:e.x=e.x-Math.floor(e.x);break;case Me:e.x=e.x<0?0:1;break;case we:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case _e:e.y=e.y-Math.floor(e.y);break;case Me:e.y=e.y<0?0:1;break;case we:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(tr);function Tr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?yr.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Ar.DEFAULT_IMAGE=void 0,Ar.DEFAULT_MAPPING=Re,Ar.prototype.isTexture=!0;var Or=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,y.Z)(this,e),this.x=t,this.y=n,this.z=r,this.w=i}return(0,E.Z)(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,l=s[0],u=s[4],c=s[8],f=s[1],d=s[5],h=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(u-f)<o&&Math.abs(c-p)<o&&Math.abs(h-m)<o){if(Math.abs(u+f)<a&&Math.abs(c+p)<a&&Math.abs(h+m)<a&&Math.abs(l+d+v-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(d+1)/2,E=(v+1)/2,A=(u+f)/4,T=(c+p)/4,O=(h+m)/4;return g>y&&g>E?g<o?(n=0,r=.707106781,i=.707106781):(r=A/(n=Math.sqrt(g)),i=T/n):y>E?y<o?(n=.707106781,r=0,i=.707106781):(n=A/(r=Math.sqrt(y)),i=O/r):E<o?(n=.707106781,r=.707106781,i=0):(n=T/(i=Math.sqrt(E)),r=O/i),this.set(n,r,i,t),this}var R=Math.sqrt((m-h)*(m-h)+(c-p)*(c-p)+(f-u)*(f-u));return Math.abs(R)<.001&&(R=1),this.x=(m-h)/R,this.y=(c-p)/R,this.z=(f-u)/R,this.w=Math.acos((l+d+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}();Or.prototype.isVector4=!0;var Rr=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;return(0,y.Z)(this,n),(o=t.call(this)).width=e,o.height=r,o.depth=1,o.scissor=new Or(0,0,e,r),o.scissorTest=!1,o.viewport=new Or(0,0,e,r),i=i||{},o.texture=new Ar(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),o.texture.image={},o.texture.image.width=e,o.texture.image.height=r,o.texture.image.depth=1,o.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,o.texture.minFilter=void 0!==i.minFilter?i.minFilter:Ue,o.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,o.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,o.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,o}return(0,E.Z)(n,[{key:"setTexture",value:function(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=(0,h.Z)({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(tr);Rr.prototype.isWebGLRenderTarget=!0;var Lr=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;(0,y.Z)(this,n);var a=(o=t.call(this,e,r)).texture;o.texture=[];for(var s=0;s<i;s++)o.texture[s]=a.clone();return o}return(0,E.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),n}(Rr);Lr.prototype.isWebGLMultipleRenderTargets=!0;var Sr=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;return(0,y.Z)(this,n),(o=t.call(this,e,r,i)).samples=4,o}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.samples=e.samples,this}}]),n}(Rr);Sr.prototype.isWebGLMultisampleRenderTarget=!0;var br=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,y.Z)(this,e),this._x=t,this._y=n,this._z=r,this._w=i}return(0,E.Z)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),u=a(r/2),c=a(i/2),f=s(n/2),d=s(r/2),h=s(i/2);switch(o){case"XYZ":this._x=f*u*c+l*d*h,this._y=l*d*c-f*u*h,this._z=l*u*h+f*d*c,this._w=l*u*c-f*d*h;break;case"YXZ":this._x=f*u*c+l*d*h,this._y=l*d*c-f*u*h,this._z=l*u*h-f*d*c,this._w=l*u*c+f*d*h;break;case"ZXY":this._x=f*u*c-l*d*h,this._y=l*d*c+f*u*h,this._z=l*u*h+f*d*c,this._w=l*u*c-f*d*h;break;case"ZYX":this._x=f*u*c-l*d*h,this._y=l*d*c+f*u*h,this._z=l*u*h-f*d*c,this._w=l*u*c+f*d*h;break;case"YZX":this._x=f*u*c+l*d*h,this._y=l*d*c+f*u*h,this._z=l*u*h-f*d*c,this._w=l*u*c-f*d*h;break;case"XZY":this._x=f*u*c-l*d*h,this._y=l*d*c-f*u*h,this._z=l*u*h+f*d*c,this._w=l*u*c+f*d*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],u=t[6],c=t[10],f=n+a+c;if(f>0){var d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(u-s)*d,this._y=(i-l)*d,this._z=(o-r)*d}else if(n>a&&n>c){var h=2*Math.sqrt(1+n-a-c);this._w=(u-s)/h,this._x=.25*h,this._y=(r+o)/h,this._z=(i+l)/h}else if(a>c){var p=2*Math.sqrt(1+a-n-c);this._w=(i-l)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(s+u)/p}else{var m=2*Math.sqrt(1+c-n-a);this._w=(o-r)/m,this._x=(i+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(lr(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+o*a+r*l-i*s,this._y=r*u+o*s+i*a-n*l,this._z=i*u+o*l+n*s-r*a,this._w=o*u-n*a-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,a),f=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=o*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=i*f+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){this.copy(e).slerp(t,n)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,o,a){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],f=i[o+0],d=i[o+1],h=i[o+2],p=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===a)return e[t+0]=f,e[t+1]=d,e[t+2]=h,void(e[t+3]=p);if(c!==p||s!==f||l!==d||u!==h){var m=1-a,v=s*f+l*d+u*h+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var E=Math.sqrt(y),A=Math.atan2(E,v*g);m=Math.sin(m*A)/E,a=Math.sin(a*A)/E}var T=a*g;if(s=s*m+f*T,l=l*m+d*T,u=u*m+h*T,c=c*m+p*T,m===1-a){var O=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=O,l*=O,u*=O,c*=O}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,o){var a=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[o],f=i[o+1],d=i[o+2],h=i[o+3];return e[t]=a*h+u*c+s*d-l*f,e[t+1]=s*h+u*f+l*c-a*d,e[t+2]=l*h+u*d+a*f-s*c,e[t+3]=u*h-a*c-s*f-l*d,e}}]),e}();br.prototype.isQuaternion=!0;var Ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,y.Z)(this,e),this.x=t,this.y=n,this.z=r}return(0,E.Z)(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(xr.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(xr.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,u=s*n+a*t-i*r,c=s*r+i*n-o*t,f=-i*t-o*n-a*r;return this.x=l*s+f*-i+u*-a-c*-o,this.y=u*s+f*-o+c*-i-l*-a,this.z=c*s+f*-a+l*-o-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Nr.copy(this).projectOnVector(e),this.sub(Nr)}},{key:"reflect",value:function(e){return this.sub(Nr.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(lr(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}();Ir.prototype.isVector3=!0;var Nr=new Ir,xr=new br,_r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir(-1/0,-1/0,-1/0);(0,y.Z)(this,e),this.min=t,this.max=n}return(0,E.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],f=e[s+2];u<t&&(t=u),c<n&&(n=c),f<r&&(r=f),u>i&&(i=u),c>o&&(o=c),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),f=e.getZ(s);u<t&&(t=u),c<n&&(n=c),f<r&&(r=f),u>i&&(i=u),c>o&&(o=c),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=wr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ir),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ir),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Cr.copy(t.boundingBox),Cr.applyMatrix4(e.matrixWorld),this.union(Cr));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Ir),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,wr),wr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Gr),Wr.subVectors(this.max,Gr),Pr.subVectors(e.a,Gr),Dr.subVectors(e.b,Gr),kr.subVectors(e.c,Gr),Hr.subVectors(Dr,Pr),Ur.subVectors(kr,Dr),Br.subVectors(Pr,kr);var t=[0,-Hr.z,Hr.y,0,-Ur.z,Ur.y,0,-Br.z,Br.y,Hr.z,0,-Hr.x,Ur.z,0,-Ur.x,Br.z,0,-Br.x,-Hr.y,Hr.x,0,-Ur.y,Ur.x,0,-Br.y,Br.x,0];return!!Vr(t,Pr,Dr,kr,Wr)&&(!!Vr(t=[1,0,0,0,1,0,0,0,1],Pr,Dr,kr,Wr)&&(Fr.crossVectors(Hr,Ur),Vr(t=[Fr.x,Fr.y,Fr.z],Pr,Dr,kr,Wr)))}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Ir),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return wr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(wr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(Mr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();_r.prototype.isBox3=!0;var Mr=[new Ir,new Ir,new Ir,new Ir,new Ir,new Ir,new Ir,new Ir],wr=new Ir,Cr=new _r,Pr=new Ir,Dr=new Ir,kr=new Ir,Hr=new Ir,Ur=new Ir,Br=new Ir,Gr=new Ir,Wr=new Ir,Fr=new Ir,Kr=new Ir;function Vr(e,t,n,r,i){for(var o=0,a=e.length-3;o<=a;o+=3){Kr.fromArray(e,o);var s=i.x*Math.abs(Kr.x)+i.y*Math.abs(Kr.y)+i.z*Math.abs(Kr.z),l=t.dot(Kr),u=n.dot(Kr),c=r.dot(Kr);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var zr=new _r,jr=new Ir,Zr=new Ir,Yr=new Ir,qr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,y.Z)(this,e),this.center=t,this.radius=n}return(0,E.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):zr.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Ir),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new _r),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){Yr.subVectors(e,this.center);var t=Yr.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(Yr.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return Zr.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(jr.copy(e.center).add(Zr)),this.expandByPoint(jr.copy(e.center).sub(Zr)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Xr=new Ir,Qr=new Ir,Jr=new Ir,$r=new Ir,ei=new Ir,ti=new Ir,ni=new Ir,ri=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir(0,0,-1);(0,y.Z)(this,e),this.origin=t,this.direction=n}return(0,E.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Ir),t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Xr)),this}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Ir),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Xr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Xr.copy(this.direction).multiplyScalar(t).add(this.origin),Xr.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Qr.copy(e).add(t).multiplyScalar(.5),Jr.copy(t).sub(e).normalize(),$r.copy(this.origin).sub(Qr);var i,o,a,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Jr),c=$r.dot(this.direction),f=-$r.dot(Jr),d=$r.lengthSq(),h=Math.abs(1-u*u);if(h>0)if(o=u*c-f,s=l*h,(i=u*f-c)>=0)if(o>=-s)if(o<=s){var p=1/h;a=(i*=p)*(i+u*(o*=p)+2*c)+o*(u*i+o+2*f)+d}else o=l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+d;else o=-l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+d;else o<=-s?a=-(i=Math.max(0,-(-u*l+c)))*i+(o=i>0?-l:Math.min(Math.max(-l,-f),l))*(o+2*f)+d:o<=s?(i=0,a=(o=Math.min(Math.max(-l,-f),l))*(o+2*f)+d):a=-(i=Math.max(0,-(u*l+c)))*i+(o=i>0?l:Math.min(Math.max(-l,-f),l))*(o+2*f)+d;else o=u>0?-l:l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Jr).multiplyScalar(o).add(Qr),a}},{key:"intersectSphere",value:function(e,t){Xr.subVectors(e.center,this.origin);var n=Xr.dot(this.direction),r=Xr.dot(Xr)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,f=this.origin;return l>=0?(n=(e.min.x-f.x)*l,r=(e.max.x-f.x)*l):(n=(e.max.x-f.x)*l,r=(e.min.x-f.x)*l),u>=0?(i=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(i=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),c>=0?(a=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(a=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Xr)}},{key:"intersectTriangle",value:function(e,t,n,r,i){ei.subVectors(t,e),ti.subVectors(n,e),ni.crossVectors(ei,ti);var o,a=this.direction.dot(ni);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}$r.subVectors(this.origin,e);var s=o*this.direction.dot(ti.crossVectors($r,ti));if(s<0)return null;var l=o*this.direction.dot(ei.cross($r));if(l<0)return null;if(s+l>a)return null;var u=-o*$r.dot(ni);return u<0?null:this.at(u/a,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ii=function(){function e(){(0,y.Z)(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return(0,E.Z)(e,[{key:"set",value:function(e,t,n,r,i,o,a,s,l,u,c,f,d,h,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=f,v[3]=d,v[7]=h,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/oi.setFromMatrixColumn(e,0).length(),i=1/oi.setFromMatrixColumn(e,1).length(),o=1/oi.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=o*u,d=o*c,h=a*u,p=a*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=d+h*l,t[5]=f-p*l,t[9]=-a*s,t[2]=p-f*l,t[6]=h+d*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*a,t[4]=g*a-v,t[8]=o*l,t[1]=o*c,t[5]=o*u,t[9]=-a,t[2]=v*a-g,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var E=s*u,A=s*c,T=l*u,O=l*c;t[0]=E-O*a,t[4]=-o*c,t[8]=T+A*a,t[1]=A+T*a,t[5]=o*u,t[9]=O-E*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var R=o*u,L=o*c,S=a*u,b=a*c;t[0]=s*u,t[4]=S*l-L,t[8]=R*l+b,t[1]=s*c,t[5]=b*l+R,t[9]=L*l-S,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var I=o*s,N=o*l,x=a*s,_=a*l;t[0]=s*u,t[4]=_-I*c,t[8]=x*c+N,t[1]=c,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=N*c+x,t[10]=I-_*c}else if("XZY"===e.order){var M=o*s,w=o*l,C=a*s,P=a*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=M*c+P,t[5]=o*u,t[9]=w*c-C,t[2]=C*c-w,t[6]=a*u,t[10]=P*c+M}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(si,e,li)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return fi.subVectors(e,t),0===fi.lengthSq()&&(fi.z=1),fi.normalize(),ui.crossVectors(n,fi),0===ui.lengthSq()&&(1===Math.abs(n.z)?fi.x+=1e-4:fi.z+=1e-4,fi.normalize(),ui.crossVectors(n,fi)),ui.normalize(),ci.crossVectors(fi,ui),r[0]=ui.x,r[4]=ci.x,r[8]=fi.x,r[1]=ui.y,r[5]=ci.y,r[9]=fi.y,r[2]=ui.z,r[6]=ci.z,r[10]=fi.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],f=n[9],d=n[13],h=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],E=n[11],A=n[15],T=r[0],O=r[4],R=r[8],L=r[12],S=r[1],b=r[5],I=r[9],N=r[13],x=r[2],_=r[6],M=r[10],w=r[14],C=r[3],P=r[7],D=r[11],k=r[15];return i[0]=o*T+a*S+s*x+l*C,i[4]=o*O+a*b+s*_+l*P,i[8]=o*R+a*I+s*M+l*D,i[12]=o*L+a*N+s*w+l*k,i[1]=u*T+c*S+f*x+d*C,i[5]=u*O+c*b+f*_+d*P,i[9]=u*R+c*I+f*M+d*D,i[13]=u*L+c*N+f*w+d*k,i[2]=h*T+p*S+m*x+v*C,i[6]=h*O+p*b+m*_+v*P,i[10]=h*R+p*I+m*M+v*D,i[14]=h*L+p*N+m*w+v*k,i[3]=g*T+y*S+E*x+A*C,i[7]=g*O+y*b+E*_+A*P,i[11]=g*R+y*I+E*M+A*D,i[15]=g*L+y*N+E*w+A*k,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],u=e[2],c=e[6],f=e[10],d=e[14];return e[3]*(+i*s*c-r*l*c-i*a*f+n*l*f+r*a*d-n*s*d)+e[7]*(+t*s*d-t*l*f+i*o*f-r*o*d+r*l*u-i*s*u)+e[11]*(+t*l*c-t*a*d-i*o*c+n*o*d+i*a*u-n*l*u)+e[15]*(-r*a*u-t*s*c+t*a*f+r*o*c-n*o*f+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],m=e[14],v=e[15],g=c*m*l-p*f*l+p*s*d-a*m*d-c*s*v+a*f*v,y=h*f*l-u*m*l-h*s*d+o*m*d+u*s*v-o*f*v,E=u*p*l-h*c*l+h*a*d-o*p*d-u*a*v+o*c*v,A=h*c*s-u*p*s-h*a*f+o*p*f+u*a*m-o*c*m,T=t*g+n*y+r*E+i*A;if(0===T)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var O=1/T;return e[0]=g*O,e[1]=(p*f*i-c*m*i-p*r*d+n*m*d+c*r*v-n*f*v)*O,e[2]=(a*m*i-p*s*i+p*r*l-n*m*l-a*r*v+n*s*v)*O,e[3]=(c*s*i-a*f*i-c*r*l+n*f*l+a*r*d-n*s*d)*O,e[4]=y*O,e[5]=(u*m*i-h*f*i+h*r*d-t*m*d-u*r*v+t*f*v)*O,e[6]=(h*s*i-o*m*i-h*r*l+t*m*l+o*r*v-t*s*v)*O,e[7]=(o*f*i-u*s*i+u*r*l-t*f*l-o*r*d+t*s*d)*O,e[8]=E*O,e[9]=(h*c*i-u*p*i-h*n*d+t*p*d+u*n*v-t*c*v)*O,e[10]=(o*p*i-h*a*i+h*n*l-t*p*l-o*n*v+t*a*v)*O,e[11]=(u*a*i-o*c*i-u*n*l+t*c*l+o*n*d-t*a*d)*O,e[12]=A*O,e[13]=(u*p*r-h*c*r+h*n*f-t*p*f-u*n*m+t*c*m)*O,e[14]=(h*a*r-o*p*r-h*n*s+t*p*s+o*n*m-t*a*m)*O,e[15]=(o*c*r-u*a*r+u*n*s-t*c*s-o*n*f+t*a*f)*O,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,u=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,u*a+n,u*s-r*o,0,l*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,u=o+o,c=a+a,f=i*l,d=i*u,h=i*c,p=o*u,m=o*c,v=a*c,g=s*l,y=s*u,E=s*c,A=n.x,T=n.y,O=n.z;return r[0]=(1-(p+v))*A,r[1]=(d+E)*A,r[2]=(h-y)*A,r[3]=0,r[4]=(d-E)*T,r[5]=(1-(f+v))*T,r[6]=(m+g)*T,r[7]=0,r[8]=(h+y)*O,r[9]=(m-g)*O,r[10]=(1-(f+p))*O,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=oi.set(r[0],r[1],r[2]).length(),o=oi.set(r[4],r[5],r[6]).length(),a=oi.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ai.copy(this);var s=1/i,l=1/o,u=1/a;return ai.elements[0]*=s,ai.elements[1]*=s,ai.elements[2]*=s,ai.elements[4]*=l,ai.elements[5]*=l,ai.elements[6]*=l,ai.elements[8]*=u,ai.elements[9]*=u,ai.elements[10]*=u,t.setFromRotationMatrix(ai),n.x=i,n.y=o,n.z=a,this}},{key:"makePerspective",value:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),f=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),l=1/(n-r),u=1/(o-i),c=(t+e)*s,f=(n+r)*l,d=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();ii.prototype.isMatrix4=!0;var oi=new Ir,ai=new ii,si=new Ir(0,0,0),li=new Ir(1,1,1),ui=new Ir,ci=new Ir,fi=new Ir,di=new ii,hi=new br,pi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;(0,y.Z)(this,e),this._x=t,this._y=n,this._z=r,this._order=i}return(0,E.Z)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,t,n){var r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],u=r[9],c=r[2],f=r[6],d=r[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(lr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(f,l),this._z=0);break;case"YXZ":this._x=Math.asin(-lr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(lr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-lr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(lr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-lr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return di.makeRotationFromQuaternion(e),this.setFromRotationMatrix(di,t,n)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)}},{key:"reorder",value:function(e){return hi.setFromEuler(this),this.setFromQuaternion(hi,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new Ir(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();pi.prototype.isEuler=!0,pi.DefaultOrder="XYZ",pi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var mi=function(){function e(){(0,y.Z)(this,e),this.mask=1}return(0,E.Z)(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}}]),e}(),vi=0,gi=new Ir,yi=new br,Ei=new ii,Ai=new Ir,Ti=new Ir,Oi=new Ir,Ri=new br,Li=new Ir(1,0,0),Si=new Ir(0,1,0),bi=new Ir(0,0,1),Ii={type:"added"},Ni={type:"removed"},xi=function(e){m(n,e);var t=v(n);function n(){var e;(0,y.Z)(this,n),e=t.call(this),Object.defineProperty((0,l.Z)(e),"id",{value:vi++}),e.uuid=sr(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new Ir,i=new pi,o=new br,a=new Ir(1,1,1);return i._onChange((function(){o.setFromEuler(i,!1)})),o._onChange((function(){i.setFromQuaternion(o,void 0,!1)})),Object.defineProperties((0,l.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new ii},normalMatrix:{value:new gr}}),e.matrix=new ii,e.matrixWorld=new ii,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new mi,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,E.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return yi.setFromAxisAngle(e,t),this.quaternion.multiply(yi),this}},{key:"rotateOnWorldAxis",value:function(e,t){return yi.setFromAxisAngle(e,t),this.quaternion.premultiply(yi),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Li,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Si,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(bi,e)}},{key:"translateOnAxis",value:function(e,t){return gi.copy(e).applyQuaternion(this.quaternion),this.position.add(gi.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Li,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Si,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(bi,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(Ei.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Ai.copy(e):Ai.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Ti.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ei.lookAt(Ti,Ai,this.up):Ei.lookAt(Ai,Ti,this.up),this.quaternion.setFromRotationMatrix(Ei),r&&(Ei.extractRotation(r.matrixWorld),yi.setFromRotationMatrix(Ei),this.quaternion.premultiply(yi.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ii)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ni)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Ni)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Ei.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ei.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ei),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ir),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new br),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ti,e,Oi),e}},{key:"getWorldScale",value:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ir),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ti,Ri,e),e}},{key:"getWorldDirection",value:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ir),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var u=a[s];i(e.shapes,u)}else i(e.shapes,a)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,d=this.material.length;f<d;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];r.animations.push(i(e.animations,m))}}if(t){var v=R(e.geometries),g=R(e.materials),y=R(e.textures),E=R(e.images),A=R(e.shapes),T=R(e.skeletons),O=R(e.animations);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),E.length>0&&(n.images=E),A.length>0&&(n.shapes=A),T.length>0&&(n.skeletons=T),O.length>0&&(n.animations=O)}return n.object=r,n;function R(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(tr);xi.DefaultUp=new Ir(0,1,0),xi.DefaultMatrixAutoUpdate=!0,xi.prototype.isObject3D=!0;var _i=new Ir,Mi=new Ir,wi=new gr,Ci=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,y.Z)(this,e),this.normal=t,this.constant=n}return(0,E.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=_i.subVectors(n,t).cross(Mi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Ir),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Ir);var n=e.delta(_i),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ir),e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||wi.getNormalMatrix(e),r=this.coplanarPoint(_i).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();Ci.prototype.isPlane=!0;var Pi=new Ir,Di=new Ir,ki=new Ir,Hi=new Ir,Ui=new Ir,Bi=new Ir,Gi=new Ir,Wi=new Ir,Fi=new Ir,Ki=new Ir,Vi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ir;(0,y.Z)(this,e),this.a=t,this.b=n,this.c=r}return(0,E.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Pi.subVectors(this.c,this.b),Di.subVectors(this.a,this.b),.5*Pi.cross(Di).length()}},{key:"getMidpoint",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ir),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Ci),e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,o){return e.getUV(t,this.a,this.b,this.c,n,r,i,o)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Ir);var n,r,i=this.a,o=this.b,a=this.c;Ui.subVectors(o,i),Bi.subVectors(a,i),Wi.subVectors(e,i);var s=Ui.dot(Wi),l=Bi.dot(Wi);if(s<=0&&l<=0)return t.copy(i);Fi.subVectors(e,o);var u=Ui.dot(Fi),c=Bi.dot(Fi);if(u>=0&&c<=u)return t.copy(o);var f=s*c-u*l;if(f<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(Ui,n);Ki.subVectors(e,a);var d=Ui.dot(Ki),h=Bi.dot(Ki);if(h>=0&&d<=h)return t.copy(a);var p=d*l-s*h;if(p<=0&&l>=0&&h<=0)return r=l/(l-h),t.copy(i).addScaledVector(Bi,r);var m=u*h-d*c;if(m<=0&&c-u>=0&&d-h>=0)return Gi.subVectors(a,o),r=(c-u)/(c-u+(d-h)),t.copy(o).addScaledVector(Gi,r);var v=1/(m+p+f);return n=p*v,r=f*v,t.copy(i).addScaledVector(Ui,n).addScaledVector(Bi,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new Ir),r.subVectors(n,t),Pi.subVectors(e,t),r.cross(Pi);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Pi.subVectors(r,t),Di.subVectors(n,t),ki.subVectors(e,t);var o=Pi.dot(Pi),a=Pi.dot(Di),s=Pi.dot(ki),l=Di.dot(Di),u=Di.dot(ki),c=o*l-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new Ir),0===c)return i.set(-2,-1,-1);var f=1/c,d=(l*s-a*u)*f,h=(o*u-a*s)*f;return i.set(1-d-h,h,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Hi),Hi.x>=0&&Hi.y>=0&&Hi.x+Hi.y<=1}},{key:"getUV",value:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,Hi),s.set(0,0),s.addScaledVector(i,Hi.x),s.addScaledVector(o,Hi.y),s.addScaledVector(a,Hi.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Pi.subVectors(n,t),Di.subVectors(e,t),Pi.cross(Di).dot(r)<0}}]),e}(),zi=0,ji=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),e=t.call(this),Object.defineProperty((0,l.Z)(e),"id",{value:zi++}),e.uuid=sr(),e.name="",e.type="Material",e.fog=!0,e.blending=B,e.side=C,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=$,e.blendDst=ee,e.blendEquation=V,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=ue,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=Kn,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=xn,e.stencilZFail=xn,e.stencilZPass=xn,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaTest=0,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e}return(0,E.Z)(n,[{key:"onBuild",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===k;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==B&&(n.blending=this.blending),this.side!==C&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(tr);ji.prototype.isMaterial=!0;var Zi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yi={h:0,s:0,l:0},qi={h:0,s:0,l:0};function Xi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Qi(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ji(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var $i=function(){function e(t,n,r){return(0,y.Z)(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return(0,E.Z)(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=ur(e,1),t=lr(t,0,1),n=lr(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Xi(i,r,e+1/3),this.g=Xi(i,r,e),this.b=Xi(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[4]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=Zi[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=Qi(e.r),this.g=Qi(e.g),this.b=Qi(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Ji(e.r),this.g=Ji(e.g),this.b=Ji(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),l=(s+a)/2;if(s===a)t=0,n=0;else{var u=a-s;switch(n=l<=.5?u/(a+s):u/(2-a-s),a){case r:t=(i-o)/u+(i<o?6:0);break;case i:t=(o-r)/u+2;break;case o:t=(r-i)/u+4}t/=6}return e.h=t,e.s=n,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Yi),Yi.h+=e,Yi.s+=t,Yi.l+=n,this.setHSL(Yi.h,Yi.s,Yi.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Yi),e.getHSL(qi);var n=cr(Yi.h,qi.h,t),r=cr(Yi.s,qi.s,t),i=cr(Yi.l,qi.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();$i.NAMES=Zi,$i.prototype.isColor=!0,$i.prototype.r=1,$i.prototype.g=1,$i.prototype.b=1;var eo=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new $i(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=pe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this}}]),n}(ji);eo.prototype.isMeshBasicMaterial=!0;var to=new Ir,no=new mr,ro=function(){function e(t,n,r){if((0,y.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=Vn,this.updateRange={offset:0,count:-1},this.version=0}return(0,E.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new $i),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new mr),t[n++]=o.x,t[n++]=o.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Ir),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Or),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)no.fromBufferAttribute(this,t),no.applyMatrix3(e),this.setXY(t,no.x,no.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)to.fromBufferAttribute(this,r),to.applyMatrix3(e),this.setXYZ(r,to.x,to.y,to.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)to.x=this.getX(t),to.y=this.getY(t),to.z=this.getZ(t),to.applyMatrix4(e),this.setXYZ(t,to.x,to.y,to.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)to.x=this.getX(t),to.y=this.getY(t),to.z=this.getZ(t),to.applyNormalMatrix(e),this.setXYZ(t,to.x,to.y,to.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)to.x=this.getX(t),to.y=this.getY(t),to.z=this.getZ(t),to.transformDirection(e),this.setXYZ(t,to.x,to.y,to.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Vn&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();ro.prototype.isBufferAttribute=!0;var io=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Int8Array(e),r,i)}return(0,E.Z)(n)}(ro),oo=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Uint8Array(e),r,i)}return(0,E.Z)(n)}(ro),ao=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return(0,E.Z)(n)}(ro),so=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Int16Array(e),r,i)}return(0,E.Z)(n)}(ro),lo=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,E.Z)(n)}(ro),uo=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Int32Array(e),r,i)}return(0,E.Z)(n)}(ro),co=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,E.Z)(n)}(ro),fo=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,E.Z)(n)}(ro);fo.prototype.isFloat16BufferAttribute=!0;var ho=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Float32Array(e),r,i)}return(0,E.Z)(n)}(ro),po=function(e){m(n,e);var t=v(n);function n(e,r,i){return(0,y.Z)(this,n),t.call(this,new Float64Array(e),r,i)}return(0,E.Z)(n)}(ro);function mo(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var vo={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function go(e,t){return new vo[e](t)}var yo=0,Eo=new ii,Ao=new xi,To=new Ir,Oo=new _r,Ro=new _r,Lo=new Ir,So=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),e=t.call(this),Object.defineProperty((0,l.Z)(e),"id",{value:yo++}),e.uuid=sr(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,E.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(mo(e)>65535?co:lo)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new gr).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Eo.makeRotationFromQuaternion(e),this.applyMatrix4(Eo),this}},{key:"rotateX",value:function(e){return Eo.makeRotationX(e),this.applyMatrix4(Eo),this}},{key:"rotateY",value:function(e){return Eo.makeRotationY(e),this.applyMatrix4(Eo),this}},{key:"rotateZ",value:function(e){return Eo.makeRotationZ(e),this.applyMatrix4(Eo),this}},{key:"translate",value:function(e,t,n){return Eo.makeTranslation(e,t,n),this.applyMatrix4(Eo),this}},{key:"scale",value:function(e,t,n){return Eo.makeScale(e,t,n),this.applyMatrix4(Eo),this}},{key:"lookAt",value:function(e){return Ao.lookAt(e),Ao.updateMatrix(),this.applyMatrix4(Ao.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(To).negate(),this.translate(To.x,To.y,To.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new ho(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new _r);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ir(-1/0,-1/0,-1/0),new Ir(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Oo.setFromBufferAttribute(i),this.morphTargetsRelative?(Lo.addVectors(this.boundingBox.min,Oo.min),this.boundingBox.expandByPoint(Lo),Lo.addVectors(this.boundingBox.max,Oo.max),this.boundingBox.expandByPoint(Lo)):(this.boundingBox.expandByPoint(Oo.min),this.boundingBox.expandByPoint(Oo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new qr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ir,1/0);if(e){var n=this.boundingSphere.center;if(Oo.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];Ro.setFromBufferAttribute(o),this.morphTargetsRelative?(Lo.addVectors(Oo.min,Ro.min),Oo.expandByPoint(Lo),Lo.addVectors(Oo.max,Ro.max),Oo.expandByPoint(Lo)):(Oo.expandByPoint(Ro.min),Oo.expandByPoint(Ro.max))}Oo.getCenter(n);for(var a=0,s=0,l=e.count;s<l;s++)Lo.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(Lo));if(t)for(var u=0,c=t.length;u<c;u++)for(var f=t[u],d=this.morphTargetsRelative,h=0,p=f.count;h<p;h++)Lo.fromBufferAttribute(f,h),d&&(To.fromBufferAttribute(e,h),Lo.add(To)),a=Math.max(a,n.distanceToSquared(Lo));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeFaceNormals",value:function(){}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,a=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new ro(new Float32Array(4*a),4));for(var s=t.tangent.array,l=[],u=[],c=0;c<a;c++)l[c]=new Ir,u[c]=new Ir;var f=new Ir,d=new Ir,h=new Ir,p=new mr,m=new mr,v=new mr,g=new Ir,y=new Ir,E=this.groups;0===E.length&&(E=[{start:0,count:n.length}]);for(var A=0,T=E.length;A<T;++A)for(var O=E[A],R=O.start,L=R,S=R+O.count;L<S;L+=3)k(n[L+0],n[L+1],n[L+2]);for(var b=new Ir,I=new Ir,N=new Ir,x=new Ir,_=0,M=E.length;_<M;++_)for(var w=E[_],C=w.start,P=C,D=C+w.count;P<D;P+=3)H(n[P+0]),H(n[P+1]),H(n[P+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function k(e,t,n){f.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),p.fromArray(o,2*e),m.fromArray(o,2*t),v.fromArray(o,2*n),d.sub(f),h.sub(f),m.sub(p),v.sub(p);var i=1/(m.x*v.y-v.x*m.y);isFinite(i)&&(g.copy(d).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(i),y.copy(h).multiplyScalar(m.x).addScaledVector(d,-v.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function H(e){N.fromArray(i,3*e),x.copy(N);var t=l[e];b.copy(t),b.sub(N.multiplyScalar(N.dot(t))).normalize(),I.crossVectors(x,t);var n=I.dot(u[e])<0?-1:1;s[4*e]=b.x,s[4*e+1]=b.y,s[4*e+2]=b.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new ro(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var o=new Ir,a=new Ir,s=new Ir,l=new Ir,u=new Ir,c=new Ir,f=new Ir,d=new Ir;if(e)for(var h=0,p=e.count;h<p;h+=3){var m=e.getX(h+0),v=e.getX(h+1),g=e.getX(h+2);o.fromBufferAttribute(t,m),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),f.subVectors(s,a),d.subVectors(o,a),f.cross(d),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(f),u.add(f),c.add(f),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,E=t.count;y<E;y+=3)o.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),f.subVectors(s,a),d.subVectors(o,a),f.cross(d),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,l=Math.min(a.length,i.length-s),u=0,c=s;u<l;u++,c++)i[c]=a[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Lo.fromBufferAttribute(e,t),Lo.normalize(),e.setXYZ(t,Lo.x,Lo.y,Lo.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r),a=0,s=0,l=0,u=t.length;l<u;l++){a=t[l]*r;for(var c=0;c<r;c++)o[s++]=n[a++]}return new ro(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var o in i){var a=e(i[o],r);t.setAttribute(o,a)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],f=0,d=c.length;f<d;f++){var h=e(c[f],r);u.push(h)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,m=0,v=p.length;m<v;m++){var g=p[m];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var o in i){var a=i[o];e.data.attributes[o]=a.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],f=[],d=0,h=c.length;d<h;d++){var p=c[d];f.push(p.toJSON(e.data))}f.length>0&&(s[u]=f,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(e.data.groups=JSON.parse(JSON.stringify(m)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e}},{key:"clone",value:function(){return(new n).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var o=r[i];this.setAttribute(i,o.clone(t))}var a=e.morphAttributes;for(var s in a){for(var l=[],u=a[s],c=0,f=u.length;c<f;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,h=0,p=d.length;h<p;h++){var m=d[h];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(tr);So.prototype.isBufferGeometry=!0;var bo=new ii,Io=new ri,No=new qr,xo=new Ir,_o=new Ir,Mo=new Ir,wo=new Ir,Co=new Ir,Po=new Ir,Do=new Ir,ko=new Ir,Ho=new Ir,Uo=new mr,Bo=new mr,Go=new mr,Wo=new Ir,Fo=new Ir,Ko=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new So,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new eo;return(0,y.Z)(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),No.copy(r.boundingSphere),No.applyMatrix4(o),!1!==e.ray.intersectsSphere(No)&&(bo.copy(o).invert(),Io.copy(e.ray).applyMatrix4(bo),null===r.boundingBox||!1!==Io.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a=r.index,s=r.attributes.position,l=r.morphAttributes.position,u=r.morphTargetsRelative,c=r.attributes.uv,f=r.attributes.uv2,d=r.groups,h=r.drawRange;if(null!==a)if(Array.isArray(i))for(var p=0,m=d.length;p<m;p++)for(var v=d[p],g=i[v.materialIndex],y=Math.max(v.start,h.start),E=Math.min(v.start+v.count,h.start+h.count);y<E;y+=3){var A=a.getX(y),T=a.getX(y+1),O=a.getX(y+2);(n=Vo(this,g,e,Io,s,l,u,c,f,A,T,O))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var R=Math.max(0,h.start),L=Math.min(a.count,h.start+h.count);R<L;R+=3){var S=a.getX(R),b=a.getX(R+1),I=a.getX(R+2);(n=Vo(this,i,e,Io,s,l,u,c,f,S,b,I))&&(n.faceIndex=Math.floor(R/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var N=0,x=d.length;N<x;N++)for(var _=d[N],M=i[_.materialIndex],w=Math.max(_.start,h.start),C=Math.min(_.start+_.count,h.start+h.count);w<C;w+=3){(n=Vo(this,M,e,Io,s,l,u,c,f,w,w+1,w+2))&&(n.faceIndex=Math.floor(w/3),n.face.materialIndex=_.materialIndex,t.push(n))}else for(var P=Math.max(0,h.start),D=Math.min(s.count,h.start+h.count);P<D;P+=3){(n=Vo(this,i,e,Io,s,l,u,c,f,P,P+1,P+2))&&(n.faceIndex=Math.floor(P/3),t.push(n))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(xi);function Vo(e,t,n,r,i,o,a,s,l,u,c,f){xo.fromBufferAttribute(i,u),_o.fromBufferAttribute(i,c),Mo.fromBufferAttribute(i,f);var d=e.morphTargetInfluences;if(t.morphTargets&&o&&d){Do.set(0,0,0),ko.set(0,0,0),Ho.set(0,0,0);for(var h=0,p=o.length;h<p;h++){var m=d[h],v=o[h];0!==m&&(wo.fromBufferAttribute(v,u),Co.fromBufferAttribute(v,c),Po.fromBufferAttribute(v,f),a?(Do.addScaledVector(wo,m),ko.addScaledVector(Co,m),Ho.addScaledVector(Po,m)):(Do.addScaledVector(wo.sub(xo),m),ko.addScaledVector(Co.sub(_o),m),Ho.addScaledVector(Po.sub(Mo),m)))}xo.add(Do),_o.add(ko),Mo.add(Ho)}e.isSkinnedMesh&&(e.boneTransform(u,xo),e.boneTransform(c,_o),e.boneTransform(f,Mo));var g=function(e,t,n,r,i,o,a,s){if(null===(t.side===P?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==D,s)))return null;Fo.copy(s),Fo.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Fo);return l<n.near||l>n.far?null:{distance:l,point:Fo.clone(),object:e}}(e,t,n,r,xo,_o,Mo,Wo);if(g){s&&(Uo.fromBufferAttribute(s,u),Bo.fromBufferAttribute(s,c),Go.fromBufferAttribute(s,f),g.uv=Vi.getUV(Wo,xo,_o,Mo,Uo,Bo,Go,new mr)),l&&(Uo.fromBufferAttribute(l,u),Bo.fromBufferAttribute(l,c),Go.fromBufferAttribute(l,f),g.uv2=Vi.getUV(Wo,xo,_o,Mo,Uo,Bo,Go,new mr));var y={a:u,b:c,c:f,normal:new Ir,materialIndex:0};Vi.getNormal(xo,_o,Mo,y.normal),g.face=y}return g}Ko.prototype.isMesh=!0;var zo=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,y.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:o,widthSegments:a,heightSegments:s,depthSegments:u};var c=(0,l.Z)(e);a=Math.floor(a),s=Math.floor(s),u=Math.floor(u);var f=[],d=[],h=[],p=[],m=0,v=0;function g(e,t,n,r,i,o,a,s,l,u,g){for(var y=o/l,E=a/u,A=o/2,T=a/2,O=s/2,R=l+1,L=u+1,S=0,b=0,I=new Ir,N=0;N<L;N++)for(var x=N*E-T,_=0;_<R;_++){var M=_*y-A;I[e]=M*r,I[t]=x*i,I[n]=O,d.push(I.x,I.y,I.z),I[e]=0,I[t]=0,I[n]=s>0?1:-1,h.push(I.x,I.y,I.z),p.push(_/l),p.push(1-N/u),S+=1}for(var w=0;w<u;w++)for(var C=0;C<l;C++){var P=m+C+R*w,D=m+C+R*(w+1),k=m+(C+1)+R*(w+1),H=m+(C+1)+R*w;f.push(P,D,H),f.push(D,k,H),b+=6}c.addGroup(v,b,g),v+=b,m+=S}return g("z","y","x",-1,-1,o,i,r,u,s,0),g("z","y","x",1,-1,o,i,-r,u,s,1),g("x","z","y",1,1,r,o,i,a,u,2),g("x","z","y",1,-1,r,o,-i,a,u,3),g("x","y","z",1,-1,r,i,o,a,s,4),g("x","y","z",-1,-1,r,i,-o,a,s,5),e.setIndex(f),e.setAttribute("position",new ho(d,3)),e.setAttribute("normal",new ho(h,3)),e.setAttribute("uv",new ho(p,2)),e}return(0,E.Z)(n)}(So);function jo(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Zo(e){for(var t={},n=0;n<e.length;n++){var r=jo(e[n]);for(var i in r)t[i]=r[i]}return t}var Yo={clone:jo,merge:Zo},qo=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.morphTargets=!1,r.morphNormals=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(e)),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jo(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var o={};for(var a in this.extensions)!0===this.extensions[a]&&(o[a]=!0);return Object.keys(o).length>0&&(t.extensions=o),t}}]),n}(ji);qo.prototype.isShaderMaterial=!0;var Xo=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new ii,e.projectionMatrix=new ii,e.projectionMatrixInverse=new ii,e}return(0,E.Z)(n,[{key:"copy",value:function(e,t){return d(c(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ir),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){d(c(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){d(c(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(xi);Xo.prototype.isCamera=!0;var Qo=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,y.Z)(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=o,e.far=a,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,E.Z)(n,[{key:"copy",value:function(e,t){return d(c(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*ar*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*or*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*ar*Math.atan(Math.tan(.5*or*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*or*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Xo);Qo.prototype.isPerspectiveCamera=!0;var Jo=90,$o=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;if((0,y.Z)(this,n),(o=t.call(this)).type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),u(o);o.renderTarget=i;var a=new Qo(Jo,1,e,r);a.layers=o.layers,a.up.set(0,-1,0),a.lookAt(new Ir(1,0,0)),o.add(a);var s=new Qo(Jo,1,e,r);s.layers=o.layers,s.up.set(0,-1,0),s.lookAt(new Ir(-1,0,0)),o.add(s);var l=new Qo(Jo,1,e,r);l.layers=o.layers,l.up.set(0,0,1),l.lookAt(new Ir(0,1,0)),o.add(l);var c=new Qo(Jo,1,e,r);c.layers=o.layers,c.up.set(0,0,-1),c.lookAt(new Ir(0,-1,0)),o.add(c);var f=new Qo(Jo,1,e,r);f.layers=o.layers,f.up.set(0,-1,0),f.lookAt(new Ir(0,0,1)),o.add(f);var d=new Qo(Jo,1,e,r);return d.layers=o.layers,d.up.set(0,-1,0),d.lookAt(new Ir(0,0,-1)),o.add(d),o}return(0,E.Z)(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=(0,a.Z)(this.children,6),i=r[0],o=r[1],s=r[2],l=r[3],u=r[4],c=r[5],f=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,s),e.setRenderTarget(n,3),e.render(t,l),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(d),e.xr.enabled=f}}]),n}(xi),ea=function(e){m(n,e);var t=v(n);function n(e,r,i,o,a,s,l,u,c,f){var d;return(0,y.Z)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Le,l=void 0!==l?l:nt,(d=t.call(this,e,r,i,o,a,s,l,u,c,f))._needsFlipEnvMap=!0,d.flipY=!1,d}return(0,E.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Ar);ea.prototype.isCubeTexture=!0;var ta=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;return(0,y.Z)(this,n),Number.isInteger(r)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),r=i),o=t.call(this,e,e,r),r=r||{},o.texture=new ea(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),o.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,o.texture.minFilter=void 0!==r.minFilter?r.minFilter:Ue,o.texture._needsFlipEnvMap=!1,o}return(0,E.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=rt,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new zo(5,5,5),a=new qo({name:"CubemapFromEquirect",uniforms:jo(n),vertexShader:r,fragmentShader:i,side:P,blending:U});a.uniforms.tEquirect.value=t;var s=new Ko(o,a),l=t.minFilter;return t.minFilter===We&&(t.minFilter=Ue),new $o(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Rr);ta.prototype.isWebGLCubeRenderTarget=!0;var na=new qr,ra=new Ir,ia=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ci,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ci,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ci,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ci,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ci,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Ci;(0,y.Z)(this,e),this.planes=[t,n,r,i,o,a]}return(0,E.Z)(e,[{key:"set",value:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],d=n[9],h=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,c-s,p-f,y-m).normalize(),t[1].setComponents(a+r,c+s,p+f,y+m).normalize(),t[2].setComponents(a+i,c+l,p+d,y+v).normalize(),t[3].setComponents(a-i,c-l,p-d,y-v).normalize(),t[4].setComponents(a-o,c-u,p-h,y-g).normalize(),t[5].setComponents(a+o,c+u,p+h,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),na.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(na)}},{key:"intersectsSprite",value:function(e){return na.center.set(0,0,0),na.radius=.7071067811865476,na.applyMatrix4(e.matrixWorld),this.intersectsSphere(na)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(ra.x=r.normal.x>0?e.max.x:e.min.x,ra.y=r.normal.y>0?e.max.y:e.min.y,ra.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ra)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function oa(){var e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function aa(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var o=r.get(t);(!o||o.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var a=r.get(t);void 0===a?r.set(t,function(t,r){var i=t.array,o=t.usage,a=e.createBuffer();e.bindBuffer(r,a),e.bufferData(r,i,o),t.onUploadCallback();var s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:(i instanceof Uint8Array||i instanceof Uint8ClampedArray)&&(s=5121),{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,r,i){var o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(a.buffer,t,i),a.version=t.version)}}}}var sa=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,y.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:o,heightSegments:a};for(var s=r/2,l=i/2,u=Math.floor(o),c=Math.floor(a),f=u+1,d=c+1,h=r/u,p=i/c,m=[],v=[],g=[],E=[],A=0;A<d;A++)for(var T=A*p-l,O=0;O<f;O++){var R=O*h-s;v.push(R,-T,0),g.push(0,0,1),E.push(O/u),E.push(1-A/c)}for(var L=0;L<c;L++)for(var S=0;S<u;S++){var b=S+f*L,I=S+f*(L+1),N=S+1+f*(L+1),x=S+1+f*L;m.push(b,I,x),m.push(I,N,x)}return e.setIndex(m),e.setAttribute("position",new ho(v,3)),e.setAttribute("normal",new ho(g,3)),e.setAttribute("uv",new ho(E,2)),e}return(0,E.Z)(n)}(So),la={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), rawDiffuseColor, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), rawDiffuseColor, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSNMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition.xyz / vWorldPosition.w;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n\tfloat ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );\n\tvec3 f0 = vec3( pow( ior - 1.0, 2.0 ) / pow( ior + 1.0, 2.0 ) );\n\tvec3 f90 = vec3( 1.0 );\n\tvec3 f_transmission = totalTransmission * getIBLVolumeRefraction(\n\t\tnormal, v, viewDir, roughnessFactor, diffuseColor.rgb, f0, f90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance);\n\tdiffuseColor.rgb = mix( diffuseColor.rgb, f_transmission, totalTransmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec4 vWorldPosition;\n\tvec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {\n\t\tvec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length(vec3(modelMatrix[0].xyz));\n\t\tmodelScale.y = length(vec3(modelMatrix[1].xyz));\n\t\tmodelScale.z = length(vec3(modelMatrix[2].xyz));\n\t\treturn normalize(refractionVector) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness(float roughness, float ior) {\n\t\treturn roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);\n\t}\n\tvec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {\n\t\tfloat framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);\n\t\treturn texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;\n\t}\n\tvec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {\n\t\tif (attenuationDistance == 0.0) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;\n\t\t\tvec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec3 getIBLVolumeRefraction(vec3 n, vec3 v, vec3 viewDir, float perceptualRoughness, vec3 baseColor, vec3 f0, vec3 f90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec3 attenuationColor, float attenuationDistance) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);\n\t\tvec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);\n\t\tfloat NdotV = saturate(dot(n, viewDir));\n\t\tvec2 brdf = integrateSpecularBRDF(NdotV, perceptualRoughness);\n\t\tvec3 specularColor = f0 * brdf.x + f90 * brdf.y;\n\t\treturn (1.0 - specularColor) * attenuatedColor * baseColor;\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform vec3 attenuationColor;\n\tuniform float attenuationDistance;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <transmission_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef USE_TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t\tfloat thicknessFactor = thickness;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\tvec3 rawDiffuseColor = diffuseColor.rgb;\n\t#include <transmission_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#ifdef USE_TRANSMISSION\n\tvarying vec4 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition;\n#endif\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},ua={common:{diffuse:{value:new $i(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new gr},uv2Transform:{value:new gr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new mr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $i(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $i(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new gr}},sprite:{diffuse:{value:new $i(16777215)},opacity:{value:1},center:{value:new mr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new gr}}},ca={basic:{uniforms:Zo([ua.common,ua.specularmap,ua.envmap,ua.aomap,ua.lightmap,ua.fog]),vertexShader:la.meshbasic_vert,fragmentShader:la.meshbasic_frag},lambert:{uniforms:Zo([ua.common,ua.specularmap,ua.envmap,ua.aomap,ua.lightmap,ua.emissivemap,ua.fog,ua.lights,{emissive:{value:new $i(0)}}]),vertexShader:la.meshlambert_vert,fragmentShader:la.meshlambert_frag},phong:{uniforms:Zo([ua.common,ua.specularmap,ua.envmap,ua.aomap,ua.lightmap,ua.emissivemap,ua.bumpmap,ua.normalmap,ua.displacementmap,ua.fog,ua.lights,{emissive:{value:new $i(0)},specular:{value:new $i(1118481)},shininess:{value:30}}]),vertexShader:la.meshphong_vert,fragmentShader:la.meshphong_frag},standard:{uniforms:Zo([ua.common,ua.envmap,ua.aomap,ua.lightmap,ua.emissivemap,ua.bumpmap,ua.normalmap,ua.displacementmap,ua.roughnessmap,ua.metalnessmap,ua.fog,ua.lights,{emissive:{value:new $i(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:la.meshphysical_vert,fragmentShader:la.meshphysical_frag},toon:{uniforms:Zo([ua.common,ua.aomap,ua.lightmap,ua.emissivemap,ua.bumpmap,ua.normalmap,ua.displacementmap,ua.gradientmap,ua.fog,ua.lights,{emissive:{value:new $i(0)}}]),vertexShader:la.meshtoon_vert,fragmentShader:la.meshtoon_frag},matcap:{uniforms:Zo([ua.common,ua.bumpmap,ua.normalmap,ua.displacementmap,ua.fog,{matcap:{value:null}}]),vertexShader:la.meshmatcap_vert,fragmentShader:la.meshmatcap_frag},points:{uniforms:Zo([ua.points,ua.fog]),vertexShader:la.points_vert,fragmentShader:la.points_frag},dashed:{uniforms:Zo([ua.common,ua.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:la.linedashed_vert,fragmentShader:la.linedashed_frag},depth:{uniforms:Zo([ua.common,ua.displacementmap]),vertexShader:la.depth_vert,fragmentShader:la.depth_frag},normal:{uniforms:Zo([ua.common,ua.bumpmap,ua.normalmap,ua.displacementmap,{opacity:{value:1}}]),vertexShader:la.normal_vert,fragmentShader:la.normal_frag},sprite:{uniforms:Zo([ua.sprite,ua.fog]),vertexShader:la.sprite_vert,fragmentShader:la.sprite_frag},background:{uniforms:{uvTransform:{value:new gr},t2D:{value:null}},vertexShader:la.background_vert,fragmentShader:la.background_frag},cube:{uniforms:Zo([ua.envmap,{opacity:{value:1}}]),vertexShader:la.cube_vert,fragmentShader:la.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:la.equirect_vert,fragmentShader:la.equirect_frag},distanceRGBA:{uniforms:Zo([ua.common,ua.displacementmap,{referencePosition:{value:new Ir},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:la.distanceRGBA_vert,fragmentShader:la.distanceRGBA_frag},shadow:{uniforms:Zo([ua.lights,ua.fog,{color:{value:new $i(0)},opacity:{value:1}}]),vertexShader:la.shadow_vert,fragmentShader:la.shadow_frag}};function fa(e,t,n,r,i){var o,a,s=new $i(0),l=0,u=null,c=0,f=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),d(s,l=t)},getClearAlpha:function(){return l},setClearAlpha:function(e){d(s,l=e)},render:function(n,i){var h=!1,p=!0===i.isScene?i.background:null;p&&p.isTexture&&(p=t.get(p));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(p=null),null===p?d(s,l):p&&p.isColor&&(d(p,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.mapping===Ne)?(void 0===a&&((a=new Ko(new zo(1,1,1),new qo({name:"BackgroundCubeMaterial",uniforms:jo(ca.cube.uniforms),vertexShader:ca.cube.vertexShader,fragmentShader:ca.cube.fragmentShader,side:P,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(a)),a.material.uniforms.envMap.value=p,a.material.uniforms.flipEnvMap.value=p.isCubeTexture&&p._needsFlipEnvMap?-1:1,u===p&&c===p.version&&f===e.toneMapping||(a.material.needsUpdate=!0,u=p,c=p.version,f=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):p&&p.isTexture&&(void 0===o&&((o=new Ko(new sa(2,2),new qo({name:"BackgroundMaterial",uniforms:jo(ca.background.uniforms),vertexShader:ca.background.vertexShader,fragmentShader:ca.background.fragmentShader,side:C,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),u===p&&c===p.version&&f===e.toneMapping||(o.material.needsUpdate=!0,u=p,c=p.version,f=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null))}}}function da(e,t,n,r){var i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=d(null),u=l;function c(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function h(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,i){var o=u.newAttributes,a=u.enabledAttributes,s=u.attributeDivisors;(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function y(){E(),u!==l&&c((u=l).object)}function E(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,f,y,E){var A=!1;if(a){var T=function(t,n,i){var a=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[a];void 0===c&&(c=d(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),u[a]=c);return c}(y,f,l);u!==T&&c((u=T).object),A=function(e,t){var n=u.attributes,r=e.attributes,i=0;for(var o in r){var a=n[o],s=r[o];if(void 0===a)return!0;if(a.attribute!==s)return!0;if(a.data!==s.data)return!0;i++}return u.attributesNum!==i||u.index!==t}(y,E),A&&function(e,t){var n={},r=e.attributes,i=0;for(var o in r){var a=r[o],s={};s.attribute=a,a.data&&(s.data=a.data),n[o]=s,i++}u.attributes=n,u.attributesNum=i,u.index=t}(y,E)}else{var O=!0===l.wireframe;u.geometry===y.id&&u.program===f.id&&u.wireframe===O||(u.geometry=y.id,u.program=f.id,u.wireframe=O,A=!0)}!0===i.isInstancedMesh&&(A=!0),null!==E&&n.update(E,34963),A&&(!function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();var l=s.attributes,u=a.getAttributes(),c=o.defaultAttributeValues;for(var f in u){var d=u[f];if(d>=0){var y=l[f];if(void 0!==y){var E=y.normalized,A=y.itemSize,T=n.get(y);if(void 0===T)continue;var O=T.buffer,R=T.type,L=T.bytesPerElement;if(y.isInterleavedBufferAttribute){var S=y.data,b=S.stride,I=y.offset;S&&S.isInstancedInterleavedBuffer?(m(d,S.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)):p(d),e.bindBuffer(34962,O),g(d,A,R,E,b*L,I*L)}else y.isInstancedBufferAttribute?(m(d,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(d),e.bindBuffer(34962,O),g(d,A,R,E,0,0)}else if("instanceMatrix"===f){var N=n.get(i.instanceMatrix);if(void 0===N)continue;var x=N.buffer,_=N.type;m(d+0,1),m(d+1,1),m(d+2,1),m(d+3,1),e.bindBuffer(34962,x),e.vertexAttribPointer(d+0,4,_,!1,64,0),e.vertexAttribPointer(d+1,4,_,!1,64,16),e.vertexAttribPointer(d+2,4,_,!1,64,32),e.vertexAttribPointer(d+3,4,_,!1,64,48)}else if("instanceColor"===f){var M=n.get(i.instanceColor);if(void 0===M)continue;var w=M.buffer,C=M.type;m(d,1),e.bindBuffer(34962,w),e.vertexAttribPointer(d,3,C,!1,12,0)}else if(void 0!==c){var P=c[f];if(void 0!==P)switch(P.length){case 2:e.vertexAttrib2fv(d,P);break;case 3:e.vertexAttrib3fv(d,P);break;case 4:e.vertexAttrib4fv(d,P);break;default:e.vertexAttrib1fv(d,P)}}}}v()}(i,l,f,y),null!==E&&e.bindBuffer(34963,n.get(E).buffer))},reset:y,resetDefaultState:E,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)f(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:p,disableUnusedAttributes:v}}function ha(e,t,n,r){var i,o=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,a,s){if(0!==s){var l,u;if(o)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,a,s),n.update(a,i,s)}}}function pa(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=o||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),f=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=f>0,E=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:E,floatVertexTextures:y&&E,maxSamples:o?e.getParameter(36183):0}}function ma(e){var t=this,n=null,r=0,i=!1,o=!1,a=new Ci,s=new gr,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var o=null!==e?e.length:0,u=null;if(0!==o){if(u=l.value,!0!==i||null===u){var c=r+4*o,f=n.matrixWorldInverse;s.getNormalMatrix(f),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,h=r;d!==o;++d,h+=4)a.copy(e[d]).applyMatrix4(f,s),a.normal.toArray(u,h),u[h+3]=a.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){var a=0!==e.length||t||0!==r||i;return i=t,n=c(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(t,a,s){var f=t.clippingPlanes,d=t.clipIntersection,h=t.clipShadows,p=e.get(t);if(!i||null===f||0===f.length||o&&!h)o?c(null):u();else{var m=o?0:r,v=4*m,g=p.clippingState||null;l.value=g,g=c(f,a,v,s);for(var y=0;y!==v;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=m}}}function va(e){var t=new WeakMap;function n(e,t){return t===be?e.mapping=Le:t===Ie&&(e.mapping=Se),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var o=i.mapping;if(o===be||o===Ie){if(t.has(i))return n(t.get(i).texture,i.mapping);var a=i.image;if(a&&a.height>0){var s=e.getRenderTarget(),l=new ta(a.height/2);return l.fromEquirectangularTexture(e,i),t.set(i,l),e.setRenderTarget(s),i.addEventListener("dispose",r),n(l.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}function ga(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function ya(e,t,n,r){var i={},o=new WeakMap;function a(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",a),delete i[s.id];var u=o.get(s);u&&(t.remove(u),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],f=s[l+1],d=s[l+2];n.push(c,f,f,d,d,c)}}else{var h=i.array;a=i.version;for(var p=0,m=h.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;n.push(v,g,g,y,y,v)}}var E=new(mo(n)>65535?co:lo)(n,1);E.version=a;var A=o.get(e);A&&t.remove(A),o.set(e,E)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var o in i)for(var a=i[o],s=0,l=a.length;s<l;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=o.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function Ea(e,t,n,r){var i,o,a,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,f;if(s)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,l,o,r*a,u),n.update(l,i,u)}}}function Aa(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Ta(e,t){return e[0]-t[0]}function Oa(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ra(e){for(var t={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,o,a,s){var l=i.morphTargetInfluences,u=void 0===l?0:l.length,c=t[o.id];if(void 0===c){c=[];for(var f=0;f<u;f++)c[f]=[f,0];t[o.id]=c}for(var d=0;d<u;d++){var h=c[d];h[0]=d,h[1]=l[d]}c.sort(Oa);for(var p=0;p<8;p++)p<u&&c[p][1]?(r[p][0]=c[p][0],r[p][1]=c[p][1]):(r[p][0]=Number.MAX_SAFE_INTEGER,r[p][1]=0);r.sort(Ta);for(var m=a.morphTargets&&o.morphAttributes.position,v=a.morphNormals&&o.morphAttributes.normal,g=0,y=0;y<8;y++){var E=r[y],A=E[0],T=E[1];A!==Number.MAX_SAFE_INTEGER&&T?(m&&o.getAttribute("morphTarget"+y)!==m[A]&&o.setAttribute("morphTarget"+y,m[A]),v&&o.getAttribute("morphNormal"+y)!==v[A]&&o.setAttribute("morphNormal"+y,v[A]),n[y]=T,g+=T):(m&&!0===o.hasAttribute("morphTarget"+y)&&o.deleteAttribute("morphTarget"+y),v&&!0===o.hasAttribute("morphNormal"+y)&&o.deleteAttribute("morphNormal"+y),n[y]=0)}var O=o.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",O),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function La(e,t,n,r){var i=new WeakMap;function o(e){var t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var a=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==a&&(t.update(l),i.set(l,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}ca.physical={uniforms:Zo([ca.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new mr(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new $i(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new mr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new $i(0)}}]),vertexShader:la.meshphysical_vert,fragmentShader:la.meshphysical_frag};var Sa=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,y.Z)(this,n),(e=t.call(this,null)).image={data:r,width:i,height:o,depth:a},e.magFilter=Ce,e.minFilter=Ce,e.wrapR=Me,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return(0,E.Z)(n)}(Ar);Sa.prototype.isDataTexture2DArray=!0;var ba=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,y.Z)(this,n),(e=t.call(this,null)).image={data:r,width:i,height:o,depth:a},e.magFilter=Ce,e.minFilter=Ce,e.wrapR=Me,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.needsUpdate=!0,e}return(0,E.Z)(n)}(Ar);ba.prototype.isDataTexture3D=!0;var Ia=new Ar,Na=new Sa,xa=new ba,_a=new ea,Ma=[],wa=[],Ca=new Float32Array(16),Pa=new Float32Array(9),Da=new Float32Array(4);function ka(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=Ma[i];if(void 0===o&&(o=new Float32Array(i),Ma[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Ha(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Ua(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Ba(e,t){var n=wa[t];void 0===n&&(n=new Int32Array(t),wa[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Ga(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Wa(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ha(n,t))return;e.uniform2fv(this.addr,t),Ua(n,t)}}function Fa(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ha(n,t))return;e.uniform3fv(this.addr,t),Ua(n,t)}}function Ka(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ha(n,t))return;e.uniform4fv(this.addr,t),Ua(n,t)}}function Va(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ha(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ua(n,t)}else{if(Ha(n,r))return;Da.set(r),e.uniformMatrix2fv(this.addr,!1,Da),Ua(n,r)}}function za(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ha(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ua(n,t)}else{if(Ha(n,r))return;Pa.set(r),e.uniformMatrix3fv(this.addr,!1,Pa),Ua(n,r)}}function ja(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ha(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ua(n,t)}else{if(Ha(n,r))return;Ca.set(r),e.uniformMatrix4fv(this.addr,!1,Ca),Ua(n,r)}}function Za(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ya(e,t){var n=this.cache;Ha(n,t)||(e.uniform2iv(this.addr,t),Ua(n,t))}function qa(e,t){var n=this.cache;Ha(n,t)||(e.uniform3iv(this.addr,t),Ua(n,t))}function Xa(e,t){var n=this.cache;Ha(n,t)||(e.uniform4iv(this.addr,t),Ua(n,t))}function Qa(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Ja(e,t){var n=this.cache;Ha(n,t)||(e.uniform2uiv(this.addr,t),Ua(n,t))}function $a(e,t){var n=this.cache;Ha(n,t)||(e.uniform3uiv(this.addr,t),Ua(n,t))}function es(e,t){var n=this.cache;Ha(n,t)||(e.uniform4uiv(this.addr,t),Ua(n,t))}function ts(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||Ia,i)}function ns(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||xa,i)}function rs(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||_a,i)}function is(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Na,i)}function os(e,t){e.uniform1fv(this.addr,t)}function as(e,t){var n=ka(t,this.size,2);e.uniform2fv(this.addr,n)}function ss(e,t){var n=ka(t,this.size,3);e.uniform3fv(this.addr,n)}function ls(e,t){var n=ka(t,this.size,4);e.uniform4fv(this.addr,n)}function us(e,t){var n=ka(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function cs(e,t){var n=ka(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function fs(e,t){var n=ka(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ds(e,t){e.uniform1iv(this.addr,t)}function hs(e,t){e.uniform2iv(this.addr,t)}function ps(e,t){e.uniform3iv(this.addr,t)}function ms(e,t){e.uniform4iv(this.addr,t)}function vs(e,t){e.uniform1uiv(this.addr,t)}function gs(e,t){e.uniform2uiv(this.addr,t)}function ys(e,t){e.uniform3uiv(this.addr,t)}function Es(e,t){e.uniform4uiv(this.addr,t)}function As(e,t,n){var r=t.length,i=Ba(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTexture2D(t[o]||Ia,i[o])}function Ts(e,t,n){var r=t.length,i=Ba(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTextureCube(t[o]||_a,i[o])}function Os(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Ga;case 35664:return Wa;case 35665:return Fa;case 35666:return Ka;case 35674:return Va;case 35675:return za;case 35676:return ja;case 5124:case 35670:return Za;case 35667:case 35671:return Ya;case 35668:case 35672:return qa;case 35669:case 35673:return Xa;case 5125:return Qa;case 36294:return Ja;case 36295:return $a;case 36296:return es;case 35678:case 36198:case 36298:case 36306:case 35682:return ts;case 35679:case 36299:case 36307:return ns;case 35680:case 36300:case 36308:case 36293:return rs;case 36289:case 36303:case 36311:case 36292:return is}}(t.type)}function Rs(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return os;case 35664:return as;case 35665:return ss;case 35666:return ls;case 35674:return us;case 35675:return cs;case 35676:return fs;case 5124:case 35670:return ds;case 35667:case 35671:return hs;case 35668:case 35672:return ps;case 35669:case 35673:return ms;case 5125:return vs;case 36294:return gs;case 36295:return ys;case 36296:return Es;case 35678:case 36198:case 36298:case 36306:case 35682:return As;case 35680:case 36300:case 36308:case 36293:return Ts}}(t.type)}function Ls(e){this.id=e,this.seq=[],this.map={}}Rs.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Ua(t,e)},Ls.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var Ss=/(\w+)(\])?(\[|\.)?/g;function bs(e,t){e.seq.push(t),e.map[t.id]=t}function Is(e,t,n){var r=e.name,i=r.length;for(Ss.lastIndex=0;;){var o=Ss.exec(r),a=Ss.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===i){bs(n,void 0===u?new Os(s,e,t):new Rs(s,e,t));break}var c=n.map[s];void 0===c&&bs(n,c=new Ls(s)),n=c}}function Ns(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);Is(i,e.getUniformLocation(t,i.name),this)}}function xs(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}Ns.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},Ns.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Ns.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},Ns.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var _s=0;function Ms(e){switch(e){case vn:return["Linear","( value )"];case gn:return["sRGB","( value )"];case En:return["RGBE","( value )"];case Tn:return["RGBM","( value, 7.0 )"];case On:return["RGBM","( value, 16.0 )"];case Rn:return["RGBD","( value, 256.0 )"];case yn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case An:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function ws(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Cs(e,t){var n=Ms(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ps(e,t){var n=Ms(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ds(e,t){var n;switch(t){case ye:n="Linear";break;case Ee:n="Reinhard";break;case Ae:n="OptimizedCineon";break;case Te:n="ACESFilmic";break;case Oe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ks(e){return""!==e}function Hs(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Us(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Bs=/^[ \t]*#include +<([\w\d./]+)>/gm;function Gs(e){return e.replace(Bs,Ws)}function Ws(e,t){var n=la[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Gs(n)}var Fs=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ks=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Vs(e){return e.replace(Ks,js).replace(Fs,zs)}function zs(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),js(e,t,n,r)}function js(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Zs(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Ys(e,t,n,r){var i,o,a=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===_?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===M?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===w&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Le:case Se:t="ENVMAP_TYPE_CUBE";break;case Ne:case xe:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Se:case xe:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case pe:t="ENVMAP_BLENDING_MULTIPLY";break;case me:t="ENVMAP_BLENDING_MIX";break;case ve:t="ENVMAP_BLENDING_ADD"}return t}(n),p=e.gammaFactor>0?e.gammaFactor:1,m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission>0)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ks).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=a.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[v].filter(ks).join("\n")).length>0&&(i+="\n"),(o=[m,v].filter(ks).join("\n")).length>0&&(o+="\n")):(i=[Zs(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ks).join("\n"),o=[m,Zs(n),"#define SHADER_NAME "+n.shaderName,v,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ge?"#define TONE_MAPPING":"",n.toneMapping!==ge?la.tonemapping_pars_fragment:"",n.toneMapping!==ge?Ds("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",la.encodings_pars_fragment,n.map?Cs("mapTexelToLinear",n.mapEncoding):"",n.matcap?Cs("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Cs("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Cs("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Cs("lightMapTexelToLinear",n.lightMapEncoding):"",Ps("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ks).join("\n")),l=Us(l=Hs(l=Gs(l),n),n),u=Us(u=Hs(u=Gs(u),n),n),l=Vs(l),u=Vs(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#define varying in",n.glslVersion===er?"":"out highp vec4 pc_fragColor;",n.glslVersion===er?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var E,A,T=y+o+u,O=xs(a,35633,y+i+l),R=xs(a,35632,T);if(a.attachShader(g,O),a.attachShader(g,R),void 0!==n.index0AttributeName?a.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&a.bindAttribLocation(g,0,"position"),a.linkProgram(g),e.debug.checkShaderErrors){var L=a.getProgramInfoLog(g).trim(),S=a.getShaderInfoLog(O).trim(),b=a.getShaderInfoLog(R).trim(),I=!0,N=!0;if(!1===a.getProgramParameter(g,35714)){I=!1;var x=ws(a,O,"vertex"),C=ws(a,R,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(g,35715),"gl.getProgramInfoLog",L,x,C)}else""!==L?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",L):""!==S&&""!==b||(N=!1);N&&(this.diagnostics={runnable:I,programLog:L,vertexShader:{log:S,prefix:i},fragmentShader:{log:b,prefix:o}})}return a.deleteShader(O),a.deleteShader(R),this.getUniforms=function(){return void 0===E&&(E=new Ns(a,g)),E},this.getAttributes=function(){return void 0===A&&(A=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(a,g)),A},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=_s++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=O,this.fragmentShader=R,this}function qs(e,t,n,r,i,o){var a=[],s=r.isWebGL2,l=r.logarithmicDepthBuffer,u=r.floatVertexTextures,c=r.maxVertexUniforms,f=r.vertexTextures,d=r.precision,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function m(e){var t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=vn,t}return{getParameters:function(i,a,p,v,g){var y,E,A=v.fog,T=i.isMeshStandardMaterial?v.environment:null,O=t.get(i.envMap||T),R=h[i.type],L=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(u)return 1024;var n=c,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0;if(null!==i.precision&&(d=r.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead."),R){var S=ca[R];y=S.vertexShader,E=S.fragmentShader}else y=i.vertexShader,E=i.fragmentShader;var b=e.getRenderTarget();return{isWebGL2:s,shaderID:R,shaderName:i.type,vertexShader:y,fragmentShader:E,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:d,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:f,outputEncoding:null!==b?m(b.texture):e.outputEncoding,map:!!i.map,mapEncoding:m(i.map),matcap:!!i.matcap,matcapEncoding:m(i.matcap),envMap:!!O,envMapMode:O&&O.mapping,envMapEncoding:m(O),envMapCubeUV:!!O&&(O.mapping===Ne||O.mapping===xe),lightMap:!!i.lightMap,lightMapEncoding:m(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:m(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===In,tangentSpaceNormalMap:i.normalMapType===bn,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmission:!!i.transmission,transmissionMap:!!i.transmissionMap,thicknessMap:!!i.thicknessMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&g.geometry&&g.geometry.attributes.color&&4===g.geometry.attributes.color.itemSize,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap||!!i.transmission||!!i.transmissionMap||!!i.thicknessMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmission||i.transmissionMap||i.thicknessMap)&&!!i.displacementMap,fog:!!A,useFog:i.fog,fogExp2:A&&A.isFogExp2,flatShading:!!i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:l,skinning:!0===g.isSkinnedMesh&&L>0,maxBones:L,useVertexTexture:u,morphTargets:i.morphTargets,morphNormals:i.morphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:ge,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===D,flipSided:i.side===P,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var i=0;i<p.length;i++)n.push(t[p[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=h[e.type];if(n){var r=ca[n];t=Yo.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,o=0,s=a.length;o<s;o++){var l=a[o];if(l.cacheKey===n){++(r=l).usedTimes;break}}return void 0===r&&(r=new Ys(e,n,t,i),a.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=a.indexOf(e);a[t]=a[a.length-1],a.pop(),e.destroy()}},programs:a}}function Xs(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Qs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Js(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function $s(e){var t=[],n=0,r=[],i=[],o=[],a={id:-1};function s(r,i,o,s,l,u){var c=t[n],f=e.get(o);return void 0===c?(c={id:r.id,object:r,geometry:i,material:o,program:f.program||a,groupOrder:s,renderOrder:r.renderOrder,z:l,group:u},t[n]=c):(c.id=r.id,c.object=r,c.geometry=i,c.material=o,c.program=f.program||a,c.groupOrder=s,c.renderOrder=r.renderOrder,c.z=l,c.group=u),n++,c}return{opaque:r,transmissive:i,transparent:o,init:function(){n=0,r.length=0,i.length=0,o.length=0},push:function(e,t,n,a,l,u){var c=s(e,t,n,a,l,u);n.transmission>0?i.push(c):!0===n.transparent?o.push(c):r.push(c)},unshift:function(e,t,n,a,l,u){var c=s(e,t,n,a,l,u);n.transmission>0?i.unshift(c):!0===n.transparent?o.unshift(c):r.unshift(c)},finish:function(){for(var e=n,r=t.length;e<r;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Qs),i.length>1&&i.sort(t||Js),o.length>1&&o.sort(t||Js)}}}function el(e){var t=new WeakMap;return{get:function(n,r){var i;return!1===t.has(n)?(i=new $s(e),t.set(n,[i])):r>=t.get(n).length?(i=new $s(e),t.get(n).push(i)):i=t.get(n)[r],i},dispose:function(){t=new WeakMap}}}function tl(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Ir,color:new $i};break;case"SpotLight":n={position:new Ir,direction:new Ir,color:new $i,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ir,color:new $i,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ir,skyColor:new $i,groundColor:new $i};break;case"RectAreaLight":n={color:new $i,position:new Ir,halfWidth:new Ir,halfHeight:new Ir}}return e[t.id]=n,n}}}var nl=0;function rl(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function il(e,t){for(var n=new tl,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)i.probe.push(new Ir);var a=new Ir,s=new ii,l=new ii;return{setup:function(o){for(var a=0,s=0,l=0,u=0;u<9;u++)i.probe[u].set(0,0,0);var c=0,f=0,d=0,h=0,p=0,m=0,v=0,g=0;o.sort(rl);for(var y=0,E=o.length;y<E;y++){var A=o[y],T=A.color,O=A.intensity,R=A.distance,L=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)a+=T.r*O,s+=T.g*O,l+=T.b*O;else if(A.isLightProbe)for(var S=0;S<9;S++)i.probe[S].addScaledVector(A.sh.coefficients[S],O);else if(A.isDirectionalLight){var b=n.get(A);if(b.color.copy(A.color).multiplyScalar(A.intensity),A.castShadow){var I=A.shadow,N=r.get(A);N.shadowBias=I.bias,N.shadowNormalBias=I.normalBias,N.shadowRadius=I.radius,N.shadowMapSize=I.mapSize,i.directionalShadow[c]=N,i.directionalShadowMap[c]=L,i.directionalShadowMatrix[c]=A.shadow.matrix,m++}i.directional[c]=b,c++}else if(A.isSpotLight){var x=n.get(A);if(x.position.setFromMatrixPosition(A.matrixWorld),x.color.copy(T).multiplyScalar(O),x.distance=R,x.coneCos=Math.cos(A.angle),x.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),x.decay=A.decay,A.castShadow){var _=A.shadow,M=r.get(A);M.shadowBias=_.bias,M.shadowNormalBias=_.normalBias,M.shadowRadius=_.radius,M.shadowMapSize=_.mapSize,i.spotShadow[d]=M,i.spotShadowMap[d]=L,i.spotShadowMatrix[d]=A.shadow.matrix,g++}i.spot[d]=x,d++}else if(A.isRectAreaLight){var w=n.get(A);w.color.copy(T).multiplyScalar(O),w.halfWidth.set(.5*A.width,0,0),w.halfHeight.set(0,.5*A.height,0),i.rectArea[h]=w,h++}else if(A.isPointLight){var C=n.get(A);if(C.color.copy(A.color).multiplyScalar(A.intensity),C.distance=A.distance,C.decay=A.decay,A.castShadow){var P=A.shadow,D=r.get(A);D.shadowBias=P.bias,D.shadowNormalBias=P.normalBias,D.shadowRadius=P.radius,D.shadowMapSize=P.mapSize,D.shadowCameraNear=P.camera.near,D.shadowCameraFar=P.camera.far,i.pointShadow[f]=D,i.pointShadowMap[f]=L,i.pointShadowMatrix[f]=A.shadow.matrix,v++}i.point[f]=C,f++}else if(A.isHemisphereLight){var k=n.get(A);k.skyColor.copy(A.color).multiplyScalar(O),k.groundColor.copy(A.groundColor).multiplyScalar(O),i.hemi[p]=k,p++}}h>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=ua.LTC_FLOAT_1,i.rectAreaLTC2=ua.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=ua.LTC_HALF_1,i.rectAreaLTC2=ua.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=a,i.ambient[1]=s,i.ambient[2]=l;var H=i.hash;H.directionalLength===c&&H.pointLength===f&&H.spotLength===d&&H.rectAreaLength===h&&H.hemiLength===p&&H.numDirectionalShadows===m&&H.numPointShadows===v&&H.numSpotShadows===g||(i.directional.length=c,i.spot.length=d,i.rectArea.length=h,i.point.length=f,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotShadowMatrix.length=g,H.directionalLength=c,H.pointLength=f,H.spotLength=d,H.rectAreaLength=h,H.hemiLength=p,H.numDirectionalShadows=m,H.numPointShadows=v,H.numSpotShadows=g,i.version=nl++)},setupView:function(e,t){for(var n=0,r=0,o=0,u=0,c=0,f=t.matrixWorldInverse,d=0,h=e.length;d<h;d++){var p=e[d];if(p.isDirectionalLight){var m=i.directional[n];m.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(a),m.direction.transformDirection(f),n++}else if(p.isSpotLight){var v=i.spot[o];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(f),v.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(a),v.direction.transformDirection(f),o++}else if(p.isRectAreaLight){var g=i.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(f),l.identity(),s.copy(p.matrixWorld),s.premultiply(f),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(f),r++}else if(p.isHemisphereLight){var E=i.hemi[c];E.direction.setFromMatrixPosition(p.matrixWorld),E.direction.transformDirection(f),E.direction.normalize(),c++}}},state:i}}function ol(e,t){var n=new il(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(){n.setup(r)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function al(e,t){var n=new WeakMap;return{get:function(r){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(i=new ol(e,t),n.set(r,[i])):o>=n.get(r).length?(i=new ol(e,t),n.get(r).push(i)):i=n.get(r)[o],i},dispose:function(){n=new WeakMap}}}var sl=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=Ln,r.morphTargets=!1,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(ji);sl.prototype.isMeshDepthMaterial=!0;var ll=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new Ir,r.nearDistance=1,r.farDistance=1e3,r.morphTargets=!1,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(ji);ll.prototype.isMeshDistanceMaterial=!0;function ul(e,t,n){var r=new ia,i=new mr,o=new mr,a=new Or,s=[],l=[],u={},c=n.maxTextureSize,f={0:P,1:C,2:D},d=new qo({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new mr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONTAL_PASS=1;var p=new So;p.setAttribute("position",new ro(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new Ko(p,d),v=this;function g(n,r){var i=t.update(m);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,m,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,m,null)}function y(e){var t=e<<0,n=s[t];return void 0===n&&(n=new sl({depthPacking:Sn,morphTargets:e}),s[t]=n),n}function E(e){var t=e<<0,n=l[t];return void 0===n&&(n=new ll({morphTargets:e}),l[t]=n),n}function A(t,n,r,i,o,a,s){var l=null,c=y,d=t.customDepthMaterial;if(!0===i.isPointLight&&(c=E,d=t.customDistanceMaterial),void 0===d){var h=!1;!0===r.morphTargets&&(h=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0),l=c(h)}else l=d;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var p=l.uuid,m=r.uuid,v=u[p];void 0===v&&(v={},u[p]=v);var g=v[m];void 0===g&&(g=l.clone(),v[m]=g),l=g}return l.visible=r.visible,l.wireframe=r.wireframe,l.side=s===w?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:f[r.side],l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=o,l.farDistance=a),l}function T(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===w)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,f=0,d=c.length;f<d;f++){var h=c[f],p=u[h.materialIndex];if(p&&p.visible){var m=A(n,l,p,a,o.near,o.far,s);e.renderBufferDirect(o,null,l,m,n,h)}}else if(u.visible){var v=A(n,l,u,a,o.near,o.far,s);e.renderBufferDirect(o,null,l,v,n,null)}}for(var g=n.children,y=0,E=g.length;y<E;y++)T(g[y],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_,this.render=function(t,n,s){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),d=e.state;d.setBlending(U),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var h=0,p=t.length;h<p;h++){var m=t[h],y=m.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var E=y.getFrameExtents();if(i.multiply(E),o.copy(y.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/E.x),i.x=o.x*E.x,y.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/E.y),i.y=o.y*E.y,y.mapSize.y=o.y)),null===y.map&&!y.isPointLightShadow&&this.type===w){var A={minFilter:Ue,magFilter:Ue,format:rt};y.map=new Rr(i.x,i.y,A),y.map.texture.name=m.name+".shadowMap",y.mapPass=new Rr(i.x,i.y,A),y.camera.updateProjectionMatrix()}if(null===y.map){var O={minFilter:Ce,magFilter:Ce,format:rt};y.map=new Rr(i.x,i.y,O),y.map.texture.name=m.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var R=y.getViewportCount(),L=0;L<R;L++){var S=y.getViewport(L);a.set(o.x*S.x,o.y*S.y,o.x*S.z,o.y*S.w),d.viewport(a),y.updateMatrices(m,L),r=y.getFrustum(),T(n,s,y.camera,m,this.type)}y.isPointLightShadow||this.type!==w||g(y,s),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}v.needsUpdate=!1,e.setRenderTarget(l,u,f)}}}function cl(e,t,n){var r,i,a=n.isWebGL2;var s=new function(){var t=!1,n=new Or,r=null,i=new Or(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},l=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?Te(2929):Oe(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case ae:e.depthFunc(512);break;case se:e.depthFunc(519);break;case le:e.depthFunc(513);break;case ue:e.depthFunc(515);break;case ce:e.depthFunc(514);break;case fe:e.depthFunc(518);break;case de:e.depthFunc(516);break;case he:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?Te(2960):Oe(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null}}},c={},f=null,d={},h=null,p=!1,m=null,v=null,g=null,y=null,E=null,A=null,T=null,O=!1,R=null,L=null,N=null,x=null,_=null,M=e.getParameter(35661),w=!1,C=0,k=e.getParameter(7938);-1!==k.indexOf("WebGL")?(C=parseFloat(/^WebGL (\d)/.exec(k)[1]),w=C>=1):-1!==k.indexOf("OpenGL ES")&&(C=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),w=C>=2);var H=null,pe={},me=e.getParameter(3088),ve=e.getParameter(2978),ge=(new Or).fromArray(me),ye=(new Or).fromArray(ve);function Ee(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var Ae={};function Te(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function Oe(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}Ae[3553]=Ee(3553,3553,1),Ae[34067]=Ee(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Te(2929),l.setFunc(ue),Ie(!1),Ne(b),Te(2884),be(U);var Re=(r={},(0,o.Z)(r,V,32774),(0,o.Z)(r,z,32778),(0,o.Z)(r,j,32779),r);if(a)Re[Z]=32775,Re[Y]=32776;else{var Le=t.get("EXT_blend_minmax");null!==Le&&(Re[Z]=Le.MIN_EXT,Re[Y]=Le.MAX_EXT)}var Se=(i={},(0,o.Z)(i,q,0),(0,o.Z)(i,X,1),(0,o.Z)(i,Q,768),(0,o.Z)(i,$,770),(0,o.Z)(i,oe,776),(0,o.Z)(i,re,774),(0,o.Z)(i,te,772),(0,o.Z)(i,J,769),(0,o.Z)(i,ee,771),(0,o.Z)(i,ie,775),(0,o.Z)(i,ne,773),i);function be(t,n,r,i,o,a,s,l){if(t!==U){if(!1===p&&(Te(3042),p=!0),t===K)o=o||n,a=a||r,s=s||i,n===v&&o===E||(e.blendEquationSeparate(Re[n],Re[o]),v=n,E=o),r===g&&i===y&&a===A&&s===T||(e.blendFuncSeparate(Se[r],Se[i],Se[a],Se[s]),g=r,y=i,A=a,T=s),m=t,O=null;else if(t!==m||l!==O){if(v===V&&E===V||(e.blendEquation(32774),v=V,E=V),l)switch(t){case B:e.blendFuncSeparate(1,771,1,771);break;case G:e.blendFunc(1,1);break;case W:e.blendFuncSeparate(0,0,769,771);break;case F:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case B:e.blendFuncSeparate(770,771,1,771);break;case G:e.blendFunc(770,1);break;case W:e.blendFunc(0,769);break;case F:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,y=null,A=null,T=null,m=t,O=l}}else!0===p&&(Oe(3042),p=!1)}function Ie(t){R!==t&&(t?e.frontFace(2304):e.frontFace(2305),R=t)}function Ne(t){t!==S?(Te(2884),t!==L&&(t===b?e.cullFace(1029):t===I?e.cullFace(1028):e.cullFace(1032))):Oe(2884),L=t}function xe(t,n,r){t?(Te(32823),x===n&&_===r||(e.polygonOffset(n,r),x=n,_=r)):Oe(32823)}function _e(t){void 0===t&&(t=33984+M-1),H!==t&&(e.activeTexture(t),H=t)}return{buffers:{color:s,depth:l,stencil:u},enable:Te,disable:Oe,bindFramebuffer:function(t,n){return null===n&&null!==f&&(n=f),d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,a&&(36009===t&&(d[36160]=n),36160===t&&(d[36009]=n)),!0)},bindXRFramebuffer:function(t){t!==f&&(e.bindFramebuffer(36160,t),f=t)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:be,setMaterial:function(e,t){e.side===D?Oe(2884):Te(2884);var n=e.side===P;t&&(n=!n),Ie(n),e.blending===B&&!1===e.transparent?be(U):be(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),l.setFunc(e.depthFunc),l.setTest(e.depthTest),l.setMask(e.depthWrite),s.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),xe(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?Te(32926):Oe(32926)},setFlipSided:Ie,setCullFace:Ne,setLineWidth:function(t){t!==N&&(w&&e.lineWidth(t),N=t)},setPolygonOffset:xe,setScissorTest:function(e){e?Te(3089):Oe(3089)},activeTexture:_e,bindTexture:function(t,n){null===H&&_e();var r=pe[H];void 0===r&&(r={type:void 0,texture:void 0},pe[H]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||Ae[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=pe[H];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===ge.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ge.copy(t))},viewport:function(t){!1===ye.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ye.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},H=null,pe={},f=null,d={},h=null,p=!1,m=null,v=null,g=null,y=null,E=null,A=null,T=null,O=!1,R=null,L=null,N=null,x=null,_=null,ge.set(0,0,e.canvas.width,e.canvas.height),ye.set(0,0,e.canvas.width,e.canvas.height),s.reset(),l.reset(),u.reset()}}}function fl(e,t,n,r,i,a,s){var l,u,c,f=i.isWebGL2,d=i.maxTextures,h=i.maxCubemapSize,p=i.maxTextureSize,m=i.maxSamples,v=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(W){}function y(e,t){return g?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function E(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?hr:Math.floor,a=o(i*e.width),s=o(i*e.height);void 0===c&&(c=y(a,s));var l=n?y(a,s):c;return l.width=a,l.height=s,l.getContext("2d").drawImage(e,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function A(e){return fr(e.width)&&fr(e.height)}function T(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ce&&e.minFilter!==Ue}function O(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log2(Math.max(i,o))}function R(n,r,i){if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function L(e){return e===Ce||e===Pe||e===ke?9728:9729}function S(t){var n=t.target;n.removeEventListener("dispose",S),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&v.delete(n),s.memory.textures--}function b(t){var n=t.target;n.removeEventListener("dispose",b),function(t){var n=t.texture,i=r.get(t),o=r.get(n);if(!t)return;void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),s.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)e.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[a]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var l=0,u=n.length;l<u;l++){var c=r.get(n[l]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),s.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}var I=0;function N(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=s.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void P(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function x(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,i){if(6!==r.image.length)return;C(t,r),n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,l=[],u=0;u<6;u++)l[u]=o||s?s?r.image[u].image:r.image[u]:E(r.image[u],!1,!0,h);var c,d=l[0],p=A(d)||f,m=a.convert(r.format),v=a.convert(r.type),g=R(r.internalFormat,m,v);if(w(34067,r,p),o){for(var y=0;y<6;y++){c=l[y].mipmaps;for(var L=0;L<c.length;L++){var S=c[L];r.format!==rt&&r.format!==nt?null!==m?n.compressedTexImage2D(34069+y,L,g,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,L,g,S.width,S.height,0,m,v,S.data)}}t.__maxMipLevel=c.length-1}else{c=r.mipmaps;for(var b=0;b<6;b++)if(s){n.texImage2D(34069+b,0,g,l[b].width,l[b].height,0,m,v,l[b].data);for(var I=0;I<c.length;I++){var N=c[I].image[b].image;n.texImage2D(34069+b,I+1,g,N.width,N.height,0,m,v,N.data)}}else{n.texImage2D(34069+b,0,g,m,v,l[b]);for(var x=0;x<c.length;x++){var _=c[x];n.texImage2D(34069+b,x+1,g,m,v,_.image[b])}}t.__maxMipLevel=c.length}T(r,p)&&O(34067,r,d.width,d.height);t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(o,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture))}var _=(l={},(0,o.Z)(l,_e,10497),(0,o.Z)(l,Me,33071),(0,o.Z)(l,we,33648),l),M=(u={},(0,o.Z)(u,Ce,9728),(0,o.Z)(u,Pe,9984),(0,o.Z)(u,ke,9986),(0,o.Z)(u,Ue,9729),(0,o.Z)(u,Be,9985),(0,o.Z)(u,We,9987),u);function w(n,o,a){if(a?(e.texParameteri(n,10242,_[o.wrapS]),e.texParameteri(n,10243,_[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,_[o.wrapR]),e.texParameteri(n,10240,M[o.magFilter]),e.texParameteri(n,10241,M[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===Me&&o.wrapT===Me||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,L(o.magFilter)),e.texParameteri(n,10241,L(o.minFilter)),o.minFilter!==Ce&&o.minFilter!==Ue&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(o.type===qe&&!1===t.has("OES_texture_float_linear"))return;if(!1===f&&o.type===Xe&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function C(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",S),t.__webglTexture=e.createTexture(),s.memory.textures++)}function P(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),C(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var s,l=function(e){return!f&&(e.wrapS!==Me||e.wrapT!==Me||e.minFilter!==Ce&&e.minFilter!==Ue)}(r)&&!1===A(r.image),u=E(r.image,l,!1,p),c=A(u)||f,d=a.convert(r.format),h=a.convert(r.type),m=R(r.internalFormat,d,h);w(o,r,c);var v=r.mipmaps;if(r.isDepthTexture)m=6402,f?m=r.type===qe?36012:r.type===Ye?33190:r.type===et?35056:33189:r.type===qe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===st&&6402===m&&r.type!==je&&r.type!==Ye&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=je,h=a.convert(r.type)),r.format===lt&&6402===m&&(m=34041,r.type!==et&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=et,h=a.convert(r.type))),n.texImage2D(3553,0,m,u.width,u.height,0,d,h,null);else if(r.isDataTexture)if(v.length>0&&c){for(var g=0,y=v.length;g<y;g++)s=v[g],n.texImage2D(3553,g,m,s.width,s.height,0,d,h,s.data);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,u.width,u.height,0,d,h,u.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var L=0,S=v.length;L<S;L++)s=v[L],r.format!==rt&&r.format!==nt?null!==d?n.compressedTexImage2D(3553,L,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,L,m,s.width,s.height,0,d,h,s.data);t.__maxMipLevel=v.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,u.width,u.height,u.depth,0,d,h,u.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,u.width,u.height,u.depth,0,d,h,u.data),t.__maxMipLevel=0;else if(v.length>0&&c){for(var b=0,I=v.length;b<I;b++)s=v[b],n.texImage2D(3553,b,m,d,h,s);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,d,h,u),t.__maxMipLevel=0;T(r,c)&&O(o,r,u.width,u.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function D(t,i,o,s,l){var u=a.convert(o.format),c=a.convert(o.type),f=R(o.internalFormat,u,c);32879===l||35866===l?n.texImage3D(l,0,f,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,f,i.width,i.height,0,u,c,null),n.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function k(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===qe?i=36012:o.type===Ye&&(i=33190));var s=U(n);e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var l=U(n);e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var u=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,c=a.convert(u.format),f=a.convert(u.type),d=R(u.internalFormat,c,f);if(r){var h=U(n);e.renderbufferStorageMultisample(36161,h,d,n.width,n.height)}else e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function H(t){var i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),N(i.depthTexture,0);var o=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===st)e.framebufferTexture2D(36160,36096,3553,o,0);else{if(i.depthTexture.format!==lt)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)n.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),k(i.__webglDepthbuffer[a],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),k(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function U(e){return f&&e.isWebGLMultisampleRenderTarget?Math.min(m,e.samples):0}var B=!1,G=!1;this.allocateTextureUnit=function(){var e=I;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),I+=1,e},this.resetTextureUnits=function(){I=0},this.setTexture2D=N,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=x,this.setupRenderTarget=function(t){var o=t.texture,l=r.get(t),u=r.get(o);t.addEventListener("dispose",b),!0!==t.isWebGLMultipleRenderTargets&&(u.__webglTexture=e.createTexture(),u.__version=o.version,s.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,h=!0===t.isWebGLMultisampleRenderTarget,p=o.isDataTexture3D||o.isDataTexture2DArray,m=A(t)||f;if(!f||o.format!==nt||o.type!==qe&&o.type!==Xe||(o.format=rt,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){l.__webglFramebuffer=[];for(var v=0;v<6;v++)l.__webglFramebuffer[v]=e.createFramebuffer()}else if(l.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers)for(var g=t.texture,y=0,E=g.length;y<E;y++){var L=r.get(g[y]);void 0===L.__webglTexture&&(L.__webglTexture=e.createTexture(),s.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(h)if(f){l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer);var S=a.convert(o.format),I=a.convert(o.type),N=R(o.internalFormat,S,I),x=U(t);e.renderbufferStorageMultisample(36161,x,N,t.width,t.height),n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),k(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,u.__webglTexture),w(34067,o,m);for(var _=0;_<6;_++)D(l.__webglFramebuffer[_],t,o,36064,34069+_);T(o,m)&&O(34067,o,t.width,t.height),n.bindTexture(34067,null)}else if(d){for(var M=t.texture,C=0,P=M.length;C<P;C++){var B=M[C],G=r.get(B);n.bindTexture(3553,G.__webglTexture),w(3553,B,m),D(l.__webglFramebuffer,t,B,36064+C,3553),T(B,m)&&O(3553,B,t.width,t.height)}n.bindTexture(3553,null)}else{var W=3553;if(p)if(f)W=o.isDataTexture3D?32879:35866;else console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.");n.bindTexture(W,u.__webglTexture),w(W,o,m),D(l.__webglFramebuffer,t,o,36064,W),T(o,m)&&O(3553,o,t.width,t.height),n.bindTexture(3553,null)}t.depthBuffer&&H(t)},this.updateRenderTargetMipmap=function(e){for(var t=A(e)||f,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],o=0,a=i.length;o<a;o++){var s=i[o];if(T(s,t)){var l=e.isWebGLCubeRenderTarget?34067:3553,u=r.get(s).__webglTexture;n.bindTexture(l,u),O(l,s,e.width,e.height),n.bindTexture(l,null)}}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(f){var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024);var s=r.get(t);n.bindFramebuffer(36008,s.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,s.__webglFramebuffer),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,s.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),B=!0),e=e.texture),N(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===G&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),G=!0),e=e.texture),x(e,t)}}function dl(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===Ke)return 5121;if(e===Qe)return 32819;if(e===Je)return 32820;if(e===$e)return 33635;if(e===Ve)return 5120;if(e===ze)return 5122;if(e===je)return 5123;if(e===Ze)return 5124;if(e===Ye)return 5125;if(e===qe)return 5126;if(e===Xe)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===tt)return 6406;if(e===nt)return 6407;if(e===rt)return 6408;if(e===it)return 6409;if(e===ot)return 6410;if(e===st)return 6402;if(e===lt)return 34041;if(e===ut)return 6403;if(e===ct)return 36244;if(e===ft)return 33319;if(e===dt)return 33320;if(e===ht)return 36248;if(e===pt)return 36249;if(e===mt||e===vt||e===gt||e===yt){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===mt)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===vt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===gt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===yt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Et||e===At||e===Tt||e===Ot){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===Et)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===At)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Tt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Ot)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===Rt)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===Lt||e===St)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===Lt)return n.COMPRESSED_RGB8_ETC2;if(e===St)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===bt||e===It||e===Nt||e===xt||e===_t||e===Mt||e===wt||e===Ct||e===Pt||e===Dt||e===kt||e===Ht||e===Ut||e===Bt||e===Wt||e===Ft||e===Kt||e===Vt||e===zt||e===jt||e===Zt||e===Yt||e===qt||e===Xt||e===Qt||e===Jt||e===$t||e===en?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===Gt?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===et?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var hl=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,y.Z)(this,n),(e=t.call(this)).cameras=r,e}return(0,E.Z)(n)}(Qo);hl.prototype.isArrayCamera=!0;var pl=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this)).type="Group",e}return(0,E.Z)(n)}(xi);pl.prototype.isGroup=!0;var ml={type:"move"},vl=function(){function e(){(0,y.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,E.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new pl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new pl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ir,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ir),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new pl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ir,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ir),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,o=null,a=null,s=this._targetRay,l=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==s&&null!==(r=t.getPose(e.targetRaySpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(ml)),u&&e.hand){a=!0;var c,f=(0,i.Z)(e.hand.values());try{for(f.s();!(c=f.n()).done;){var d=c.value,h=t.getJointPose(d,n);if(void 0===u.joints[d.jointName]){var p=new pl;p.matrixAutoUpdate=!1,p.visible=!1,u.joints[d.jointName]=p,u.add(p)}var m=u.joints[d.jointName];null!==h&&(m.matrix.fromArray(h.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=h.radius),m.visible=null!==h}}catch(E){f.e(E)}finally{f.f()}var v=u.joints["index-finger-tip"],g=u.joints["thumb-tip"],y=v.position.distanceTo(g.position);u.inputState.pinching&&y>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&y<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&null!==(o=t.getPose(e.gripSpace,n))&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1);return null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==o),null!==u&&(u.visible=null!==a),this}}]),e}(),gl=function(e){m(n,e);var t=v(n);function n(e,i){var o;(0,y.Z)(this,n),o=t.call(this);var a=(0,l.Z)(o),s=e.state,u=null,c=1,f=null,d="local-floor",h=null,p=[],m=new Map,v=new Qo;v.layers.enable(1),v.viewport=new Or;var g=new Qo;g.layers.enable(2),g.viewport=new Or;var E=[v,g],A=new hl;A.layers.enable(1),A.layers.enable(2);var O=null,R=null;function L(e){var t=m.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function S(){m.forEach((function(e,t){e.disconnect(t)})),m.clear(),O=null,R=null,s.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),M.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function b(e){for(var t=u.inputSources,n=0;n<p.length;n++)m.set(t[n],p[n]);for(var r=0;r<e.removed.length;r++){var i=e.removed[r],o=m.get(i);o&&(o.dispatchEvent({type:"disconnected",data:i}),m.delete(i))}for(var a=0;a<e.added.length;a++){var s=e.added[a],l=m.get(s);l&&l.dispatchEvent({type:"connected",data:s})}}o.cameraAutoUpdate=!0,o.enabled=!1,o.isPresenting=!1,o.getController=function(e){var t=p[e];return void 0===t&&(t=new vl,p[e]=t),t.getTargetRaySpace()},o.getControllerGrip=function(e){var t=p[e];return void 0===t&&(t=new vl,p[e]=t),t.getGripSpace()},o.getHand=function(e){var t=p[e];return void 0===t&&(t=new vl,p[e]=t),t.getHandSpace()},o.setFramebufferScaleFactor=function(e){c=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},o.setReferenceSpaceType=function(e){d=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},o.getReferenceSpace=function(){return f},o.getSession=function(){return u},o.setSession=function(){var e=(0,r.Z)(T().mark((function e(t){var n,r,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(u=t)){e.next=24;break}if(u.addEventListener("select",L),u.addEventListener("selectstart",L),u.addEventListener("selectend",L),u.addEventListener("squeeze",L),u.addEventListener("squeezestart",L),u.addEventListener("squeezeend",L),u.addEventListener("end",S),u.addEventListener("inputsourceschange",b),!0===(n=i.getContextAttributes()).xrCompatible){e.next=14;break}return e.next=14,i.makeXRCompatible();case 14:return r={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:c},o=new XRWebGLLayer(u,i,r),u.updateRenderState({baseLayer:o}),e.next=19,u.requestReferenceSpace(d);case 19:f=e.sent,M.setContext(u),M.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var I=new Ir,N=new Ir;function x(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}o.updateCamera=function(e){if(null!==u){A.near=g.near=v.near=e.near,A.far=g.far=v.far=e.far,O===A.near&&R===A.far||(u.updateRenderState({depthNear:A.near,depthFar:A.far}),O=A.near,R=A.far);var t=e.parent,n=A.cameras;x(A,t);for(var r=0;r<n.length;r++)x(n[r],t);e.matrixWorld.copy(A.matrixWorld),e.matrix.copy(A.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var i=e.children,o=0,a=i.length;o<a;o++)i[o].updateMatrixWorld(!0);2===n.length?function(e,t,n){I.setFromMatrixPosition(t.matrixWorld),N.setFromMatrixPosition(n.matrixWorld);var r=I.distanceTo(N),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(o[8]+1)/o[0],d=a*c,h=a*f,p=r/(-c+f),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=a+p,g=s+p,y=d-m,E=h+(r-m),A=l*s/g*v,T=u*s/g*v;e.projectionMatrix.makePerspective(y,E,A,T,v,g)}(A,v,g):A.projectionMatrix.copy(v.projectionMatrix)}},o.getCamera=function(){return A};var _=null;var M=new oa;return M.setAnimationLoop((function(e,t){if(null!==(h=t.getViewerPose(f))){var n=h.views,r=u.renderState.baseLayer;s.bindXRFramebuffer(r.framebuffer);var i=!1;n.length!==A.cameras.length&&(A.cameras.length=0,i=!0);for(var o=0;o<n.length;o++){var a=n[o],l=r.getViewport(a),c=E[o];c.matrix.fromArray(a.transform.matrix),c.projectionMatrix.fromArray(a.projectionMatrix),c.viewport.set(l.x,l.y,l.width,l.height),0===o&&A.matrix.copy(c.matrix),!0===i&&A.cameras.push(c)}}for(var d=u.inputSources,m=0;m<p.length;m++){var v=p[m],g=d[m];v.update(g,t,f)}_&&_(e,t)})),o.setAnimationLoop=function(e){_=e},o.dispose=function(){},o}return(0,E.Z)(n)}(tr);function yl(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var r,i,o=e.get(n).envMap;if(o){t.envMap.value=o,t.flipEnvMap.value=o.isCubeTexture&&o._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var a=e.get(o).__maxMipLevel;void 0!==a&&(t.maxMipLevel.value=a)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===P&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===P&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,o,a){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===P&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===P&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===P&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===P&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t,r){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===P&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap);t.transmission>0&&(e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height));e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap);e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)}(e,r,a):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===P&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===P&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===P&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===P&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,o):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function El(e){var t=void 0!==(e=e||{}).canvas?e.canvas:function(){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,f=null,d=null,h=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=vn,this.physicallyCorrectLights=!1,this.toneMapping=ge,this.toneMappingExposure=1;var m=this,v=!1,g=0,y=0,E=null,A=-1,T=null,O=new Or,R=new Or,L=null,S=t.width,b=t.height,I=1,N=null,x=null,_=new Or(0,0,S,b),M=new Or(0,0,S,b),w=!1,C=[],P=new ia,D=!1,k=!1,H=null,U=new ii,B=new Ir,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return null===E?I:1}var F,K,V,z,j,Z,Y,q,X,Q,J,$,ee,te,ne,re,ie,oe,ae,se,le,ue,ce=n;function fe(e,n){for(var r=0;r<e.length;r++){var i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{var de={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if(t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",ye,!1),null===ce){var he=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&he.shift(),null===(ce=fe(he,de)))throw fe(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ce.getShaderPrecisionFormat&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(_e){throw console.error("THREE.WebGLRenderer: "+_e.message),_e}function pe(){F=new ga(ce),K=new pa(ce,F,e),F.init(K),le=new dl(ce,F,K),V=new cl(ce,F,K),C[0]=1029,z=new Aa(ce),j=new Xs,Z=new fl(ce,F,V,j,K,le,z),Y=new va(m),q=new aa(ce,K),ue=new da(ce,F,q,K),X=new ya(ce,q,z,ue),Q=new La(ce,X,q,z),oe=new Ra(ce),ne=new ma(j),J=new qs(m,Y,F,K,ue,ne),$=new yl(j),ee=new el(j),te=new al(F,K),ie=new fa(m,Y,V,Q,s),re=new ul(m,Q,K),ae=new ha(ce,F,z,K),se=new Ea(ce,F,z,K),z.programs=J.programs,m.capabilities=K,m.extensions=F,m.properties=j,m.renderLists=ee,m.shadowMap=re,m.state=V,m.info=z}pe();var me=new gl(m,ce);function ve(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;var e=z.autoReset,t=re.enabled,n=re.autoUpdate,r=re.needsUpdate,i=re.type;pe(),z.autoReset=e,re.enabled=t,re.autoUpdate=n,re.needsUpdate=r,re.type=i}function Ee(e){var t=e.target;t.removeEventListener("dispose",Ee),function(e){(function(e){var t=j.get(e).programs;void 0!==t&&t.forEach((function(e){J.releaseProgram(e)}))})(e),j.remove(e)}(t)}this.xr=me,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){var e=F.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=F.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(S,b,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new mr),e.set(S,b)},this.setSize=function(e,n,r){me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=e,b=n,t.width=Math.floor(e*I),t.height=Math.floor(n*I),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new mr),e.set(S*I,b*I).floor()},this.setDrawingBufferSize=function(e,n,r){S=e,b=n,I=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Or),e.copy(O)},this.getViewport=function(e){return e.copy(_)},this.setViewport=function(e,t,n,r){e.isVector4?_.set(e.x,e.y,e.z,e.w):_.set(e,t,n,r),V.viewport(O.copy(_).multiplyScalar(I).floor())},this.getScissor=function(e){return e.copy(M)},this.setScissor=function(e,t,n,r){e.isVector4?M.set(e.x,e.y,e.z,e.w):M.set(e,t,n,r),V.scissor(R.copy(M).multiplyScalar(I).floor())},this.getScissorTest=function(){return w},this.setScissorTest=function(e){V.setScissorTest(w=e)},this.setOpaqueSort=function(e){N=e},this.setTransparentSort=function(e){x=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new $i),e.copy(ie.getClearColor())},this.setClearColor=function(){ie.setClearColor.apply(ie,arguments)},this.getClearAlpha=function(){return ie.getClearAlpha()},this.setClearAlpha=function(){ie.setClearAlpha.apply(ie,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ce.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",ye,!1),ee.dispose(),te.dispose(),j.dispose(),Y.dispose(),Q.dispose(),ue.dispose(),me.dispose(),me.removeEventListener("sessionstart",Te),me.removeEventListener("sessionend",Oe),H&&(H.dispose(),H=null),Re.stop()},this.renderBufferImmediate=function(e,t){ue.initAttributes();var n=j.get(e);e.hasPositions&&!n.position&&(n.position=ce.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ce.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ce.createBuffer()),e.hasColors&&!n.color&&(n.color=ce.createBuffer());var r=t.getAttributes();e.hasPositions&&(ce.bindBuffer(34962,n.position),ce.bufferData(34962,e.positionArray,35048),ue.enableAttribute(r.position),ce.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ce.bindBuffer(34962,n.normal),ce.bufferData(34962,e.normalArray,35048),ue.enableAttribute(r.normal),ce.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ce.bindBuffer(34962,n.uv),ce.bufferData(34962,e.uvArray,35048),ue.enableAttribute(r.uv),ce.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ce.bindBuffer(34962,n.color),ce.bufferData(34962,e.colorArray,35048),ue.enableAttribute(r.color),ce.vertexAttribPointer(r.color,3,5126,!1,0,0)),ue.disableUnusedAttributes(),ce.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=G);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=xe(e,t,r,i);V.setMaterial(r,a);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,f=1;!0===r.wireframe&&(l=X.getWireframeAttribute(n),f=2),(r.morphTargets||r.morphNormals)&&oe.update(i,n,r,s),ue.setup(i,r,s,n,l);var d=ae;null!==l&&(c=q.get(l),(d=se).setIndex(c));var h=null!==l?l.count:u.count,p=n.drawRange.start*f,m=n.drawRange.count*f,v=null!==o?o.start*f:0,g=null!==o?o.count*f:1/0,y=Math.max(p,v),E=Math.min(h,p+m,v+g)-1,A=Math.max(0,E-y+1);if(0!==A){if(i.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*W()),d.setMode(1)):d.setMode(4);else if(i.isLine){var T=r.linewidth;void 0===T&&(T=1),V.setLineWidth(T*W()),i.isLineSegments?d.setMode(1):i.isLineLoop?d.setMode(2):d.setMode(3)}else i.isPoints?d.setMode(0):i.isSprite&&d.setMode(4);if(i.isInstancedMesh)d.renderInstances(y,A,i.count);else if(n.isInstancedBufferGeometry){var O=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,A,O)}else d.render(y,A)}},this.compile=function(e,t){(d=te.get(e)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++){Ie(n[r],e,t)}else Ie(n,e,t)}))};var Ae=null;function Te(){Re.stop()}function Oe(){Re.start()}var Re=new oa;function Le(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||P.intersectsSprite(e)){r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U);var i=Q.update(e),o=e.material;o.visible&&f.push(e,i,o,n,B.z,null)}}else if(e.isImmediateRenderObject)r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U),f.push(e,null,e.material,n,B.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==z.render.frame&&(e.skeleton.update(),e.skeleton.frame=z.render.frame),!e.frustumCulled||P.intersectsObject(e))){r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U);var a=Q.update(e),s=e.material;if(Array.isArray(s))for(var l=a.groups,u=0,c=l.length;u<c;u++){var h=l[u],p=s[h.materialIndex];p&&p.visible&&f.push(e,a,p,n,B.z,h)}else s.visible&&f.push(e,a,s,n,B.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)Le(m[v],t,n,r)}}function Se(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,l=a.geometry,u=null===r?a.material:r,c=a.group;if(n.isArrayCamera)for(var f=n.cameras,h=0,p=f.length;h<p;h++){var m=f[h];s.layers.test(m.layers)&&(V.viewport(O.copy(m.viewport)),d.setupLightsView(m),be(s,t,m,l,u,c))}else be(s,t,n,l,u,c)}}function be(e,t,n,r,i,o){if(e.onBeforeRender(m,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var a=xe(n,t,i,e);V.setMaterial(i),ue.reset(),function(e,t){e.render((function(e){m.renderBufferImmediate(e,t)}))}(e,a)}else m.renderBufferDirect(n,t,r,i,e,o);e.onAfterRender(m,t,n,r,i,o)}function Ie(e,t,n){!0!==t.isScene&&(t=G);var r=j.get(e),i=d.state.lights,o=d.state.shadowsArray,a=i.state.version,s=J.getParameters(e,i.state,o,t,n),l=J.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=Y.get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",Ee),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===a)return Ne(e,s),c}else s.uniforms=J.getUniforms(e),e.onBuild(s,m),e.onBeforeCompile(s,m),c=J.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=ne.uniform),Ne(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotShadowMatrix.value=i.state.spotShadowMatrix,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var h=c.getUniforms(),p=Ns.seqWithValue(h.seq,f);return r.currentProgram=c,r.uniformsList=p,c}function Ne(e,t){var n=j.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas}function xe(e,t,n,r){!0!==t.isScene&&(t=G),Z.resetTextureUnits();var i=t.fog,o=n.isMeshStandardMaterial?t.environment:null,a=null===E?m.outputEncoding:E.texture.encoding,s=Y.get(n.envMap||o),l=!0===n.vertexColors&&r.geometry&&r.geometry.attributes.color&&4===r.geometry.attributes.color.itemSize,u=j.get(n),c=d.state.lights;if(!0===D&&(!0===k||e!==T)){var f=e===T&&n.id===A;ne.setState(n,e,f)}var h=!1;n.version===u.__version?u.needsLights&&u.lightsStateVersion!==c.state.version||u.outputEncoding!==a||r.isInstancedMesh&&!1===u.instancing?h=!0:r.isInstancedMesh||!0!==u.instancing?r.isSkinnedMesh&&!1===u.skinning?h=!0:r.isSkinnedMesh||!0!==u.skinning?u.envMap!==s||n.fog&&u.fog!==i?h=!0:void 0===u.numClippingPlanes||u.numClippingPlanes===ne.numPlanes&&u.numIntersection===ne.numIntersection?u.vertexAlphas!==l&&(h=!0):h=!0:h=!0:h=!0:(h=!0,u.__version=n.version);var p=u.currentProgram;!0===h&&(p=Ie(n,t,r));var v,g,y=!1,O=!1,R=!1,L=p.getUniforms(),S=u.uniforms;if(V.useProgram(p.program)&&(y=!0,O=!0,R=!0),n.id!==A&&(A=n.id,O=!0),y||T!==e){if(L.setValue(ce,"projectionMatrix",e.projectionMatrix),K.logarithmicDepthBuffer&&L.setValue(ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),T!==e&&(T=e,O=!0,R=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var N=L.map.cameraPosition;void 0!==N&&N.setValue(ce,B.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&L.setValue(ce,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||r.isSkinnedMesh)&&L.setValue(ce,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){L.setOptional(ce,r,"bindMatrix"),L.setOptional(ce,r,"bindMatrixInverse");var x=r.skeleton;x&&(K.floatVertexTextures?(null===x.boneTexture&&x.computeBoneTexture(),L.setValue(ce,"boneTexture",x.boneTexture,Z),L.setValue(ce,"boneTextureSize",x.boneTextureSize)):L.setOptional(ce,x,"boneMatrices"))}return(O||u.receiveShadow!==r.receiveShadow)&&(u.receiveShadow=r.receiveShadow,L.setValue(ce,"receiveShadow",r.receiveShadow)),O&&(L.setValue(ce,"toneMappingExposure",m.toneMappingExposure),u.needsLights&&(g=R,(v=S).ambientLightColor.needsUpdate=g,v.lightProbe.needsUpdate=g,v.directionalLights.needsUpdate=g,v.directionalLightShadows.needsUpdate=g,v.pointLights.needsUpdate=g,v.pointLightShadows.needsUpdate=g,v.spotLights.needsUpdate=g,v.spotLightShadows.needsUpdate=g,v.rectAreaLights.needsUpdate=g,v.hemisphereLights.needsUpdate=g),i&&n.fog&&$.refreshFogUniforms(S,i),$.refreshMaterialUniforms(S,n,I,b,H),Ns.upload(ce,u.uniformsList,S,Z)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ns.upload(ce,u.uniformsList,S,Z),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&L.setValue(ce,"center",r.center),L.setValue(ce,"modelViewMatrix",r.modelViewMatrix),L.setValue(ce,"normalMatrix",r.normalMatrix),L.setValue(ce,"modelMatrix",r.matrixWorld),p}Re.setAnimationLoop((function(e){Ae&&Ae(e)})),"undefined"!==typeof window&&Re.setContext(window),this.setAnimationLoop=function(e){Ae=e,me.setAnimationLoop(e),null===e?Re.stop():Re.start()},me.addEventListener("sessionstart",Te),me.addEventListener("sessionend",Oe),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==v){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===me.enabled&&!0===me.isPresenting&&(!0===me.cameraAutoUpdate&&me.updateCamera(t),t=me.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,E),(d=te.get(e,p.length)).init(),p.push(d),U.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),P.setFromProjectionMatrix(U),k=this.localClippingEnabled,D=ne.init(this.clippingPlanes,k,t),(f=ee.get(e,h.length)).init(),h.push(f),Le(e,t,0,m.sortObjects),f.finish(),!0===m.sortObjects&&f.sort(N,x),!0===D&&ne.beginShadows();var n=d.state.shadowsArray;re.render(n,e,t),d.setupLights(),d.setupLightsView(t),!0===D&&ne.endShadows(),!0===this.info.autoReset&&this.info.reset(),ie.render(f,e);var r=f.opaque,i=f.transmissive,o=f.transparent;r.length>0&&Se(r,e,t),i.length>0&&function(e,t,n,r){null===H&&(H=new Rr(1024,1024,{generateMipmaps:!0,minFilter:We,magFilter:Ce,wrapS:Me,wrapT:Me}));var i=m.getRenderTarget();m.setRenderTarget(H),m.clear(),Se(e,n,r),Z.updateRenderTargetMipmap(H),m.setRenderTarget(i),Se(t,n,r)}(r,i,e,t),o.length>0&&Se(o,e,t),null!==E&&(Z.updateRenderTargetMipmap(E),Z.updateMultisampleRenderTarget(E)),!0===e.isScene&&e.onAfterRender(m,e,t),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),ue.resetDefaultState(),A=-1,T=null,p.pop(),d=p.length>0?p[p.length-1]:null,h.pop(),f=h.length>0?h[h.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return E},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;E=e,g=t,y=n,e&&void 0===j.get(e).__webglFramebuffer&&Z.setupRenderTarget(e);var r=null,i=!1,o=!1;if(e){var a=e.texture;(a.isDataTexture3D||a.isDataTexture2DArray)&&(o=!0);var s=j.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=s[t],i=!0):r=e.isWebGLMultisampleRenderTarget?j.get(e).__webglMultisampledFramebuffer:s,O.copy(e.viewport),R.copy(e.scissor),L=e.scissorTest}else O.copy(_).multiplyScalar(I).floor(),R.copy(M).multiplyScalar(I).floor(),L=w;var l=V.bindFramebuffer(36160,r);if(l&&K.drawBuffers){var u=!1;if(e)if(e.isWebGLMultipleRenderTargets){var c=e.texture;if(C.length!==c.length||36064!==C[0]){for(var f=0,d=c.length;f<d;f++)C[f]=36064+f;C.length=c.length,u=!0}}else 1===C.length&&36064===C[0]||(C[0]=36064,C.length=1,u=!0);else 1===C.length&&1029===C[0]||(C[0]=1029,C.length=1,u=!0);u&&(K.isWebGL2?ce.drawBuffers(C):F.get("WEBGL_draw_buffers").drawBuffersWEBGL(C))}if(V.viewport(O),V.scissor(R),V.setScissorTest(L),i){var h=j.get(e.texture);ce.framebufferTexture2D(36160,36064,34069+t,h.__webglTexture,n)}else if(o){var p=j.get(e.texture),m=t||0;ce.framebufferTextureLayer(36160,36064,p.__webglTexture,n||0,m)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=j.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){V.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==rt&&le.convert(u)!==ce.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=c===Xe&&(F.has("EXT_color_buffer_half_float")||K.isWebGL2&&F.has("EXT_color_buffer_float"));if(c!==Ke&&le.convert(c)!==ce.getParameter(35738)&&(c!==qe||!(K.isWebGL2||F.has("OES_texture_float")||F.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ce.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ce.readPixels(t,n,r,i,le.convert(u),le.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var d=null!==E?j.get(E).__webglFramebuffer:null;V.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r),a=le.convert(t.format);K.isWebGL2&&(6407===a&&(a=32849),6408===a&&(a=32856)),Z.setTexture2D(t,0),ce.copyTexImage2D(3553,n,a,e.x,e.y,i,o,0),V.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,o=t.image.height,a=le.convert(n.format),s=le.convert(n.type);Z.setTexture2D(n,0),ce.pixelStorei(37440,n.flipY),ce.pixelStorei(37441,n.premultiplyAlpha),ce.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ce.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?ce.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ce.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&ce.generateMipmap(3553),V.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(m.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var o,a=n.image,s=a.width,l=a.height,u=a.data,c=le.convert(r.format),f=le.convert(r.type);if(r.isDataTexture3D)Z.setTexture3D(r,0),o=32879;else{if(!r.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Z.setTexture2DArray(r,0),o=35866}ce.pixelStorei(37440,r.flipY),ce.pixelStorei(37441,r.premultiplyAlpha),ce.pixelStorei(3317,r.unpackAlignment);var d=ce.getParameter(3314),h=ce.getParameter(32878),p=ce.getParameter(3316),v=ce.getParameter(3315),g=ce.getParameter(32877);ce.pixelStorei(3314,s),ce.pixelStorei(32878,l),ce.pixelStorei(3316,e.min.x),ce.pixelStorei(3315,e.min.y),ce.pixelStorei(32877,e.min.z),ce.texSubImage3D(o,i,t.x,t.y,t.z,e.max.x-e.min.x+1,e.max.y-e.min.y+1,e.max.z-e.min.z+1,c,f,u),ce.pixelStorei(3314,d),ce.pixelStorei(32878,h),ce.pixelStorei(3316,p),ce.pixelStorei(3315,v),ce.pixelStorei(32877,g),0===i&&r.generateMipmaps&&ce.generateMipmap(o),V.unbindTexture()}},this.initTexture=function(e){Z.setTexture2D(e,0),V.unbindTexture()},this.resetState=function(){g=0,y=0,E=null,V.reset(),ue.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var Al=function(e){m(n,e);var t=v(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n)}(El);Al.prototype.isWebGL1Renderer=!0;var Tl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,y.Z)(this,e),this.name="",this.color=new $i(t),this.density=n}return(0,E.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}();Tl.prototype.isFogExp2=!0;var Ol=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,y.Z)(this,e),this.name="",this.color=new $i(t),this.near=n,this.far=r}return(0,E.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();Ol.prototype.isFog=!0;var Rl=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,l.Z)(e)})),e}return(0,E.Z)(n,[{key:"copy",value:function(e,t){return d(c(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(xi);Rl.prototype.isScene=!0;var Ll=function(){function e(t,n){(0,y.Z)(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Vn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=sr()}return(0,E.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=sr()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=sr()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();Ll.prototype.isInterleavedBuffer=!0;var Sl=new Ir,bl=function(){function e(t,n,r,i){(0,y.Z)(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return(0,E.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Sl.x=this.getX(t),Sl.y=this.getY(t),Sl.z=this.getZ(t),Sl.applyMatrix4(e),this.setXYZ(t,Sl.x,Sl.y,Sl.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Sl.x=this.getX(t),Sl.y=this.getY(t),Sl.z=this.getZ(t),Sl.applyNormalMatrix(e),this.setXYZ(t,Sl.x,Sl.y,Sl.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Sl.x=this.getX(t),Sl.y=this.getY(t),Sl.z=this.getZ(t),Sl.transformDirection(e),this.setXYZ(t,Sl.x,Sl.y,Sl.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,o=0;o<this.itemSize;o++)n.push(this.data.array[i+o]);return new ro(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();bl.prototype.isInterleavedBufferAttribute=!0;var Il,Nl=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new $i(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(ji);Nl.prototype.isSpriteMaterial=!0;var xl=new Ir,_l=new Ir,Ml=new Ir,wl=new mr,Cl=new mr,Pl=new ii,Dl=new Ir,kl=new Ir,Hl=new Ir,Ul=new mr,Bl=new mr,Gl=new mr,Wl=function(e){m(n,e);var t=v(n);function n(e){var r;if((0,y.Z)(this,n),(r=t.call(this)).type="Sprite",void 0===Il){Il=new So;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new Ll(i,5);Il.setIndex([0,1,2,0,2,3]),Il.setAttribute("position",new bl(o,3,0,!1)),Il.setAttribute("uv",new bl(o,2,3,!1))}return r.geometry=Il,r.material=void 0!==e?e:new Nl,r.center=new mr(.5,.5),r}return(0,E.Z)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_l.setFromMatrixScale(this.matrixWorld),Pl.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ml.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&_l.multiplyScalar(-Ml.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;Fl(Dl.set(-.5,-.5,0),Ml,o,_l,n,r),Fl(kl.set(.5,-.5,0),Ml,o,_l,n,r),Fl(Hl.set(.5,.5,0),Ml,o,_l,n,r),Ul.set(0,0),Bl.set(1,0),Gl.set(1,1);var a=e.ray.intersectTriangle(Dl,kl,Hl,!1,xl);if(null!==a||(Fl(kl.set(-.5,.5,0),Ml,o,_l,n,r),Bl.set(0,1),null!==(a=e.ray.intersectTriangle(Dl,Hl,kl,!1,xl)))){var s=e.ray.origin.distanceTo(xl);s<e.near||s>e.far||t.push({distance:s,point:xl.clone(),uv:Vi.getUV(xl,Dl,kl,Hl,Ul,Bl,Gl,new mr),face:null,object:this})}}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(xi);function Fl(e,t,n,r,i,o){wl.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Cl.x=o*wl.x-i*wl.y,Cl.y=i*wl.x+o*wl.y):Cl.copy(wl),e.copy(t),e.x+=Cl.x,e.y+=Cl.y,e.applyMatrix4(Pl)}Wl.prototype.isSprite=!0;var Kl=new Ir,Vl=new Ir,zl=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties((0,l.Z)(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return(0,E.Z)(n,[{key:"copy",value:function(e){d(c(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var o=t[r];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){Kl.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Kl);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){Kl.setFromMatrixPosition(e.matrixWorld),Vl.setFromMatrixPosition(this.matrixWorld);var n,r,i=Kl.distanceTo(Vl)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,o=r.length;i<o;i++){var a=r[i];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}]),n}(xi),jl=new Ir,Zl=new Or,Yl=new Or,ql=new Ir,Xl=new ii,Ql=function(e){m(n,e);var t=v(n);function n(e,r){var i;return(0,y.Z)(this,n),(i=t.call(this,e,r)).type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new ii,i.bindMatrixInverse=new ii,i}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Or,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){d(c(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;Zl.fromBufferAttribute(r.attributes.skinIndex,e),Yl.fromBufferAttribute(r.attributes.skinWeight,e),jl.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var o=Yl.getComponent(i);if(0!==o){var a=Zl.getComponent(i);Xl.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(ql.copy(jl).applyMatrix4(Xl),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Ko);Ql.prototype.isSkinnedMesh=!0;var Jl=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this)).type="Bone",e}return(0,E.Z)(n)}(xi);Jl.prototype.isBone=!0;var $l=function(e){m(n,e);var t=v(n);function n(e,r,i,o,a,s,l,u,c,f,d,h){var p;return(0,y.Z)(this,n),(p=t.call(this,null,s,l,u,c,f,o,a,d,h)).image={data:e||null,width:r||1,height:i||1},p.magFilter=void 0!==c?c:Ce,p.minFilter=void 0!==f?f:Ce,p.generateMipmaps=!1,p.flipY=!1,p.unpackAlignment=1,p.needsUpdate=!0,p}return(0,E.Z)(n)}(Ar);$l.prototype.isDataTexture=!0;var eu=new ii,tu=new ii,nu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,y.Z)(this,e),this.uuid=sr(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return(0,E.Z)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new ii)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new ii;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var o=this.bones[r];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:tu;eu.multiplyMatrices(a,t[i]),eu.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=dr(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new $l(t,e,e,rt,qe);return this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],o=t[i];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),o=new Jl),this.bones.push(o),this.boneInverses.push((new ii).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var o=t[r];e.bones.push(o.uuid);var a=n[r];e.boneInverses.push(a.toArray())}return e}}]),e}(),ru=new ii,iu=new ii,ou=[],au=new Ko,su=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;return(0,y.Z)(this,n),(o=t.call(this,e,r)).instanceMatrix=new ro(new Float32Array(16*i),16),o.instanceColor=null,o.count=i,o.frustumCulled=!1,o}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(au.geometry=this.geometry,au.material=this.material,void 0!==au.material)for(var i=0;i<r;i++){this.getMatrixAt(i,ru),iu.multiplyMatrices(n,ru),au.matrixWorld=iu,au.raycast(e,ou);for(var o=0,a=ou.length;o<a;o++){var s=ou[o];s.instanceId=i,s.object=this,t.push(s)}ou.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new ro(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Ko);su.prototype.isInstancedMesh=!0;var lu=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new $i(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.morphTargets=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}]),n}(ji);lu.prototype.isLineBasicMaterial=!0;var uu=new Ir,cu=new Ir,fu=new ii,du=new ri,hu=new qr,pu=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new So,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lu;return(0,y.Z)(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)uu.fromBufferAttribute(t,r-1),cu.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=uu.distanceTo(cu);e.setAttribute("lineDistance",new ho(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),hu.copy(n.boundingSphere),hu.applyMatrix4(r),hu.radius+=i,!1!==e.ray.intersectsSphere(hu)){fu.copy(r).invert(),du.copy(e.ray).applyMatrix4(fu);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new Ir,u=new Ir,c=new Ir,f=new Ir,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,p=n.attributes.position;if(null!==h)for(var m=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count)-1;m<v;m+=d){var g=h.getX(m),y=h.getX(m+1);if(l.fromBufferAttribute(p,g),u.fromBufferAttribute(p,y),!(du.distanceSqToSegment(l,u,f,c)>s)){f.applyMatrix4(this.matrixWorld);var E=e.ray.origin.distanceTo(f);E<e.near||E>e.far||t.push({distance:E,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var A=Math.max(0,o.start),T=Math.min(p.count,o.start+o.count)-1;A<T;A+=d){if(l.fromBufferAttribute(p,A),u.fromBufferAttribute(p,A+1),!(du.distanceSqToSegment(l,u,f,c)>s)){f.applyMatrix4(this.matrixWorld);var O=e.ray.origin.distanceTo(f);O<e.near||O>e.far||t.push({distance:O,point:c.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(xi);pu.prototype.isLine=!0;var mu=new Ir,vu=new Ir,gu=function(e){m(n,e);var t=v(n);function n(e,r){var i;return(0,y.Z)(this,n),(i=t.call(this,e,r)).type="LineSegments",i}return(0,E.Z)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)mu.fromBufferAttribute(t,r),vu.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+mu.distanceTo(vu);e.setAttribute("lineDistance",new ho(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(pu);gu.prototype.isLineSegments=!0;var yu=function(e){m(n,e);var t=v(n);function n(e,r){var i;return(0,y.Z)(this,n),(i=t.call(this,e,r)).type="LineLoop",i}return(0,E.Z)(n)}(pu);yu.prototype.isLineLoop=!0;var Eu=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new $i(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.morphTargets=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}]),n}(ji);Eu.prototype.isPointsMaterial=!0;var Au=new ii,Tu=new ri,Ou=new qr,Ru=new Ir,Lu=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new So,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Eu;return(0,y.Z)(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ou.copy(n.boundingSphere),Ou.applyMatrix4(r),Ou.radius+=i,!1!==e.ray.intersectsSphere(Ou)){Au.copy(r).invert(),Tu.copy(e.ray).applyMatrix4(Au);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a;if(n.isBufferGeometry){var l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,o.start),f=Math.min(l.count,o.start+o.count);c<f;c++){var d=l.getX(c);Ru.fromBufferAttribute(u,d),Su(Ru,d,s,r,e,t,this)}else for(var h=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);h<p;h++)Ru.fromBufferAttribute(u,h),Su(Ru,h,s,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(xi);function Su(e,t,n,r,i,o,a){var s=Tu.distanceSqToPoint(e);if(s<n){var l=new Ir;Tu.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:a})}}Lu.prototype.isPoints=!0;var bu=function(e){m(n,e);var t=v(n);function n(e,r,i,o,a,s,u,c,f){var d;(0,y.Z)(this,n),(d=t.call(this,e,r,i,o,a,s,u,c,f)).format=void 0!==u?u:nt,d.minFilter=void 0!==s?s:Ue,d.magFilter=void 0!==a?a:Ue,d.generateMipmaps=!1;var h=(0,l.Z)(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){h.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return(0,E.Z)(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Ar);bu.prototype.isVideoTexture=!0;var Iu=function(e){m(n,e);var t=v(n);function n(e,r,i,o,a,s,l,u,c,f,d,h){var p;return(0,y.Z)(this,n),(p=t.call(this,null,s,l,u,c,f,o,a,d,h)).image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return(0,E.Z)(n)}(Ar);Iu.prototype.isCompressedTexture=!0;var Nu=function(e){m(n,e);var t=v(n);function n(e,r,i,o,a,s,l,u,c){var f;return(0,y.Z)(this,n),(f=t.call(this,e,r,i,o,a,s,l,u,c)).needsUpdate=!0,f}return(0,E.Z)(n)}(Ar);Nu.prototype.isCanvasTexture=!0;var xu=function(e){m(n,e);var t=v(n);function n(e,r,i,o,a,s,l,u,c,f){var d;if((0,y.Z)(this,n),(f=void 0!==f?f:st)!==st&&f!==lt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&f===st&&(i=je),void 0===i&&f===lt&&(i=et),(d=t.call(this,null,o,a,s,l,u,f,i,c)).image={width:e,height:r},d.magFilter=void 0!==l?l:Ce,d.minFilter=void 0!==u?u:Ce,d.flipY=!1,d.generateMipmaps=!1,d}return(0,E.Z)(n)}(Ar);xu.prototype.isDepthTexture=!0;var _u=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,y.Z)(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:o,thetaLength:a},i=Math.max(3,i);var s=[],l=[],u=[],c=[],f=new Ir,d=new mr;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var h=0,p=3;h<=i;h++,p+=3){var m=o+h/i*a;f.x=r*Math.cos(m),f.y=r*Math.sin(m),l.push(f.x,f.y,f.z),u.push(0,0,1),d.x=(l[p]/r+1)/2,d.y=(l[p+1]/r+1)/2,c.push(d.x,d.y)}for(var v=1;v<=i;v++)s.push(v,v+1,0);return e.setIndex(s),e.setAttribute("position",new ho(l,3)),e.setAttribute("normal",new ho(u,3)),e.setAttribute("uv",new ho(c,2)),e}return(0,E.Z)(n)}(So),Mu=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,y.Z)(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:o,radialSegments:a,heightSegments:s,openEnded:u,thetaStart:c,thetaLength:f};var d=(0,l.Z)(e);a=Math.floor(a),s=Math.floor(s);var h=[],p=[],m=[],v=[],g=0,E=[],A=o/2,T=0;function O(){for(var e=new Ir,t=new Ir,n=0,l=(i-r)/o,u=0;u<=s;u++){for(var y=[],O=u/s,R=O*(i-r)+r,L=0;L<=a;L++){var S=L/a,b=S*f+c,I=Math.sin(b),N=Math.cos(b);t.x=R*I,t.y=-O*o+A,t.z=R*N,p.push(t.x,t.y,t.z),e.set(I,l,N).normalize(),m.push(e.x,e.y,e.z),v.push(S,1-O),y.push(g++)}E.push(y)}for(var x=0;x<a;x++)for(var _=0;_<s;_++){var M=E[_][x],w=E[_+1][x],C=E[_+1][x+1],P=E[_][x+1];h.push(M,w,P),h.push(w,C,P),n+=6}d.addGroup(T,n,0),T+=n}function R(e){for(var t=g,n=new mr,o=new Ir,s=0,l=!0===e?r:i,u=!0===e?1:-1,y=1;y<=a;y++)p.push(0,A*u,0),m.push(0,u,0),v.push(.5,.5),g++;for(var E=g,O=0;O<=a;O++){var R=O/a*f+c,L=Math.cos(R),S=Math.sin(R);o.x=l*S,o.y=A*u,o.z=l*L,p.push(o.x,o.y,o.z),m.push(0,u,0),n.x=.5*L+.5,n.y=.5*S*u+.5,v.push(n.x,n.y),g++}for(var b=0;b<a;b++){var I=t+b,N=E+b;!0===e?h.push(N,N+1,I):h.push(N+1,N,I),s+=3}d.addGroup(T,s,!0===e?1:2),T+=s}return O(),!1===u&&(r>0&&R(!0),i>0&&R(!1)),e.setIndex(h),e.setAttribute("position",new ho(p,3)),e.setAttribute("normal",new ho(m,3)),e.setAttribute("uv",new ho(v,2)),e}return(0,E.Z)(n)}(So),wu=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,y.Z)(this,n),(e=t.call(this,0,r,i,o,a,s,l,u)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:o,heightSegments:a,openEnded:s,thetaStart:l,thetaLength:u},e}return(0,E.Z)(n)}(Mu),Cu=function(e){m(n,e);var t=v(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,y.Z)(this,n),(i=t.call(this)).type="PolyhedronGeometry",i.parameters={vertices:e,indices:r,radius:o,detail:a};var s=[],l=[];function u(e){for(var t=new Ir,n=new Ir,i=new Ir,o=0;o<r.length;o+=3)m(r[o+0],t),m(r[o+1],n),m(r[o+2],i),c(t,n,i,e)}function c(e,t,n,r){for(var i=r+1,o=[],a=0;a<=i;a++){o[a]=[];for(var s=e.clone().lerp(n,a/i),l=t.clone().lerp(n,a/i),u=i-a,c=0;c<=u;c++)o[a][c]=0===c&&a===i?s:s.clone().lerp(l,c/u)}for(var f=0;f<i;f++)for(var d=0;d<2*(i-f)-1;d++){var h=Math.floor(d/2);d%2===0?(p(o[f][h+1]),p(o[f+1][h]),p(o[f][h])):(p(o[f][h+1]),p(o[f+1][h+1]),p(o[f+1][h]))}}function f(e){for(var t=new Ir,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function d(){for(var e=new Ir,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=E(e)/2/Math.PI+.5,r=A(e)/Math.PI+.5;l.push(n,1-r)}v(),h()}function h(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}function p(e){s.push(e.x,e.y,e.z)}function m(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function v(){for(var e=new Ir,t=new Ir,n=new Ir,r=new Ir,i=new mr,o=new mr,a=new mr,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),i.set(l[c+0],l[c+1]),o.set(l[c+2],l[c+3]),a.set(l[c+4],l[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=E(r);g(i,c+0,e,f),g(o,c+2,t,f),g(a,c+4,n,f)}}function g(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function E(e){return Math.atan2(e.z,-e.x)}function A(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return u(a),f(o),d(),i.setAttribute("position",new ho(s,3)),i.setAttribute("normal",new ho(s.slice(),3)),i.setAttribute("uv",new ho(l,2)),0===a?i.computeVertexNormals():i.normalizeNormals(),i}return(0,E.Z)(n)}(So),Pu=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,y.Z)(this,n);var o=(1+Math.sqrt(5))/2,a=1/o,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-o,0,-a,o,0,a,-o,0,a,o,-a,-o,0,-a,o,0,a,-o,0,a,o,0,-o,0,-a,o,0,-a,-o,0,a,o,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,l,r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,E.Z)(n)}(Cu),Du=new Ir,ku=new Ir,Hu=new Ir,Uu=new Vi,Bu=function(e){m(n,e);var t=v(n);function n(e,r){var i;if((0,y.Z)(this,n),(i=t.call(this)).type="EdgesGeometry",i.parameters={thresholdAngle:r},r=void 0!==r?r:1,!0===e.isGeometry)return console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),u(i);for(var o=Math.pow(10,4),a=Math.cos(or*r),s=e.getIndex(),l=e.getAttribute("position"),c=s?s.count:l.count,f=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[],v=0;v<c;v+=3){s?(f[0]=s.getX(v),f[1]=s.getX(v+1),f[2]=s.getX(v+2)):(f[0]=v,f[1]=v+1,f[2]=v+2);var g=Uu.a,E=Uu.b,A=Uu.c;if(g.fromBufferAttribute(l,f[0]),E.fromBufferAttribute(l,f[1]),A.fromBufferAttribute(l,f[2]),Uu.getNormal(Hu),h[0]="".concat(Math.round(g.x*o),",").concat(Math.round(g.y*o),",").concat(Math.round(g.z*o)),h[1]="".concat(Math.round(E.x*o),",").concat(Math.round(E.y*o),",").concat(Math.round(E.z*o)),h[2]="".concat(Math.round(A.x*o),",").concat(Math.round(A.y*o),",").concat(Math.round(A.z*o)),h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(var T=0;T<3;T++){var O=(T+1)%3,R=h[T],L=h[O],S=Uu[d[T]],b=Uu[d[O]],I="".concat(R,"_").concat(L),N="".concat(L,"_").concat(R);N in p&&p[N]?(Hu.dot(p[N].normal)<=a&&(m.push(S.x,S.y,S.z),m.push(b.x,b.y,b.z)),p[N]=null):I in p||(p[I]={index0:f[T],index1:f[O],normal:Hu.clone()})}}for(var x in p)if(p[x]){var _=p[x],M=_.index0,w=_.index1;Du.fromBufferAttribute(l,M),ku.fromBufferAttribute(l,w),m.push(Du.x,Du.y,Du.z),m.push(ku.x,ku.y,ku.z)}return i.setAttribute("position",new ho(m,3)),i}return(0,E.Z)(n)}(So),Gu=function(e,t,n){n=n||2;var r,i,o,a,s,l,u,c=t&&t.length,f=c?t[0]*n:e.length,d=Wu(e,0,f,n,!0),h=[];if(!d||d.next===d.prev)return h;if(c&&(d=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Wu(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(Ju(a));for(s.sort(Yu),i=0;i<s.length;i++)qu(s[i],n),n=Fu(n,n.next);return n}(e,t,d,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Ku(d,h,n,r,i,u),h};function Wu(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=lc(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=lc(o,e[o],e[o+1],a);return a&&nc(a,a.next)&&(uc(a),a=a.next),a}function Fu(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!nc(r,r.next)&&0!==tc(r.prev,r,r.next))r=r.next;else{if(uc(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Ku(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Qu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?zu(e,r,i,o):Vu(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),uc(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Ku(e=ju(Fu(e),t,n),t,n,r,i,o,2):2===a&&Zu(e,t,n,r,i,o):Ku(Fu(e),t,n,r,i,o,1);break}}}function Vu(e){var t=e.prev,n=e,r=e.next;if(tc(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if($u(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&tc(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function zu(e,t,n,r){var i=e.prev,o=e,a=e.next;if(tc(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=Qu(s,l,t,n,r),d=Qu(u,c,t,n,r),h=e.prevZ,p=e.nextZ;h&&h.z>=f&&p&&p.z<=d;){if(h!==e.prev&&h!==e.next&&$u(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&tc(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==e.prev&&p!==e.next&&$u(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&tc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&$u(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&tc(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&$u(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&tc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function ju(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!nc(i,o)&&rc(i,r,r.next,o)&&ac(i,o)&&ac(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),uc(r),uc(r.next),r=e=o),r=r.next}while(r!==e);return Fu(r)}function Zu(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&ec(a,s)){var l=sc(a,s);return a=Fu(a,a.next),l=Fu(l,l.next),Ku(a,t,n,r,i,o),void Ku(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Yu(e,t){return e.x-t.x}function qu(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&$u(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),ac(r,e)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&Xu(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(e,t),t){var n=sc(t,e);Fu(t,t.next),Fu(n,n.next)}}function Xu(e,t){return tc(e.prev,e,t.prev)<0&&tc(t.next,e,e.next)<0}function Qu(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ju(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function $u(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function ec(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&rc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(ac(e,t)&&ac(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(tc(e.prev,e,t.prev)||tc(e,t.prev,t))||nc(e,t)&&tc(e.prev,e,e.next)>0&&tc(t.prev,t,t.next)>0)}function tc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function nc(e,t){return e.x===t.x&&e.y===t.y}function rc(e,t,n,r){var i=oc(tc(e,t,n)),o=oc(tc(e,t,r)),a=oc(tc(n,r,e)),s=oc(tc(n,r,t));return i!==o&&a!==s||(!(0!==i||!ic(e,n,t))||(!(0!==o||!ic(e,r,t))||(!(0!==a||!ic(n,e,r))||!(0!==s||!ic(n,t,r)))))}function ic(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function oc(e){return e>0?1:e<0?-1:0}function ac(e,t){return tc(e.prev,e,e.next)<0?tc(e,t,e.next)>=0&&tc(e,e.prev,t)>=0:tc(e,t,e.prev)<0||tc(e,e.next,t)<0}function sc(e,t){var n=new cc(e.i,e.x,e.y),r=new cc(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function lc(e,t,n,r){var i=new cc(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function uc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function cc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var fc=function(){function e(){(0,y.Z)(this,e)}return(0,E.Z)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];dc(e),hc(n,e);var o=e.length;t.forEach(dc);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,hc(n,t[a]);for(var s=Gu(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),e}();function dc(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function hc(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var pc=function(e){m(n,e);var t=v(n);function n(e,r){var i;(0,y.Z)(this,n),(i=t.call(this)).type="ExtrudeGeometry",i.parameters={shapes:e,options:r},e=Array.isArray(e)?e:[e];for(var o=(0,l.Z)(i),a=[],s=[],u=0,c=e.length;u<c;u++){f(e[u])}function f(e){var t=[],n=void 0!==r.curveSegments?r.curveSegments:12,i=void 0!==r.steps?r.steps:1,l=void 0!==r.depth?r.depth:100,u=void 0===r.bevelEnabled||r.bevelEnabled,c=void 0!==r.bevelThickness?r.bevelThickness:6,f=void 0!==r.bevelSize?r.bevelSize:c-2,d=void 0!==r.bevelOffset?r.bevelOffset:0,h=void 0!==r.bevelSegments?r.bevelSegments:3,p=r.extrudePath,m=void 0!==r.UVGenerator?r.UVGenerator:mc;void 0!==r.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=r.amount);var v,g,y,E,A,T=!1;p&&(v=p.getSpacedPoints(i),T=!0,u=!1,g=p.computeFrenetFrames(i,!1),y=new Ir,E=new Ir,A=new Ir),u||(h=0,c=0,f=0,d=0);var O=e.extractPoints(n),R=O.shape,L=O.holes;if(!fc.isClockWise(R)){R=R.reverse();for(var S=0,b=L.length;S<b;S++){var I=L[S];fc.isClockWise(I)&&(L[S]=I.reverse())}}for(var N=fc.triangulateShape(R,L),x=R,_=0,M=L.length;_<M;_++){var w=L[_];R=R.concat(w)}function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var P=R.length,D=N.length;function k(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=a*a+s*s,f=a*u-s*l;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(c),h=Math.sqrt(l*l+u*u),p=t.x-s/d,m=t.y+a/d,v=((n.x-u/h-p)*u-(n.y+l/h-m)*l)/(a*u-s*l),g=(r=p+a*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new mr(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(c)):(r=a,i=s,o=Math.sqrt(c/2))}return new mr(r/o,i/o)}for(var H=[],U=0,B=x.length,G=B-1,W=U+1;U<B;U++,G++,W++)G===B&&(G=0),W===B&&(W=0),H[U]=k(x[U],x[G],x[W]);for(var F,K=[],V=H.concat(),z=0,j=L.length;z<j;z++){var Z=L[z];F=[];for(var Y=0,q=Z.length,X=q-1,Q=Y+1;Y<q;Y++,X++,Q++)X===q&&(X=0),Q===q&&(Q=0),F[Y]=k(Z[Y],Z[X],Z[Q]);K.push(F),V=V.concat(F)}for(var J=0;J<h;J++){for(var $=J/h,ee=c*Math.cos($*Math.PI/2),te=f*Math.sin($*Math.PI/2)+d,ne=0,re=x.length;ne<re;ne++){var ie=C(x[ne],H[ne],te);Me(ie.x,ie.y,-ee)}for(var oe=0,ae=L.length;oe<ae;oe++){var se=L[oe];F=K[oe];for(var le=0,ue=se.length;le<ue;le++){var ce=C(se[le],F[le],te);Me(ce.x,ce.y,-ee)}}}for(var fe=f+d,de=0;de<P;de++){var he=u?C(R[de],V[de],fe):R[de];T?(E.copy(g.normals[0]).multiplyScalar(he.x),y.copy(g.binormals[0]).multiplyScalar(he.y),A.copy(v[0]).add(E).add(y),Me(A.x,A.y,A.z)):Me(he.x,he.y,0)}for(var pe=1;pe<=i;pe++)for(var me=0;me<P;me++){var ve=u?C(R[me],V[me],fe):R[me];T?(E.copy(g.normals[pe]).multiplyScalar(ve.x),y.copy(g.binormals[pe]).multiplyScalar(ve.y),A.copy(v[pe]).add(E).add(y),Me(A.x,A.y,A.z)):Me(ve.x,ve.y,l/i*pe)}for(var ge=h-1;ge>=0;ge--){for(var ye=ge/h,Ee=c*Math.cos(ye*Math.PI/2),Ae=f*Math.sin(ye*Math.PI/2)+d,Te=0,Oe=x.length;Te<Oe;Te++){var Re=C(x[Te],H[Te],Ae);Me(Re.x,Re.y,l+Ee)}for(var Le=0,Se=L.length;Le<Se;Le++){var be=L[Le];F=K[Le];for(var Ie=0,Ne=be.length;Ie<Ne;Ie++){var xe=C(be[Ie],F[Ie],Ae);T?Me(xe.x,xe.y+v[i-1].y,v[i-1].x+Ee):Me(xe.x,xe.y,l+Ee)}}}function _e(e,t){for(var n=e.length;--n>=0;){var r=n,o=n-1;o<0&&(o=e.length-1);for(var a=0,s=i+2*h;a<s;a++){var l=P*a,u=P*(a+1);Ce(t+r+l,t+o+l,t+o+u,t+r+u)}}}function Me(e,n,r){t.push(e),t.push(n),t.push(r)}function we(e,t,n){Pe(e),Pe(t),Pe(n);var r=a.length/3,i=m.generateTopUV(o,a,r-3,r-2,r-1);De(i[0]),De(i[1]),De(i[2])}function Ce(e,t,n,r){Pe(e),Pe(t),Pe(r),Pe(t),Pe(n),Pe(r);var i=a.length/3,s=m.generateSideWallUV(o,a,i-6,i-3,i-2,i-1);De(s[0]),De(s[1]),De(s[3]),De(s[1]),De(s[2]),De(s[3])}function Pe(e){a.push(t[3*e+0]),a.push(t[3*e+1]),a.push(t[3*e+2])}function De(e){s.push(e.x),s.push(e.y)}!function(){var e=a.length/3;if(u){for(var t=0,n=P*t,r=0;r<D;r++){var s=N[r];we(s[2]+n,s[1]+n,s[0]+n)}n=P*(t=i+2*h);for(var l=0;l<D;l++){var c=N[l];we(c[0]+n,c[1]+n,c[2]+n)}}else{for(var f=0;f<D;f++){var d=N[f];we(d[2],d[1],d[0])}for(var p=0;p<D;p++){var m=N[p];we(m[0]+P*i,m[1]+P*i,m[2]+P*i)}}o.addGroup(e,a.length/3-e,0)}(),function(){var e=a.length/3,t=0;_e(x,t),t+=x.length;for(var n=0,r=L.length;n<r;n++){var i=L[n];_e(i,t),t+=i.length}o.addGroup(e,a.length/3-e,1)}()}return i.setAttribute("position",new ho(a,3)),i.setAttribute("uv",new ho(s,2)),i.computeVertexNormals(),i}return(0,E.Z)(n,[{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}]),n}(So),mc={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new mr(o,a),new mr(s,l),new mr(u,c)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],f=t[3*r+2],d=t[3*i],h=t[3*i+1],p=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-c)<Math.abs(a-u)?[new mr(a,1-l),new mr(u,1-f),new mr(d,1-p),new mr(m,1-g)]:[new mr(s,1-l),new mr(c,1-f),new mr(h,1-p),new mr(v,1-g)]}};var vc=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,y.Z)(this,n);var o=(1+Math.sqrt(5))/2,a=[-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,a,s,r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,E.Z)(n)}(Cu),gc=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,y.Z)(this,n),(r=t.call(this)).type="LatheGeometry",r.parameters={points:e,segments:i,phiStart:o,phiLength:a},i=Math.floor(i),a=lr(a,0,2*Math.PI);for(var s=[],l=[],u=[],c=1/i,f=new Ir,d=new mr,h=0;h<=i;h++)for(var p=o+h*c*a,m=Math.sin(p),v=Math.cos(p),g=0;g<=e.length-1;g++)f.x=e[g].x*m,f.y=e[g].y,f.z=e[g].x*v,l.push(f.x,f.y,f.z),d.x=h/i,d.y=g/(e.length-1),u.push(d.x,d.y);for(var E=0;E<i;E++)for(var A=0;A<e.length-1;A++){var T=A+E*e.length,O=T,R=T+e.length,L=T+e.length+1,S=T+1;s.push(O,R,S),s.push(R,L,S)}if(r.setIndex(s),r.setAttribute("position",new ho(l,3)),r.setAttribute("uv",new ho(u,2)),r.computeVertexNormals(),a===2*Math.PI)for(var b=r.attributes.normal.array,I=new Ir,N=new Ir,x=new Ir,_=i*e.length*3,M=0,w=0;M<e.length;M++,w+=3)I.x=b[w+0],I.y=b[w+1],I.z=b[w+2],N.x=b[_+w+0],N.y=b[_+w+1],N.z=b[_+w+2],x.addVectors(I,N).normalize(),b[w+0]=b[_+w+0]=x.x,b[w+1]=b[_+w+1]=x.y,b[w+2]=b[_+w+2]=x.z;return r}return(0,E.Z)(n)}(So),yc=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,y.Z)(this,n);var o=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,o,a,r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,E.Z)(n)}(Cu),Ec=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;(0,y.Z)(this,n),(o=t.call(this)).type="ParametricGeometry",o.parameters={func:e,slices:r,stacks:i};var a=[],s=[],l=[],u=[],c=1e-5,f=new Ir,d=new Ir,h=new Ir,p=new Ir,m=new Ir;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var v=r+1,g=0;g<=i;g++)for(var E=g/i,A=0;A<=r;A++){var T=A/r;e(T,E,d),s.push(d.x,d.y,d.z),T-c>=0?(e(T-c,E,h),p.subVectors(d,h)):(e(T+c,E,h),p.subVectors(h,d)),E-c>=0?(e(T,E-c,h),m.subVectors(d,h)):(e(T,E+c,h),m.subVectors(h,d)),f.crossVectors(p,m).normalize(),l.push(f.x,f.y,f.z),u.push(T,E)}for(var O=0;O<i;O++)for(var R=0;R<r;R++){var L=O*v+R,S=O*v+R+1,b=(O+1)*v+R+1,I=(O+1)*v+R;a.push(L,S,I),a.push(S,b,I)}return o.setIndex(a),o.setAttribute("position",new ho(s,3)),o.setAttribute("normal",new ho(l,3)),o.setAttribute("uv",new ho(u,2)),o}return(0,E.Z)(n)}(So),Ac=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;(0,y.Z)(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:o,phiSegments:a,thetaStart:s,thetaLength:l},o=Math.max(3,o);for(var u=[],c=[],f=[],d=[],h=r,p=(i-r)/(a=Math.max(1,a)),m=new Ir,v=new mr,g=0;g<=a;g++){for(var E=0;E<=o;E++){var A=s+E/o*l;m.x=h*Math.cos(A),m.y=h*Math.sin(A),c.push(m.x,m.y,m.z),f.push(0,0,1),v.x=(m.x/i+1)/2,v.y=(m.y/i+1)/2,d.push(v.x,v.y)}h+=p}for(var T=0;T<a;T++)for(var O=T*(o+1),R=0;R<o;R++){var L=R+O,S=L,b=L+o+1,I=L+o+2,N=L+1;u.push(S,b,N),u.push(b,I,N)}return e.setIndex(u),e.setAttribute("position",new ho(c,3)),e.setAttribute("normal",new ho(f,3)),e.setAttribute("uv",new ho(d,2)),e}return(0,E.Z)(n)}(So),Tc=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,y.Z)(this,n),(r=t.call(this)).type="ShapeGeometry",r.parameters={shapes:e,curveSegments:i};var o=[],a=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(e))d(e);else for(var f=0;f<e.length;f++)d(e[f]),r.addGroup(u,c,f),u+=c,c=0;function d(e){var t=a.length/3,n=e.extractPoints(i),r=n.shape,u=n.holes;!1===fc.isClockWise(r)&&(r=r.reverse());for(var f=0,d=u.length;f<d;f++){var h=u[f];!0===fc.isClockWise(h)&&(u[f]=h.reverse())}for(var p=fc.triangulateShape(r,u),m=0,v=u.length;m<v;m++){var g=u[m];r=r.concat(g)}for(var y=0,E=r.length;y<E;y++){var A=r[y];a.push(A.x,A.y,0),s.push(0,0,1),l.push(A.x,A.y)}for(var T=0,O=p.length;T<O;T++){var R=p[T],L=R[0]+t,S=R[1]+t,b=R[2]+t;o.push(L,S,b),c+=3}}return r.setIndex(o),r.setAttribute("position",new ho(a,3)),r.setAttribute("normal",new ho(s,3)),r.setAttribute("uv",new ho(l,2)),r}return(0,E.Z)(n,[{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}]),n}(So);var Oc=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,y.Z)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:o,phiStart:a,phiLength:s,thetaStart:l,thetaLength:u},i=Math.max(3,Math.floor(i)),o=Math.max(2,Math.floor(o));for(var c=Math.min(l+u,Math.PI),f=0,d=[],h=new Ir,p=new Ir,m=[],v=[],g=[],E=[],A=0;A<=o;A++){var T=[],O=A/o,R=0;0==A&&0==l?R=.5/i:A==o&&c==Math.PI&&(R=-.5/i);for(var L=0;L<=i;L++){var S=L/i;h.x=-r*Math.cos(a+S*s)*Math.sin(l+O*u),h.y=r*Math.cos(l+O*u),h.z=r*Math.sin(a+S*s)*Math.sin(l+O*u),v.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),E.push(S+R,1-O),T.push(f++)}d.push(T)}for(var b=0;b<o;b++)for(var I=0;I<i;I++){var N=d[b][I+1],x=d[b][I],_=d[b+1][I],M=d[b+1][I+1];(0!==b||l>0)&&m.push(N,x,M),(b!==o-1||c<Math.PI)&&m.push(x,_,M)}return e.setIndex(m),e.setAttribute("position",new ho(v,3)),e.setAttribute("normal",new ho(g,3)),e.setAttribute("uv",new ho(E,2)),e}return(0,E.Z)(n)}(So),Rc=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,y.Z)(this,n);var o=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,o,a,r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,E.Z)(n)}(Cu),Lc=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,y.Z)(this,n);var o=i.font;if(!o||!o.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),u(r,new So);var a=o.generateShapes(e,i.size);return i.depth=void 0!==i.height?i.height:50,void 0===i.bevelThickness&&(i.bevelThickness=10),void 0===i.bevelSize&&(i.bevelSize=8),void 0===i.bevelEnabled&&(i.bevelEnabled=!1),(r=t.call(this,a,i)).type="TextGeometry",r}return(0,E.Z)(n)}(pc),Sc=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;(0,y.Z)(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:o,tubularSegments:a,arc:s},o=Math.floor(o),a=Math.floor(a);for(var l=[],u=[],c=[],f=[],d=new Ir,h=new Ir,p=new Ir,m=0;m<=o;m++)for(var v=0;v<=a;v++){var g=v/a*s,E=m/o*Math.PI*2;h.x=(r+i*Math.cos(E))*Math.cos(g),h.y=(r+i*Math.cos(E))*Math.sin(g),h.z=i*Math.sin(E),u.push(h.x,h.y,h.z),d.x=r*Math.cos(g),d.y=r*Math.sin(g),p.subVectors(h,d).normalize(),c.push(p.x,p.y,p.z),f.push(v/a),f.push(m/o)}for(var A=1;A<=o;A++)for(var T=1;T<=a;T++){var O=(a+1)*A+T-1,R=(a+1)*(A-1)+T-1,L=(a+1)*(A-1)+T,S=(a+1)*A+T;l.push(O,R,S),l.push(R,L,S)}return e.setIndex(l),e.setAttribute("position",new ho(u,3)),e.setAttribute("normal",new ho(c,3)),e.setAttribute("uv",new ho(f,2)),e}return(0,E.Z)(n)}(So),bc=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;(0,y.Z)(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:o,radialSegments:a,p:s,q:l},o=Math.floor(o),a=Math.floor(a);for(var u=[],c=[],f=[],d=[],h=new Ir,p=new Ir,m=new Ir,v=new Ir,g=new Ir,E=new Ir,A=new Ir,T=0;T<=o;++T){var O=T/o*s*Math.PI*2;C(O,s,l,r,m),C(O+.01,s,l,r,v),E.subVectors(v,m),A.addVectors(v,m),g.crossVectors(E,A),A.crossVectors(g,E),g.normalize(),A.normalize();for(var R=0;R<=a;++R){var L=R/a*Math.PI*2,S=-i*Math.cos(L),b=i*Math.sin(L);h.x=m.x+(S*A.x+b*g.x),h.y=m.y+(S*A.y+b*g.y),h.z=m.z+(S*A.z+b*g.z),c.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),f.push(p.x,p.y,p.z),d.push(T/o),d.push(R/a)}}for(var I=1;I<=o;I++)for(var N=1;N<=a;N++){var x=(a+1)*(I-1)+(N-1),_=(a+1)*I+(N-1),M=(a+1)*I+N,w=(a+1)*(I-1)+N;u.push(x,_,w),u.push(_,M,w)}function C(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(u),e.setAttribute("position",new ho(c,3)),e.setAttribute("normal",new ho(f,3)),e.setAttribute("uv",new ho(d,2)),e}return(0,E.Z)(n)}(So),Ic=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,y.Z)(this,n),(r=t.call(this)).type="TubeGeometry",r.parameters={path:e,tubularSegments:i,radius:o,radialSegments:a,closed:s};var l=e.computeFrenetFrames(i,s);r.tangents=l.tangents,r.normals=l.normals,r.binormals=l.binormals;var u=new Ir,c=new Ir,f=new mr,d=new Ir,h=[],p=[],m=[],v=[];function g(){for(var e=0;e<i;e++)E(e);E(!1===s?i:0),T(),A()}function E(t){d=e.getPointAt(t/i,d);for(var n=l.normals[t],r=l.binormals[t],s=0;s<=a;s++){var f=s/a*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);c.x=v*n.x+m*r.x,c.y=v*n.y+m*r.y,c.z=v*n.z+m*r.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=d.x+o*c.x,u.y=d.y+o*c.y,u.z=d.z+o*c.z,h.push(u.x,u.y,u.z)}}function A(){for(var e=1;e<=i;e++)for(var t=1;t<=a;t++){var n=(a+1)*(e-1)+(t-1),r=(a+1)*e+(t-1),o=(a+1)*e+t,s=(a+1)*(e-1)+t;v.push(n,r,s),v.push(r,o,s)}}function T(){for(var e=0;e<=i;e++)for(var t=0;t<=a;t++)f.x=e/i,f.y=t/a,m.push(f.x,f.y)}return g(),r.setIndex(v),r.setAttribute("position",new ho(h,3)),r.setAttribute("normal",new ho(p,3)),r.setAttribute("uv",new ho(m,2)),r}return(0,E.Z)(n,[{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}]),n}(So),Nc=function(e){m(n,e);var t=v(n);function n(e){var r;if((0,y.Z)(this,n),(r=t.call(this)).type="WireframeGeometry",!0===e.isGeometry)return console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),u(r);var i=[],o=[0,0],a={},s=new Ir;if(null!==e.index){var l=e.attributes.position,c=e.index,f=e.groups;0===f.length&&(f=[{start:0,count:c.count,materialIndex:0}]);for(var d=0,h=f.length;d<h;++d)for(var p=f[d],m=p.start,v=m,g=m+p.count;v<g;v+=3)for(var E=0;E<3;E++){var A=c.getX(v+E),T=c.getX(v+(E+1)%3);o[0]=Math.min(A,T),o[1]=Math.max(A,T);var O=o[0]+","+o[1];void 0===a[O]&&(a[O]={index1:o[0],index2:o[1]})}for(var R in a){var L=a[R];s.fromBufferAttribute(l,L.index1),i.push(s.x,s.y,s.z),s.fromBufferAttribute(l,L.index2),i.push(s.x,s.y,s.z)}}else for(var S=e.attributes.position,b=0,I=S.count/3;b<I;b++)for(var N=0;N<3;N++){var x=3*b+N;s.fromBufferAttribute(S,x),i.push(s.x,s.y,s.z);var _=3*b+(N+1)%3;s.fromBufferAttribute(S,_),i.push(s.x,s.y,s.z)}return r.setAttribute("position",new ho(i,3)),r}return(0,E.Z)(n)}(So),xc=Object.freeze({__proto__:null,BoxGeometry:zo,BoxBufferGeometry:zo,CircleGeometry:_u,CircleBufferGeometry:_u,ConeGeometry:wu,ConeBufferGeometry:wu,CylinderGeometry:Mu,CylinderBufferGeometry:Mu,DodecahedronGeometry:Pu,DodecahedronBufferGeometry:Pu,EdgesGeometry:Bu,ExtrudeGeometry:pc,ExtrudeBufferGeometry:pc,IcosahedronGeometry:vc,IcosahedronBufferGeometry:vc,LatheGeometry:gc,LatheBufferGeometry:gc,OctahedronGeometry:yc,OctahedronBufferGeometry:yc,ParametricGeometry:Ec,ParametricBufferGeometry:Ec,PlaneGeometry:sa,PlaneBufferGeometry:sa,PolyhedronGeometry:Cu,PolyhedronBufferGeometry:Cu,RingGeometry:Ac,RingBufferGeometry:Ac,ShapeGeometry:Tc,ShapeBufferGeometry:Tc,SphereGeometry:Oc,SphereBufferGeometry:Oc,TetrahedronGeometry:Rc,TetrahedronBufferGeometry:Rc,TextGeometry:Lc,TextBufferGeometry:Lc,TorusGeometry:Sc,TorusBufferGeometry:Sc,TorusKnotGeometry:bc,TorusKnotBufferGeometry:bc,TubeGeometry:Ic,TubeBufferGeometry:Ic,WireframeGeometry:Nc}),_c=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new $i(0),r.transparent=!0,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}(ji);_c.prototype.isShadowMaterial=!0;var Mc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return(0,E.Z)(n)}(qo);Mc.prototype.isRawShaderMaterial=!0;var wc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new $i(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new $i(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new mr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.vertexTangents=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}]),n}(ji);wc.prototype.isMeshStandardMaterial=!0;var Cc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoat=0,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new mr(1,1),r.clearcoatNormalMap=null,r.reflectivity=.5,Object.defineProperty((0,l.Z)(r),"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=lr(2.5*(e-1)/(e+1),0,1)}}),r.sheen=null,r.transmission=0,r.transmissionMap=null,r.thickness=.01,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new $i(1,1,1),r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new $i).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this}}]),n}(wc);Cc.prototype.isMeshPhysicalMaterial=!0;var Pc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new $i(16777215),r.specular=new $i(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new $i(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new mr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=pe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(ji);Pc.prototype.isMeshPhongMaterial=!0;var Dc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new $i(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new $i(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new mr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(ji);Dc.prototype.isMeshToonMaterial=!0;var kc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new mr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(ji);kc.prototype.isMeshNormalMaterial=!0;var Hc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new $i(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new $i(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=pe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.morphTargets=!1,r.morphNormals=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(ji);Hc.prototype.isMeshLambertMaterial=!0;var Uc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new $i(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new mr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.morphTargets=!1,r.morphNormals=!1,r.flatShading=!1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(ji);Uc.prototype.isMeshMatcapMaterial=!0;var Bc=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(lu);Bc.prototype.isLineDashedMaterial=!0;var Gc=Object.freeze({__proto__:null,ShadowMaterial:_c,SpriteMaterial:Nl,RawShaderMaterial:Mc,ShaderMaterial:qo,PointsMaterial:Eu,MeshPhysicalMaterial:Cc,MeshStandardMaterial:wc,MeshPhongMaterial:Pc,MeshToonMaterial:Dc,MeshNormalMaterial:kc,MeshLambertMaterial:Hc,MeshDepthMaterial:sl,MeshDistanceMaterial:ll,MeshBasicMaterial:eo,MeshMatcapMaterial:Uc,LineDashedMaterial:Bc,LineBasicMaterial:lu,Material:ji}),Wc={arraySlice:function(e,t,n){return Wc.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,l=0;l!==t;++l)i[a++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var l=o.tracks[s],u=l.getValueSize(),c=[],f=[],d=0;d<l.times.length;++d){var h=l.times[d]*i;if(!(h<n||h>=r)){c.push(l.times[d]);for(var p=0;p<u;++p)f.push(l.values[d*u+p])}}0!==c.length&&(l.times=Wc.convertArray(c,l.times.constructor),l.values=Wc.convertArray(f,l.values.constructor),a.push(l))}o.tracks=a;for(var m=1/0,v=0;v<o.tracks.length;++v)m>o.tracks[v].times[0]&&(m=o.tracks[v].times[0]);for(var g=0;g<o.tracks.length;++g)o.tracks[g].shift(-1*m);return o.resetDuration(),o},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,o=t/r,a=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var a=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===a)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var f=r.times.length-1,d=void 0;if(o<=r.times[0]){var h=s,p=l-s;d=Wc.arraySlice(r.values,h,p)}else if(o>=r.times[f]){var m=f*l+s,v=m+l-s;d=Wc.arraySlice(r.values,m,v)}else{var g=r.createInterpolant(),y=s,E=l-s;g.evaluate(o),d=Wc.arraySlice(g.resultBuffer,y,E)}"quaternion"===i&&(new br).fromArray(d).normalize().conjugate().toArray(d);for(var A=a.times.length,T=0;T<A;++T){var O=T*c+u;if("quaternion"===i)br.multiplyQuaternionsFlat(a.values,O,d,0,a.values,O);else for(var R=c-2*u,L=0;L<R;++L)a.values[O+L]-=d[L]}},s=0;s<i;++s)a(s);return e.blendMode=dn,e}},Fc=function(){function e(t,n,r,i){(0,y.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,E.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();Fc.prototype.beforeStart_=Fc.prototype.copySampleValue_,Fc.prototype.afterEnd_=Fc.prototype.copySampleValue_;var Kc=function(e){m(n,e);var t=v(n);function n(e,r,i,o){var a;return(0,y.Z)(this,n),(a=t.call(this,e,r,i,o))._weightPrev=-0,a._offsetPrev=-0,a._weightNext=-0,a._offsetNext=-0,a.DefaultSettings_={endingStart:ln,endingEnd:ln},a}return(0,E.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case un:i=e,a=2*t-n;break;case cn:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case un:o=e,s=2*n-t;break;case cn:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,d=this._weightNext,h=(n-t)/(r-t),p=h*h,m=p*h,v=-f*m+2*f*p-f*h,g=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*h+1,y=(-1-d)*m+(1.5+d)*p+.5*h,E=d*m-d*p,A=0;A!==a;++A)i[A]=v*o[u+A]+g*o[l+A]+y*o[s+A]+E*o[c+A];return i}}]),n}(Fc),Vc=function(e){m(n,e);var t=v(n);function n(e,r,i,o){return(0,y.Z)(this,n),t.call(this,e,r,i,o)}return(0,E.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=(n-t)/(r-t),c=1-u,f=0;f!==a;++f)i[f]=o[l+f]*c+o[s+f]*u;return i}}]),n}(Fc),zc=function(e){m(n,e);var t=v(n);function n(e,r,i,o){return(0,y.Z)(this,n),t.call(this,e,r,i,o)}return(0,E.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(Fc),jc=function(){function e(t,n,r,i){if((0,y.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Wc.convertArray(n,this.TimeBufferType),this.values=Wc.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,E.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new zc(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Vc(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Kc(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case on:t=this.InterpolantFactoryMethodDiscrete;break;case an:t=this.InterpolantFactoryMethodLinear;break;case sn:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return on;case this.InterpolantFactoryMethodLinear:return an;case this.InterpolantFactoryMethodSmooth:return sn}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Wc.arraySlice(n,i,o),this.values=Wc.arraySlice(this.values,i*a,o*a)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&Wc.isTypedArray(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Wc.arraySlice(this.times),t=Wc.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===sn,i=e.length-1,o=1,a=1;a<i;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(r)s=!0;else for(var u=a*n,c=u-n,f=u+n,d=0;d!==n;++d){var h=t[u+d];if(h!==t[c+d]||h!==t[f+d]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var p=a*n,m=o*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++o}}if(i>0){e[o]=e[i];for(var g=i*n,y=o*n,E=0;E!==n;++E)t[y+E]=t[g+E];++o}return o!==e.length?(this.times=Wc.arraySlice(e,0,o),this.values=Wc.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Wc.arraySlice(this.times,0),t=Wc.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Wc.convertArray(e.times,Array),values:Wc.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();jc.prototype.TimeBufferType=Float32Array,jc.prototype.ValueBufferType=Float32Array,jc.prototype.DefaultInterpolation=an;var Zc=function(e){m(n,e);var t=v(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n)}(jc);Zc.prototype.ValueTypeName="bool",Zc.prototype.ValueBufferType=Array,Zc.prototype.DefaultInterpolation=on,Zc.prototype.InterpolantFactoryMethodLinear=void 0,Zc.prototype.InterpolantFactoryMethodSmooth=void 0;var Yc=function(e){m(n,e);var t=v(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n)}(jc);Yc.prototype.ValueTypeName="color";var qc=function(e){m(n,e);var t=v(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n)}(jc);qc.prototype.ValueTypeName="number";var Xc=function(e){m(n,e);var t=v(n);function n(e,r,i,o){return(0,y.Z)(this,n),t.call(this,e,r,i,o)}return(0,E.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t),l=e*a,u=l+a;l!==u;l+=4)br.slerpFlat(i,0,o,l-a,o,l,s);return i}}]),n}(Fc),Qc=function(e){m(n,e);var t=v(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Xc(this.times,this.values,this.getValueSize(),e)}}]),n}(jc);Qc.prototype.ValueTypeName="quaternion",Qc.prototype.DefaultInterpolation=an,Qc.prototype.InterpolantFactoryMethodSmooth=void 0;var Jc=function(e){m(n,e);var t=v(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n)}(jc);Jc.prototype.ValueTypeName="string",Jc.prototype.ValueBufferType=Array,Jc.prototype.DefaultInterpolation=on,Jc.prototype.InterpolantFactoryMethodLinear=void 0,Jc.prototype.InterpolantFactoryMethodSmooth=void 0;var $c=function(e){m(n,e);var t=v(n);function n(){return(0,y.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n)}(jc);$c.prototype.ValueTypeName="vector";var ef=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fn;(0,y.Z)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=sr(),this.duration<0&&this.resetDuration()}return(0,E.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(tf(n[i]).scale(r));var a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,o=n.length;i!==o;++i)t.push(jc.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var u=Wc.getKeyframeOrder(s);s=Wc.sortedArray(s,1,u),l=Wc.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new qc(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new this(e,-1,o)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var f=[];for(var d in r)f.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];Wc.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var f={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var h=0;h<c[d].morphTargets.length;h++)f[c[d].morphTargets[h]]=-1;for(var p in f){for(var m=[],v=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];m.push(y.time),v.push(y.morphTarget===p?1:0)}r.push(new qc(".morphTargetInfluence["+p+"]",m,v))}s=f.length*(o||1)}else{var E=".bones["+t[u].name+"]";n($c,E+".position",c,"pos",r),n(Qc,E+".quaternion",c,"rot",r),n($c,E+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,a)}}]),e}();function tf(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return qc;case"vector":case"vector2":case"vector3":case"vector4":return $c;case"color":return Yc;case"quaternion":return Qc;case"bool":case"boolean":return Zc;case"string":return Jc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Wc.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var nf={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},rf=(0,E.Z)((function e(t,n,r){(0,y.Z)(this,e);var i=this,o=!1,a=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===o&&void 0!==i.onStart&&i.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,s),a===s&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),of=new rf,af=function(){function e(t){(0,y.Z)(this,e),this.manager=void 0!==t?t:of,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,E.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),sf={},lf=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=nf.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===sf[e]){var a,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],u=!!s[2],c=s[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var f,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(c.length),p=0;p<c.length;p++)h[p]=c.charCodeAt(p);f="blob"===d?new Blob([h.buffer],{type:l}):h.buffer;break;case"document":var m=new DOMParser;f=m.parseFromString(c,l);break;case"json":f=JSON.parse(c);break;default:f=c}setTimeout((function(){t&&t(f),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{for(var v in sf[e]=[],sf[e].push({onLoad:t,onProgress:n,onError:r}),(a=new XMLHttpRequest).open("GET",e,!0),a.addEventListener("load",(function(t){var n=this.response,r=sf[e];if(delete sf[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),nf.add(e,n);for(var o=0,a=r.length;o<a;o++){var s=r[o];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var l=0,u=r.length;l<u;l++){var c=r[l];c.onError&&c.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),a.addEventListener("progress",(function(t){for(var n=sf[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}}),!1),a.addEventListener("error",(function(t){var n=sf[e];delete sf[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),a.addEventListener("abort",(function(t){var n=sf[e];delete sf[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)a.setRequestHeader(v,this.requestHeader[v]);a.send(null)}return i.manager.itemStart(e),a}sf[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(af),uf=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new lf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=ef.parse(e[n]);t.push(r)}return t}}]),n}(af),cf=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=[],a=new Iu,s=new lf(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function u(u){s.load(e[u],(function(e){var n=i.parse(e,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=Ue),a.image=o,a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(var c=0,f=e.length;c<f;++c)u(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Ue),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}]),n}(af),ff=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=nf.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),nf.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}]),n}(af),df=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new ea,o=new ff(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}]),n}(af),hf=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new $l,a=new lf(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Me,o.wrapT=void 0!==n.wrapT?n.wrapT:Me,o.magFilter=void 0!==n.magFilter?n.magFilter:Ue,o.minFilter=void 0!==n.minFilter?n.minFilter:Ue,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=We),1===n.mipmapCount&&(o.minFilter=Ue),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}]),n}(af),pf=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new Ar,o=new ff(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?nt:rt,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(af),mf=function(){function e(){(0,y.Z)(this,e),this.type="Curve",this.arcLengthDivisions=200}return(0,E.Z)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(o-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(o-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new mr:new Ir);return s.copy(a).sub(o).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Ir,r=[],i=[],o=[],a=new Ir,s=new ii,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new Ir),r[l].normalize()}i[0]=new Ir,o[0]=new Ir;var c=Number.MAX_VALUE,f=Math.abs(r[0].x),d=Math.abs(r[0].y),h=Math.abs(r[0].z);f<=c&&(c=f,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),h<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();var m=Math.acos(lr(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(a,m))}o[p].crossVectors(r[p],i[p])}if(!0===t){var v=Math.acos(lr(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(v=-v);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),o[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:o}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),vf=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,y.Z)(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=o,e.yRadius=a,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new mr,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=s-this.aX,d=l-this.aY;s=f*u-d*c+this.aX,l=f*c+d*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return d(c(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(mf);vf.prototype.isEllipseCurve=!0;var gf=function(e){m(n,e);var t=v(n);function n(e,r,i,o,a,s){var l;return(0,y.Z)(this,n),(l=t.call(this,e,r,i,i,o,a,s)).type="ArcCurve",l}return(0,E.Z)(n)}(vf);function yf(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,u=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,l*=a,u*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}gf.prototype.isArcCurve=!0;var Ef=new Ir,Af=new yf,Tf=new yf,Of=new yf,Rf=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,y.Z)(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=o,e.tension=a,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,i=r,o=this.points,a=o.length,s=(a-(this.closed?0:1))*e,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:0===u&&l===a-1&&(l=a-2,u=1),this.closed||l>0?t=o[(l-1)%a]:(Ef.subVectors(o[0],o[1]).add(o[0]),t=Ef);var c=o[l%a],f=o[(l+1)%a];if(this.closed||l+2<a?n=o[(l+2)%a]:(Ef.subVectors(o[a-1],o[a-2]).add(o[a-1]),n=Ef),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,h=Math.pow(t.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(f),d),m=Math.pow(f.distanceToSquared(n),d);p<1e-4&&(p=1),h<1e-4&&(h=p),m<1e-4&&(m=p),Af.initNonuniformCatmullRom(t.x,c.x,f.x,n.x,h,p,m),Tf.initNonuniformCatmullRom(t.y,c.y,f.y,n.y,h,p,m),Of.initNonuniformCatmullRom(t.z,c.z,f.z,n.z,h,p,m)}else"catmullrom"===this.curveType&&(Af.initCatmullRom(t.x,c.x,f.x,n.x,this.tension),Tf.initCatmullRom(t.y,c.y,f.y,n.y,this.tension),Of.initCatmullRom(t.z,c.z,f.z,n.z,this.tension));return i.set(Af.calc(u),Tf.calc(u),Of.calc(u)),i}},{key:"copy",value:function(e){d(c(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){d(c(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Ir).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(mf);function Lf(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function Sf(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function bf(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}Rf.prototype.isCatmullRomCurve3=!0;var If=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mr,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new mr,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new mr;return(0,y.Z)(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=o,e.v3=a,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mr,n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(bf(e,r.x,i.x,o.x,a.x),bf(e,r.y,i.y,o.y,a.y)),n}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return d(c(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(mf);If.prototype.isCubicBezierCurve=!0;var Nf=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ir,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ir;return(0,y.Z)(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=o,e.v3=a,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(bf(e,r.x,i.x,o.x,a.x),bf(e,r.y,i.y,o.y,a.y),bf(e,r.z,i.z,o.z,a.z)),n}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return d(c(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(mf);Nf.prototype.isCubicBezierCurve3=!0;var xf=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mr;return(0,y.Z)(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=i,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new mr;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return d(c(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(mf);xf.prototype.isLineCurve=!0;var _f=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir;return(0,y.Z)(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=i,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return d(c(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(mf),Mf=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mr,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new mr;return(0,y.Z)(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=o,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mr,n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Sf(e,r.x,i.x,o.x),Sf(e,r.y,i.y,o.y)),n}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return d(c(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(mf);Mf.prototype.isQuadraticBezierCurve=!0;var wf=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ir;return(0,y.Z)(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=o,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir,n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Sf(e,r.x,i.x,o.x),Sf(e,r.y,i.y,o.y),Sf(e,r.z,i.z,o.z)),n}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return d(c(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(mf);wf.prototype.isQuadraticBezierCurve3=!0;var Cf=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,y.Z)(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return(0,E.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mr,n=t,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],u=r[o>r.length-2?r.length-1:o+1],c=r[o>r.length-3?r.length-1:o+2];return n.set(Lf(a,s.x,l.x,u.x,c.x),Lf(a,s.y,l.y,u.y,c.y)),n}},{key:"copy",value:function(e){d(c(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){d(c(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new mr).fromArray(i))}return this}}]),n}(mf);Cf.prototype.isSplineCurve=!0;var Pf=Object.freeze({__proto__:null,ArcCurve:gf,CatmullRomCurve3:Rf,CubicBezierCurve:If,CubicBezierCurve3:Nf,EllipseCurve:vf,LineCurve:xf,LineCurve3:_f,QuadraticBezierCurve:Mf,QuadraticBezierCurve3:wf,SplineCurve:Cf}),Df=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return(0,E.Z)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new xf(t,e))}},{key:"getPoint",value:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){d(c(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){d(c(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new Pf[i.type]).fromJSON(i))}return this}}]),n}(mf),kf=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="Path",r.currentPoint=new mr,e&&r.setFromPoints(e),r}return(0,E.Z)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new xf(this.currentPoint.clone(),new mr(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new Mf(this.currentPoint.clone(),new mr(e,t),new mr(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){var a=new If(this.currentPoint.clone(),new mr(e,t),new mr(n,r),new mr(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Cf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}},{key:"absarc",value:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}},{key:"ellipse",value:function(e,t,n,r,i,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,o,a,s),this}},{key:"absellipse",value:function(e,t,n,r,i,o,a,s){var l=new vf(e,t,n,r,i,o,a,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return d(c(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(Df),Hf=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this,e)).uuid=sr(),r.type="Shape",r.holes=[],r}return(0,E.Z)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){d(c(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){d(c(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new kf).fromJSON(i))}return this}}]),n}(kf),Uf=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,y.Z)(this,n),(r=t.call(this)).type="Light",r.color=new $i(e),r.intensity=i,r}return(0,E.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(xi);Uf.prototype.isLight=!0;var Bf=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;return(0,y.Z)(this,n),(o=t.call(this,e,i)).type="HemisphereLight",o.position.copy(xi.DefaultUp),o.updateMatrix(),o.groundColor=new $i(r),o}return(0,E.Z)(n,[{key:"copy",value:function(e){return Uf.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(Uf);Bf.prototype.isHemisphereLight=!0;var Gf=new ii,Wf=new Ir,Ff=new Ir,Kf=function(){function e(t){(0,y.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new mr(512,512),this.map=null,this.mapPass=null,this.matrix=new ii,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ia,this._frameExtents=new mr(1,1),this._viewportCount=1,this._viewports=[new Or(0,0,1,1)]}return(0,E.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;Wf.setFromMatrixPosition(e.matrixWorld),t.position.copy(Wf),Ff.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Ff),t.updateMatrixWorld(),Gf.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Gf),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Vf=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this,new Qo(50,1,.5,500))).focus=1,e}return(0,E.Z)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*ar*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;r===t.fov&&i===t.aspect&&o===t.far||(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),d(c(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(Kf);Vf.prototype.isSpotLightShadow=!0;var zf=function(e){m(n,e);var t=v(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,y.Z)(this,n),(i=t.call(this,e,r)).type="SpotLight",i.position.copy(xi.DefaultUp),i.updateMatrix(),i.target=new xi,i.distance=o,i.angle=a,i.penumbra=s,i.decay=l,i.shadow=new Vf,i}return(0,E.Z)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Uf);zf.prototype.isSpotLight=!0;var jf=new ii,Zf=new Ir,Yf=new Ir,qf=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this,new Qo(90,1,.5,500)))._frameExtents=new mr(4,2),e._viewportCount=6,e._viewports=[new Or(2,1,1,1),new Or(0,1,1,1),new Or(3,1,1,1),new Or(1,1,1,1),new Or(3,0,1,1),new Or(1,0,1,1)],e._cubeDirections=[new Ir(1,0,0),new Ir(-1,0,0),new Ir(0,0,1),new Ir(0,0,-1),new Ir(0,1,0),new Ir(0,-1,0)],e._cubeUps=[new Ir(0,1,0),new Ir(0,1,0),new Ir(0,1,0),new Ir(0,1,0),new Ir(0,0,1),new Ir(0,0,-1)],e}return(0,E.Z)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Zf.setFromMatrixPosition(e.matrixWorld),n.position.copy(Zf),Yf.copy(n.position),Yf.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Yf),n.updateMatrixWorld(),r.makeTranslation(-Zf.x,-Zf.y,-Zf.z),jf.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jf)}}]),n}(Kf);qf.prototype.isPointLightShadow=!0;var Xf=function(e){m(n,e);var t=v(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,y.Z)(this,n),(i=t.call(this,e,r)).type="PointLight",i.distance=o,i.decay=a,i.shadow=new qf,i}return(0,E.Z)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Uf);Xf.prototype.isPointLight=!0;var Qf=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,y.Z)(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=o,e.bottom=a,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return(0,E.Z)(n,[{key:"copy",value:function(e,t){return d(c(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=l*this.view.offsetX)+l*this.view.width,s=(a-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Xo);Qf.prototype.isOrthographicCamera=!0;var Jf=function(e){m(n,e);var t=v(n);function n(){return(0,y.Z)(this,n),t.call(this,new Qf(-5,5,5,-5,.5,500))}return(0,E.Z)(n)}(Kf);Jf.prototype.isDirectionalLightShadow=!0;var $f=function(e){m(n,e);var t=v(n);function n(e,r){var i;return(0,y.Z)(this,n),(i=t.call(this,e,r)).type="DirectionalLight",i.position.copy(xi.DefaultUp),i.updateMatrix(),i.target=new xi,i.shadow=new Jf,i}return(0,E.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Uf);$f.prototype.isDirectionalLight=!0;var ed=function(e){m(n,e);var t=v(n);function n(e,r){var i;return(0,y.Z)(this,n),(i=t.call(this,e,r)).type="AmbientLight",i}return(0,E.Z)(n)}(Uf);ed.prototype.isAmbientLight=!0;var td=function(e){m(n,e);var t=v(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,y.Z)(this,n),(i=t.call(this,e,r)).type="RectAreaLight",i.width=o,i.height=a,i}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(Uf);td.prototype.isRectAreaLight=!0;var nd=function(){function e(){(0,y.Z)(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Ir)}return(0,E.Z)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();nd.prototype.isSphericalHarmonics3=!0;var rd=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new nd,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,y.Z)(this,n),(e=t.call(this,void 0,i)).sh=r,e}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(Uf);rd.prototype.isLightProbe=!0;var id=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this,e)).textures={},r}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new lf(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new Gc[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new $i).setHex(e.sheen)),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new $i).setHex(o.value);break;case"v2":r.uniforms[i].value=(new mr).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new Ir).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new Or).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new gr).fromArray(o.value);break;case"m4":r.uniforms[i].value=(new ii).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new mr).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new mr).fromArray(e.clearcoatNormalScale)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}}]),n}(af),od=function(){function e(){(0,y.Z)(this,e)}return(0,E.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}]),e}(),ad=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(So);ad.prototype.isInstancedBufferGeometry=!0;var sd=function(e){m(n,e);var t=v(n);function n(e,r,i,o){var a;return(0,y.Z)(this,n),"number"===typeof i&&(o=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(a=t.call(this,e,r,i)).meshPerAttribute=o||1,a}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=d(c(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(ro);sd.prototype.isInstancedBufferAttribute=!0;var ld=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new lf(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),a=go(i.type,o),s=new Ll(a,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new ad:new So,o=e.data.index;if(void 0!==o){var a=go(o.type,o.array);i.setIndex(new ro(a,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var f=r(e.data,u.data);c=new bl(f,u.itemSize,u.offset,u.normalized)}else{var d=go(u.type,u.array);c=new(u.isInstancedBufferAttribute?sd:ro)(d,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),void 0!==u.updateRange&&(c.updateRange.offset=u.updateRange.offset,c.updateRange.count=u.updateRange.count),i.setAttribute(l,c)}var h=e.data.morphAttributes;if(h)for(var p in h){for(var m=h[p],v=[],g=0,y=m.length;g<y;g++){var E=m[g],A=void 0;if(E.isInterleavedBufferAttribute){var T=r(e.data,E.data);A=new bl(T,E.itemSize,E.offset,E.normalized)}else{var O=go(E.type,E.array);A=new ro(O,E.itemSize,E.normalized)}void 0!==E.name&&(A.name=E.name),v.push(A)}i.morphAttributes[p]=v}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var R=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==R)for(var L=0,S=R.length;L!==S;++L){var b=R[L];i.addGroup(b.start,b.count,b.materialIndex)}var I=e.data.boundingSphere;if(void 0!==I){var N=new Ir;void 0!==I.center&&N.fromArray(I.center),i.boundingSphere=new qr(N,I.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(af),ud=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=""===this.path?od.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new lf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){var c=!1;for(var f in o)if(o[f]instanceof HTMLImageElement){c=!0;break}!1===c&&t(l)}return l}},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Hf).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=(new nu).fromJSON(e[i],r);n[a.uuid]=a}return n}},{key:"parseGeometries",value:function(e,t){var n,r={};if(void 0!==e)for(var i=new ld,o=0,a=e.length;o<a;o++){var s=void 0,l=e[o];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new xc[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":s=new xc[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new xc[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new xc[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new xc[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new xc[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new xc[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new xc[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new xc[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new xc[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new xc[l.type]((new Pf[l.path.type]).fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new xc[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new xc[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var u=0,c=l.shapes.length;u<c;u++){var f=t[l.shapes[u]];n.push(f)}s=new xc[l.type](n,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var d=0,h=l.shapes.length;d<h;d++){var p=t[l.shapes[d]];n.push(p)}var m=l.options.extrudePath;void 0!==m&&(l.options.extrudePath=(new Pf[m.type]).fromJSON(m)),s=new xc[l.type](n,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),!0===s.isBufferGeometry&&void 0!==l.userData&&(s.userData=l.userData),r[l.uuid]=s}return r}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new id;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var l=[],u=0;u<s.materials.length;u++){var c=s.materials[u];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),l.push(n[c.uuid])}r[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=ef.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function o(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:go(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var a=new rf(t);(n=new ff(a)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){i[u.uuid]=[];for(var f=0,d=c.length;f<d;f++){var h=o(c[f]);null!==h&&(h instanceof HTMLImageElement?i[u.uuid].push(h):i[u.uuid].push(new $l(h.data,h.width,h.height)))}}else{var p=o(u.url);null!==p&&(i[u.uuid]=p)}}}return i}},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=void 0,l=t[a.image];Array.isArray(l)?(s=new ea(l),6===l.length&&(s.needsUpdate=!0)):(s=l&&l.data?new $l(l.data,l.width,l.height):new Ar(l),l&&(s.needsUpdate=!0)),s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,cd)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],fd),s.wrapT=n(a.wrap[1],fd)),void 0!==a.format&&(s.format=a.format),void 0!==a.type&&(s.type=a.type),void 0!==a.encoding&&(s.encoding=a.encoding),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,dd)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,dd)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(s.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(s.unpackAlignment=a.unpackAlignment),r[a.uuid]=s}return r}},{key:"parseObject",value:function(e,t,n,r){var i,o,a;function s(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":i=new Rl,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new $i(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new Ol(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new Tl(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Qo(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new Qf(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new ed(e.color,e.intensity);break;case"DirectionalLight":i=new $f(e.color,e.intensity);break;case"PointLight":i=new Xf(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new td(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new zf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new Bf(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=(new rd).fromJSON(e);break;case"SkinnedMesh":o=s(e.geometry),a=l(e.material),i=new Ql(o,a),void 0!==e.bindMode&&(i.bindMode=e.bindMode),void 0!==e.bindMatrix&&i.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(i.skeleton=e.skeleton);break;case"Mesh":o=s(e.geometry),a=l(e.material),i=new Ko(o,a);break;case"InstancedMesh":o=s(e.geometry),a=l(e.material);var u=e.count,c=e.instanceMatrix,f=e.instanceColor;(i=new su(o,a,u)).instanceMatrix=new ro(new Float32Array(c.array),16),void 0!==f&&(i.instanceColor=new ro(new Float32Array(f.array),f.itemSize));break;case"LOD":i=new zl;break;case"Line":i=new pu(s(e.geometry),l(e.material));break;case"LineLoop":i=new yu(s(e.geometry),l(e.material));break;case"LineSegments":i=new gu(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":i=new Lu(s(e.geometry),l(e.material));break;case"Sprite":i=new Wl(l(e.material));break;case"Group":i=new pl;break;case"Bone":i=new Jl;break;default:i=new xi}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(i.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var d=e.children,h=0;h<d.length;h++)i.add(this.parseObject(d[h],t,n,r));if(void 0!==e.animations)for(var p=e.animations,m=0;m<p.length;m++){var v=p[m];i.animations.push(r[v])}if("LOD"===e.type){void 0!==e.autoUpdate&&(i.autoUpdate=e.autoUpdate);for(var g=e.levels,y=0;y<g.length;y++){var E=g[y],A=i.getObjectByProperty("uuid",E.object);void 0!==A&&i.addLevel(A,E.distance)}}return i}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}},{key:"setTexturePath",value:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}]),n}(af),cd={UVMapping:Re,CubeReflectionMapping:Le,CubeRefractionMapping:Se,EquirectangularReflectionMapping:be,EquirectangularRefractionMapping:Ie,CubeUVReflectionMapping:Ne,CubeUVRefractionMapping:xe},fd={RepeatWrapping:_e,ClampToEdgeWrapping:Me,MirroredRepeatWrapping:we},dd={NearestFilter:Ce,NearestMipmapNearestFilter:Pe,NearestMipmapLinearFilter:ke,LinearFilter:Ue,LinearMipmapNearestFilter:Be,LinearMipmapLinearFilter:We},hd=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),r=t.call(this,e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return(0,E.Z)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=nf.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){nf.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(af);hd.prototype.isImageBitmapLoader=!0;var pd=function(){function e(){(0,y.Z)(this,e),this.type="ShapePath",this.color=new $i,this.subPaths=[],this.currentPath=null}return(0,E.Z)(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new kf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Hf;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=t[o],l=-l,s=t[i],u=-u),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var c=u*(e.x-a.x)-l*(e.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i,o,a,s=fc.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===t)return n(l);var u=[];if(1===l.length)return o=l[0],(a=new Hf).curves=o.curves,u.push(a),u;var c=!s(l[0].getPoints());c=e?!c:c;var f,d,h=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=l.length;g<y;g++)i=s(f=(o=l[g]).getPoints()),(i=e?!i:i)?(!c&&p[v]&&v++,p[v]={s:new Hf,p:f},p[v].s.curves=o.curves,c&&v++,m[v]=[]):m[v].push({h:o,p:f[0]});if(!p[0])return n(l);if(p.length>1){for(var E=!1,A=[],T=0,O=p.length;T<O;T++)h[T]=[];for(var R=0,L=p.length;R<L;R++)for(var S=m[R],b=0;b<S.length;b++){for(var I=S[b],N=!0,x=0;x<p.length;x++)r(I.p,p[x].p)&&(R!==x&&A.push({froms:R,tos:x,hole:b}),N?(N=!1,h[x].push(I)):E=!0);N&&h[R].push(I)}A.length>0&&(E||(m=h))}for(var _=0,M=p.length;_<M;_++){a=p[_].s,u.push(a);for(var w=0,C=(d=m[_]).length;w<C;w++)a.holes.push(d[w].h)}return u}}]),e}(),md=function(){function e(t){(0,y.Z)(this,e),this.type="Font",this.data=t}return(0,E.Z)(e,[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=vd(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}]),e}();function vd(e,t,n){for(var r=Array.from(e),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,l=0,u=0;u<r.length;u++){var c=r[u];if("\n"===c)s=0,l-=o;else{var f=gd(c,i,s,l,n);s+=f.offsetX,a.push(f.path)}}return a}function gd(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,l,u,c,f,d,h,p=new pd;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":a=m[v++]*t+n,s=m[v++]*t+r,p.moveTo(a,s);break;case"l":a=m[v++]*t+n,s=m[v++]*t+r,p.lineTo(a,s);break;case"q":l=m[v++]*t+n,u=m[v++]*t+r,c=m[v++]*t+n,f=m[v++]*t+r,p.quadraticCurveTo(c,f,l,u);break;case"b":l=m[v++]*t+n,u=m[v++]*t+r,c=m[v++]*t+n,f=m[v++]*t+r,d=m[v++]*t+n,h=m[v++]*t+r,p.bezierCurveTo(c,f,d,h,l,u)}}return{offsetX:o.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}md.prototype.isFont=!0;var yd,Ed=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new lf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)}},{key:"parse",value:function(e){return new md(e)}}]),n}(af),Ad={getContext:function(){return void 0===yd&&(yd=new(window.AudioContext||window.webkitAudioContext)),yd},setContext:function(e){yd=e}},Td=function(e){m(n,e);var t=v(n);function n(e){return(0,y.Z)(this,n),t.call(this,e)}return(0,E.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,o=new lf(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{var o=n.slice(0);Ad.getContext().decodeAudioData(o,(function(e){t(e)}))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}}]),n}(af),Od=function(e){m(n,e);var t=v(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,y.Z)(this,n),i=t.call(this,void 0,o);var a=(new $i).set(e),s=(new $i).set(r),l=new Ir(a.r,a.g,a.b),u=new Ir(s.r,s.g,s.b),c=Math.sqrt(Math.PI),f=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(l).add(u).multiplyScalar(c),i.sh.coefficients[1].copy(l).sub(u).multiplyScalar(f),i}return(0,E.Z)(n)}(rd);Od.prototype.isHemisphereLightProbe=!0;var Rd=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,y.Z)(this,n),r=t.call(this,void 0,i);var o=(new $i).set(e);return r.sh.coefficients[0].set(o.r,o.g,o.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return(0,E.Z)(n)}(rd);Rd.prototype.isAmbientLightProbe=!0;var Ld=new ii,Sd=new ii,bd=function(){function e(){(0,y.Z)(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return(0,E.Z)(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),o=t.eyeSep/2,a=o*t.near/t.focus,s=t.near*Math.tan(or*t.fov*.5)/t.zoom;Sd.elements[12]=-o,Ld.elements[12]=o,n=-s*t.aspect+a,r=s*t.aspect+a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-a,r=s*t.aspect-a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Sd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ld)}}]),e}(),Id=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,y.Z)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,E.Z)(e,[{key:"start",value:function(){this.startTime=Nd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Nd();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Nd(){return("undefined"===typeof performance?Date:performance).now()}var xd=new Ir,_d=new br,Md=new Ir,wd=new Ir,Cd=function(e){m(n,e);var t=v(n);function n(){var e;return(0,y.Z)(this,n),(e=t.call(this)).type="AudioListener",e.context=Ad.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Id,e}return(0,E.Z)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){d(c(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(xd,_d,Md),wd.set(0,0,-1).applyQuaternion(_d),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(xd.x,i),t.positionY.linearRampToValueAtTime(xd.y,i),t.positionZ.linearRampToValueAtTime(xd.z,i),t.forwardX.linearRampToValueAtTime(wd.x,i),t.forwardY.linearRampToValueAtTime(wd.y,i),t.forwardZ.linearRampToValueAtTime(wd.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(xd.x,xd.y,xd.z),t.setOrientation(wd.x,wd.y,wd.z,r.x,r.y,r.z)}}]),n}(xi),Pd=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return(0,E.Z)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(xi),Dd=new Ir,kd=new br,Hd=new Ir,Ud=new Ir,Bd=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return(0,E.Z)(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(d(c(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Dd,kd,Hd),Ud.set(0,0,1).applyQuaternion(kd);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Dd.x,r),t.positionY.linearRampToValueAtTime(Dd.y,r),t.positionZ.linearRampToValueAtTime(Dd.z,r),t.orientationX.linearRampToValueAtTime(Ud.x,r),t.orientationY.linearRampToValueAtTime(Ud.y,r),t.orientationZ.linearRampToValueAtTime(Ud.z,r)}else t.setPosition(Dd.x,Dd.y,Dd.z),t.setOrientation(Ud.x,Ud.y,Ud.z)}}}]),n}(Pd),Gd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;(0,y.Z)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return(0,E.Z)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Wd=function(){function e(t,n,r){var i,o,a;switch((0,y.Z)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,E.Z)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]}},{key:"_slerp",value:function(e,t,n,r){br.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var o=this._workIndex*i;br.multiplyQuaternionsFlat(e,o,e,t,e,n),br.slerpFlat(e,t,e,t,e,o,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var o=0;o!==i;++o){var a=t+o;e[a]=e[a]+e[n+o]*r}}}]),e}(),Fd="\\[\\]\\.:\\/",Kd=new RegExp("[\\[\\]\\.:\\/]","g"),Vd="[^\\[\\]\\.:\\/]",zd="[^"+Fd.replace("\\.","")+"]",jd=/((?:WC+[\/:])*)/.source.replace("WC",Vd),Zd=/(WCOD+)?/.source.replace("WCOD",zd),Yd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Vd),qd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Vd),Xd=new RegExp("^"+jd+Zd+Yd+qd+"$"),Qd=["material","materials","bones"],Jd=function(){function e(t,n,r){(0,y.Z)(this,e);var i=r||$d.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,E.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),$d=function(){function e(t,n,r){(0,y.Z)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,E.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.node[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,o=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var a=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===a){a=s;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Kd,"")}},{key:"parseTrackName",value:function(e){var t=Xd.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Qd.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}]),e}();$d.Composite=Jd,$d.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},$d.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},$d.prototype.GetterByBindingType=[$d.prototype._getValue_direct,$d.prototype._getValue_array,$d.prototype._getValue_arrayElement,$d.prototype._getValue_toArray],$d.prototype.SetterByBindingTypeAndVersioning=[[$d.prototype._setValue_direct,$d.prototype._setValue_direct_setNeedsUpdate,$d.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$d.prototype._setValue_array,$d.prototype._setValue_array_setNeedsUpdate,$d.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$d.prototype._setValue_arrayElement,$d.prototype._setValue_arrayElement_setNeedsUpdate,$d.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$d.prototype._setValue_fromArray,$d.prototype._setValue_fromArray_setNeedsUpdate,$d.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var eh=function(){function e(){(0,y.Z)(this,e),this.uuid=sr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return(0,E.Z)(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length,a=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var f=arguments[u],d=f.uuid,h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(f);for(var p=0,m=o;p!==m;++p)i[p].push(new $d(f,n[p],r[p]))}else if(h<l){a=e[h];var v=--l,g=e[v];t[g.uuid]=h,e[h]=g,t[d]=v,e[v]=f;for(var y=0,E=o;y!==E;++y){var A=i[y],T=A[v],O=A[h];A[h]=T,void 0===O&&(O=new $d(f,n[y],r[y])),A[v]=O}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,u=t[l];if(void 0!==u&&u>=i){var c=i++,f=e[c];t[f.uuid]=u,e[u]=f,t[l]=c,e[c]=s;for(var d=0,h=r;d!==h;++d){var p=n[d],m=p[c],v=p[u];p[u]=m,p[c]=v}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=e.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],u=l.uuid,c=t[u];if(void 0!==c)if(delete t[u],c<i){var f=--i,d=e[f],h=--o,p=e[h];t[d.uuid]=c,e[c]=d,t[p.uuid]=f,e[f]=p,e.pop();for(var m=0,v=r;m!==v;++m){var g=n[m],y=g[f],E=g[h];g[c]=y,g[f]=E,g.pop()}}else{var A=--o,T=e[A];A>0&&(t[T.uuid]=c),e[c]=T,e.pop();for(var O=0,R=r;O!==R;++O){var L=n[O];L[c]=L[A],L.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(c);for(var f=u,d=s.length;f!==d;++f){var h=s[f];c[f]=new $d(h,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}]),e}();eh.prototype.isAnimationObjectGroup=!0;var th=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;(0,y.Z)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var o=n.tracks,a=o.length,s=new Array(a),l={endingStart:ln,endingEnd:ln},u=0;u!==a;++u){var c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=nn,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,E.Z)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(this.blendMode===dn)for(var c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);else for(var d=0,h=l.length;d!==h;++d)l[d].evaluate(a),u[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,o=n===rn;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===tn){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){var a=Math.floor(r/t);r-=t*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=un,r.endingEnd=un):(r.endingStart=e?this.zeroSlopeAtStart?un:ln:cn,r.endingEnd=t?this.zeroSlopeAtEnd?un:ln:cn)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}]),e}(),nh=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return(0,E.Z)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var f=r[c],d=f.name,h=u[d];if(void 0!==h)o[c]=h;else{if(void 0!==(h=o[c])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,d));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(h=new Wd($d.create(n,d,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(h,s,d),o[c]=h}a[c].resultBuffer=h.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Vc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,o="string"===typeof e?ef.findByName(r,e):e,a=null!==o?o.uuid:e,s=this._actionsByClip[a],l=null;if(void 0===n&&(n=null!==o?o.blendMode:fn),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;var c=new th(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?ef.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(o);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(tr);nh.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var rh=function(){function e(t){(0,y.Z)(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return(0,E.Z)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),ih=function(e){m(n,e);var t=v(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,y.Z)(this,n),(i=t.call(this,e,r)).meshPerAttribute=o||1,i}return(0,E.Z)(n,[{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=d(c(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=d(c(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(Ll);ih.prototype.isInstancedInterleavedBuffer=!0;var oh=function(){function e(t,n,r,i,o){(0,y.Z)(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}return(0,E.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}();oh.prototype.isGLBufferAttribute=!0;var ah=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,y.Z)(this,e),this.ray=new ri(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new mi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,E.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return lh(e,this,n,t),n.sort(sh),n}},{key:"intersectObjects",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)lh(e[r],this,n,t);return n.sort(sh),n}}]),e}();function sh(e,t){return e.distance-t.distance}function lh(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,o=0,a=i.length;o<a;o++)lh(i[o],t,n,!0)}var uh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,y.Z)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,E.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(lr(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ch=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,y.Z)(this,e),this.radius=t,this.theta=n,this.y=r,this}return(0,E.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),fh=new mr,dh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mr(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mr(-1/0,-1/0);(0,y.Z)(this,e),this.min=t,this.max=n}return(0,E.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=fh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new mr),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new mr),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new mr),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new mr),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return fh.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();dh.prototype.isBox2=!0;var hh=new Ir,ph=new Ir,mh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir;(0,y.Z)(this,e),this.start=t,this.end=n}return(0,E.Z)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Ir),e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Ir),e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Ir),this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){hh.subVectors(e,this.start),ph.subVectors(this.end,this.start);var n=ph.dot(ph),r=ph.dot(hh)/n;return t&&(r=lr(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Ir),this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),vh=function(e){m(n,e);var t=v(n);function n(e){var r;return(0,y.Z)(this,n),(r=t.call(this)).material=e,r.render=function(){},r.hasPositions=!1,r.hasNormals=!1,r.hasColors=!1,r.hasUvs=!1,r.positionArray=null,r.normalArray=null,r.colorArray=null,r.uvArray=null,r.count=0,r}return(0,E.Z)(n)}(xi);vh.prototype.isImmediateRenderObject=!0;var gh=new Ir,yh=function(e){m(n,e);var t=v(n);function n(e,r){var i;(0,y.Z)(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;for(var o=new So,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var u=s/32*Math.PI*2,c=l/32*Math.PI*2;a.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}o.setAttribute("position",new ho(a,3));var f=new lu({fog:!1,toneMapped:!1});return i.cone=new gu(o,f),i.add(i.cone),i.update(),i}return(0,E.Z)(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),gh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(gh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(xi),Eh=new Ir,Ah=new ii,Th=new ii,Oh=function(e){m(n,e);var t=v(n);function n(e){var r;(0,y.Z)(this,n);for(var i=Rh(e),o=new So,a=[],s=[],l=new $i(0,0,1),u=new $i(0,1,0),c=0;c<i.length;c++){var f=i[c];f.parent&&f.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}o.setAttribute("position",new ho(a,3)),o.setAttribute("color",new ho(s,3));var d=new lu({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,o,d)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return(0,E.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");Th.copy(this.root.matrixWorld).invert();for(var o=0,a=0;o<t.length;o++){var s=t[o];s.parent&&s.parent.isBone&&(Ah.multiplyMatrices(Th,s.matrixWorld),Eh.setFromMatrixPosition(Ah),i.setXYZ(a,Eh.x,Eh.y,Eh.z),Ah.multiplyMatrices(Th,s.parent.matrixWorld),Eh.setFromMatrixPosition(Ah),i.setXYZ(a+1,Eh.x,Eh.y,Eh.z),a+=2)}r.getAttribute("position").needsUpdate=!0,d(c(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(gu);function Rh(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Rh(e.children[n]));return t}var Lh=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;(0,y.Z)(this,n);var a=new Oc(r,4,2),s=new eo({wireframe:!0,fog:!1,toneMapped:!1});return(o=t.call(this,a,s)).light=e,o.light.updateMatrixWorld(),o.color=i,o.type="PointLightHelper",o.matrix=o.light.matrixWorld,o.matrixAutoUpdate=!1,o.update(),o}return(0,E.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(Ko),Sh=new Ir,bh=new $i,Ih=new $i,Nh=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;(0,y.Z)(this,n),(o=t.call(this)).light=e,o.light.updateMatrixWorld(),o.matrix=e.matrixWorld,o.matrixAutoUpdate=!1,o.color=i;var a=new yc(r);a.rotateY(.5*Math.PI),o.material=new eo({wireframe:!0,fog:!1,toneMapped:!1}),void 0===o.color&&(o.material.vertexColors=!0);var s=a.getAttribute("position"),l=new Float32Array(3*s.count);return a.setAttribute("color",new ro(l,3)),o.add(new Ko(a,o.material)),o.update(),o}return(0,E.Z)(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");bh.copy(this.light.color),Ih.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?bh:Ih;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(Sh.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(xi),xh=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,y.Z)(this,n),o=new $i(o),a=new $i(a);for(var s=i/2,l=r/i,u=r/2,c=[],f=[],d=0,h=0,p=-u;d<=i;d++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var m=d===s?o:a;m.toArray(f,h),h+=3,m.toArray(f,h),h+=3,m.toArray(f,h),h+=3,m.toArray(f,h),h+=3}var v=new So;v.setAttribute("position",new ho(c,3)),v.setAttribute("color",new ho(f,3));var g=new lu({vertexColors:!0,toneMapped:!1});return(e=t.call(this,v,g)).type="GridHelper",e}return(0,E.Z)(n)}(gu),_h=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;(0,y.Z)(this,n),s=new $i(s),l=new $i(l);for(var u=[],c=[],f=0;f<=i;f++){var d=f/i*(2*Math.PI),h=Math.sin(d)*r,p=Math.cos(d)*r;u.push(0,0,0),u.push(h,0,p);var m=1&f?s:l;c.push(m.r,m.g,m.b),c.push(m.r,m.g,m.b)}for(var v=0;v<=o;v++)for(var g=1&v?s:l,E=r-r/o*v,A=0;A<a;A++){var T=A/a*(2*Math.PI),O=Math.sin(T)*E,R=Math.cos(T)*E;u.push(O,0,R),c.push(g.r,g.g,g.b),T=(A+1)/a*(2*Math.PI),O=Math.sin(T)*E,R=Math.cos(T)*E,u.push(O,0,R),c.push(g.r,g.g,g.b)}var L=new So;L.setAttribute("position",new ho(u,3)),L.setAttribute("color",new ho(c,3));var S=new lu({vertexColors:!0,toneMapped:!1});return(e=t.call(this,L,S)).type="PolarGridHelper",e}return(0,E.Z)(n)}(gu),Mh=new Ir,wh=new Ir,Ch=new Ir,Ph=function(e){m(n,e);var t=v(n);function n(e,r,i){var o;(0,y.Z)(this,n),(o=t.call(this)).light=e,o.light.updateMatrixWorld(),o.matrix=e.matrixWorld,o.matrixAutoUpdate=!1,o.color=i,void 0===r&&(r=1);var a=new So;a.setAttribute("position",new ho([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new lu({fog:!1,toneMapped:!1});return o.lightPlane=new pu(a,s),o.add(o.lightPlane),(a=new So).setAttribute("position",new ho([0,0,0,0,0,1],3)),o.targetLine=new pu(a,s),o.add(o.targetLine),o.update(),o}return(0,E.Z)(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){Mh.setFromMatrixPosition(this.light.matrixWorld),wh.setFromMatrixPosition(this.light.target.matrixWorld),Ch.subVectors(wh,Mh),this.lightPlane.lookAt(wh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(wh),this.targetLine.scale.z=Ch.length()}}]),n}(xi),Dh=new Ir,kh=new Xo,Hh=function(e){m(n,e);var t=v(n);function n(e){var r;(0,y.Z)(this,n);var i=new So,o=new lu({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],s=[],l={},u=new $i(16755200),c=new $i(16711680),f=new $i(43775),d=new $i(16777215),h=new $i(3355443);function p(e,t,n){m(e,n),m(t,n)}function m(e,t){a.push(0,0,0),s.push(t.r,t.g,t.b),void 0===l[e]&&(l[e]=[]),l[e].push(a.length/3-1)}return p("n1","n2",u),p("n2","n4",u),p("n4","n3",u),p("n3","n1",u),p("f1","f2",u),p("f2","f4",u),p("f4","f3",u),p("f3","f1",u),p("n1","f1",u),p("n2","f2",u),p("n3","f3",u),p("n4","f4",u),p("p","n1",c),p("p","n2",c),p("p","n3",c),p("p","n4",c),p("u1","u2",f),p("u2","u3",f),p("u3","u1",f),p("c","t",d),p("p","c",h),p("cn1","cn2",h),p("cn3","cn4",h),p("cf1","cf2",h),p("cf3","cf4",h),i.setAttribute("position",new ho(a,3)),i.setAttribute("color",new ho(s,3)),(r=t.call(this,i,o)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update(),r}return(0,E.Z)(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;kh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Uh("c",t,e,kh,0,0,-1),Uh("t",t,e,kh,0,0,1),Uh("n1",t,e,kh,-1,-1,-1),Uh("n2",t,e,kh,1,-1,-1),Uh("n3",t,e,kh,-1,1,-1),Uh("n4",t,e,kh,1,1,-1),Uh("f1",t,e,kh,-1,-1,1),Uh("f2",t,e,kh,1,-1,1),Uh("f3",t,e,kh,-1,1,1),Uh("f4",t,e,kh,1,1,1),Uh("u1",t,e,kh,.7,1.1,-1),Uh("u2",t,e,kh,-.7,1.1,-1),Uh("u3",t,e,kh,0,2,-1),Uh("cf1",t,e,kh,-1,0,1),Uh("cf2",t,e,kh,1,0,1),Uh("cf3",t,e,kh,0,-1,1),Uh("cf4",t,e,kh,0,1,1),Uh("cn1",t,e,kh,-1,0,-1),Uh("cn2",t,e,kh,1,0,-1),Uh("cn3",t,e,kh,0,-1,-1),Uh("cn4",t,e,kh,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(gu);function Uh(e,t,n,r,i,o,a){Dh.set(i,o,a).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],Dh.x,Dh.y,Dh.z)}var Bh,Gh,Wh=new _r,Fh=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,y.Z)(this,n);var o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),s=new So;return s.setIndex(new ro(o,1)),s.setAttribute("position",new ro(a,3)),(r=t.call(this,s,new lu({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return(0,E.Z)(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Wh.setFromObject(this.object),!Wh.isEmpty()){var t=Wh.min,n=Wh.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return gu.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(gu),Kh=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,y.Z)(this,n);var o=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new So;return s.setIndex(new ro(o,1)),s.setAttribute("position",new ho(a,3)),(r=t.call(this,s,new lu({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return(0,E.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),d(c(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(gu),Vh=function(e){m(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;(0,y.Z)(this,n);var a=o,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],l=new So;l.setAttribute("position",new ho(s,3)),l.computeBoundingSphere(),(r=t.call(this,l,new lu({color:a,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],c=new So;return c.setAttribute("position",new ho(u,3)),c.computeBoundingSphere(),r.add(new Ko(c,new eo({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return(0,E.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?P:C,this.lookAt(this.plane.normal),d(c(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(pu),zh=new Ir,jh=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ir(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ir(0,0,0),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*o,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return(0,y.Z)(this,n),(e=t.call(this)).type="ArrowHelper",void 0===Bh&&((Bh=new So).setAttribute("position",new ho([0,0,0,0,1,0],3)),(Gh=new Mu(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new pu(Bh,new lu({color:a,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new Ko(Gh,new eo({color:a,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(o,s,l),e}return(0,E.Z)(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{zh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(zh,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return d(c(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(xi),Zh=function(e){m(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,y.Z)(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],o=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new So;a.setAttribute("position",new ho(i,3)),a.setAttribute("color",new ho(o,3));var s=new lu({vertexColors:!0,toneMapped:!1});return(e=t.call(this,a,s)).type="AxesHelper",e}return(0,E.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(gu),Yh=new Float32Array(1),qh=new Int32Array(Yh.buffer),Xh=function(){function e(){(0,y.Z)(this,e)}return(0,E.Z)(e,null,[{key:"toHalfFloat",value:function(e){Yh[0]=e;var t=qh[0],n=t>>16&32768,r=t>>12&2047,i=t>>23&255;return i<103?n:i>142?(n|=31744,n|=(255==i?0:1)&&8388607&t):i<113?n|=((r|=2048)>>114-i)+(r>>113-i&1):(n|=i-112<<10|r>>1,n+=1&r)}}]),e}(),Qh=Math.pow(2,8),Jh=[.125,.215,.35,.446,.526,.582],$h=5+Jh.length,ep=20,tp=(g={},(0,o.Z)(g,vn,0),(0,o.Z)(g,gn,1),(0,o.Z)(g,En,2),(0,o.Z)(g,Tn,3),(0,o.Z)(g,On,4),(0,o.Z)(g,Rn,5),(0,o.Z)(g,yn,6),g),np=new eo({side:P,depthWrite:!1,depthTest:!1}),rp=new Ko(new zo,np),ip=new Qf,op=gp(),ap=op._lodPlanes,sp=op._sizeLods,lp=op._sigmas,up=new $i,cp=null,fp=(1+Math.sqrt(5))/2,dp=1/fp,hp=[new Ir(1,1,1),new Ir(-1,1,1),new Ir(1,1,-1),new Ir(-1,1,-1),new Ir(0,fp,dp),new Ir(0,fp,-dp),new Ir(dp,0,fp),new Ir(-dp,0,fp),new Ir(fp,dp,0),new Ir(-fp,dp,0)];function pp(e){var t=Math.max(e.r,e.g,e.b),n=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);return e.multiplyScalar(Math.pow(2,-n)),(n+128)/255}var mp=function(){function e(t){(0,y.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),n=new Ir(0,1,0);return new Mc({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:tp[vn]},outputEncoding:{value:tp[vn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:U,depthTest:!1,depthWrite:!1})}(ep),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return(0,E.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;cp=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=Tp(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=Ap(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<ap.length;e++)ap[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(cp),e.scissorTest=!1,Ep(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){cp=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:Ce,minFilter:Ce,generateMipmaps:!1,type:Ke,format:at,encoding:vp(e)?e.encoding:En,depthBuffer:!1},n=yp(t);return n.depthBuffer=!e,this._pingPongRenderTarget=yp(t),n}},{key:"_compileMaterial",value:function(e){var t=new Ko(ap[0],e);this._renderer.compile(t,ip)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Qo(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.outputEncoding,c=s.toneMapping;s.getClearColor(up),s.toneMapping=ge,s.outputEncoding=vn,s.autoClear=!1;var f=!1,d=e.background;if(d){if(d.isColor){np.color.copy(d).convertSRGBToLinear(),e.background=null;var h=pp(np.color);np.opacity=h,f=!0}}else{np.color.copy(up).convertSRGBToLinear();var p=pp(np.color);np.opacity=p,f=!0}for(var m=0;m<6;m++){var v=m%3;0==v?(i.up.set(0,o[m],0),i.lookAt(a[m],0,0)):1==v?(i.up.set(0,0,o[m]),i.lookAt(0,a[m],0)):(i.up.set(0,o[m],0),i.lookAt(0,0,a[m])),Ep(r,v*Qh,m>2?Qh:0,Qh,Qh),s.setRenderTarget(r),f&&s.render(rp,i),s.render(e,i)}s.toneMapping=c,s.outputEncoding=u,s.autoClear=l}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Tp()):null==this._equirectShader&&(this._equirectShader=Ap());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new Ko(ap[0],r),o=r.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=tp[e.encoding],o.outputEncoding.value=tp[t.texture.encoding],Ep(t,0,0,3*Qh,2*Qh),n.setRenderTarget(t),n.render(i,ip)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<$h;r++){var i=Math.sqrt(lp[r]*lp[r]-lp[r-1]*lp[r-1]),o=hp[(r-1)%hp.length];this._blur(e,r-1,r,i,o)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,o,a){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new Ko(ap[r],l),c=l.uniforms,f=sp[n]-1,d=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,h=i/d,p=isFinite(i)?1+Math.floor(3*h):ep;p>ep&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(ep));for(var m=[],v=0,g=0;g<ep;++g){var y=g/h,E=Math.exp(-y*y/2);m.push(E),0==g?v+=E:g<p&&(v+=2*E)}for(var A=0;A<m.length;A++)m[A]=m[A]/v;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===o,a&&(c.poleAxis.value=a),c.dTheta.value=d,c.mipInt.value=8-n,c.inputEncoding.value=tp[e.texture.encoding],c.outputEncoding.value=tp[e.texture.encoding];var T=sp[r];Ep(t,3*Math.max(0,Qh-2*T),(0===r?0:2*Qh)+2*T*(r>4?r-8+4:0),3*T,2*T),s.setRenderTarget(t),s.render(u,ip)}}]),e}();function vp(e){return void 0!==e&&e.type===Ke&&(e.encoding===vn||e.encoding===gn||e.encoding===yn)}function gp(){for(var e=[],t=[],n=[],r=8,i=0;i<$h;i++){var o=Math.pow(2,r);t.push(o);var a=1/o;i>4?a=Jh[i-8+4-1]:0==i&&(a=0),n.push(a);for(var s=1/(o-1),l=-s/2,u=1+s/2,c=[l,l,u,l,u,u,l,l,u,u,l,u],f=new Float32Array(108),d=new Float32Array(72),h=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,v=p>2?0:-1,g=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];f.set(g,18*p),d.set(c,12*p);var y=[p,p,p,p,p,p];h.set(y,6*p)}var E=new So;E.setAttribute("position",new ro(f,3)),E.setAttribute("uv",new ro(d,2)),E.setAttribute("faceIndex",new ro(h,1)),e.push(E),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function yp(e){var t=new Rr(3*Qh,3*Qh,e);return t.texture.mapping=Ne,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Ep(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Ap(){var e=new mr(1,1);return new Mc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:tp[vn]},outputEncoding:{value:tp[vn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:U,depthTest:!1,depthWrite:!1})}function Tp(){return new Mc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:tp[vn]},outputEncoding:{value:tp[vn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:U,depthTest:!1,depthWrite:!1})}var Op=0,Rp=1,Lp=0,Sp=1,bp=2;function Ip(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Np(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function xp(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Lu(e,t)}function _p(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Wl(e)}function Mp(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Lu(e,t)}function wp(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Eu(e)}function Cp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Eu(e)}function Pp(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Eu(e)}function Dp(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ir(e,t,n)}function kp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new ro(e,t).setUsage(zn)}function Hp(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new io(e,t)}function Up(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new oo(e,t)}function Bp(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ao(e,t)}function Gp(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new so(e,t)}function Wp(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new lo(e,t)}function Fp(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new uo(e,t)}function Kp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new co(e,t)}function Vp(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ho(e,t)}function zp(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new po(e,t)}function jp(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Zh(e)}function Zp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Fh(e,t)}function Yp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new gu(new Bu(e.geometry),new lu({color:void 0!==t?t:16777215}))}function qp(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new gu(new Nc(e.geometry),new lu({color:void 0!==t?t:16777215}))}function Xp(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new lf(e)}function Qp(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new hf(e)}function Jp(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ta(e,n)}function $p(){console.error("THREE.CanvasRenderer has been removed")}function em(){console.error("THREE.JSONLoader has been removed.")}mf.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(mf.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},kf.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},xh.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Oh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},af.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),od.extractUrlBase(e)},af.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},dh.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},dh.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},dh.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},dh.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},_r.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},_r.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},_r.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},_r.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},_r.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},qr.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ia.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},mh.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},gr.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},gr.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},gr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},gr.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},gr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},gr.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},ii.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},ii.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},ii.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ir).setFromMatrixColumn(this,3)},ii.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},ii.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},ii.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ii.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ii.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},ii.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},ii.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ii.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},ii.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},ii.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},ii.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},ii.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},ii.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ii.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},ii.prototype.makeFrustum=function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)},ii.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Ci.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},br.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},br.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},ri.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},ri.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},ri.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Vi.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Vi.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},Vi.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},Vi.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},Vi.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},Vi.barycoordFromPoint=function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Vi.getBarycoord(e,t,n,r,i)},Vi.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Vi.getNormal(e,t,n,r)},Hf.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Hf.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new pc(this,e)},Hf.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Tc(this,e)},mr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},mr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},mr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ir.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ir.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ir.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Ir.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Ir.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Ir.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Ir.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Ir.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Ir.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Or.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Or.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},xi.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},xi.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},xi.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},xi.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},xi.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(xi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Ko.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Ko.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),hn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Ql.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Qo.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Uf.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ro.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===zn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(zn)}}}),ro.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?zn:Vn),this},ro.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},ro.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},So.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},So.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new ro(arguments[1],arguments[2])))},So.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},So.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},So.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},So.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},So.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(So.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Ll.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?zn:Vn),this},Ll.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},pc.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},pc.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},pc.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Rl.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},rh.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(ji.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new $i}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===k}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(qo.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),El.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},El.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},El.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},El.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},El.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},El.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},El.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},El.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},El.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},El.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},El.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},El.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},El.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},El.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},El.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},El.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},El.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},El.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},El.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},El.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},El.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},El.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},El.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},El.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},El.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(El.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?gn:vn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(ul.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Rr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Pd.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Td).load(e,(function(e){t.setBuffer(e)})),this},Gd.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},$o.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},$o.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},yr.crossOrigin=void 0,yr.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new pf;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},yr.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new df;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},yr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},yr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var tm={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function nm(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:O}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=O)},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},97326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},87462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},63366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},70885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},42982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(30907);var i=n(40181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};n(40160)}();
//# sourceMappingURL=main.025e747a.js.map